(() => {
  var __create = Object.create;
  var __defProp = Object.defineProperty;
  var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
  var __getOwnPropNames = Object.getOwnPropertyNames;
  var __getProtoOf = Object.getPrototypeOf;
  var __hasOwnProp = Object.prototype.hasOwnProperty;
  var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
  var __commonJS = (cb, mod) => function __require() {
    return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
  };
  var __export = (target, all) => {
    for (var name in all)
      __defProp(target, name, { get: all[name], enumerable: true });
  };
  var __copyProps = (to, from, except, desc) => {
    if (from && typeof from === "object" || typeof from === "function") {
      for (let key of __getOwnPropNames(from))
        if (!__hasOwnProp.call(to, key) && key !== except)
          __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
    }
    return to;
  };
  var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
    // If the importer is in node compatibility mode or this is not an ESM
    // file that has been converted to a CommonJS file using a Babel-
    // compatible transform (i.e. "__esModule" has not been set), then set
    // "default" to the CommonJS "module.exports" for node compatibility.
    isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
    mod
  ));
  var __publicField = (obj, key, value) => {
    __defNormalProp(obj, typeof key !== "symbol" ? key + "" : key, value);
    return value;
  };
  var __accessCheck = (obj, member, msg) => {
    if (!member.has(obj))
      throw TypeError("Cannot " + msg);
  };
  var __privateGet = (obj, member, getter) => {
    __accessCheck(obj, member, "read from private field");
    return getter ? getter.call(obj) : member.get(obj);
  };
  var __privateAdd = (obj, member, value) => {
    if (member.has(obj))
      throw TypeError("Cannot add the same private member more than once");
    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);
  };
  var __privateMethod = (obj, member, method) => {
    __accessCheck(obj, member, "access private method");
    return method;
  };

  // E:/git/Test_WonderlandEngine/node_modules/howler/dist/howler.js
  var require_howler = __commonJS({
    "E:/git/Test_WonderlandEngine/node_modules/howler/dist/howler.js"(exports) {
      (function() {
        "use strict";
        var HowlerGlobal2 = function() {
          this.init();
        };
        HowlerGlobal2.prototype = {
          /**
           * Initialize the global Howler object.
           * @return {Howler}
           */
          init: function() {
            var self2 = this || Howler2;
            self2._counter = 1e3;
            self2._html5AudioPool = [];
            self2.html5PoolSize = 10;
            self2._codecs = {};
            self2._howls = [];
            self2._muted = false;
            self2._volume = 1;
            self2._canPlayEvent = "canplaythrough";
            self2._navigator = typeof window !== "undefined" && window.navigator ? window.navigator : null;
            self2.masterGain = null;
            self2.noAudio = false;
            self2.usingWebAudio = true;
            self2.autoSuspend = true;
            self2.ctx = null;
            self2.autoUnlock = true;
            self2._setup();
            return self2;
          },
          /**
           * Get/set the global volume for all sounds.
           * @param  {Float} vol Volume from 0.0 to 1.0.
           * @return {Howler/Float}     Returns self or current volume.
           */
          volume: function(vol) {
            var self2 = this || Howler2;
            vol = parseFloat(vol);
            if (!self2.ctx) {
              setupAudioContext();
            }
            if (typeof vol !== "undefined" && vol >= 0 && vol <= 1) {
              self2._volume = vol;
              if (self2._muted) {
                return self2;
              }
              if (self2.usingWebAudio) {
                self2.masterGain.gain.setValueAtTime(vol, Howler2.ctx.currentTime);
              }
              for (var i = 0; i < self2._howls.length; i++) {
                if (!self2._howls[i]._webAudio) {
                  var ids = self2._howls[i]._getSoundIds();
                  for (var j = 0; j < ids.length; j++) {
                    var sound = self2._howls[i]._soundById(ids[j]);
                    if (sound && sound._node) {
                      sound._node.volume = sound._volume * vol;
                    }
                  }
                }
              }
              return self2;
            }
            return self2._volume;
          },
          /**
           * Handle muting and unmuting globally.
           * @param  {Boolean} muted Is muted or not.
           */
          mute: function(muted) {
            var self2 = this || Howler2;
            if (!self2.ctx) {
              setupAudioContext();
            }
            self2._muted = muted;
            if (self2.usingWebAudio) {
              self2.masterGain.gain.setValueAtTime(muted ? 0 : self2._volume, Howler2.ctx.currentTime);
            }
            for (var i = 0; i < self2._howls.length; i++) {
              if (!self2._howls[i]._webAudio) {
                var ids = self2._howls[i]._getSoundIds();
                for (var j = 0; j < ids.length; j++) {
                  var sound = self2._howls[i]._soundById(ids[j]);
                  if (sound && sound._node) {
                    sound._node.muted = muted ? true : sound._muted;
                  }
                }
              }
            }
            return self2;
          },
          /**
           * Handle stopping all sounds globally.
           */
          stop: function() {
            var self2 = this || Howler2;
            for (var i = 0; i < self2._howls.length; i++) {
              self2._howls[i].stop();
            }
            return self2;
          },
          /**
           * Unload and destroy all currently loaded Howl objects.
           * @return {Howler}
           */
          unload: function() {
            var self2 = this || Howler2;
            for (var i = self2._howls.length - 1; i >= 0; i--) {
              self2._howls[i].unload();
            }
            if (self2.usingWebAudio && self2.ctx && typeof self2.ctx.close !== "undefined") {
              self2.ctx.close();
              self2.ctx = null;
              setupAudioContext();
            }
            return self2;
          },
          /**
           * Check for codec support of specific extension.
           * @param  {String} ext Audio file extention.
           * @return {Boolean}
           */
          codecs: function(ext) {
            return (this || Howler2)._codecs[ext.replace(/^x-/, "")];
          },
          /**
           * Setup various state values for global tracking.
           * @return {Howler}
           */
          _setup: function() {
            var self2 = this || Howler2;
            self2.state = self2.ctx ? self2.ctx.state || "suspended" : "suspended";
            self2._autoSuspend();
            if (!self2.usingWebAudio) {
              if (typeof Audio !== "undefined") {
                try {
                  var test = new Audio();
                  if (typeof test.oncanplaythrough === "undefined") {
                    self2._canPlayEvent = "canplay";
                  }
                } catch (e) {
                  self2.noAudio = true;
                }
              } else {
                self2.noAudio = true;
              }
            }
            try {
              var test = new Audio();
              if (test.muted) {
                self2.noAudio = true;
              }
            } catch (e) {
            }
            if (!self2.noAudio) {
              self2._setupCodecs();
            }
            return self2;
          },
          /**
           * Check for browser support for various codecs and cache the results.
           * @return {Howler}
           */
          _setupCodecs: function() {
            var self2 = this || Howler2;
            var audioTest = null;
            try {
              audioTest = typeof Audio !== "undefined" ? new Audio() : null;
            } catch (err) {
              return self2;
            }
            if (!audioTest || typeof audioTest.canPlayType !== "function") {
              return self2;
            }
            var mpegTest = audioTest.canPlayType("audio/mpeg;").replace(/^no$/, "");
            var ua = self2._navigator ? self2._navigator.userAgent : "";
            var checkOpera = ua.match(/OPR\/(\d+)/g);
            var isOldOpera = checkOpera && parseInt(checkOpera[0].split("/")[1], 10) < 33;
            var checkSafari = ua.indexOf("Safari") !== -1 && ua.indexOf("Chrome") === -1;
            var safariVersion = ua.match(/Version\/(.*?) /);
            var isOldSafari = checkSafari && safariVersion && parseInt(safariVersion[1], 10) < 15;
            self2._codecs = {
              mp3: !!(!isOldOpera && (mpegTest || audioTest.canPlayType("audio/mp3;").replace(/^no$/, ""))),
              mpeg: !!mpegTest,
              opus: !!audioTest.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/, ""),
              ogg: !!audioTest.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/, ""),
              oga: !!audioTest.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/, ""),
              wav: !!(audioTest.canPlayType('audio/wav; codecs="1"') || audioTest.canPlayType("audio/wav")).replace(/^no$/, ""),
              aac: !!audioTest.canPlayType("audio/aac;").replace(/^no$/, ""),
              caf: !!audioTest.canPlayType("audio/x-caf;").replace(/^no$/, ""),
              m4a: !!(audioTest.canPlayType("audio/x-m4a;") || audioTest.canPlayType("audio/m4a;") || audioTest.canPlayType("audio/aac;")).replace(/^no$/, ""),
              m4b: !!(audioTest.canPlayType("audio/x-m4b;") || audioTest.canPlayType("audio/m4b;") || audioTest.canPlayType("audio/aac;")).replace(/^no$/, ""),
              mp4: !!(audioTest.canPlayType("audio/x-mp4;") || audioTest.canPlayType("audio/mp4;") || audioTest.canPlayType("audio/aac;")).replace(/^no$/, ""),
              weba: !!(!isOldSafari && audioTest.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/, "")),
              webm: !!(!isOldSafari && audioTest.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/, "")),
              dolby: !!audioTest.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/, ""),
              flac: !!(audioTest.canPlayType("audio/x-flac;") || audioTest.canPlayType("audio/flac;")).replace(/^no$/, "")
            };
            return self2;
          },
          /**
           * Some browsers/devices will only allow audio to be played after a user interaction.
           * Attempt to automatically unlock audio on the first user interaction.
           * Concept from: http://paulbakaus.com/tutorials/html5/web-audio-on-ios/
           * @return {Howler}
           */
          _unlockAudio: function() {
            var self2 = this || Howler2;
            if (self2._audioUnlocked || !self2.ctx) {
              return;
            }
            self2._audioUnlocked = false;
            self2.autoUnlock = false;
            if (!self2._mobileUnloaded && self2.ctx.sampleRate !== 44100) {
              self2._mobileUnloaded = true;
              self2.unload();
            }
            self2._scratchBuffer = self2.ctx.createBuffer(1, 1, 22050);
            var unlock = function(e) {
              while (self2._html5AudioPool.length < self2.html5PoolSize) {
                try {
                  var audioNode = new Audio();
                  audioNode._unlocked = true;
                  self2._releaseHtml5Audio(audioNode);
                } catch (e2) {
                  self2.noAudio = true;
                  break;
                }
              }
              for (var i = 0; i < self2._howls.length; i++) {
                if (!self2._howls[i]._webAudio) {
                  var ids = self2._howls[i]._getSoundIds();
                  for (var j = 0; j < ids.length; j++) {
                    var sound = self2._howls[i]._soundById(ids[j]);
                    if (sound && sound._node && !sound._node._unlocked) {
                      sound._node._unlocked = true;
                      sound._node.load();
                    }
                  }
                }
              }
              self2._autoResume();
              var source = self2.ctx.createBufferSource();
              source.buffer = self2._scratchBuffer;
              source.connect(self2.ctx.destination);
              if (typeof source.start === "undefined") {
                source.noteOn(0);
              } else {
                source.start(0);
              }
              if (typeof self2.ctx.resume === "function") {
                self2.ctx.resume();
              }
              source.onended = function() {
                source.disconnect(0);
                self2._audioUnlocked = true;
                document.removeEventListener("touchstart", unlock, true);
                document.removeEventListener("touchend", unlock, true);
                document.removeEventListener("click", unlock, true);
                document.removeEventListener("keydown", unlock, true);
                for (var i2 = 0; i2 < self2._howls.length; i2++) {
                  self2._howls[i2]._emit("unlock");
                }
              };
            };
            document.addEventListener("touchstart", unlock, true);
            document.addEventListener("touchend", unlock, true);
            document.addEventListener("click", unlock, true);
            document.addEventListener("keydown", unlock, true);
            return self2;
          },
          /**
           * Get an unlocked HTML5 Audio object from the pool. If none are left,
           * return a new Audio object and throw a warning.
           * @return {Audio} HTML5 Audio object.
           */
          _obtainHtml5Audio: function() {
            var self2 = this || Howler2;
            if (self2._html5AudioPool.length) {
              return self2._html5AudioPool.pop();
            }
            var testPlay = new Audio().play();
            if (testPlay && typeof Promise !== "undefined" && (testPlay instanceof Promise || typeof testPlay.then === "function")) {
              testPlay.catch(function() {
                console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.");
              });
            }
            return new Audio();
          },
          /**
           * Return an activated HTML5 Audio object to the pool.
           * @return {Howler}
           */
          _releaseHtml5Audio: function(audio) {
            var self2 = this || Howler2;
            if (audio._unlocked) {
              self2._html5AudioPool.push(audio);
            }
            return self2;
          },
          /**
           * Automatically suspend the Web Audio AudioContext after no sound has played for 30 seconds.
           * This saves processing/energy and fixes various browser-specific bugs with audio getting stuck.
           * @return {Howler}
           */
          _autoSuspend: function() {
            var self2 = this;
            if (!self2.autoSuspend || !self2.ctx || typeof self2.ctx.suspend === "undefined" || !Howler2.usingWebAudio) {
              return;
            }
            for (var i = 0; i < self2._howls.length; i++) {
              if (self2._howls[i]._webAudio) {
                for (var j = 0; j < self2._howls[i]._sounds.length; j++) {
                  if (!self2._howls[i]._sounds[j]._paused) {
                    return self2;
                  }
                }
              }
            }
            if (self2._suspendTimer) {
              clearTimeout(self2._suspendTimer);
            }
            self2._suspendTimer = setTimeout(function() {
              if (!self2.autoSuspend) {
                return;
              }
              self2._suspendTimer = null;
              self2.state = "suspending";
              var handleSuspension = function() {
                self2.state = "suspended";
                if (self2._resumeAfterSuspend) {
                  delete self2._resumeAfterSuspend;
                  self2._autoResume();
                }
              };
              self2.ctx.suspend().then(handleSuspension, handleSuspension);
            }, 3e4);
            return self2;
          },
          /**
           * Automatically resume the Web Audio AudioContext when a new sound is played.
           * @return {Howler}
           */
          _autoResume: function() {
            var self2 = this;
            if (!self2.ctx || typeof self2.ctx.resume === "undefined" || !Howler2.usingWebAudio) {
              return;
            }
            if (self2.state === "running" && self2.ctx.state !== "interrupted" && self2._suspendTimer) {
              clearTimeout(self2._suspendTimer);
              self2._suspendTimer = null;
            } else if (self2.state === "suspended" || self2.state === "running" && self2.ctx.state === "interrupted") {
              self2.ctx.resume().then(function() {
                self2.state = "running";
                for (var i = 0; i < self2._howls.length; i++) {
                  self2._howls[i]._emit("resume");
                }
              });
              if (self2._suspendTimer) {
                clearTimeout(self2._suspendTimer);
                self2._suspendTimer = null;
              }
            } else if (self2.state === "suspending") {
              self2._resumeAfterSuspend = true;
            }
            return self2;
          }
        };
        var Howler2 = new HowlerGlobal2();
        var Howl2 = function(o) {
          var self2 = this;
          if (!o.src || o.src.length === 0) {
            console.error("An array of source files must be passed with any new Howl.");
            return;
          }
          self2.init(o);
        };
        Howl2.prototype = {
          /**
           * Initialize a new Howl group object.
           * @param  {Object} o Passed in properties for this group.
           * @return {Howl}
           */
          init: function(o) {
            var self2 = this;
            if (!Howler2.ctx) {
              setupAudioContext();
            }
            self2._autoplay = o.autoplay || false;
            self2._format = typeof o.format !== "string" ? o.format : [o.format];
            self2._html5 = o.html5 || false;
            self2._muted = o.mute || false;
            self2._loop = o.loop || false;
            self2._pool = o.pool || 5;
            self2._preload = typeof o.preload === "boolean" || o.preload === "metadata" ? o.preload : true;
            self2._rate = o.rate || 1;
            self2._sprite = o.sprite || {};
            self2._src = typeof o.src !== "string" ? o.src : [o.src];
            self2._volume = o.volume !== void 0 ? o.volume : 1;
            self2._xhr = {
              method: o.xhr && o.xhr.method ? o.xhr.method : "GET",
              headers: o.xhr && o.xhr.headers ? o.xhr.headers : null,
              withCredentials: o.xhr && o.xhr.withCredentials ? o.xhr.withCredentials : false
            };
            self2._duration = 0;
            self2._state = "unloaded";
            self2._sounds = [];
            self2._endTimers = {};
            self2._queue = [];
            self2._playLock = false;
            self2._onend = o.onend ? [{ fn: o.onend }] : [];
            self2._onfade = o.onfade ? [{ fn: o.onfade }] : [];
            self2._onload = o.onload ? [{ fn: o.onload }] : [];
            self2._onloaderror = o.onloaderror ? [{ fn: o.onloaderror }] : [];
            self2._onplayerror = o.onplayerror ? [{ fn: o.onplayerror }] : [];
            self2._onpause = o.onpause ? [{ fn: o.onpause }] : [];
            self2._onplay = o.onplay ? [{ fn: o.onplay }] : [];
            self2._onstop = o.onstop ? [{ fn: o.onstop }] : [];
            self2._onmute = o.onmute ? [{ fn: o.onmute }] : [];
            self2._onvolume = o.onvolume ? [{ fn: o.onvolume }] : [];
            self2._onrate = o.onrate ? [{ fn: o.onrate }] : [];
            self2._onseek = o.onseek ? [{ fn: o.onseek }] : [];
            self2._onunlock = o.onunlock ? [{ fn: o.onunlock }] : [];
            self2._onresume = [];
            self2._webAudio = Howler2.usingWebAudio && !self2._html5;
            if (typeof Howler2.ctx !== "undefined" && Howler2.ctx && Howler2.autoUnlock) {
              Howler2._unlockAudio();
            }
            Howler2._howls.push(self2);
            if (self2._autoplay) {
              self2._queue.push({
                event: "play",
                action: function() {
                  self2.play();
                }
              });
            }
            if (self2._preload && self2._preload !== "none") {
              self2.load();
            }
            return self2;
          },
          /**
           * Load the audio file.
           * @return {Howler}
           */
          load: function() {
            var self2 = this;
            var url = null;
            if (Howler2.noAudio) {
              self2._emit("loaderror", null, "No audio support.");
              return;
            }
            if (typeof self2._src === "string") {
              self2._src = [self2._src];
            }
            for (var i = 0; i < self2._src.length; i++) {
              var ext, str5;
              if (self2._format && self2._format[i]) {
                ext = self2._format[i];
              } else {
                str5 = self2._src[i];
                if (typeof str5 !== "string") {
                  self2._emit("loaderror", null, "Non-string found in selected audio sources - ignoring.");
                  continue;
                }
                ext = /^data:audio\/([^;,]+);/i.exec(str5);
                if (!ext) {
                  ext = /\.([^.]+)$/.exec(str5.split("?", 1)[0]);
                }
                if (ext) {
                  ext = ext[1].toLowerCase();
                }
              }
              if (!ext) {
                console.warn('No file extension was found. Consider using the "format" property or specify an extension.');
              }
              if (ext && Howler2.codecs(ext)) {
                url = self2._src[i];
                break;
              }
            }
            if (!url) {
              self2._emit("loaderror", null, "No codec support for selected audio sources.");
              return;
            }
            self2._src = url;
            self2._state = "loading";
            if (window.location.protocol === "https:" && url.slice(0, 5) === "http:") {
              self2._html5 = true;
              self2._webAudio = false;
            }
            new Sound2(self2);
            if (self2._webAudio) {
              loadBuffer(self2);
            }
            return self2;
          },
          /**
           * Play a sound or resume previous playback.
           * @param  {String/Number} sprite   Sprite name for sprite playback or sound id to continue previous.
           * @param  {Boolean} internal Internal Use: true prevents event firing.
           * @return {Number}          Sound ID.
           */
          play: function(sprite, internal) {
            var self2 = this;
            var id = null;
            if (typeof sprite === "number") {
              id = sprite;
              sprite = null;
            } else if (typeof sprite === "string" && self2._state === "loaded" && !self2._sprite[sprite]) {
              return null;
            } else if (typeof sprite === "undefined") {
              sprite = "__default";
              if (!self2._playLock) {
                var num = 0;
                for (var i = 0; i < self2._sounds.length; i++) {
                  if (self2._sounds[i]._paused && !self2._sounds[i]._ended) {
                    num++;
                    id = self2._sounds[i]._id;
                  }
                }
                if (num === 1) {
                  sprite = null;
                } else {
                  id = null;
                }
              }
            }
            var sound = id ? self2._soundById(id) : self2._inactiveSound();
            if (!sound) {
              return null;
            }
            if (id && !sprite) {
              sprite = sound._sprite || "__default";
            }
            if (self2._state !== "loaded") {
              sound._sprite = sprite;
              sound._ended = false;
              var soundId = sound._id;
              self2._queue.push({
                event: "play",
                action: function() {
                  self2.play(soundId);
                }
              });
              return soundId;
            }
            if (id && !sound._paused) {
              if (!internal) {
                self2._loadQueue("play");
              }
              return sound._id;
            }
            if (self2._webAudio) {
              Howler2._autoResume();
            }
            var seek = Math.max(0, sound._seek > 0 ? sound._seek : self2._sprite[sprite][0] / 1e3);
            var duration = Math.max(0, (self2._sprite[sprite][0] + self2._sprite[sprite][1]) / 1e3 - seek);
            var timeout2 = duration * 1e3 / Math.abs(sound._rate);
            var start = self2._sprite[sprite][0] / 1e3;
            var stop = (self2._sprite[sprite][0] + self2._sprite[sprite][1]) / 1e3;
            sound._sprite = sprite;
            sound._ended = false;
            var setParams = function() {
              sound._paused = false;
              sound._seek = seek;
              sound._start = start;
              sound._stop = stop;
              sound._loop = !!(sound._loop || self2._sprite[sprite][2]);
            };
            if (seek >= stop) {
              self2._ended(sound);
              return;
            }
            var node = sound._node;
            if (self2._webAudio) {
              var playWebAudio = function() {
                self2._playLock = false;
                setParams();
                self2._refreshBuffer(sound);
                var vol = sound._muted || self2._muted ? 0 : sound._volume;
                node.gain.setValueAtTime(vol, Howler2.ctx.currentTime);
                sound._playStart = Howler2.ctx.currentTime;
                if (typeof node.bufferSource.start === "undefined") {
                  sound._loop ? node.bufferSource.noteGrainOn(0, seek, 86400) : node.bufferSource.noteGrainOn(0, seek, duration);
                } else {
                  sound._loop ? node.bufferSource.start(0, seek, 86400) : node.bufferSource.start(0, seek, duration);
                }
                if (timeout2 !== Infinity) {
                  self2._endTimers[sound._id] = setTimeout(self2._ended.bind(self2, sound), timeout2);
                }
                if (!internal) {
                  setTimeout(function() {
                    self2._emit("play", sound._id);
                    self2._loadQueue();
                  }, 0);
                }
              };
              if (Howler2.state === "running" && Howler2.ctx.state !== "interrupted") {
                playWebAudio();
              } else {
                self2._playLock = true;
                self2.once("resume", playWebAudio);
                self2._clearTimer(sound._id);
              }
            } else {
              var playHtml5 = function() {
                node.currentTime = seek;
                node.muted = sound._muted || self2._muted || Howler2._muted || node.muted;
                node.volume = sound._volume * Howler2.volume();
                node.playbackRate = sound._rate;
                try {
                  var play = node.play();
                  if (play && typeof Promise !== "undefined" && (play instanceof Promise || typeof play.then === "function")) {
                    self2._playLock = true;
                    setParams();
                    play.then(function() {
                      self2._playLock = false;
                      node._unlocked = true;
                      if (!internal) {
                        self2._emit("play", sound._id);
                      } else {
                        self2._loadQueue();
                      }
                    }).catch(function() {
                      self2._playLock = false;
                      self2._emit("playerror", sound._id, "Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");
                      sound._ended = true;
                      sound._paused = true;
                    });
                  } else if (!internal) {
                    self2._playLock = false;
                    setParams();
                    self2._emit("play", sound._id);
                  }
                  node.playbackRate = sound._rate;
                  if (node.paused) {
                    self2._emit("playerror", sound._id, "Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");
                    return;
                  }
                  if (sprite !== "__default" || sound._loop) {
                    self2._endTimers[sound._id] = setTimeout(self2._ended.bind(self2, sound), timeout2);
                  } else {
                    self2._endTimers[sound._id] = function() {
                      self2._ended(sound);
                      node.removeEventListener("ended", self2._endTimers[sound._id], false);
                    };
                    node.addEventListener("ended", self2._endTimers[sound._id], false);
                  }
                } catch (err) {
                  self2._emit("playerror", sound._id, err);
                }
              };
              if (node.src === "data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA") {
                node.src = self2._src;
                node.load();
              }
              var loadedNoReadyState = window && window.ejecta || !node.readyState && Howler2._navigator.isCocoonJS;
              if (node.readyState >= 3 || loadedNoReadyState) {
                playHtml5();
              } else {
                self2._playLock = true;
                self2._state = "loading";
                var listener = function() {
                  self2._state = "loaded";
                  playHtml5();
                  node.removeEventListener(Howler2._canPlayEvent, listener, false);
                };
                node.addEventListener(Howler2._canPlayEvent, listener, false);
                self2._clearTimer(sound._id);
              }
            }
            return sound._id;
          },
          /**
           * Pause playback and save current position.
           * @param  {Number} id The sound ID (empty to pause all in group).
           * @return {Howl}
           */
          pause: function(id) {
            var self2 = this;
            if (self2._state !== "loaded" || self2._playLock) {
              self2._queue.push({
                event: "pause",
                action: function() {
                  self2.pause(id);
                }
              });
              return self2;
            }
            var ids = self2._getSoundIds(id);
            for (var i = 0; i < ids.length; i++) {
              self2._clearTimer(ids[i]);
              var sound = self2._soundById(ids[i]);
              if (sound && !sound._paused) {
                sound._seek = self2.seek(ids[i]);
                sound._rateSeek = 0;
                sound._paused = true;
                self2._stopFade(ids[i]);
                if (sound._node) {
                  if (self2._webAudio) {
                    if (!sound._node.bufferSource) {
                      continue;
                    }
                    if (typeof sound._node.bufferSource.stop === "undefined") {
                      sound._node.bufferSource.noteOff(0);
                    } else {
                      sound._node.bufferSource.stop(0);
                    }
                    self2._cleanBuffer(sound._node);
                  } else if (!isNaN(sound._node.duration) || sound._node.duration === Infinity) {
                    sound._node.pause();
                  }
                }
              }
              if (!arguments[1]) {
                self2._emit("pause", sound ? sound._id : null);
              }
            }
            return self2;
          },
          /**
           * Stop playback and reset to start.
           * @param  {Number} id The sound ID (empty to stop all in group).
           * @param  {Boolean} internal Internal Use: true prevents event firing.
           * @return {Howl}
           */
          stop: function(id, internal) {
            var self2 = this;
            if (self2._state !== "loaded" || self2._playLock) {
              self2._queue.push({
                event: "stop",
                action: function() {
                  self2.stop(id);
                }
              });
              return self2;
            }
            var ids = self2._getSoundIds(id);
            for (var i = 0; i < ids.length; i++) {
              self2._clearTimer(ids[i]);
              var sound = self2._soundById(ids[i]);
              if (sound) {
                sound._seek = sound._start || 0;
                sound._rateSeek = 0;
                sound._paused = true;
                sound._ended = true;
                self2._stopFade(ids[i]);
                if (sound._node) {
                  if (self2._webAudio) {
                    if (sound._node.bufferSource) {
                      if (typeof sound._node.bufferSource.stop === "undefined") {
                        sound._node.bufferSource.noteOff(0);
                      } else {
                        sound._node.bufferSource.stop(0);
                      }
                      self2._cleanBuffer(sound._node);
                    }
                  } else if (!isNaN(sound._node.duration) || sound._node.duration === Infinity) {
                    sound._node.currentTime = sound._start || 0;
                    sound._node.pause();
                    if (sound._node.duration === Infinity) {
                      self2._clearSound(sound._node);
                    }
                  }
                }
                if (!internal) {
                  self2._emit("stop", sound._id);
                }
              }
            }
            return self2;
          },
          /**
           * Mute/unmute a single sound or all sounds in this Howl group.
           * @param  {Boolean} muted Set to true to mute and false to unmute.
           * @param  {Number} id    The sound ID to update (omit to mute/unmute all).
           * @return {Howl}
           */
          mute: function(muted, id) {
            var self2 = this;
            if (self2._state !== "loaded" || self2._playLock) {
              self2._queue.push({
                event: "mute",
                action: function() {
                  self2.mute(muted, id);
                }
              });
              return self2;
            }
            if (typeof id === "undefined") {
              if (typeof muted === "boolean") {
                self2._muted = muted;
              } else {
                return self2._muted;
              }
            }
            var ids = self2._getSoundIds(id);
            for (var i = 0; i < ids.length; i++) {
              var sound = self2._soundById(ids[i]);
              if (sound) {
                sound._muted = muted;
                if (sound._interval) {
                  self2._stopFade(sound._id);
                }
                if (self2._webAudio && sound._node) {
                  sound._node.gain.setValueAtTime(muted ? 0 : sound._volume, Howler2.ctx.currentTime);
                } else if (sound._node) {
                  sound._node.muted = Howler2._muted ? true : muted;
                }
                self2._emit("mute", sound._id);
              }
            }
            return self2;
          },
          /**
           * Get/set the volume of this sound or of the Howl group. This method can optionally take 0, 1 or 2 arguments.
           *   volume() -> Returns the group's volume value.
           *   volume(id) -> Returns the sound id's current volume.
           *   volume(vol) -> Sets the volume of all sounds in this Howl group.
           *   volume(vol, id) -> Sets the volume of passed sound id.
           * @return {Howl/Number} Returns self or current volume.
           */
          volume: function() {
            var self2 = this;
            var args = arguments;
            var vol, id;
            if (args.length === 0) {
              return self2._volume;
            } else if (args.length === 1 || args.length === 2 && typeof args[1] === "undefined") {
              var ids = self2._getSoundIds();
              var index = ids.indexOf(args[0]);
              if (index >= 0) {
                id = parseInt(args[0], 10);
              } else {
                vol = parseFloat(args[0]);
              }
            } else if (args.length >= 2) {
              vol = parseFloat(args[0]);
              id = parseInt(args[1], 10);
            }
            var sound;
            if (typeof vol !== "undefined" && vol >= 0 && vol <= 1) {
              if (self2._state !== "loaded" || self2._playLock) {
                self2._queue.push({
                  event: "volume",
                  action: function() {
                    self2.volume.apply(self2, args);
                  }
                });
                return self2;
              }
              if (typeof id === "undefined") {
                self2._volume = vol;
              }
              id = self2._getSoundIds(id);
              for (var i = 0; i < id.length; i++) {
                sound = self2._soundById(id[i]);
                if (sound) {
                  sound._volume = vol;
                  if (!args[2]) {
                    self2._stopFade(id[i]);
                  }
                  if (self2._webAudio && sound._node && !sound._muted) {
                    sound._node.gain.setValueAtTime(vol, Howler2.ctx.currentTime);
                  } else if (sound._node && !sound._muted) {
                    sound._node.volume = vol * Howler2.volume();
                  }
                  self2._emit("volume", sound._id);
                }
              }
            } else {
              sound = id ? self2._soundById(id) : self2._sounds[0];
              return sound ? sound._volume : 0;
            }
            return self2;
          },
          /**
           * Fade a currently playing sound between two volumes (if no id is passed, all sounds will fade).
           * @param  {Number} from The value to fade from (0.0 to 1.0).
           * @param  {Number} to   The volume to fade to (0.0 to 1.0).
           * @param  {Number} len  Time in milliseconds to fade.
           * @param  {Number} id   The sound id (omit to fade all sounds).
           * @return {Howl}
           */
          fade: function(from, to, len4, id) {
            var self2 = this;
            if (self2._state !== "loaded" || self2._playLock) {
              self2._queue.push({
                event: "fade",
                action: function() {
                  self2.fade(from, to, len4, id);
                }
              });
              return self2;
            }
            from = Math.min(Math.max(0, parseFloat(from)), 1);
            to = Math.min(Math.max(0, parseFloat(to)), 1);
            len4 = parseFloat(len4);
            self2.volume(from, id);
            var ids = self2._getSoundIds(id);
            for (var i = 0; i < ids.length; i++) {
              var sound = self2._soundById(ids[i]);
              if (sound) {
                if (!id) {
                  self2._stopFade(ids[i]);
                }
                if (self2._webAudio && !sound._muted) {
                  var currentTime = Howler2.ctx.currentTime;
                  var end = currentTime + len4 / 1e3;
                  sound._volume = from;
                  sound._node.gain.setValueAtTime(from, currentTime);
                  sound._node.gain.linearRampToValueAtTime(to, end);
                }
                self2._startFadeInterval(sound, from, to, len4, ids[i], typeof id === "undefined");
              }
            }
            return self2;
          },
          /**
           * Starts the internal interval to fade a sound.
           * @param  {Object} sound Reference to sound to fade.
           * @param  {Number} from The value to fade from (0.0 to 1.0).
           * @param  {Number} to   The volume to fade to (0.0 to 1.0).
           * @param  {Number} len  Time in milliseconds to fade.
           * @param  {Number} id   The sound id to fade.
           * @param  {Boolean} isGroup   If true, set the volume on the group.
           */
          _startFadeInterval: function(sound, from, to, len4, id, isGroup) {
            var self2 = this;
            var vol = from;
            var diff = to - from;
            var steps = Math.abs(diff / 0.01);
            var stepLen = Math.max(4, steps > 0 ? len4 / steps : len4);
            var lastTick = Date.now();
            sound._fadeTo = to;
            sound._interval = setInterval(function() {
              var tick = (Date.now() - lastTick) / len4;
              lastTick = Date.now();
              vol += diff * tick;
              vol = Math.round(vol * 100) / 100;
              if (diff < 0) {
                vol = Math.max(to, vol);
              } else {
                vol = Math.min(to, vol);
              }
              if (self2._webAudio) {
                sound._volume = vol;
              } else {
                self2.volume(vol, sound._id, true);
              }
              if (isGroup) {
                self2._volume = vol;
              }
              if (to < from && vol <= to || to > from && vol >= to) {
                clearInterval(sound._interval);
                sound._interval = null;
                sound._fadeTo = null;
                self2.volume(to, sound._id);
                self2._emit("fade", sound._id);
              }
            }, stepLen);
          },
          /**
           * Internal method that stops the currently playing fade when
           * a new fade starts, volume is changed or the sound is stopped.
           * @param  {Number} id The sound id.
           * @return {Howl}
           */
          _stopFade: function(id) {
            var self2 = this;
            var sound = self2._soundById(id);
            if (sound && sound._interval) {
              if (self2._webAudio) {
                sound._node.gain.cancelScheduledValues(Howler2.ctx.currentTime);
              }
              clearInterval(sound._interval);
              sound._interval = null;
              self2.volume(sound._fadeTo, id);
              sound._fadeTo = null;
              self2._emit("fade", id);
            }
            return self2;
          },
          /**
           * Get/set the loop parameter on a sound. This method can optionally take 0, 1 or 2 arguments.
           *   loop() -> Returns the group's loop value.
           *   loop(id) -> Returns the sound id's loop value.
           *   loop(loop) -> Sets the loop value for all sounds in this Howl group.
           *   loop(loop, id) -> Sets the loop value of passed sound id.
           * @return {Howl/Boolean} Returns self or current loop value.
           */
          loop: function() {
            var self2 = this;
            var args = arguments;
            var loop, id, sound;
            if (args.length === 0) {
              return self2._loop;
            } else if (args.length === 1) {
              if (typeof args[0] === "boolean") {
                loop = args[0];
                self2._loop = loop;
              } else {
                sound = self2._soundById(parseInt(args[0], 10));
                return sound ? sound._loop : false;
              }
            } else if (args.length === 2) {
              loop = args[0];
              id = parseInt(args[1], 10);
            }
            var ids = self2._getSoundIds(id);
            for (var i = 0; i < ids.length; i++) {
              sound = self2._soundById(ids[i]);
              if (sound) {
                sound._loop = loop;
                if (self2._webAudio && sound._node && sound._node.bufferSource) {
                  sound._node.bufferSource.loop = loop;
                  if (loop) {
                    sound._node.bufferSource.loopStart = sound._start || 0;
                    sound._node.bufferSource.loopEnd = sound._stop;
                    if (self2.playing(ids[i])) {
                      self2.pause(ids[i], true);
                      self2.play(ids[i], true);
                    }
                  }
                }
              }
            }
            return self2;
          },
          /**
           * Get/set the playback rate of a sound. This method can optionally take 0, 1 or 2 arguments.
           *   rate() -> Returns the first sound node's current playback rate.
           *   rate(id) -> Returns the sound id's current playback rate.
           *   rate(rate) -> Sets the playback rate of all sounds in this Howl group.
           *   rate(rate, id) -> Sets the playback rate of passed sound id.
           * @return {Howl/Number} Returns self or the current playback rate.
           */
          rate: function() {
            var self2 = this;
            var args = arguments;
            var rate, id;
            if (args.length === 0) {
              id = self2._sounds[0]._id;
            } else if (args.length === 1) {
              var ids = self2._getSoundIds();
              var index = ids.indexOf(args[0]);
              if (index >= 0) {
                id = parseInt(args[0], 10);
              } else {
                rate = parseFloat(args[0]);
              }
            } else if (args.length === 2) {
              rate = parseFloat(args[0]);
              id = parseInt(args[1], 10);
            }
            var sound;
            if (typeof rate === "number") {
              if (self2._state !== "loaded" || self2._playLock) {
                self2._queue.push({
                  event: "rate",
                  action: function() {
                    self2.rate.apply(self2, args);
                  }
                });
                return self2;
              }
              if (typeof id === "undefined") {
                self2._rate = rate;
              }
              id = self2._getSoundIds(id);
              for (var i = 0; i < id.length; i++) {
                sound = self2._soundById(id[i]);
                if (sound) {
                  if (self2.playing(id[i])) {
                    sound._rateSeek = self2.seek(id[i]);
                    sound._playStart = self2._webAudio ? Howler2.ctx.currentTime : sound._playStart;
                  }
                  sound._rate = rate;
                  if (self2._webAudio && sound._node && sound._node.bufferSource) {
                    sound._node.bufferSource.playbackRate.setValueAtTime(rate, Howler2.ctx.currentTime);
                  } else if (sound._node) {
                    sound._node.playbackRate = rate;
                  }
                  var seek = self2.seek(id[i]);
                  var duration = (self2._sprite[sound._sprite][0] + self2._sprite[sound._sprite][1]) / 1e3 - seek;
                  var timeout2 = duration * 1e3 / Math.abs(sound._rate);
                  if (self2._endTimers[id[i]] || !sound._paused) {
                    self2._clearTimer(id[i]);
                    self2._endTimers[id[i]] = setTimeout(self2._ended.bind(self2, sound), timeout2);
                  }
                  self2._emit("rate", sound._id);
                }
              }
            } else {
              sound = self2._soundById(id);
              return sound ? sound._rate : self2._rate;
            }
            return self2;
          },
          /**
           * Get/set the seek position of a sound. This method can optionally take 0, 1 or 2 arguments.
           *   seek() -> Returns the first sound node's current seek position.
           *   seek(id) -> Returns the sound id's current seek position.
           *   seek(seek) -> Sets the seek position of the first sound node.
           *   seek(seek, id) -> Sets the seek position of passed sound id.
           * @return {Howl/Number} Returns self or the current seek position.
           */
          seek: function() {
            var self2 = this;
            var args = arguments;
            var seek, id;
            if (args.length === 0) {
              if (self2._sounds.length) {
                id = self2._sounds[0]._id;
              }
            } else if (args.length === 1) {
              var ids = self2._getSoundIds();
              var index = ids.indexOf(args[0]);
              if (index >= 0) {
                id = parseInt(args[0], 10);
              } else if (self2._sounds.length) {
                id = self2._sounds[0]._id;
                seek = parseFloat(args[0]);
              }
            } else if (args.length === 2) {
              seek = parseFloat(args[0]);
              id = parseInt(args[1], 10);
            }
            if (typeof id === "undefined") {
              return 0;
            }
            if (typeof seek === "number" && (self2._state !== "loaded" || self2._playLock)) {
              self2._queue.push({
                event: "seek",
                action: function() {
                  self2.seek.apply(self2, args);
                }
              });
              return self2;
            }
            var sound = self2._soundById(id);
            if (sound) {
              if (typeof seek === "number" && seek >= 0) {
                var playing = self2.playing(id);
                if (playing) {
                  self2.pause(id, true);
                }
                sound._seek = seek;
                sound._ended = false;
                self2._clearTimer(id);
                if (!self2._webAudio && sound._node && !isNaN(sound._node.duration)) {
                  sound._node.currentTime = seek;
                }
                var seekAndEmit = function() {
                  if (playing) {
                    self2.play(id, true);
                  }
                  self2._emit("seek", id);
                };
                if (playing && !self2._webAudio) {
                  var emitSeek = function() {
                    if (!self2._playLock) {
                      seekAndEmit();
                    } else {
                      setTimeout(emitSeek, 0);
                    }
                  };
                  setTimeout(emitSeek, 0);
                } else {
                  seekAndEmit();
                }
              } else {
                if (self2._webAudio) {
                  var realTime = self2.playing(id) ? Howler2.ctx.currentTime - sound._playStart : 0;
                  var rateSeek = sound._rateSeek ? sound._rateSeek - sound._seek : 0;
                  return sound._seek + (rateSeek + realTime * Math.abs(sound._rate));
                } else {
                  return sound._node.currentTime;
                }
              }
            }
            return self2;
          },
          /**
           * Check if a specific sound is currently playing or not (if id is provided), or check if at least one of the sounds in the group is playing or not.
           * @param  {Number}  id The sound id to check. If none is passed, the whole sound group is checked.
           * @return {Boolean} True if playing and false if not.
           */
          playing: function(id) {
            var self2 = this;
            if (typeof id === "number") {
              var sound = self2._soundById(id);
              return sound ? !sound._paused : false;
            }
            for (var i = 0; i < self2._sounds.length; i++) {
              if (!self2._sounds[i]._paused) {
                return true;
              }
            }
            return false;
          },
          /**
           * Get the duration of this sound. Passing a sound id will return the sprite duration.
           * @param  {Number} id The sound id to check. If none is passed, return full source duration.
           * @return {Number} Audio duration in seconds.
           */
          duration: function(id) {
            var self2 = this;
            var duration = self2._duration;
            var sound = self2._soundById(id);
            if (sound) {
              duration = self2._sprite[sound._sprite][1] / 1e3;
            }
            return duration;
          },
          /**
           * Returns the current loaded state of this Howl.
           * @return {String} 'unloaded', 'loading', 'loaded'
           */
          state: function() {
            return this._state;
          },
          /**
           * Unload and destroy the current Howl object.
           * This will immediately stop all sound instances attached to this group.
           */
          unload: function() {
            var self2 = this;
            var sounds = self2._sounds;
            for (var i = 0; i < sounds.length; i++) {
              if (!sounds[i]._paused) {
                self2.stop(sounds[i]._id);
              }
              if (!self2._webAudio) {
                self2._clearSound(sounds[i]._node);
                sounds[i]._node.removeEventListener("error", sounds[i]._errorFn, false);
                sounds[i]._node.removeEventListener(Howler2._canPlayEvent, sounds[i]._loadFn, false);
                sounds[i]._node.removeEventListener("ended", sounds[i]._endFn, false);
                Howler2._releaseHtml5Audio(sounds[i]._node);
              }
              delete sounds[i]._node;
              self2._clearTimer(sounds[i]._id);
            }
            var index = Howler2._howls.indexOf(self2);
            if (index >= 0) {
              Howler2._howls.splice(index, 1);
            }
            var remCache = true;
            for (i = 0; i < Howler2._howls.length; i++) {
              if (Howler2._howls[i]._src === self2._src || self2._src.indexOf(Howler2._howls[i]._src) >= 0) {
                remCache = false;
                break;
              }
            }
            if (cache && remCache) {
              delete cache[self2._src];
            }
            Howler2.noAudio = false;
            self2._state = "unloaded";
            self2._sounds = [];
            self2 = null;
            return null;
          },
          /**
           * Listen to a custom event.
           * @param  {String}   event Event name.
           * @param  {Function} fn    Listener to call.
           * @param  {Number}   id    (optional) Only listen to events for this sound.
           * @param  {Number}   once  (INTERNAL) Marks event to fire only once.
           * @return {Howl}
           */
          on: function(event, fn, id, once) {
            var self2 = this;
            var events = self2["_on" + event];
            if (typeof fn === "function") {
              events.push(once ? { id, fn, once } : { id, fn });
            }
            return self2;
          },
          /**
           * Remove a custom event. Call without parameters to remove all events.
           * @param  {String}   event Event name.
           * @param  {Function} fn    Listener to remove. Leave empty to remove all.
           * @param  {Number}   id    (optional) Only remove events for this sound.
           * @return {Howl}
           */
          off: function(event, fn, id) {
            var self2 = this;
            var events = self2["_on" + event];
            var i = 0;
            if (typeof fn === "number") {
              id = fn;
              fn = null;
            }
            if (fn || id) {
              for (i = 0; i < events.length; i++) {
                var isId = id === events[i].id;
                if (fn === events[i].fn && isId || !fn && isId) {
                  events.splice(i, 1);
                  break;
                }
              }
            } else if (event) {
              self2["_on" + event] = [];
            } else {
              var keys = Object.keys(self2);
              for (i = 0; i < keys.length; i++) {
                if (keys[i].indexOf("_on") === 0 && Array.isArray(self2[keys[i]])) {
                  self2[keys[i]] = [];
                }
              }
            }
            return self2;
          },
          /**
           * Listen to a custom event and remove it once fired.
           * @param  {String}   event Event name.
           * @param  {Function} fn    Listener to call.
           * @param  {Number}   id    (optional) Only listen to events for this sound.
           * @return {Howl}
           */
          once: function(event, fn, id) {
            var self2 = this;
            self2.on(event, fn, id, 1);
            return self2;
          },
          /**
           * Emit all events of a specific type and pass the sound id.
           * @param  {String} event Event name.
           * @param  {Number} id    Sound ID.
           * @param  {Number} msg   Message to go with event.
           * @return {Howl}
           */
          _emit: function(event, id, msg) {
            var self2 = this;
            var events = self2["_on" + event];
            for (var i = events.length - 1; i >= 0; i--) {
              if (!events[i].id || events[i].id === id || event === "load") {
                setTimeout(function(fn) {
                  fn.call(this, id, msg);
                }.bind(self2, events[i].fn), 0);
                if (events[i].once) {
                  self2.off(event, events[i].fn, events[i].id);
                }
              }
            }
            self2._loadQueue(event);
            return self2;
          },
          /**
           * Queue of actions initiated before the sound has loaded.
           * These will be called in sequence, with the next only firing
           * after the previous has finished executing (even if async like play).
           * @return {Howl}
           */
          _loadQueue: function(event) {
            var self2 = this;
            if (self2._queue.length > 0) {
              var task = self2._queue[0];
              if (task.event === event) {
                self2._queue.shift();
                self2._loadQueue();
              }
              if (!event) {
                task.action();
              }
            }
            return self2;
          },
          /**
           * Fired when playback ends at the end of the duration.
           * @param  {Sound} sound The sound object to work with.
           * @return {Howl}
           */
          _ended: function(sound) {
            var self2 = this;
            var sprite = sound._sprite;
            if (!self2._webAudio && sound._node && !sound._node.paused && !sound._node.ended && sound._node.currentTime < sound._stop) {
              setTimeout(self2._ended.bind(self2, sound), 100);
              return self2;
            }
            var loop = !!(sound._loop || self2._sprite[sprite][2]);
            self2._emit("end", sound._id);
            if (!self2._webAudio && loop) {
              self2.stop(sound._id, true).play(sound._id);
            }
            if (self2._webAudio && loop) {
              self2._emit("play", sound._id);
              sound._seek = sound._start || 0;
              sound._rateSeek = 0;
              sound._playStart = Howler2.ctx.currentTime;
              var timeout2 = (sound._stop - sound._start) * 1e3 / Math.abs(sound._rate);
              self2._endTimers[sound._id] = setTimeout(self2._ended.bind(self2, sound), timeout2);
            }
            if (self2._webAudio && !loop) {
              sound._paused = true;
              sound._ended = true;
              sound._seek = sound._start || 0;
              sound._rateSeek = 0;
              self2._clearTimer(sound._id);
              self2._cleanBuffer(sound._node);
              Howler2._autoSuspend();
            }
            if (!self2._webAudio && !loop) {
              self2.stop(sound._id, true);
            }
            return self2;
          },
          /**
           * Clear the end timer for a sound playback.
           * @param  {Number} id The sound ID.
           * @return {Howl}
           */
          _clearTimer: function(id) {
            var self2 = this;
            if (self2._endTimers[id]) {
              if (typeof self2._endTimers[id] !== "function") {
                clearTimeout(self2._endTimers[id]);
              } else {
                var sound = self2._soundById(id);
                if (sound && sound._node) {
                  sound._node.removeEventListener("ended", self2._endTimers[id], false);
                }
              }
              delete self2._endTimers[id];
            }
            return self2;
          },
          /**
           * Return the sound identified by this ID, or return null.
           * @param  {Number} id Sound ID
           * @return {Object}    Sound object or null.
           */
          _soundById: function(id) {
            var self2 = this;
            for (var i = 0; i < self2._sounds.length; i++) {
              if (id === self2._sounds[i]._id) {
                return self2._sounds[i];
              }
            }
            return null;
          },
          /**
           * Return an inactive sound from the pool or create a new one.
           * @return {Sound} Sound playback object.
           */
          _inactiveSound: function() {
            var self2 = this;
            self2._drain();
            for (var i = 0; i < self2._sounds.length; i++) {
              if (self2._sounds[i]._ended) {
                return self2._sounds[i].reset();
              }
            }
            return new Sound2(self2);
          },
          /**
           * Drain excess inactive sounds from the pool.
           */
          _drain: function() {
            var self2 = this;
            var limit = self2._pool;
            var cnt = 0;
            var i = 0;
            if (self2._sounds.length < limit) {
              return;
            }
            for (i = 0; i < self2._sounds.length; i++) {
              if (self2._sounds[i]._ended) {
                cnt++;
              }
            }
            for (i = self2._sounds.length - 1; i >= 0; i--) {
              if (cnt <= limit) {
                return;
              }
              if (self2._sounds[i]._ended) {
                if (self2._webAudio && self2._sounds[i]._node) {
                  self2._sounds[i]._node.disconnect(0);
                }
                self2._sounds.splice(i, 1);
                cnt--;
              }
            }
          },
          /**
           * Get all ID's from the sounds pool.
           * @param  {Number} id Only return one ID if one is passed.
           * @return {Array}    Array of IDs.
           */
          _getSoundIds: function(id) {
            var self2 = this;
            if (typeof id === "undefined") {
              var ids = [];
              for (var i = 0; i < self2._sounds.length; i++) {
                ids.push(self2._sounds[i]._id);
              }
              return ids;
            } else {
              return [id];
            }
          },
          /**
           * Load the sound back into the buffer source.
           * @param  {Sound} sound The sound object to work with.
           * @return {Howl}
           */
          _refreshBuffer: function(sound) {
            var self2 = this;
            sound._node.bufferSource = Howler2.ctx.createBufferSource();
            sound._node.bufferSource.buffer = cache[self2._src];
            if (sound._panner) {
              sound._node.bufferSource.connect(sound._panner);
            } else {
              sound._node.bufferSource.connect(sound._node);
            }
            sound._node.bufferSource.loop = sound._loop;
            if (sound._loop) {
              sound._node.bufferSource.loopStart = sound._start || 0;
              sound._node.bufferSource.loopEnd = sound._stop || 0;
            }
            sound._node.bufferSource.playbackRate.setValueAtTime(sound._rate, Howler2.ctx.currentTime);
            return self2;
          },
          /**
           * Prevent memory leaks by cleaning up the buffer source after playback.
           * @param  {Object} node Sound's audio node containing the buffer source.
           * @return {Howl}
           */
          _cleanBuffer: function(node) {
            var self2 = this;
            var isIOS = Howler2._navigator && Howler2._navigator.vendor.indexOf("Apple") >= 0;
            if (!node.bufferSource) {
              return self2;
            }
            if (Howler2._scratchBuffer && node.bufferSource) {
              node.bufferSource.onended = null;
              node.bufferSource.disconnect(0);
              if (isIOS) {
                try {
                  node.bufferSource.buffer = Howler2._scratchBuffer;
                } catch (e) {
                }
              }
            }
            node.bufferSource = null;
            return self2;
          },
          /**
           * Set the source to a 0-second silence to stop any downloading (except in IE).
           * @param  {Object} node Audio node to clear.
           */
          _clearSound: function(node) {
            var checkIE = /MSIE |Trident\//.test(Howler2._navigator && Howler2._navigator.userAgent);
            if (!checkIE) {
              node.src = "data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA";
            }
          }
        };
        var Sound2 = function(howl) {
          this._parent = howl;
          this.init();
        };
        Sound2.prototype = {
          /**
           * Initialize a new Sound object.
           * @return {Sound}
           */
          init: function() {
            var self2 = this;
            var parent = self2._parent;
            self2._muted = parent._muted;
            self2._loop = parent._loop;
            self2._volume = parent._volume;
            self2._rate = parent._rate;
            self2._seek = 0;
            self2._paused = true;
            self2._ended = true;
            self2._sprite = "__default";
            self2._id = ++Howler2._counter;
            parent._sounds.push(self2);
            self2.create();
            return self2;
          },
          /**
           * Create and setup a new sound object, whether HTML5 Audio or Web Audio.
           * @return {Sound}
           */
          create: function() {
            var self2 = this;
            var parent = self2._parent;
            var volume = Howler2._muted || self2._muted || self2._parent._muted ? 0 : self2._volume;
            if (parent._webAudio) {
              self2._node = typeof Howler2.ctx.createGain === "undefined" ? Howler2.ctx.createGainNode() : Howler2.ctx.createGain();
              self2._node.gain.setValueAtTime(volume, Howler2.ctx.currentTime);
              self2._node.paused = true;
              self2._node.connect(Howler2.masterGain);
            } else if (!Howler2.noAudio) {
              self2._node = Howler2._obtainHtml5Audio();
              self2._errorFn = self2._errorListener.bind(self2);
              self2._node.addEventListener("error", self2._errorFn, false);
              self2._loadFn = self2._loadListener.bind(self2);
              self2._node.addEventListener(Howler2._canPlayEvent, self2._loadFn, false);
              self2._endFn = self2._endListener.bind(self2);
              self2._node.addEventListener("ended", self2._endFn, false);
              self2._node.src = parent._src;
              self2._node.preload = parent._preload === true ? "auto" : parent._preload;
              self2._node.volume = volume * Howler2.volume();
              self2._node.load();
            }
            return self2;
          },
          /**
           * Reset the parameters of this sound to the original state (for recycle).
           * @return {Sound}
           */
          reset: function() {
            var self2 = this;
            var parent = self2._parent;
            self2._muted = parent._muted;
            self2._loop = parent._loop;
            self2._volume = parent._volume;
            self2._rate = parent._rate;
            self2._seek = 0;
            self2._rateSeek = 0;
            self2._paused = true;
            self2._ended = true;
            self2._sprite = "__default";
            self2._id = ++Howler2._counter;
            return self2;
          },
          /**
           * HTML5 Audio error listener callback.
           */
          _errorListener: function() {
            var self2 = this;
            self2._parent._emit("loaderror", self2._id, self2._node.error ? self2._node.error.code : 0);
            self2._node.removeEventListener("error", self2._errorFn, false);
          },
          /**
           * HTML5 Audio canplaythrough listener callback.
           */
          _loadListener: function() {
            var self2 = this;
            var parent = self2._parent;
            parent._duration = Math.ceil(self2._node.duration * 10) / 10;
            if (Object.keys(parent._sprite).length === 0) {
              parent._sprite = { __default: [0, parent._duration * 1e3] };
            }
            if (parent._state !== "loaded") {
              parent._state = "loaded";
              parent._emit("load");
              parent._loadQueue();
            }
            self2._node.removeEventListener(Howler2._canPlayEvent, self2._loadFn, false);
          },
          /**
           * HTML5 Audio ended listener callback.
           */
          _endListener: function() {
            var self2 = this;
            var parent = self2._parent;
            if (parent._duration === Infinity) {
              parent._duration = Math.ceil(self2._node.duration * 10) / 10;
              if (parent._sprite.__default[1] === Infinity) {
                parent._sprite.__default[1] = parent._duration * 1e3;
              }
              parent._ended(self2);
            }
            self2._node.removeEventListener("ended", self2._endFn, false);
          }
        };
        var cache = {};
        var loadBuffer = function(self2) {
          var url = self2._src;
          if (cache[url]) {
            self2._duration = cache[url].duration;
            loadSound(self2);
            return;
          }
          if (/^data:[^;]+;base64,/.test(url)) {
            var data = atob(url.split(",")[1]);
            var dataView = new Uint8Array(data.length);
            for (var i = 0; i < data.length; ++i) {
              dataView[i] = data.charCodeAt(i);
            }
            decodeAudioData(dataView.buffer, self2);
          } else {
            var xhr = new XMLHttpRequest();
            xhr.open(self2._xhr.method, url, true);
            xhr.withCredentials = self2._xhr.withCredentials;
            xhr.responseType = "arraybuffer";
            if (self2._xhr.headers) {
              Object.keys(self2._xhr.headers).forEach(function(key) {
                xhr.setRequestHeader(key, self2._xhr.headers[key]);
              });
            }
            xhr.onload = function() {
              var code = (xhr.status + "")[0];
              if (code !== "0" && code !== "2" && code !== "3") {
                self2._emit("loaderror", null, "Failed loading audio file with status: " + xhr.status + ".");
                return;
              }
              decodeAudioData(xhr.response, self2);
            };
            xhr.onerror = function() {
              if (self2._webAudio) {
                self2._html5 = true;
                self2._webAudio = false;
                self2._sounds = [];
                delete cache[url];
                self2.load();
              }
            };
            safeXhrSend(xhr);
          }
        };
        var safeXhrSend = function(xhr) {
          try {
            xhr.send();
          } catch (e) {
            xhr.onerror();
          }
        };
        var decodeAudioData = function(arraybuffer, self2) {
          var error = function() {
            self2._emit("loaderror", null, "Decoding audio data failed.");
          };
          var success = function(buffer) {
            if (buffer && self2._sounds.length > 0) {
              cache[self2._src] = buffer;
              loadSound(self2, buffer);
            } else {
              error();
            }
          };
          if (typeof Promise !== "undefined" && Howler2.ctx.decodeAudioData.length === 1) {
            Howler2.ctx.decodeAudioData(arraybuffer).then(success).catch(error);
          } else {
            Howler2.ctx.decodeAudioData(arraybuffer, success, error);
          }
        };
        var loadSound = function(self2, buffer) {
          if (buffer && !self2._duration) {
            self2._duration = buffer.duration;
          }
          if (Object.keys(self2._sprite).length === 0) {
            self2._sprite = { __default: [0, self2._duration * 1e3] };
          }
          if (self2._state !== "loaded") {
            self2._state = "loaded";
            self2._emit("load");
            self2._loadQueue();
          }
        };
        var setupAudioContext = function() {
          if (!Howler2.usingWebAudio) {
            return;
          }
          try {
            if (typeof AudioContext !== "undefined") {
              Howler2.ctx = new AudioContext();
            } else if (typeof webkitAudioContext !== "undefined") {
              Howler2.ctx = new webkitAudioContext();
            } else {
              Howler2.usingWebAudio = false;
            }
          } catch (e) {
            Howler2.usingWebAudio = false;
          }
          if (!Howler2.ctx) {
            Howler2.usingWebAudio = false;
          }
          var iOS = /iP(hone|od|ad)/.test(Howler2._navigator && Howler2._navigator.platform);
          var appVersion = Howler2._navigator && Howler2._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);
          var version = appVersion ? parseInt(appVersion[1], 10) : null;
          if (iOS && version && version < 9) {
            var safari = /safari/.test(Howler2._navigator && Howler2._navigator.userAgent.toLowerCase());
            if (Howler2._navigator && !safari) {
              Howler2.usingWebAudio = false;
            }
          }
          if (Howler2.usingWebAudio) {
            Howler2.masterGain = typeof Howler2.ctx.createGain === "undefined" ? Howler2.ctx.createGainNode() : Howler2.ctx.createGain();
            Howler2.masterGain.gain.setValueAtTime(Howler2._muted ? 0 : Howler2._volume, Howler2.ctx.currentTime);
            Howler2.masterGain.connect(Howler2.ctx.destination);
          }
          Howler2._setup();
        };
        if (typeof define === "function" && define.amd) {
          define([], function() {
            return {
              Howler: Howler2,
              Howl: Howl2
            };
          });
        }
        if (typeof exports !== "undefined") {
          exports.Howler = Howler2;
          exports.Howl = Howl2;
        }
        if (typeof global !== "undefined") {
          global.HowlerGlobal = HowlerGlobal2;
          global.Howler = Howler2;
          global.Howl = Howl2;
          global.Sound = Sound2;
        } else if (typeof window !== "undefined") {
          window.HowlerGlobal = HowlerGlobal2;
          window.Howler = Howler2;
          window.Howl = Howl2;
          window.Sound = Sound2;
        }
      })();
      (function() {
        "use strict";
        HowlerGlobal.prototype._pos = [0, 0, 0];
        HowlerGlobal.prototype._orientation = [0, 0, -1, 0, 1, 0];
        HowlerGlobal.prototype.stereo = function(pan) {
          var self2 = this;
          if (!self2.ctx || !self2.ctx.listener) {
            return self2;
          }
          for (var i = self2._howls.length - 1; i >= 0; i--) {
            self2._howls[i].stereo(pan);
          }
          return self2;
        };
        HowlerGlobal.prototype.pos = function(x, y, z) {
          var self2 = this;
          if (!self2.ctx || !self2.ctx.listener) {
            return self2;
          }
          y = typeof y !== "number" ? self2._pos[1] : y;
          z = typeof z !== "number" ? self2._pos[2] : z;
          if (typeof x === "number") {
            self2._pos = [x, y, z];
            if (typeof self2.ctx.listener.positionX !== "undefined") {
              self2.ctx.listener.positionX.setTargetAtTime(self2._pos[0], Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.positionY.setTargetAtTime(self2._pos[1], Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.positionZ.setTargetAtTime(self2._pos[2], Howler.ctx.currentTime, 0.1);
            } else {
              self2.ctx.listener.setPosition(self2._pos[0], self2._pos[1], self2._pos[2]);
            }
          } else {
            return self2._pos;
          }
          return self2;
        };
        HowlerGlobal.prototype.orientation = function(x, y, z, xUp, yUp, zUp) {
          var self2 = this;
          if (!self2.ctx || !self2.ctx.listener) {
            return self2;
          }
          var or = self2._orientation;
          y = typeof y !== "number" ? or[1] : y;
          z = typeof z !== "number" ? or[2] : z;
          xUp = typeof xUp !== "number" ? or[3] : xUp;
          yUp = typeof yUp !== "number" ? or[4] : yUp;
          zUp = typeof zUp !== "number" ? or[5] : zUp;
          if (typeof x === "number") {
            self2._orientation = [x, y, z, xUp, yUp, zUp];
            if (typeof self2.ctx.listener.forwardX !== "undefined") {
              self2.ctx.listener.forwardX.setTargetAtTime(x, Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.forwardY.setTargetAtTime(y, Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.forwardZ.setTargetAtTime(z, Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.upX.setTargetAtTime(xUp, Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.upY.setTargetAtTime(yUp, Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.upZ.setTargetAtTime(zUp, Howler.ctx.currentTime, 0.1);
            } else {
              self2.ctx.listener.setOrientation(x, y, z, xUp, yUp, zUp);
            }
          } else {
            return or;
          }
          return self2;
        };
        Howl.prototype.init = function(_super) {
          return function(o) {
            var self2 = this;
            self2._orientation = o.orientation || [1, 0, 0];
            self2._stereo = o.stereo || null;
            self2._pos = o.pos || null;
            self2._pannerAttr = {
              coneInnerAngle: typeof o.coneInnerAngle !== "undefined" ? o.coneInnerAngle : 360,
              coneOuterAngle: typeof o.coneOuterAngle !== "undefined" ? o.coneOuterAngle : 360,
              coneOuterGain: typeof o.coneOuterGain !== "undefined" ? o.coneOuterGain : 0,
              distanceModel: typeof o.distanceModel !== "undefined" ? o.distanceModel : "inverse",
              maxDistance: typeof o.maxDistance !== "undefined" ? o.maxDistance : 1e4,
              panningModel: typeof o.panningModel !== "undefined" ? o.panningModel : "HRTF",
              refDistance: typeof o.refDistance !== "undefined" ? o.refDistance : 1,
              rolloffFactor: typeof o.rolloffFactor !== "undefined" ? o.rolloffFactor : 1
            };
            self2._onstereo = o.onstereo ? [{ fn: o.onstereo }] : [];
            self2._onpos = o.onpos ? [{ fn: o.onpos }] : [];
            self2._onorientation = o.onorientation ? [{ fn: o.onorientation }] : [];
            return _super.call(this, o);
          };
        }(Howl.prototype.init);
        Howl.prototype.stereo = function(pan, id) {
          var self2 = this;
          if (!self2._webAudio) {
            return self2;
          }
          if (self2._state !== "loaded") {
            self2._queue.push({
              event: "stereo",
              action: function() {
                self2.stereo(pan, id);
              }
            });
            return self2;
          }
          var pannerType = typeof Howler.ctx.createStereoPanner === "undefined" ? "spatial" : "stereo";
          if (typeof id === "undefined") {
            if (typeof pan === "number") {
              self2._stereo = pan;
              self2._pos = [pan, 0, 0];
            } else {
              return self2._stereo;
            }
          }
          var ids = self2._getSoundIds(id);
          for (var i = 0; i < ids.length; i++) {
            var sound = self2._soundById(ids[i]);
            if (sound) {
              if (typeof pan === "number") {
                sound._stereo = pan;
                sound._pos = [pan, 0, 0];
                if (sound._node) {
                  sound._pannerAttr.panningModel = "equalpower";
                  if (!sound._panner || !sound._panner.pan) {
                    setupPanner(sound, pannerType);
                  }
                  if (pannerType === "spatial") {
                    if (typeof sound._panner.positionX !== "undefined") {
                      sound._panner.positionX.setValueAtTime(pan, Howler.ctx.currentTime);
                      sound._panner.positionY.setValueAtTime(0, Howler.ctx.currentTime);
                      sound._panner.positionZ.setValueAtTime(0, Howler.ctx.currentTime);
                    } else {
                      sound._panner.setPosition(pan, 0, 0);
                    }
                  } else {
                    sound._panner.pan.setValueAtTime(pan, Howler.ctx.currentTime);
                  }
                }
                self2._emit("stereo", sound._id);
              } else {
                return sound._stereo;
              }
            }
          }
          return self2;
        };
        Howl.prototype.pos = function(x, y, z, id) {
          var self2 = this;
          if (!self2._webAudio) {
            return self2;
          }
          if (self2._state !== "loaded") {
            self2._queue.push({
              event: "pos",
              action: function() {
                self2.pos(x, y, z, id);
              }
            });
            return self2;
          }
          y = typeof y !== "number" ? 0 : y;
          z = typeof z !== "number" ? -0.5 : z;
          if (typeof id === "undefined") {
            if (typeof x === "number") {
              self2._pos = [x, y, z];
            } else {
              return self2._pos;
            }
          }
          var ids = self2._getSoundIds(id);
          for (var i = 0; i < ids.length; i++) {
            var sound = self2._soundById(ids[i]);
            if (sound) {
              if (typeof x === "number") {
                sound._pos = [x, y, z];
                if (sound._node) {
                  if (!sound._panner || sound._panner.pan) {
                    setupPanner(sound, "spatial");
                  }
                  if (typeof sound._panner.positionX !== "undefined") {
                    sound._panner.positionX.setValueAtTime(x, Howler.ctx.currentTime);
                    sound._panner.positionY.setValueAtTime(y, Howler.ctx.currentTime);
                    sound._panner.positionZ.setValueAtTime(z, Howler.ctx.currentTime);
                  } else {
                    sound._panner.setPosition(x, y, z);
                  }
                }
                self2._emit("pos", sound._id);
              } else {
                return sound._pos;
              }
            }
          }
          return self2;
        };
        Howl.prototype.orientation = function(x, y, z, id) {
          var self2 = this;
          if (!self2._webAudio) {
            return self2;
          }
          if (self2._state !== "loaded") {
            self2._queue.push({
              event: "orientation",
              action: function() {
                self2.orientation(x, y, z, id);
              }
            });
            return self2;
          }
          y = typeof y !== "number" ? self2._orientation[1] : y;
          z = typeof z !== "number" ? self2._orientation[2] : z;
          if (typeof id === "undefined") {
            if (typeof x === "number") {
              self2._orientation = [x, y, z];
            } else {
              return self2._orientation;
            }
          }
          var ids = self2._getSoundIds(id);
          for (var i = 0; i < ids.length; i++) {
            var sound = self2._soundById(ids[i]);
            if (sound) {
              if (typeof x === "number") {
                sound._orientation = [x, y, z];
                if (sound._node) {
                  if (!sound._panner) {
                    if (!sound._pos) {
                      sound._pos = self2._pos || [0, 0, -0.5];
                    }
                    setupPanner(sound, "spatial");
                  }
                  if (typeof sound._panner.orientationX !== "undefined") {
                    sound._panner.orientationX.setValueAtTime(x, Howler.ctx.currentTime);
                    sound._panner.orientationY.setValueAtTime(y, Howler.ctx.currentTime);
                    sound._panner.orientationZ.setValueAtTime(z, Howler.ctx.currentTime);
                  } else {
                    sound._panner.setOrientation(x, y, z);
                  }
                }
                self2._emit("orientation", sound._id);
              } else {
                return sound._orientation;
              }
            }
          }
          return self2;
        };
        Howl.prototype.pannerAttr = function() {
          var self2 = this;
          var args = arguments;
          var o, id, sound;
          if (!self2._webAudio) {
            return self2;
          }
          if (args.length === 0) {
            return self2._pannerAttr;
          } else if (args.length === 1) {
            if (typeof args[0] === "object") {
              o = args[0];
              if (typeof id === "undefined") {
                if (!o.pannerAttr) {
                  o.pannerAttr = {
                    coneInnerAngle: o.coneInnerAngle,
                    coneOuterAngle: o.coneOuterAngle,
                    coneOuterGain: o.coneOuterGain,
                    distanceModel: o.distanceModel,
                    maxDistance: o.maxDistance,
                    refDistance: o.refDistance,
                    rolloffFactor: o.rolloffFactor,
                    panningModel: o.panningModel
                  };
                }
                self2._pannerAttr = {
                  coneInnerAngle: typeof o.pannerAttr.coneInnerAngle !== "undefined" ? o.pannerAttr.coneInnerAngle : self2._coneInnerAngle,
                  coneOuterAngle: typeof o.pannerAttr.coneOuterAngle !== "undefined" ? o.pannerAttr.coneOuterAngle : self2._coneOuterAngle,
                  coneOuterGain: typeof o.pannerAttr.coneOuterGain !== "undefined" ? o.pannerAttr.coneOuterGain : self2._coneOuterGain,
                  distanceModel: typeof o.pannerAttr.distanceModel !== "undefined" ? o.pannerAttr.distanceModel : self2._distanceModel,
                  maxDistance: typeof o.pannerAttr.maxDistance !== "undefined" ? o.pannerAttr.maxDistance : self2._maxDistance,
                  refDistance: typeof o.pannerAttr.refDistance !== "undefined" ? o.pannerAttr.refDistance : self2._refDistance,
                  rolloffFactor: typeof o.pannerAttr.rolloffFactor !== "undefined" ? o.pannerAttr.rolloffFactor : self2._rolloffFactor,
                  panningModel: typeof o.pannerAttr.panningModel !== "undefined" ? o.pannerAttr.panningModel : self2._panningModel
                };
              }
            } else {
              sound = self2._soundById(parseInt(args[0], 10));
              return sound ? sound._pannerAttr : self2._pannerAttr;
            }
          } else if (args.length === 2) {
            o = args[0];
            id = parseInt(args[1], 10);
          }
          var ids = self2._getSoundIds(id);
          for (var i = 0; i < ids.length; i++) {
            sound = self2._soundById(ids[i]);
            if (sound) {
              var pa = sound._pannerAttr;
              pa = {
                coneInnerAngle: typeof o.coneInnerAngle !== "undefined" ? o.coneInnerAngle : pa.coneInnerAngle,
                coneOuterAngle: typeof o.coneOuterAngle !== "undefined" ? o.coneOuterAngle : pa.coneOuterAngle,
                coneOuterGain: typeof o.coneOuterGain !== "undefined" ? o.coneOuterGain : pa.coneOuterGain,
                distanceModel: typeof o.distanceModel !== "undefined" ? o.distanceModel : pa.distanceModel,
                maxDistance: typeof o.maxDistance !== "undefined" ? o.maxDistance : pa.maxDistance,
                refDistance: typeof o.refDistance !== "undefined" ? o.refDistance : pa.refDistance,
                rolloffFactor: typeof o.rolloffFactor !== "undefined" ? o.rolloffFactor : pa.rolloffFactor,
                panningModel: typeof o.panningModel !== "undefined" ? o.panningModel : pa.panningModel
              };
              var panner = sound._panner;
              if (!panner) {
                if (!sound._pos) {
                  sound._pos = self2._pos || [0, 0, -0.5];
                }
                setupPanner(sound, "spatial");
                panner = sound._panner;
              }
              panner.coneInnerAngle = pa.coneInnerAngle;
              panner.coneOuterAngle = pa.coneOuterAngle;
              panner.coneOuterGain = pa.coneOuterGain;
              panner.distanceModel = pa.distanceModel;
              panner.maxDistance = pa.maxDistance;
              panner.refDistance = pa.refDistance;
              panner.rolloffFactor = pa.rolloffFactor;
              panner.panningModel = pa.panningModel;
            }
          }
          return self2;
        };
        Sound.prototype.init = function(_super) {
          return function() {
            var self2 = this;
            var parent = self2._parent;
            self2._orientation = parent._orientation;
            self2._stereo = parent._stereo;
            self2._pos = parent._pos;
            self2._pannerAttr = parent._pannerAttr;
            _super.call(this);
            if (self2._stereo) {
              parent.stereo(self2._stereo);
            } else if (self2._pos) {
              parent.pos(self2._pos[0], self2._pos[1], self2._pos[2], self2._id);
            }
          };
        }(Sound.prototype.init);
        Sound.prototype.reset = function(_super) {
          return function() {
            var self2 = this;
            var parent = self2._parent;
            self2._orientation = parent._orientation;
            self2._stereo = parent._stereo;
            self2._pos = parent._pos;
            self2._pannerAttr = parent._pannerAttr;
            if (self2._stereo) {
              parent.stereo(self2._stereo);
            } else if (self2._pos) {
              parent.pos(self2._pos[0], self2._pos[1], self2._pos[2], self2._id);
            } else if (self2._panner) {
              self2._panner.disconnect(0);
              self2._panner = void 0;
              parent._refreshBuffer(self2);
            }
            return _super.call(this);
          };
        }(Sound.prototype.reset);
        var setupPanner = function(sound, type) {
          type = type || "spatial";
          if (type === "spatial") {
            sound._panner = Howler.ctx.createPanner();
            sound._panner.coneInnerAngle = sound._pannerAttr.coneInnerAngle;
            sound._panner.coneOuterAngle = sound._pannerAttr.coneOuterAngle;
            sound._panner.coneOuterGain = sound._pannerAttr.coneOuterGain;
            sound._panner.distanceModel = sound._pannerAttr.distanceModel;
            sound._panner.maxDistance = sound._pannerAttr.maxDistance;
            sound._panner.refDistance = sound._pannerAttr.refDistance;
            sound._panner.rolloffFactor = sound._pannerAttr.rolloffFactor;
            sound._panner.panningModel = sound._pannerAttr.panningModel;
            if (typeof sound._panner.positionX !== "undefined") {
              sound._panner.positionX.setValueAtTime(sound._pos[0], Howler.ctx.currentTime);
              sound._panner.positionY.setValueAtTime(sound._pos[1], Howler.ctx.currentTime);
              sound._panner.positionZ.setValueAtTime(sound._pos[2], Howler.ctx.currentTime);
            } else {
              sound._panner.setPosition(sound._pos[0], sound._pos[1], sound._pos[2]);
            }
            if (typeof sound._panner.orientationX !== "undefined") {
              sound._panner.orientationX.setValueAtTime(sound._orientation[0], Howler.ctx.currentTime);
              sound._panner.orientationY.setValueAtTime(sound._orientation[1], Howler.ctx.currentTime);
              sound._panner.orientationZ.setValueAtTime(sound._orientation[2], Howler.ctx.currentTime);
            } else {
              sound._panner.setOrientation(sound._orientation[0], sound._orientation[1], sound._orientation[2]);
            }
          } else {
            sound._panner = Howler.ctx.createStereoPanner();
            sound._panner.pan.setValueAtTime(sound._stereo, Howler.ctx.currentTime);
          }
          sound._panner.connect(sound._node);
          if (!sound._paused) {
            sound._parent.pause(sound._id, true).play(sound._id, true);
          }
        };
      })();
    }
  });

  // E:/git/Test_WonderlandEngine/node_modules/earcut/src/earcut.js
  var require_earcut = __commonJS({
    "E:/git/Test_WonderlandEngine/node_modules/earcut/src/earcut.js"(exports, module) {
      "use strict";
      module.exports = earcut2;
      module.exports.default = earcut2;
      function earcut2(data, holeIndices, dim) {
        dim = dim || 2;
        var hasHoles = holeIndices && holeIndices.length, outerLen = hasHoles ? holeIndices[0] * dim : data.length, outerNode = linkedList(data, 0, outerLen, dim, true), triangles = [];
        if (!outerNode || outerNode.next === outerNode.prev)
          return triangles;
        var minX, minY, maxX, maxY, x, y, invSize;
        if (hasHoles)
          outerNode = eliminateHoles(data, holeIndices, outerNode, dim);
        if (data.length > 80 * dim) {
          minX = maxX = data[0];
          minY = maxY = data[1];
          for (var i = dim; i < outerLen; i += dim) {
            x = data[i];
            y = data[i + 1];
            if (x < minX)
              minX = x;
            if (y < minY)
              minY = y;
            if (x > maxX)
              maxX = x;
            if (y > maxY)
              maxY = y;
          }
          invSize = Math.max(maxX - minX, maxY - minY);
          invSize = invSize !== 0 ? 32767 / invSize : 0;
        }
        earcutLinked(outerNode, triangles, dim, minX, minY, invSize, 0);
        return triangles;
      }
      function linkedList(data, start, end, dim, clockwise) {
        var i, last;
        if (clockwise === signedArea(data, start, end, dim) > 0) {
          for (i = start; i < end; i += dim)
            last = insertNode(i, data[i], data[i + 1], last);
        } else {
          for (i = end - dim; i >= start; i -= dim)
            last = insertNode(i, data[i], data[i + 1], last);
        }
        if (last && equals6(last, last.next)) {
          removeNode(last);
          last = last.next;
        }
        return last;
      }
      function filterPoints(start, end) {
        if (!start)
          return start;
        if (!end)
          end = start;
        var p = start, again;
        do {
          again = false;
          if (!p.steiner && (equals6(p, p.next) || area(p.prev, p, p.next) === 0)) {
            removeNode(p);
            p = end = p.prev;
            if (p === p.next)
              break;
            again = true;
          } else {
            p = p.next;
          }
        } while (again || p !== end);
        return end;
      }
      function earcutLinked(ear, triangles, dim, minX, minY, invSize, pass) {
        if (!ear)
          return;
        if (!pass && invSize)
          indexCurve(ear, minX, minY, invSize);
        var stop = ear, prev, next;
        while (ear.prev !== ear.next) {
          prev = ear.prev;
          next = ear.next;
          if (invSize ? isEarHashed(ear, minX, minY, invSize) : isEar(ear)) {
            triangles.push(prev.i / dim | 0);
            triangles.push(ear.i / dim | 0);
            triangles.push(next.i / dim | 0);
            removeNode(ear);
            ear = next.next;
            stop = next.next;
            continue;
          }
          ear = next;
          if (ear === stop) {
            if (!pass) {
              earcutLinked(filterPoints(ear), triangles, dim, minX, minY, invSize, 1);
            } else if (pass === 1) {
              ear = cureLocalIntersections(filterPoints(ear), triangles, dim);
              earcutLinked(ear, triangles, dim, minX, minY, invSize, 2);
            } else if (pass === 2) {
              splitEarcut(ear, triangles, dim, minX, minY, invSize);
            }
            break;
          }
        }
      }
      function isEar(ear) {
        var a = ear.prev, b = ear, c = ear.next;
        if (area(a, b, c) >= 0)
          return false;
        var ax = a.x, bx = b.x, cx = c.x, ay = a.y, by = b.y, cy = c.y;
        var x0 = ax < bx ? ax < cx ? ax : cx : bx < cx ? bx : cx, y0 = ay < by ? ay < cy ? ay : cy : by < cy ? by : cy, x1 = ax > bx ? ax > cx ? ax : cx : bx > cx ? bx : cx, y1 = ay > by ? ay > cy ? ay : cy : by > cy ? by : cy;
        var p = c.next;
        while (p !== a) {
          if (p.x >= x0 && p.x <= x1 && p.y >= y0 && p.y <= y1 && pointInTriangle(ax, ay, bx, by, cx, cy, p.x, p.y) && area(p.prev, p, p.next) >= 0)
            return false;
          p = p.next;
        }
        return true;
      }
      function isEarHashed(ear, minX, minY, invSize) {
        var a = ear.prev, b = ear, c = ear.next;
        if (area(a, b, c) >= 0)
          return false;
        var ax = a.x, bx = b.x, cx = c.x, ay = a.y, by = b.y, cy = c.y;
        var x0 = ax < bx ? ax < cx ? ax : cx : bx < cx ? bx : cx, y0 = ay < by ? ay < cy ? ay : cy : by < cy ? by : cy, x1 = ax > bx ? ax > cx ? ax : cx : bx > cx ? bx : cx, y1 = ay > by ? ay > cy ? ay : cy : by > cy ? by : cy;
        var minZ = zOrder(x0, y0, minX, minY, invSize), maxZ = zOrder(x1, y1, minX, minY, invSize);
        var p = ear.prevZ, n = ear.nextZ;
        while (p && p.z >= minZ && n && n.z <= maxZ) {
          if (p.x >= x0 && p.x <= x1 && p.y >= y0 && p.y <= y1 && p !== a && p !== c && pointInTriangle(ax, ay, bx, by, cx, cy, p.x, p.y) && area(p.prev, p, p.next) >= 0)
            return false;
          p = p.prevZ;
          if (n.x >= x0 && n.x <= x1 && n.y >= y0 && n.y <= y1 && n !== a && n !== c && pointInTriangle(ax, ay, bx, by, cx, cy, n.x, n.y) && area(n.prev, n, n.next) >= 0)
            return false;
          n = n.nextZ;
        }
        while (p && p.z >= minZ) {
          if (p.x >= x0 && p.x <= x1 && p.y >= y0 && p.y <= y1 && p !== a && p !== c && pointInTriangle(ax, ay, bx, by, cx, cy, p.x, p.y) && area(p.prev, p, p.next) >= 0)
            return false;
          p = p.prevZ;
        }
        while (n && n.z <= maxZ) {
          if (n.x >= x0 && n.x <= x1 && n.y >= y0 && n.y <= y1 && n !== a && n !== c && pointInTriangle(ax, ay, bx, by, cx, cy, n.x, n.y) && area(n.prev, n, n.next) >= 0)
            return false;
          n = n.nextZ;
        }
        return true;
      }
      function cureLocalIntersections(start, triangles, dim) {
        var p = start;
        do {
          var a = p.prev, b = p.next.next;
          if (!equals6(a, b) && intersects(a, p, p.next, b) && locallyInside(a, b) && locallyInside(b, a)) {
            triangles.push(a.i / dim | 0);
            triangles.push(p.i / dim | 0);
            triangles.push(b.i / dim | 0);
            removeNode(p);
            removeNode(p.next);
            p = start = b;
          }
          p = p.next;
        } while (p !== start);
        return filterPoints(p);
      }
      function splitEarcut(start, triangles, dim, minX, minY, invSize) {
        var a = start;
        do {
          var b = a.next.next;
          while (b !== a.prev) {
            if (a.i !== b.i && isValidDiagonal(a, b)) {
              var c = splitPolygon(a, b);
              a = filterPoints(a, a.next);
              c = filterPoints(c, c.next);
              earcutLinked(a, triangles, dim, minX, minY, invSize, 0);
              earcutLinked(c, triangles, dim, minX, minY, invSize, 0);
              return;
            }
            b = b.next;
          }
          a = a.next;
        } while (a !== start);
      }
      function eliminateHoles(data, holeIndices, outerNode, dim) {
        var queue = [], i, len4, start, end, list;
        for (i = 0, len4 = holeIndices.length; i < len4; i++) {
          start = holeIndices[i] * dim;
          end = i < len4 - 1 ? holeIndices[i + 1] * dim : data.length;
          list = linkedList(data, start, end, dim, false);
          if (list === list.next)
            list.steiner = true;
          queue.push(getLeftmost(list));
        }
        queue.sort(compareX);
        for (i = 0; i < queue.length; i++) {
          outerNode = eliminateHole(queue[i], outerNode);
        }
        return outerNode;
      }
      function compareX(a, b) {
        return a.x - b.x;
      }
      function eliminateHole(hole, outerNode) {
        var bridge = findHoleBridge(hole, outerNode);
        if (!bridge) {
          return outerNode;
        }
        var bridgeReverse = splitPolygon(bridge, hole);
        filterPoints(bridgeReverse, bridgeReverse.next);
        return filterPoints(bridge, bridge.next);
      }
      function findHoleBridge(hole, outerNode) {
        var p = outerNode, hx = hole.x, hy = hole.y, qx = -Infinity, m;
        do {
          if (hy <= p.y && hy >= p.next.y && p.next.y !== p.y) {
            var x = p.x + (hy - p.y) * (p.next.x - p.x) / (p.next.y - p.y);
            if (x <= hx && x > qx) {
              qx = x;
              m = p.x < p.next.x ? p : p.next;
              if (x === hx)
                return m;
            }
          }
          p = p.next;
        } while (p !== outerNode);
        if (!m)
          return null;
        var stop = m, mx = m.x, my = m.y, tanMin = Infinity, tan;
        p = m;
        do {
          if (hx >= p.x && p.x >= mx && hx !== p.x && pointInTriangle(hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p.x, p.y)) {
            tan = Math.abs(hy - p.y) / (hx - p.x);
            if (locallyInside(p, hole) && (tan < tanMin || tan === tanMin && (p.x > m.x || p.x === m.x && sectorContainsSector(m, p)))) {
              m = p;
              tanMin = tan;
            }
          }
          p = p.next;
        } while (p !== stop);
        return m;
      }
      function sectorContainsSector(m, p) {
        return area(m.prev, m, p.prev) < 0 && area(p.next, m, m.next) < 0;
      }
      function indexCurve(start, minX, minY, invSize) {
        var p = start;
        do {
          if (p.z === 0)
            p.z = zOrder(p.x, p.y, minX, minY, invSize);
          p.prevZ = p.prev;
          p.nextZ = p.next;
          p = p.next;
        } while (p !== start);
        p.prevZ.nextZ = null;
        p.prevZ = null;
        sortLinked(p);
      }
      function sortLinked(list) {
        var i, p, q, e, tail, numMerges, pSize, qSize, inSize = 1;
        do {
          p = list;
          list = null;
          tail = null;
          numMerges = 0;
          while (p) {
            numMerges++;
            q = p;
            pSize = 0;
            for (i = 0; i < inSize; i++) {
              pSize++;
              q = q.nextZ;
              if (!q)
                break;
            }
            qSize = inSize;
            while (pSize > 0 || qSize > 0 && q) {
              if (pSize !== 0 && (qSize === 0 || !q || p.z <= q.z)) {
                e = p;
                p = p.nextZ;
                pSize--;
              } else {
                e = q;
                q = q.nextZ;
                qSize--;
              }
              if (tail)
                tail.nextZ = e;
              else
                list = e;
              e.prevZ = tail;
              tail = e;
            }
            p = q;
          }
          tail.nextZ = null;
          inSize *= 2;
        } while (numMerges > 1);
        return list;
      }
      function zOrder(x, y, minX, minY, invSize) {
        x = (x - minX) * invSize | 0;
        y = (y - minY) * invSize | 0;
        x = (x | x << 8) & 16711935;
        x = (x | x << 4) & 252645135;
        x = (x | x << 2) & 858993459;
        x = (x | x << 1) & 1431655765;
        y = (y | y << 8) & 16711935;
        y = (y | y << 4) & 252645135;
        y = (y | y << 2) & 858993459;
        y = (y | y << 1) & 1431655765;
        return x | y << 1;
      }
      function getLeftmost(start) {
        var p = start, leftmost = start;
        do {
          if (p.x < leftmost.x || p.x === leftmost.x && p.y < leftmost.y)
            leftmost = p;
          p = p.next;
        } while (p !== start);
        return leftmost;
      }
      function pointInTriangle(ax, ay, bx, by, cx, cy, px, py) {
        return (cx - px) * (ay - py) >= (ax - px) * (cy - py) && (ax - px) * (by - py) >= (bx - px) * (ay - py) && (bx - px) * (cy - py) >= (cx - px) * (by - py);
      }
      function isValidDiagonal(a, b) {
        return a.next.i !== b.i && a.prev.i !== b.i && !intersectsPolygon(a, b) && // dones't intersect other edges
        (locallyInside(a, b) && locallyInside(b, a) && middleInside(a, b) && // locally visible
        (area(a.prev, a, b.prev) || area(a, b.prev, b)) || // does not create opposite-facing sectors
        equals6(a, b) && area(a.prev, a, a.next) > 0 && area(b.prev, b, b.next) > 0);
      }
      function area(p, q, r) {
        return (q.y - p.y) * (r.x - q.x) - (q.x - p.x) * (r.y - q.y);
      }
      function equals6(p1, p2) {
        return p1.x === p2.x && p1.y === p2.y;
      }
      function intersects(p1, q1, p2, q2) {
        var o1 = sign(area(p1, q1, p2));
        var o2 = sign(area(p1, q1, q2));
        var o3 = sign(area(p2, q2, p1));
        var o4 = sign(area(p2, q2, q1));
        if (o1 !== o2 && o3 !== o4)
          return true;
        if (o1 === 0 && onSegment(p1, p2, q1))
          return true;
        if (o2 === 0 && onSegment(p1, q2, q1))
          return true;
        if (o3 === 0 && onSegment(p2, p1, q2))
          return true;
        if (o4 === 0 && onSegment(p2, q1, q2))
          return true;
        return false;
      }
      function onSegment(p, q, r) {
        return q.x <= Math.max(p.x, r.x) && q.x >= Math.min(p.x, r.x) && q.y <= Math.max(p.y, r.y) && q.y >= Math.min(p.y, r.y);
      }
      function sign(num) {
        return num > 0 ? 1 : num < 0 ? -1 : 0;
      }
      function intersectsPolygon(a, b) {
        var p = a;
        do {
          if (p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i && intersects(p, p.next, a, b))
            return true;
          p = p.next;
        } while (p !== a);
        return false;
      }
      function locallyInside(a, b) {
        return area(a.prev, a, a.next) < 0 ? area(a, b, a.next) >= 0 && area(a, a.prev, b) >= 0 : area(a, b, a.prev) < 0 || area(a, a.next, b) < 0;
      }
      function middleInside(a, b) {
        var p = a, inside = false, px = (a.x + b.x) / 2, py = (a.y + b.y) / 2;
        do {
          if (p.y > py !== p.next.y > py && p.next.y !== p.y && px < (p.next.x - p.x) * (py - p.y) / (p.next.y - p.y) + p.x)
            inside = !inside;
          p = p.next;
        } while (p !== a);
        return inside;
      }
      function splitPolygon(a, b) {
        var a2 = new Node(a.i, a.x, a.y), b2 = new Node(b.i, b.x, b.y), an = a.next, bp = b.prev;
        a.next = b;
        b.prev = a;
        a2.next = an;
        an.prev = a2;
        b2.next = a2;
        a2.prev = b2;
        bp.next = b2;
        b2.prev = bp;
        return b2;
      }
      function insertNode(i, x, y, last) {
        var p = new Node(i, x, y);
        if (!last) {
          p.prev = p;
          p.next = p;
        } else {
          p.next = last.next;
          p.prev = last;
          last.next.prev = p;
          last.next = p;
        }
        return p;
      }
      function removeNode(p) {
        p.next.prev = p.prev;
        p.prev.next = p.next;
        if (p.prevZ)
          p.prevZ.nextZ = p.nextZ;
        if (p.nextZ)
          p.nextZ.prevZ = p.prevZ;
      }
      function Node(i, x, y) {
        this.i = i;
        this.x = x;
        this.y = y;
        this.prev = null;
        this.next = null;
        this.z = 0;
        this.prevZ = null;
        this.nextZ = null;
        this.steiner = false;
      }
      earcut2.deviation = function(data, holeIndices, dim, triangles) {
        var hasHoles = holeIndices && holeIndices.length;
        var outerLen = hasHoles ? holeIndices[0] * dim : data.length;
        var polygonArea = Math.abs(signedArea(data, 0, outerLen, dim));
        if (hasHoles) {
          for (var i = 0, len4 = holeIndices.length; i < len4; i++) {
            var start = holeIndices[i] * dim;
            var end = i < len4 - 1 ? holeIndices[i + 1] * dim : data.length;
            polygonArea -= Math.abs(signedArea(data, start, end, dim));
          }
        }
        var trianglesArea = 0;
        for (i = 0; i < triangles.length; i += 3) {
          var a = triangles[i] * dim;
          var b = triangles[i + 1] * dim;
          var c = triangles[i + 2] * dim;
          trianglesArea += Math.abs(
            (data[a] - data[c]) * (data[b + 1] - data[a + 1]) - (data[a] - data[b]) * (data[c + 1] - data[a + 1])
          );
        }
        return polygonArea === 0 && trianglesArea === 0 ? 0 : Math.abs((trianglesArea - polygonArea) / polygonArea);
      };
      function signedArea(data, start, end, dim) {
        var sum = 0;
        for (var i = start, j = end - dim; i < end; i += dim) {
          sum += (data[j] - data[i]) * (data[i + 1] + data[j + 1]);
          j = i;
        }
        return sum;
      }
      earcut2.flatten = function(data) {
        var dim = data[0][0].length, result = { vertices: [], holes: [], dimensions: dim }, holeIndex = 0;
        for (var i = 0; i < data.length; i++) {
          for (var j = 0; j < data[i].length; j++) {
            for (var d = 0; d < dim; d++)
              result.vertices.push(data[i][j][d]);
          }
          if (i > 0) {
            holeIndex += data[i - 1].length;
            result.holes.push(holeIndex);
          }
        }
        return result;
      };
    }
  });

  // E:/git/Test_WonderlandEngine/node_modules/@wonderlandengine/components/dist/index.js
  var dist_exports = {};
  __export(dist_exports, {
    ARCamera8thwall: () => ARCamera8thwall,
    Anchor: () => Anchor,
    Cursor: () => Cursor,
    CursorTarget: () => CursorTarget,
    DebugObject: () => DebugObject,
    DeviceOrientationLook: () => DeviceOrientationLook,
    FingerCursor: () => FingerCursor,
    FixedFoveation: () => FixedFoveation,
    HandTracking: () => HandTracking,
    HitTestLocation: () => HitTestLocation,
    HowlerAudioListener: () => HowlerAudioListener,
    HowlerAudioSource: () => HowlerAudioSource,
    ImageTexture: () => ImageTexture,
    MouseLookComponent: () => MouseLookComponent,
    PlaneDetection: () => PlaneDetection,
    PlayerHeight: () => PlayerHeight,
    TargetFramerate: () => TargetFramerate,
    TeleportComponent: () => TeleportComponent,
    Trail: () => Trail,
    TwoJointIkSolver: () => TwoJointIkSolver,
    VideoTexture: () => VideoTexture,
    VrModeActiveSwitch: () => VrModeActiveSwitch,
    Vrm: () => Vrm,
    WasdControlsComponent: () => WasdControlsComponent,
    isPointLocalOnXRPlanePolygon: () => isPointLocalOnXRPlanePolygon,
    isPointWorldOnXRPlanePolygon: () => isPointWorldOnXRPlanePolygon
  });

  // E:/git/Test_WonderlandEngine/node_modules/@wonderlandengine/api/dist/property.js
  var Type;
  (function(Type2) {
    Type2[Type2["Native"] = 1] = "Native";
    Type2[Type2["Bool"] = 2] = "Bool";
    Type2[Type2["Int"] = 4] = "Int";
    Type2[Type2["Float"] = 8] = "Float";
    Type2[Type2["String"] = 16] = "String";
    Type2[Type2["Enum"] = 32] = "Enum";
    Type2[Type2["Object"] = 64] = "Object";
    Type2[Type2["Mesh"] = 128] = "Mesh";
    Type2[Type2["Texture"] = 256] = "Texture";
    Type2[Type2["Material"] = 512] = "Material";
    Type2[Type2["Animation"] = 1024] = "Animation";
    Type2[Type2["Skin"] = 2048] = "Skin";
    Type2[Type2["Color"] = 4096] = "Color";
  })(Type || (Type = {}));
  var Property = {
    /**
     * Create an boolean property.
     *
     * @param defaultValue The default value. If not provided, defaults to `false`.
     */
    bool(defaultValue = false) {
      return { type: Type.Bool, default: defaultValue };
    },
    /**
     * Create an integer property.
     *
     * @param defaultValue The default value. If not provided, defaults to `0`.
     */
    int(defaultValue = 0) {
      return { type: Type.Int, default: defaultValue };
    },
    /**
     * Create an float property.
     *
     * @param defaultValue The default value. If not provided, defaults to `0.0`.
     */
    float(defaultValue = 0) {
      return { type: Type.Float, default: defaultValue };
    },
    /**
     * Create an string property.
     *
     * @param defaultValue The default value. If not provided, defaults to `''`.
     */
    string(defaultValue = "") {
      return { type: Type.String, default: defaultValue };
    },
    /**
     * Create an enumeration property.
     *
     * @param values The list of values.
     * @param defaultValue The default value. Can be a string or an index into
     *     `values`. If not provided, defaults to the first element.
     */
    enum(values, defaultValue) {
      return { type: Type.Enum, values, default: defaultValue };
    },
    /** Create an {@link Object3D} reference property. */
    object(opts) {
      return { type: Type.Object, default: null, required: opts?.required ?? false };
    },
    /** Create a {@link Mesh} reference property. */
    mesh(opts) {
      return { type: Type.Mesh, default: null, required: opts?.required ?? false };
    },
    /** Create a {@link Texture} reference property. */
    texture(opts) {
      return { type: Type.Texture, default: null, required: opts?.required ?? false };
    },
    /** Create a {@link Material} reference property. */
    material(opts) {
      return { type: Type.Material, default: null, required: opts?.required ?? false };
    },
    /** Create an {@link Animation} reference property. */
    animation(opts) {
      return { type: Type.Animation, default: null, required: opts?.required ?? false };
    },
    /** Create a {@link Skin} reference property. */
    skin(opts) {
      return { type: Type.Skin, default: null, required: opts?.required ?? false };
    },
    /**
     * Create a color property.
     *
     * @param r The red component, in the range [0; 1].
     * @param g The green component, in the range [0; 1].
     * @param b The blue component, in the range [0; 1].
     * @param a The alpha component, in the range [0; 1].
     */
    color(r = 0, g = 0, b = 0, a = 1) {
      return { type: Type.Color, default: [r, g, b, a] };
    }
  };

  // E:/git/Test_WonderlandEngine/node_modules/@wonderlandengine/api/dist/decorators.js
  function propertyDecorator(data) {
    return function(target, propertyKey) {
      const ctor = target.constructor;
      ctor.Properties = ctor.hasOwnProperty("Properties") ? ctor.Properties : {};
      ctor.Properties[propertyKey] = data;
    };
  }
  function enumerable() {
    return function(_, __, descriptor) {
      descriptor.enumerable = true;
    };
  }
  function nativeProperty() {
    return function(target, propertyKey, descriptor) {
      enumerable()(target, propertyKey, descriptor);
      propertyDecorator({ type: Type.Native })(target, propertyKey);
    };
  }
  var property = {};
  for (const name in Property) {
    property[name] = (...args) => {
      const functor = Property[name];
      return propertyDecorator(functor(...args));
    };
  }

  // E:/git/Test_WonderlandEngine/node_modules/@wonderlandengine/api/dist/utils/object.js
  function isNumber(value) {
    if (value === null || value === void 0)
      return false;
    return typeof value === "number" || value.constructor === Number;
  }

  // E:/git/Test_WonderlandEngine/node_modules/@wonderlandengine/api/dist/utils/event.js
  var Emitter = class {
    /**
     * List of listeners to trigger when `notify` is called.
     *
     * @hidden
     */
    _listeners = [];
    /**
     * Register a new listener to be triggered on {@link Emitter.notify}.
     *
     * Basic usage:
     *
     * ```js
     * emitter.add((data) => {
     *     console.log('event received!');
     *     console.log(data);
     * });
     * ```
     *
     * Automatically remove the listener when an event is received:
     *
     * ```js
     * emitter.add((data) => {
     *     console.log('event received!');
     *     console.log(data);
     * }, {once: true});
     * ```
     *
     * @param listener The callback to register.
     * @param opts The listener options. For more information, please have a look
     *     at the {@link ListenerOptions} interface.
     *
     * @returns Reference to self (for method chaining)
     */
    add(listener, opts = {}) {
      const { once = false, id = void 0 } = opts;
      this._listeners.push({ id, once, callback: listener });
      return this;
    }
    /**
     * Equivalent to {@link Emitter.add}.
     *
     * @param listeners The callback(s) to register.
     * @returns Reference to self (for method chaining).
     *
     * @deprecated Please use {@link Emitter.add} instead.
     */
    push(...listeners) {
      for (const cb of listeners)
        this.add(cb);
      return this;
    }
    /**
     * Register a new listener to be triggered on {@link Emitter.notify}.
     *
     * Once notified, the listener will be automatically removed.
     *
     * The method is equivalent to calling {@link Emitter.add} with:
     *
     * ```js
     * emitter.add(listener, {once: true});
     * ```
     *
     * @param listener The callback to register.
     *
     * @returns Reference to self (for method chaining).
     */
    once(listener) {
      return this.add(listener, { once: true });
    }
    /**
     * Remove a registered listener.
     *
     * Usage with a callback:
     *
     * ```js
     * const listener = (data) => console.log(data);
     * emitter.add(listener);
     *
     * // Remove using the callback reference:
     * emitter.remove(listener);
     * ```
     *
     * Usage with an id:
     *
     * ```js
     * emitter.add((data) => console.log(data), {id: 'my-callback'});
     *
     * // Remove using the id:
     * emitter.remove('my-callback');
     * ```
     *
     * Using identifiers, you will need to ensure your value is unique to avoid
     * removing listeners from other libraries, e.g.,:
     *
     * ```js
     * emitter.add((data) => console.log(data), {id: 'non-unique'});
     * // This second listener could be added by a third-party library.
     * emitter.add((data) => console.log('Hello From Library!'), {id: 'non-unique'});
     *
     * // Ho Snap! This also removed the library listener!
     * emitter.remove('non-unique');
     * ```
     *
     * The identifier can be any type. However, remember that the comparison will be
     * by-value for primitive types (string, number), but by reference for objects.
     *
     * Example:
     *
     * ```js
     * emitter.add(() => console.log('Hello'), {id: {value: 42}});
     * emitter.add(() => console.log('World!'), {id: {value: 42}});
     * emitter.remove({value: 42}); // None of the above listeners match!
     * emitter.notify(); // Prints 'Hello' and 'World!'.
     * ```
     *
     * Here, both emitters have id `{value: 42}`, but the comparison is made by reference. Thus,
     * the `remove()` call has no effect. We can make it work by doing:
     *
     * ```js
     * const id = {value: 42};
     * emitter.add(() => console.log('Hello'), {id});
     * emitter.add(() => console.log('World!'), {id});
     * emitter.remove(id); // Same reference, it works!
     * emitter.notify(); // Doesn't print.
     * ```
     *
     * @param listener The registered callback or a value representing the `id`.
     *
     * @returns Reference to self (for method chaining)
     */
    remove(listener) {
      const listeners = this._listeners;
      for (let i = 0; i < listeners.length; ++i) {
        const target = listeners[i];
        if (target.callback === listener || target.id === listener) {
          listeners.splice(i--, 1);
        }
      }
      return this;
    }
    /**
     * Check whether the listener is registered.
     *
     * @note This method performs a linear search.
     *
     * @param listener The registered callback or a value representing the `id`.
     * @returns `true` if the handle is found, `false` otherwise.
     */
    has(listener) {
      const listeners = this._listeners;
      for (let i = 0; i < listeners.length; ++i) {
        const target = listeners[i];
        if (target.callback === listener || target.id === listener)
          return true;
      }
      return false;
    }
    /**
     * Notify listeners with the given data object.
     *
     * @note This method ensures all listeners are called even if
     * an exception is thrown. For (possibly) faster notification,
     * please use {@link Emitter.notifyUnsafe}.
     *
     * @param data The data to pass to listener when invoked.
     */
    notify(...data) {
      const listeners = this._listeners;
      for (let i = 0; i < listeners.length; ++i) {
        const listener = listeners[i];
        if (listener.once)
          listeners.splice(i--, 1);
        try {
          listener.callback(...data);
        } catch (e) {
          console.error(e);
        }
      }
    }
    /**
     * Notify listeners with the given data object.
     *
     * @note Because this method doesn't catch exceptions, some listeners
     * will be skipped on a throw. Please use {@link Emitter.notify} for safe
     * notification.
     *
     * @param data The data to pass to listener when invoked.
     */
    notifyUnsafe(...data) {
      const listeners = this._listeners;
      for (let i = 0; i < listeners.length; ++i) {
        const listener = listeners[i];
        if (listener.once)
          listeners.splice(i--, 1);
        listener.callback(...data);
      }
    }
    /**
     * Return a promise that will resolve on the next event.
     *
     * @note The promise might never resolve if no event is sent.
     *
     * @returns A promise that resolves with the data passed to
     *     {@link Emitter.notify}.
     */
    promise() {
      return new Promise((res, _) => {
        this.once((...args) => {
          if (args.length > 1) {
            res(args);
          } else {
            res(args[0]);
          }
        });
      });
    }
    /** Number of listeners. */
    get listenerCount() {
      return this._listeners.length;
    }
    /** `true` if it has no listeners, `false` otherwise. */
    get isEmpty() {
      return this.listenerCount === 0;
    }
  };

  // E:/git/Test_WonderlandEngine/node_modules/@wonderlandengine/api/dist/wonderland.js
  var __decorate = function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
      r = Reflect.decorate(decorators, target, key, desc);
    else
      for (var i = decorators.length - 1; i >= 0; i--)
        if (d = decorators[i])
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var Collider;
  (function(Collider2) {
    Collider2[Collider2["Sphere"] = 0] = "Sphere";
    Collider2[Collider2["AxisAlignedBox"] = 1] = "AxisAlignedBox";
    Collider2[Collider2["Box"] = 2] = "Box";
  })(Collider || (Collider = {}));
  var Alignment;
  (function(Alignment2) {
    Alignment2[Alignment2["Left"] = 0] = "Left";
    Alignment2[Alignment2["Center"] = 1] = "Center";
    Alignment2[Alignment2["Right"] = 2] = "Right";
  })(Alignment || (Alignment = {}));
  var Justification;
  (function(Justification2) {
    Justification2[Justification2["Line"] = 0] = "Line";
    Justification2[Justification2["Middle"] = 1] = "Middle";
    Justification2[Justification2["Top"] = 2] = "Top";
    Justification2[Justification2["Bottom"] = 3] = "Bottom";
  })(Justification || (Justification = {}));
  var TextEffect;
  (function(TextEffect2) {
    TextEffect2[TextEffect2["None"] = 0] = "None";
    TextEffect2[TextEffect2["Outline"] = 1] = "Outline";
  })(TextEffect || (TextEffect = {}));
  var InputType;
  (function(InputType2) {
    InputType2[InputType2["Head"] = 0] = "Head";
    InputType2[InputType2["EyeLeft"] = 1] = "EyeLeft";
    InputType2[InputType2["EyeRight"] = 2] = "EyeRight";
    InputType2[InputType2["ControllerLeft"] = 3] = "ControllerLeft";
    InputType2[InputType2["ControllerRight"] = 4] = "ControllerRight";
    InputType2[InputType2["RayLeft"] = 5] = "RayLeft";
    InputType2[InputType2["RayRight"] = 6] = "RayRight";
  })(InputType || (InputType = {}));
  var LightType;
  (function(LightType2) {
    LightType2[LightType2["Point"] = 0] = "Point";
    LightType2[LightType2["Spot"] = 1] = "Spot";
    LightType2[LightType2["Sun"] = 2] = "Sun";
  })(LightType || (LightType = {}));
  var AnimationState;
  (function(AnimationState2) {
    AnimationState2[AnimationState2["Playing"] = 0] = "Playing";
    AnimationState2[AnimationState2["Paused"] = 1] = "Paused";
    AnimationState2[AnimationState2["Stopped"] = 2] = "Stopped";
  })(AnimationState || (AnimationState = {}));
  var ForceMode;
  (function(ForceMode2) {
    ForceMode2[ForceMode2["Force"] = 0] = "Force";
    ForceMode2[ForceMode2["Impulse"] = 1] = "Impulse";
    ForceMode2[ForceMode2["VelocityChange"] = 2] = "VelocityChange";
    ForceMode2[ForceMode2["Acceleration"] = 3] = "Acceleration";
  })(ForceMode || (ForceMode = {}));
  var CollisionEventType;
  (function(CollisionEventType2) {
    CollisionEventType2[CollisionEventType2["Touch"] = 0] = "Touch";
    CollisionEventType2[CollisionEventType2["TouchLost"] = 1] = "TouchLost";
    CollisionEventType2[CollisionEventType2["TriggerTouch"] = 2] = "TriggerTouch";
    CollisionEventType2[CollisionEventType2["TriggerTouchLost"] = 3] = "TriggerTouchLost";
  })(CollisionEventType || (CollisionEventType = {}));
  var Shape;
  (function(Shape2) {
    Shape2[Shape2["None"] = 0] = "None";
    Shape2[Shape2["Sphere"] = 1] = "Sphere";
    Shape2[Shape2["Capsule"] = 2] = "Capsule";
    Shape2[Shape2["Box"] = 3] = "Box";
    Shape2[Shape2["Plane"] = 4] = "Plane";
    Shape2[Shape2["ConvexMesh"] = 5] = "ConvexMesh";
    Shape2[Shape2["TriangleMesh"] = 6] = "TriangleMesh";
  })(Shape || (Shape = {}));
  var MeshAttribute;
  (function(MeshAttribute2) {
    MeshAttribute2[MeshAttribute2["Position"] = 0] = "Position";
    MeshAttribute2[MeshAttribute2["Tangent"] = 1] = "Tangent";
    MeshAttribute2[MeshAttribute2["Normal"] = 2] = "Normal";
    MeshAttribute2[MeshAttribute2["TextureCoordinate"] = 3] = "TextureCoordinate";
    MeshAttribute2[MeshAttribute2["Color"] = 4] = "Color";
    MeshAttribute2[MeshAttribute2["JointId"] = 5] = "JointId";
    MeshAttribute2[MeshAttribute2["JointWeight"] = 6] = "JointWeight";
  })(MeshAttribute || (MeshAttribute = {}));
  var MaterialParamType;
  (function(MaterialParamType2) {
    MaterialParamType2[MaterialParamType2["UnsignedInt"] = 0] = "UnsignedInt";
    MaterialParamType2[MaterialParamType2["Int"] = 1] = "Int";
    MaterialParamType2[MaterialParamType2["Float"] = 2] = "Float";
    MaterialParamType2[MaterialParamType2["Sampler"] = 3] = "Sampler";
    MaterialParamType2[MaterialParamType2["Font"] = 4] = "Font";
  })(MaterialParamType || (MaterialParamType = {}));
  function createDestroyedProxy(type) {
    return new Proxy({}, {
      get(_, param) {
        if (param === "isDestroyed")
          return true;
        throw new Error(`Canno't read '${param}' of destroyed ${type}`);
      },
      set(_, param) {
        throw new Error(`Canno't write '${param}' of destroyed ${type}`);
      }
    });
  }
  var DestroyedObjectInstance = createDestroyedProxy("object");
  var DestroyedComponentInstance = createDestroyedProxy("component");
  var DestroyedTextureInstance = createDestroyedProxy("texture");
  function isMeshShape(shape) {
    return shape === Shape.ConvexMesh || shape === Shape.TriangleMesh;
  }
  function isBaseComponentClass(value) {
    return !!value && value.hasOwnProperty("_isBaseComponent") && value._isBaseComponent;
  }
  var SQRT_3 = Math.sqrt(3);
  var Component = class {
    /**
     * Allows to inherit properties directly inside the editor.
     *
     * @note Do not use directly, prefer using {@link inheritProperties}.
     *
     * @hidden
     */
    static _inheritProperties() {
      inheritProperties(this);
    }
    /** Manager index. @hidden */
    _manager;
    /** Instance index. @hidden */
    _id;
    /**
     * Object containing this object.
     *
     * **Note**: This is cached for faster retrieval.
     *
     * @hidden
     */
    _object;
    /** Wonderland Engine instance. @hidden */
    _engine;
    /**
     * Create a new instance
     *
     * @param engine The engine instance.
     * @param manager Index of the manager.
     * @param id WASM component instance index.
     *
     * @hidden
     */
    constructor(engine, manager = -1, id = -1) {
      this._engine = engine;
      this._manager = manager;
      this._id = id;
      this._object = null;
    }
    /** Hosting engine instance. */
    get engine() {
      return this._engine;
    }
    /** The name of this component's type */
    get type() {
      const ctor = this.constructor;
      return ctor.TypeName ?? this._engine.wasm._typeNameFor(this._manager);
    }
    /** The object this component is attached to. */
    get object() {
      if (!this._object) {
        const objectId = this._engine.wasm._wl_component_get_object(this._manager, this._id);
        this._object = this._engine.wrapObject(objectId);
      }
      return this._object;
    }
    /**
     * Set whether this component is active.
     *
     * Activating/deactivating a component comes at a small cost of reordering
     * components in the respective component manager. This function therefore
     * is not a trivial assignment.
     *
     * Does nothing if the component is already activated/deactivated.
     *
     * @param active New active state.
     */
    set active(active) {
      this._engine.wasm._wl_component_setActive(this._manager, this._id, active);
    }
    /**
     * Whether this component is active
     */
    get active() {
      return this._engine.wasm._wl_component_isActive(this._manager, this._id) != 0;
    }
    /**
     * Remove this component from its objects and destroy it.
     *
     * It is best practice to set the component to `null` after,
     * to ensure it does not get used later.
     *
     * ```js
     *    c.destroy();
     *    c = null;
     * ```
     * @since 0.9.0
     */
    destroy() {
      const manager = this._manager;
      if (manager < 0 || this._id < 0)
        return;
      const jsManager = this.engine.wasm._jsManagerIndex;
      this._engine.wasm._wl_component_remove(manager, this._id);
      if (manager !== jsManager)
        this._triggerOnDestroy();
    }
    /**
     * Checks equality by comparing whether the wrapped native component ids
     * and component manager types are equal.
     *
     * @param otherComponent Component to check equality with.
     * @returns Whether this component equals the given component.
     */
    equals(otherComponent) {
      if (!otherComponent)
        return false;
      return this._manager == otherComponent._manager && this._id == otherComponent._id;
    }
    /**
     * Reset the component properties to default.
     *
     * @note This is automatically called during the component instantiation.
     *
     * @returns Reference to self (for method chaining).
     */
    resetProperties() {
      const ctor = this.constructor;
      const properties = ctor.Properties;
      if (!properties)
        return this;
      for (const name in properties) {
        this[name] = properties[name].default;
      }
      return this;
    }
    /** @deprecated Use {@link Component.resetProperties} instead. */
    reset() {
      return this.resetProperties();
    }
    /**
     * Validate the properties on this instance.
     *
     * @throws If any of the required properties isn't initialized
     * on this instance.
     */
    validateProperties() {
      const ctor = this.constructor;
      if (!ctor.Properties)
        return;
      for (const name in ctor.Properties) {
        if (!ctor.Properties[name].required)
          continue;
        if (!this[name]) {
          throw new Error(`Property '${name}' is required but was not initialized`);
        }
      }
    }
    /**
     * `true` if the component is destroyed, `false` otherwise.
     *
     * If {@link WonderlandEngine.erasePrototypeOnDestroy} is `true`,
     * reading a custom property will not work:
     *
     * ```js
     * engine.erasePrototypeOnDestroy = true;
     *
     * const comp = obj.addComponent('mesh');
     * comp.customParam = 'Hello World!';
     *
     * console.log(comp.isDestroyed); // Prints `false`
     * comp.destroy();
     * console.log(comp.isDestroyed); // Prints `true`
     * console.log(comp.customParam); // Throws an error
     * ```
     *
     * @since 1.1.1
     */
    get isDestroyed() {
      return this._id < 0;
    }
    /**
     * Trigger the component {@link Component.init} method.
     *
     * @note Use this method instead of directly calling {@link Component.init},
     * because this method creates an handler for the {@link Component.start}.
     *
     * @note This api is meant to be used internally.
     *
     * @hidden
     */
    _triggerInit() {
      if (this.init) {
        try {
          this.init();
        } catch (e) {
          console.error(`Exception during ${this.type} init() on object ${this.object.name}`);
          console.error(e);
        }
      }
      const oldActivate = this.onActivate;
      this.onActivate = function() {
        this.onActivate = oldActivate;
        let failed = false;
        try {
          this.validateProperties();
        } catch (e) {
          console.error(`Exception during ${this.type} validateProperties() on object ${this.object.name}`);
          console.error(e);
          failed = true;
        }
        try {
          this.start?.();
        } catch (e) {
          console.error(`Exception during ${this.type} start() on object ${this.object.name}`);
          console.error(e);
          failed = true;
        }
        if (failed) {
          this.active = false;
          return;
        }
        if (!this.onActivate)
          return;
        try {
          this.onActivate();
        } catch (e) {
          console.error(`Exception during ${this.type} onActivate() on object ${this.object.name}`);
          console.error(e);
        }
      };
    }
    /**
     * Trigger the component {@link Component.update} method.
     *
     * @note This api is meant to be used internally.
     *
     * @hidden
     */
    _triggerUpdate(dt) {
      if (!this.update)
        return;
      try {
        this.update(dt);
      } catch (e) {
        console.error(`Exception during ${this.type} update() on object ${this.object.name}`);
        console.error(e);
        if (this._engine.wasm._deactivate_component_on_error) {
          this.active = false;
        }
      }
    }
    /**
     * Trigger the component {@link Component.onActivate} method.
     *
     * @note This api is meant to be used internally.
     *
     * @hidden
     */
    _triggerOnActivate() {
      if (!this.onActivate)
        return;
      try {
        this.onActivate();
      } catch (e) {
        console.error(`Exception during ${this.type} onActivate() on object ${this.object.name}`);
        console.error(e);
      }
    }
    /**
     * Trigger the component {@link Component.onDeactivate} method.
     *
     * @note This api is meant to be used internally.
     *
     * @hidden
     */
    _triggerOnDeactivate() {
      if (!this.onDeactivate)
        return;
      try {
        this.onDeactivate();
      } catch (e) {
        console.error(`Exception during ${this.type} onDeactivate() on object ${this.object.name}`);
        console.error(e);
      }
    }
    /**
     * Trigger the component {@link Component.onDestroy} method.
     *
     * @note This api is meant to be used internally.
     *
     * @hidden
     */
    _triggerOnDestroy() {
      try {
        if (this.onDestroy)
          this.onDestroy();
      } catch (e) {
        console.error(`Exception during ${this.type} onDestroy() on object ${this.object.name}`);
        console.error(e);
      }
      this._engine._destroyComponent(this);
    }
  };
  /**
   * `true` for every class inheriting from this class.
   *
   * @note This is a workaround for `instanceof` to prevent issues
   * that could arise when an application ends up using multiple API versions.
   *
   * @hidden
   */
  __publicField(Component, "_isBaseComponent", true);
  /**
   * Unique identifier for this component class.
   *
   * This is used to register, add, and retrieve components of a given type.
   */
  __publicField(Component, "TypeName");
  /**
   * Properties of this component class.
   *
   * Properties are public attributes that can be configured via the
   * Wonderland Editor.
   *
   * Example:
   *
   * ```js
   * import { Component, Type } from '@wonderlandengine/api';
   * class MyComponent extends Component {
   *     static TypeName = 'my-component';
   *     static Properties = {
   *         myBoolean: { type: Type.Boolean, default: false },
   *         myFloat: { type: Type.Float, default: false },
   *         myTexture: { type: Type.Texture, default: null },
   *     };
   * }
   * ```
   *
   * Properties are automatically added to each component instance, and are
   * accessible like any JS attribute:
   *
   * ```js
   * // Creates a new component and set each properties value:
   * const myComponent = object.addComponent(MyComponent, {
   *     myBoolean: true,
   *     myFloat: 42.0,
   *     myTexture: null
   * });
   *
   * // You can also override the properties on the instance:
   * myComponent.myBoolean = false;
   * myComponent.myFloat = -42.0;
   * ```
   *
   * #### References
   *
   * Reference types (i.e., mesh, object, etc...) can also be listed as **required**:
   *
   * ```js
   * import {Component, Property} from '@wonderlandengine/api';
   *
   * class MyComponent extends Component {
   *     static Properties = {
   *         myObject: Property.object({required: true}),
   *         myAnimation: Property.animation({required: true}),
   *         myTexture: Property.texture({required: true}),
   *         myMesh: Property.mesh({required: true}),
   *     }
   * }
   * ```
   *
   * Please note that references are validated **once** before the call to {@link Component.start} only,
   * via the {@link Component.validateProperties} method.
   */
  __publicField(Component, "Properties");
  /**
   * When set to `true`, the child class inherits from the parent
   * properties, as shown in the following example:
   *
   * ```js
   * import {Component, Property} from '@wonderlandengine/api';
   *
   * class Parent extends Component {
   *     static TypeName = 'parent';
   *     static Properties = {parentName: Property.string('parent')}
   * }
   *
   * class Child extends Parent {
   *     static TypeName = 'child';
   *     static Properties = {name: Property.string('child')}
   *     static InheritProperties = true;
   *
   *     start() {
   *         // Works because `InheritProperties` is `true`.
   *         console.log(`${this.name} inherits from ${this.parentName}`);
   *     }
   * }
   * ```
   *
   * @note Properties defined in descendant classes will override properties
   * with the same name defined in ancestor classes.
   *
   * Defaults to `true`.
   */
  __publicField(Component, "InheritProperties");
  /**
   * Called when this component class is registered.
   *
   * @example
   *
   * This callback can be used to register dependencies of a component,
   * e.g., component classes that need to be registered in order to add
   * them at runtime with {@link Object3D.addComponent}, independent of whether
   * they are used in the editor.
   *
   * ```js
   * class Spawner extends Component {
   *     static TypeName = 'spawner';
   *
   *     static onRegister(engine) {
   *         engine.registerComponent(SpawnedComponent);
   *     }
   *
   *     // You can now use addComponent with SpawnedComponent
   * }
   * ```
   *
   * @example
   *
   * This callback can be used to register different implementations of a
   * component depending on client features or API versions.
   *
   * ```js
   * // Properties need to be the same for all implementations!
   * const SharedProperties = {};
   *
   * class Anchor extends Component {
   *     static TypeName = 'spawner';
   *     static Properties = SharedProperties;
   *
   *     static onRegister(engine) {
   *         if(navigator.xr === undefined) {
   *             /* WebXR unsupported, keep this dummy component *\/
   *             return;
   *         }
   *         /* WebXR supported! Override already registered dummy implementation
   *          * with one depending on hit-test API support *\/
   *         engine.registerComponent(window.HitTestSource === undefined ?
   *             AnchorWithoutHitTest : AnchorWithHitTest);
   *     }
   *
   *     // This one implements no functions
   * }
   * ```
   */
  __publicField(Component, "onRegister");
  function inheritProperties(target) {
    if (!target.TypeName)
      return;
    const chain = [];
    let curr = target;
    while (curr && !isBaseComponentClass(curr)) {
      const comp = curr;
      const needsMerge = comp.hasOwnProperty("InheritProperties") ? comp.InheritProperties : true;
      if (!needsMerge)
        break;
      if (comp.TypeName && comp.hasOwnProperty("Properties")) {
        chain.push(comp.Properties);
      }
      curr = Object.getPrototypeOf(curr);
    }
    if (chain.length <= 1)
      return;
    const merged = {};
    for (let i = chain.length - 1; i >= 0; --i) {
      Object.assign(merged, chain[i]);
    }
    target.Properties = merged;
  }
  var _CollisionComponent = class extends Component {
    /** Collision component collider */
    get collider() {
      return this._engine.wasm._wl_collision_component_get_collider(this._id);
    }
    /**
     * Set collision component collider.
     *
     * @param collider Collider of the collision component.
     */
    set collider(collider) {
      this._engine.wasm._wl_collision_component_set_collider(this._id, collider);
    }
    /**
     * Collision component extents.
     *
     * If {@link collider} returns {@link Collider.Sphere}, only the first
     * component of the returned vector is used.
     */
    get extents() {
      const wasm = this._engine.wasm;
      return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_collision_component_get_extents(this._id), 3);
    }
    /**
     * Set collision component extents.
     *
     * If {@link collider} returns {@link Collider.Sphere}, only the first
     * component of the passed vector is used.
     *
     * Example:
     *
     * ```js
     * // Spans 1 unit on the x-axis, 2 on the y-axis, 3 on the z-axis.
     * collision.extent = [1, 2, 3];
     * ```
     *
     * @param extents Extents of the collision component, expects a
     *      3 component array.
     */
    set extents(extents) {
      this.extents.set(extents);
    }
    /**
     * Get collision component radius.
     *
     * @note If {@link collider} is not {@link Collider.Sphere}, the returned value
     * corresponds to the radius of a sphere enclosing the shape.
     *
     * Example:
     * ```js
     * sphere.radius = 3.0;
     * console.log(sphere.radius); // 3.0
     *
     * box.extents = [2.0, 2.0, 2.0];
     * console.log(box.radius); // 1.732...
     * ```
     *
     */
    get radius() {
      const wasm = this._engine.wasm;
      if (this.collider === Collider.Sphere)
        return wasm.HEAPF32[wasm._wl_collision_component_get_extents(this._id) >> 2];
      const extents = new Float32Array(wasm.HEAPF32.buffer, wasm._wl_collision_component_get_extents(this._id), 3);
      const x2 = extents[0] * extents[0];
      const y2 = extents[1] * extents[1];
      const z2 = extents[2] * extents[2];
      return Math.sqrt(x2 + y2 + z2) / 2;
    }
    /**
     * Set collision component radius.
     *
     * @param radius Radius of the collision component
     *
     * @note If {@link collider} is not {@link Collider.Sphere},
     * the extents are set to form a square that fits a sphere with the provided radius.
     *
     * Example:
     * ```js
     * aabbCollision.radius = 2.0; // AABB fits a sphere of radius 2.0
     * boxCollision.radius = 3.0; // Box now fits a sphere of radius 3.0, keeping orientation
     * ```
     *
     */
    set radius(radius) {
      const length5 = this.collider === Collider.Sphere ? radius : 2 * radius / SQRT_3;
      this.extents.set([length5, length5, length5]);
    }
    /**
     * Collision component group.
     *
     * The groups is a bitmask that is compared to other components in {@link CollisionComponent#queryOverlaps}
     * or the group in {@link Scene#rayCast}.
     *
     * Colliders that have no common groups will not overlap with each other. If a collider
     * has none of the groups set for {@link Scene#rayCast}, the ray will not hit it.
     *
     * Each bit represents belonging to a group, see example.
     *
     * ```js
     *    // c belongs to group 2
     *    c.group = (1 << 2);
     *
     *    // c belongs to group 0
     *    c.group = (1 << 0);
     *
     *    // c belongs to group 0 *and* 2
     *    c.group = (1 << 0) | (1 << 2);
     *
     *    (c.group & (1 << 2)) != 0; // true
     *    (c.group & (1 << 7)) != 0; // false
     * ```
     */
    get group() {
      return this._engine.wasm._wl_collision_component_get_group(this._id);
    }
    /**
     * Set collision component group.
     *
     * @param group Group mask of the collision component.
     */
    set group(group) {
      this._engine.wasm._wl_collision_component_set_group(this._id, group);
    }
    /**
     * Query overlapping objects.
     *
     * Usage:
     *
     * ```js
     * const collision = object.getComponent('collision');
     * const overlaps = collision.queryOverlaps();
     * for(const otherCollision of overlaps) {
     *     const otherObject = otherCollision.object;
     *     console.log(`Collision with object ${otherObject.objectId}`);
     * }
     * ```
     *
     * @returns Collision components overlapping this collider.
     */
    queryOverlaps() {
      const count = this._engine.wasm._wl_collision_component_query_overlaps(this._id, this._engine.wasm._tempMem, this._engine.wasm._tempMemSize >> 1);
      const overlaps = new Array(count);
      for (let i = 0; i < count; ++i) {
        overlaps[i] = new _CollisionComponent(this._engine, this._manager, this._engine.wasm._tempMemUint16[i]);
      }
      return overlaps;
    }
  };
  var CollisionComponent = _CollisionComponent;
  /** @override */
  __publicField(CollisionComponent, "TypeName", "collision");
  __decorate([
    nativeProperty()
  ], CollisionComponent.prototype, "collider", null);
  __decorate([
    nativeProperty()
  ], CollisionComponent.prototype, "extents", null);
  __decorate([
    nativeProperty()
  ], CollisionComponent.prototype, "group", null);
  var TextComponent = class extends Component {
    /** Text component alignment. */
    get alignment() {
      return this._engine.wasm._wl_text_component_get_horizontal_alignment(this._id);
    }
    /**
     * Set text component alignment.
     *
     * @param alignment Alignment for the text component.
     */
    set alignment(alignment) {
      this._engine.wasm._wl_text_component_set_horizontal_alignment(this._id, alignment);
    }
    /** Text component justification. */
    get justification() {
      return this._engine.wasm._wl_text_component_get_vertical_alignment(this._id);
    }
    /**
     * Set text component justification.
     *
     * @param justification Justification for the text component.
     */
    set justification(justification) {
      this._engine.wasm._wl_text_component_set_vertical_alignment(this._id, justification);
    }
    /** Text component character spacing. */
    get characterSpacing() {
      return this._engine.wasm._wl_text_component_get_character_spacing(this._id);
    }
    /**
     * Set text component character spacing.
     *
     * @param spacing Character spacing for the text component.
     */
    set characterSpacing(spacing) {
      this._engine.wasm._wl_text_component_set_character_spacing(this._id, spacing);
    }
    /** Text component line spacing. */
    get lineSpacing() {
      return this._engine.wasm._wl_text_component_get_line_spacing(this._id);
    }
    /**
     * Set text component line spacing
     *
     * @param spacing Line spacing for the text component
     */
    set lineSpacing(spacing) {
      this._engine.wasm._wl_text_component_set_line_spacing(this._id, spacing);
    }
    /** Text component effect. */
    get effect() {
      return this._engine.wasm._wl_text_component_get_effect(this._id);
    }
    /**
     * Set text component effect
     *
     * @param effect Effect for the text component
     */
    set effect(effect) {
      this._engine.wasm._wl_text_component_set_effect(this._id, effect);
    }
    /** Text component text. */
    get text() {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_text_component_get_text(this._id);
      return wasm.UTF8ToString(ptr);
    }
    /**
     * Set text component text.
     *
     * @param text Text of the text component.
     */
    set text(text) {
      const wasm = this._engine.wasm;
      wasm._wl_text_component_set_text(this._id, wasm.tempUTF8(text.toString()));
    }
    /**
     * Set material to render the text with.
     *
     * @param material New material.
     */
    set material(material) {
      const matIndex = material ? material._index : 0;
      this._engine.wasm._wl_text_component_set_material(this._id, matIndex);
    }
    /** Material used to render the text. */
    get material() {
      const id = this._engine.wasm._wl_text_component_get_material(this._id);
      return id > 0 ? new Material(this._engine, id) : null;
    }
  };
  /** @override */
  __publicField(TextComponent, "TypeName", "text");
  __decorate([
    nativeProperty()
  ], TextComponent.prototype, "alignment", null);
  __decorate([
    nativeProperty()
  ], TextComponent.prototype, "justification", null);
  __decorate([
    nativeProperty()
  ], TextComponent.prototype, "characterSpacing", null);
  __decorate([
    nativeProperty()
  ], TextComponent.prototype, "lineSpacing", null);
  __decorate([
    nativeProperty()
  ], TextComponent.prototype, "effect", null);
  __decorate([
    nativeProperty()
  ], TextComponent.prototype, "text", null);
  __decorate([
    nativeProperty()
  ], TextComponent.prototype, "material", null);
  var ViewComponent = class extends Component {
    /** Projection matrix. */
    get projectionMatrix() {
      const wasm = this._engine.wasm;
      return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_view_component_get_projection_matrix(this._id), 16);
    }
    /** ViewComponent near clipping plane value. */
    get near() {
      return this._engine.wasm._wl_view_component_get_near(this._id);
    }
    /**
     * Set near clipping plane distance for the view.
     *
     * If an XR session is active, the change will apply in the
     * following frame, otherwise the change is immediate.
     *
     * @param near Near depth value.
     */
    set near(near) {
      this._engine.wasm._wl_view_component_set_near(this._id, near);
    }
    /** Far clipping plane value. */
    get far() {
      return this._engine.wasm._wl_view_component_get_far(this._id);
    }
    /**
     * Set far clipping plane distance for the view.
     *
     * If an XR session is active, the change will apply in the
     * following frame, otherwise the change is immediate.
     *
     * @param far Near depth value.
     */
    set far(far) {
      this._engine.wasm._wl_view_component_set_far(this._id, far);
    }
    /**
     * Get the horizontal field of view for the view, **in degrees**.
     *
     * If an XR session is active, this returns the field of view reported by
     * the device, regardless of the fov that was set.
     */
    get fov() {
      return this._engine.wasm._wl_view_component_get_fov(this._id);
    }
    /**
     * Set the horizontal field of view for the view, **in degrees**.
     *
     * If an XR session is active, the field of view reported by the device is
     * used and this value is ignored. After the XR session ends, the new value
     * is applied.
     *
     * @param fov Horizontal field of view, **in degrees**.
     */
    set fov(fov) {
      this._engine.wasm._wl_view_component_set_fov(this._id, fov);
    }
  };
  /** @override */
  __publicField(ViewComponent, "TypeName", "view");
  __decorate([
    enumerable()
  ], ViewComponent.prototype, "projectionMatrix", null);
  __decorate([
    nativeProperty()
  ], ViewComponent.prototype, "near", null);
  __decorate([
    nativeProperty()
  ], ViewComponent.prototype, "far", null);
  __decorate([
    nativeProperty()
  ], ViewComponent.prototype, "fov", null);
  var InputComponent = class extends Component {
    /** Input component type */
    get inputType() {
      return this._engine.wasm._wl_input_component_get_type(this._id);
    }
    /**
     * Set input component type.
     *
     * @params New input component type.
     */
    set inputType(type) {
      this._engine.wasm._wl_input_component_set_type(this._id, type);
    }
    /**
     * WebXR Device API input source associated with this input component,
     * if type {@link InputType.ControllerLeft} or {@link InputType.ControllerRight}.
     */
    get xrInputSource() {
      const xrSession = this._engine.xrSession;
      if (xrSession) {
        for (let inputSource of xrSession.inputSources) {
          if (inputSource.handedness == this.handedness) {
            return inputSource;
          }
        }
      }
      return null;
    }
    /**
     * 'left', 'right' or `null` depending on the {@link InputComponent#inputType}.
     */
    get handedness() {
      const inputType = this.inputType;
      if (inputType == InputType.ControllerRight || inputType == InputType.RayRight || inputType == InputType.EyeRight)
        return "right";
      if (inputType == InputType.ControllerLeft || inputType == InputType.RayLeft || inputType == InputType.EyeLeft)
        return "left";
      return null;
    }
  };
  /** @override */
  __publicField(InputComponent, "TypeName", "input");
  __decorate([
    nativeProperty()
  ], InputComponent.prototype, "inputType", null);
  __decorate([
    enumerable()
  ], InputComponent.prototype, "xrInputSource", null);
  __decorate([
    enumerable()
  ], InputComponent.prototype, "handedness", null);
  var LightComponent = class extends Component {
    getColor(out = new Float32Array(3)) {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_light_component_get_color(this._id) / 4;
      out[0] = wasm.HEAPF32[ptr];
      out[1] = wasm.HEAPF32[ptr + 1];
      out[2] = wasm.HEAPF32[ptr + 2];
      return out;
    }
    /**
     * Set light color.
     *
     * @param c New color array/vector, expected to have at least 3 elements.
     * @since 1.0.0
     */
    setColor(c) {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_light_component_get_color(this._id) / 4;
      wasm.HEAPF32[ptr] = c[0];
      wasm.HEAPF32[ptr + 1] = c[1];
      wasm.HEAPF32[ptr + 2] = c[2];
    }
    /**
     * View on the light color.
     *
     * @note Prefer to use {@link getColor} in performance-critical code.
     */
    get color() {
      const wasm = this._engine.wasm;
      return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_light_component_get_color(this._id), 3);
    }
    /**
     * Set light color.
     *
     * @param c Color of the light component.
     *
     * @note Prefer to use {@link setColor} in performance-critical code.
     */
    set color(c) {
      this.color.set(c);
    }
    /** Light type. */
    get lightType() {
      return this._engine.wasm._wl_light_component_get_type(this._id);
    }
    /**
     * Set light type.
     *
     * @param lightType Type of the light component.
     */
    set lightType(t) {
      this._engine.wasm._wl_light_component_set_type(this._id, t);
    }
    /**
     * Light intensity.
     * @since 1.0.0
     */
    get intensity() {
      return this._engine.wasm._wl_light_component_get_intensity(this._id);
    }
    /**
     * Set light intensity.
     *
     * @param intensity Intensity of the light component.
     * @since 1.0.0
     */
    set intensity(intensity) {
      this._engine.wasm._wl_light_component_set_intensity(this._id, intensity);
    }
    /**
     * Outer angle for spot lights, in degrees.
     * @since 1.0.0
     */
    get outerAngle() {
      return this._engine.wasm._wl_light_component_get_outerAngle(this._id);
    }
    /**
     * Set outer angle for spot lights.
     *
     * @param angle Outer angle, in degrees.
     * @since 1.0.0
     */
    set outerAngle(angle2) {
      this._engine.wasm._wl_light_component_set_outerAngle(this._id, angle2);
    }
    /**
     * Inner angle for spot lights, in degrees.
     * @since 1.0.0
     */
    get innerAngle() {
      return this._engine.wasm._wl_light_component_get_innerAngle(this._id);
    }
    /**
     * Set inner angle for spot lights.
     *
     * @param angle Inner angle, in degrees.
     * @since 1.0.0
     */
    set innerAngle(angle2) {
      this._engine.wasm._wl_light_component_set_innerAngle(this._id, angle2);
    }
    /**
     * Whether the light casts shadows.
     * @since 1.0.0
     */
    get shadows() {
      return !!this._engine.wasm._wl_light_component_get_shadows(this._id);
    }
    /**
     * Set whether the light casts shadows.
     *
     * @param b Whether the light casts shadows.
     * @since 1.0.0
     */
    set shadows(b) {
      this._engine.wasm._wl_light_component_set_shadows(this._id, b);
    }
    /**
     * Range for shadows.
     * @since 1.0.0
     */
    get shadowRange() {
      return this._engine.wasm._wl_light_component_get_shadowRange(this._id);
    }
    /**
     * Set range for shadows.
     *
     * @param range Range for shadows.
     * @since 1.0.0
     */
    set shadowRange(range) {
      this._engine.wasm._wl_light_component_set_shadowRange(this._id, range);
    }
    /**
     * Bias value for shadows.
     * @since 1.0.0
     */
    get shadowBias() {
      return this._engine.wasm._wl_light_component_get_shadowBias(this._id);
    }
    /**
     * Set bias value for shadows.
     *
     * @param bias Bias for shadows.
     * @since 1.0.0
     */
    set shadowBias(bias) {
      this._engine.wasm._wl_light_component_set_shadowBias(this._id, bias);
    }
    /**
     * Normal bias value for shadows.
     * @since 1.0.0
     */
    get shadowNormalBias() {
      return this._engine.wasm._wl_light_component_get_shadowNormalBias(this._id);
    }
    /**
     * Set normal bias value for shadows.
     *
     * @param bias Normal bias for shadows.
     * @since 1.0.0
     */
    set shadowNormalBias(bias) {
      this._engine.wasm._wl_light_component_set_shadowNormalBias(this._id, bias);
    }
    /**
     * Texel size for shadows.
     * @since 1.0.0
     */
    get shadowTexelSize() {
      return this._engine.wasm._wl_light_component_get_shadowTexelSize(this._id);
    }
    /**
     * Set texel size for shadows.
     *
     * @param size Texel size for shadows.
     * @since 1.0.0
     */
    set shadowTexelSize(size) {
      this._engine.wasm._wl_light_component_set_shadowTexelSize(this._id, size);
    }
    /**
     * Cascade count for {@link LightType.Sun} shadows.
     * @since 1.0.0
     */
    get cascadeCount() {
      return this._engine.wasm._wl_light_component_get_cascadeCount(this._id);
    }
    /**
     * Set cascade count for {@link LightType.Sun} shadows.
     *
     * @param count Cascade count.
     * @since 1.0.0
     */
    set cascadeCount(count) {
      this._engine.wasm._wl_light_component_set_cascadeCount(this._id, count);
    }
  };
  /** @override */
  __publicField(LightComponent, "TypeName", "light");
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "color", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "lightType", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "intensity", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "outerAngle", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "innerAngle", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "shadows", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "shadowRange", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "shadowBias", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "shadowNormalBias", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "shadowTexelSize", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "cascadeCount", null);
  var AnimationComponent = class extends Component {
    /**
     * Set animation to play.
     *
     * Make sure to {@link Animation#retarget} the animation to affect the
     * right objects.
     *
     * @param anim Animation to play.
     */
    set animation(anim) {
      this._engine.wasm._wl_animation_component_set_animation(this._id, anim ? anim._index : 0);
    }
    /** Animation set for this component */
    get animation() {
      const id = this._engine.wasm._wl_animation_component_get_animation(this._id);
      return id > 0 ? new Animation(this._engine, id) : null;
    }
    /**
     * Set play count. Set to `0` to loop indefinitely.
     *
     * @param playCount Number of times to repeat the animation.
     */
    set playCount(playCount) {
      this._engine.wasm._wl_animation_component_set_playCount(this._id, playCount);
    }
    /** Number of times the animation is played. */
    get playCount() {
      return this._engine.wasm._wl_animation_component_get_playCount(this._id);
    }
    /**
     * Set speed. Set to negative values to run the animation backwards.
     *
     * Setting speed has an immediate effect for the current frame's update
     * and will continue with the speed from the current point in the animation.
     *
     * @param speed New speed at which to play the animation.
     * @since 0.8.10
     */
    set speed(speed) {
      this._engine.wasm._wl_animation_component_set_speed(this._id, speed);
    }
    /**
     * Speed factor at which the animation is played.
     *
     * @since 0.8.10
     */
    get speed() {
      return this._engine.wasm._wl_animation_component_get_speed(this._id);
    }
    /** Current playing state of the animation */
    get state() {
      return this._engine.wasm._wl_animation_component_state(this._id);
    }
    /**
     * Play animation.
     *
     * If the animation is currently paused, resumes from that position. If the
     * animation is already playing, does nothing.
     *
     * To restart the animation, {@link AnimationComponent#stop} it first.
     */
    play() {
      this._engine.wasm._wl_animation_component_play(this._id);
    }
    /** Stop animation. */
    stop() {
      this._engine.wasm._wl_animation_component_stop(this._id);
    }
    /** Pause animation. */
    pause() {
      this._engine.wasm._wl_animation_component_pause(this._id);
    }
  };
  /** @override */
  __publicField(AnimationComponent, "TypeName", "animation");
  __decorate([
    nativeProperty()
  ], AnimationComponent.prototype, "animation", null);
  __decorate([
    nativeProperty()
  ], AnimationComponent.prototype, "playCount", null);
  __decorate([
    nativeProperty()
  ], AnimationComponent.prototype, "speed", null);
  __decorate([
    enumerable()
  ], AnimationComponent.prototype, "state", null);
  var MeshComponent = class extends Component {
    /**
     * Set material to render the mesh with.
     *
     * @param material Material to render the mesh with.
     */
    set material(material) {
      this._engine.wasm._wl_mesh_component_set_material(this._id, material ? material._index : 0);
    }
    /** Material used to render the mesh. */
    get material() {
      const id = this._engine.wasm._wl_mesh_component_get_material(this._id);
      return id > 0 ? new Material(this._engine, id) : null;
    }
    /** Mesh rendered by this component. */
    get mesh() {
      const id = this._engine.wasm._wl_mesh_component_get_mesh(this._id);
      return id > 0 ? new Mesh(this._engine, id) : null;
    }
    /**
     * Set mesh to rendered with this component.
     *
     * @param mesh Mesh rendered by this component.
     */
    set mesh(mesh) {
      this._engine.wasm._wl_mesh_component_set_mesh(this._id, mesh ? mesh._index : 0);
    }
    /** Skin for this mesh component. */
    get skin() {
      const id = this._engine.wasm._wl_mesh_component_get_skin(this._id);
      return id > 0 ? new Skin(this._engine, id) : null;
    }
    /**
     * Set skin to transform this mesh component.
     *
     * @param skin Skin to use for rendering skinned meshes.
     */
    set skin(skin) {
      this._engine.wasm._wl_mesh_component_set_skin(this._id, skin ? skin._index : 0);
    }
  };
  /** @override */
  __publicField(MeshComponent, "TypeName", "mesh");
  __decorate([
    nativeProperty()
  ], MeshComponent.prototype, "material", null);
  __decorate([
    nativeProperty()
  ], MeshComponent.prototype, "mesh", null);
  __decorate([
    nativeProperty()
  ], MeshComponent.prototype, "skin", null);
  var LockAxis;
  (function(LockAxis2) {
    LockAxis2[LockAxis2["None"] = 0] = "None";
    LockAxis2[LockAxis2["X"] = 1] = "X";
    LockAxis2[LockAxis2["Y"] = 2] = "Y";
    LockAxis2[LockAxis2["Z"] = 4] = "Z";
  })(LockAxis || (LockAxis = {}));
  var PhysXComponent = class extends Component {
    getTranslationOffset(out = new Float32Array(3)) {
      const wasm = this._engine.wasm;
      wasm._wl_physx_component_get_offsetTranslation(this._id, wasm._tempMem);
      out[0] = wasm._tempMemFloat[0];
      out[1] = wasm._tempMemFloat[1];
      out[2] = wasm._tempMemFloat[2];
      return out;
    }
    getRotationOffset(out = new Float32Array(4)) {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_physx_component_get_offsetTransform(this._id) >> 2;
      out[0] = wasm.HEAPF32[ptr];
      out[1] = wasm.HEAPF32[ptr + 1];
      out[2] = wasm.HEAPF32[ptr + 2];
      out[3] = wasm.HEAPF32[ptr + 3];
      return out;
    }
    /**
     * Set whether this rigid body is static.
     *
     * Setting this property only takes effect once the component
     * switches from inactive to active.
     *
     * @param b Whether the rigid body should be static.
     */
    set static(b) {
      this._engine.wasm._wl_physx_component_set_static(this._id, b);
    }
    /**
     * Whether this rigid body is static.
     *
     * This property returns whether the rigid body is *effectively*
     * static. If static property was set while the rigid body was
     * active, it will not take effect until the rigid body is set
     * inactive and active again. Until the component is set inactive,
     * this getter will return whether the rigid body is actually
     * static.
     */
    get static() {
      return !!this._engine.wasm._wl_physx_component_get_static(this._id);
    }
    /**
     * Equivalent to {@link PhysXComponent.getTranslationOffset}.
     *
     * Gives a quick view of the offset in a debugger.
     *
     * @note Prefer to use {@link PhysXComponent.getTranslationOffset} for performance.
     *
     * @since 1.1.1
     */
    get translationOffset() {
      return this.getTranslationOffset();
    }
    /**
     * Set the offset translation.
     *
     * The array must be a vector of at least **3** elements.
     *
     * @note The component must be re-activated to apply the change.
     *
     * @since 1.1.1
     */
    set translationOffset(offset2) {
      const wasm = this._engine.wasm;
      wasm._wl_physx_component_set_offsetTranslation(this._id, offset2[0], offset2[1], offset2[2]);
    }
    /**
     * Equivalent to {@link PhysXComponent.getRotationOffset}.
     *
     * Gives a quick view of the offset in a debugger.
     *
     * @note Prefer to use {@link PhysXComponent.getRotationOffset} for performance.
     *
     * @since 1.1.1
     */
    get rotationOffset() {
      return this.getRotationOffset();
    }
    /**
     * Set the offset rotation.
     *
     * The array must be a quaternion of at least **4** elements.
     *
     * @note The component must be re-activated to apply the change.
     *
     * @since 1.1.1
     */
    set rotationOffset(offset2) {
      const wasm = this._engine.wasm;
      wasm._wl_physx_component_set_offsetRotation(this._id, offset2[0], offset2[1], offset2[2], offset2[3]);
    }
    /**
     * Set whether this rigid body is kinematic.
     *
     * @param b Whether the rigid body should be kinematic.
     */
    set kinematic(b) {
      this._engine.wasm._wl_physx_component_set_kinematic(this._id, b);
    }
    /**
     * Whether this rigid body is kinematic.
     */
    get kinematic() {
      return !!this._engine.wasm._wl_physx_component_get_kinematic(this._id);
    }
    /**
     * Set whether this rigid body's gravity is enabled.
     *
     * @param b Whether the rigid body's gravity should be enabled.
     */
    set gravity(b) {
      this._engine.wasm._wl_physx_component_set_gravity(this._id, b);
    }
    /**
     * Whether this rigid body's gravity flag is enabled.
     */
    get gravity() {
      return !!this._engine.wasm._wl_physx_component_get_gravity(this._id);
    }
    /**
     * Set whether this rigid body's simulate flag is enabled.
     *
     * @param b Whether the rigid body's simulate flag should be enabled.
     */
    set simulate(b) {
      this._engine.wasm._wl_physx_component_set_simulate(this._id, b);
    }
    /**
     * Whether this rigid body's simulate flag is enabled.
     */
    get simulate() {
      return !!this._engine.wasm._wl_physx_component_get_simulate(this._id);
    }
    /**
     * Set whether to allow simulation of this rigid body.
     *
     * {@link allowSimulation} and {@link trigger} can not be enabled at the
     * same time. Enabling {@link allowSimulation} while {@link trigger} is enabled
     * will disable {@link trigger}.
     *
     * @param b Whether to allow simulation of this rigid body.
     */
    set allowSimulation(b) {
      this._engine.wasm._wl_physx_component_set_allowSimulation(this._id, b);
    }
    /**
     * Whether to allow simulation of this rigid body.
     */
    get allowSimulation() {
      return !!this._engine.wasm._wl_physx_component_get_allowSimulation(this._id);
    }
    /**
     * Set whether this rigid body may be queried in ray casts.
     *
     * @param b Whether this rigid body may be queried in ray casts.
     */
    set allowQuery(b) {
      this._engine.wasm._wl_physx_component_set_allowQuery(this._id, b);
    }
    /**
     * Whether this rigid body may be queried in ray casts.
     */
    get allowQuery() {
      return !!this._engine.wasm._wl_physx_component_get_allowQuery(this._id);
    }
    /**
     * Set whether this physics body is a trigger.
     *
     * {@link allowSimulation} and {@link trigger} can not be enabled at the
     * same time. Enabling trigger while {@link allowSimulation} is enabled,
     * will disable {@link allowSimulation}.
     *
     * @param b Whether this physics body is a trigger.
     */
    set trigger(b) {
      this._engine.wasm._wl_physx_component_set_trigger(this._id, b);
    }
    /**
     * Whether this physics body is a trigger.
     */
    get trigger() {
      return !!this._engine.wasm._wl_physx_component_get_trigger(this._id);
    }
    /**
     * Set the shape for collision detection.
     *
     * @param s New shape.
     * @since 0.8.5
     */
    set shape(s) {
      this._engine.wasm._wl_physx_component_set_shape(this._id, s);
    }
    /** The shape for collision detection. */
    get shape() {
      return this._engine.wasm._wl_physx_component_get_shape(this._id);
    }
    /**
     * Set additional data for the shape.
     *
     * Retrieved only from {@link PhysXComponent#shapeData}.
     * @since 0.8.10
     */
    set shapeData(d) {
      if (d == null || !isMeshShape(this.shape))
        return;
      this._engine.wasm._wl_physx_component_set_shape_data(this._id, d.index);
    }
    /**
     * Additional data for the shape.
     *
     * `null` for {@link Shape} values: `None`, `Sphere`, `Capsule`, `Box`, `Plane`.
     * `{index: n}` for `TriangleMesh` and `ConvexHull`.
     *
     * This data is currently only for passing onto or creating other {@link PhysXComponent}.
     * @since 0.8.10
     */
    get shapeData() {
      if (!isMeshShape(this.shape))
        return null;
      return {
        index: this._engine.wasm._wl_physx_component_get_shape_data(this._id)
      };
    }
    /**
     * Set the shape extents for collision detection.
     *
     * @param e New extents for the shape.
     * @since 0.8.5
     */
    set extents(e) {
      this.extents.set(e);
    }
    /**
     * The shape extents for collision detection.
     */
    get extents() {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_physx_component_get_extents(this._id);
      return new Float32Array(wasm.HEAPF32.buffer, ptr, 3);
    }
    /**
     * Get staticFriction.
     */
    get staticFriction() {
      return this._engine.wasm._wl_physx_component_get_staticFriction(this._id);
    }
    /**
     * Set staticFriction.
     * @param v New staticFriction.
     */
    set staticFriction(v) {
      this._engine.wasm._wl_physx_component_set_staticFriction(this._id, v);
    }
    /**
     * Get dynamicFriction.
     */
    get dynamicFriction() {
      return this._engine.wasm._wl_physx_component_get_dynamicFriction(this._id);
    }
    /**
     * Set dynamicFriction
     * @param v New dynamicDamping.
     */
    set dynamicFriction(v) {
      this._engine.wasm._wl_physx_component_set_dynamicFriction(this._id, v);
    }
    /**
     * Get bounciness.
     * @since 0.9.0
     */
    get bounciness() {
      return this._engine.wasm._wl_physx_component_get_bounciness(this._id);
    }
    /**
     * Set bounciness.
     * @param v New bounciness.
     * @since 0.9.0
     */
    set bounciness(v) {
      this._engine.wasm._wl_physx_component_set_bounciness(this._id, v);
    }
    /**
     * Get linearDamping/
     */
    get linearDamping() {
      return this._engine.wasm._wl_physx_component_get_linearDamping(this._id);
    }
    /**
     * Set linearDamping.
     * @param v New linearDamping.
     */
    set linearDamping(v) {
      this._engine.wasm._wl_physx_component_set_linearDamping(this._id, v);
    }
    /** Get angularDamping. */
    get angularDamping() {
      return this._engine.wasm._wl_physx_component_get_angularDamping(this._id);
    }
    /**
     * Set angularDamping.
     * @param v New angularDamping.
     */
    set angularDamping(v) {
      this._engine.wasm._wl_physx_component_set_angularDamping(this._id, v);
    }
    /**
     * Set linear velocity.
     *
     * [PhysX Manual - "Velocity"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#velocity)
     *
     * Has no effect, if the component is not active.
     *
     * @param v New linear velocity.
     */
    set linearVelocity(v) {
      this._engine.wasm._wl_physx_component_set_linearVelocity(this._id, v[0], v[1], v[2]);
    }
    /** Linear velocity or `[0, 0, 0]` if the component is not active. */
    get linearVelocity() {
      const wasm = this._engine.wasm;
      wasm._wl_physx_component_get_linearVelocity(this._id, wasm._tempMem);
      return new Float32Array(wasm.HEAPF32.buffer, wasm._tempMem, 3);
    }
    /**
     * Set angular velocity
     *
     * [PhysX Manual - "Velocity"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#velocity)
     *
     * Has no effect, if the component is not active.
     *
     * @param v New angular velocity
     */
    set angularVelocity(v) {
      this._engine.wasm._wl_physx_component_set_angularVelocity(this._id, v[0], v[1], v[2]);
    }
    /** Angular velocity or `[0, 0, 0]` if the component is not active. */
    get angularVelocity() {
      const wasm = this._engine.wasm;
      wasm._wl_physx_component_get_angularVelocity(this._id, wasm._tempMem);
      return new Float32Array(wasm.HEAPF32.buffer, wasm._tempMem, 3);
    }
    /**
     * Set the components groups mask.
     *
     * @param flags New flags that need to be set.
     */
    set groupsMask(flags) {
      this._engine.wasm._wl_physx_component_set_groupsMask(this._id, flags);
    }
    /**
     * Get the components groups mask flags.
     *
     * Each bit represents membership to group, see example.
     *
     * ```js
     * // Assign c to group 2
     * c.groupsMask = (1 << 2);
     *
     * // Assign c to group 0
     * c.groupsMask  = (1 << 0);
     *
     * // Assign c to group 0 and 2
     * c.groupsMask = (1 << 0) | (1 << 2);
     *
     * (c.groupsMask & (1 << 2)) != 0; // true
     * (c.groupsMask & (1 << 7)) != 0; // false
     * ```
     */
    get groupsMask() {
      return this._engine.wasm._wl_physx_component_get_groupsMask(this._id);
    }
    /**
     * Set the components blocks mask.
     *
     * @param flags New flags that need to be set.
     */
    set blocksMask(flags) {
      this._engine.wasm._wl_physx_component_set_blocksMask(this._id, flags);
    }
    /**
     * Get the components blocks mask flags.
     *
     * Each bit represents membership to the block, see example.
     *
     * ```js
     * // Block overlap with any objects in group 2
     * c.blocksMask = (1 << 2);
     *
     * // Block overlap with any objects in group 0
     * c.blocksMask  = (1 << 0)
     *
     * // Block overlap with any objects in group 0 and 2
     * c.blocksMask = (1 << 0) | (1 << 2);
     *
     * (c.blocksMask & (1 << 2)) != 0; // true
     * (c.blocksMask & (1 << 7)) != 0; // false
     * ```
     */
    get blocksMask() {
      return this._engine.wasm._wl_physx_component_get_blocksMask(this._id);
    }
    /**
     * Set axes to lock for linear velocity.
     *
     * @param lock The Axis that needs to be set.
     *
     * Combine flags with Bitwise OR.
     * ```js
     * body.linearLockAxis = LockAxis.X | LockAxis.Y; // x and y set
     * body.linearLockAxis = LockAxis.X; // y unset
     * ```
     *
     * @note This has no effect if the component is static.
     */
    set linearLockAxis(lock) {
      this._engine.wasm._wl_physx_component_set_linearLockAxis(this._id, lock);
    }
    /**
     * Get the linear lock axes flags.
     *
     * To get the state of a specific flag, Bitwise AND with the LockAxis needed.
     *
     * ```js
     * if(body.linearLockAxis & LockAxis.Y) {
     *     console.log("The Y flag was set!");
     * }
     * ```
     *
     * @return axes that are currently locked for linear movement.
     */
    get linearLockAxis() {
      return this._engine.wasm._wl_physx_component_get_linearLockAxis(this._id);
    }
    /**
     * Set axes to lock for angular velocity.
     *
     * @param lock The Axis that needs to be set.
     *
     * ```js
     * body.angularLockAxis = LockAxis.X | LockAxis.Y; // x and y set
     * body.angularLockAxis = LockAxis.X; // y unset
     * ```
     *
     * @note This has no effect if the component is static.
     */
    set angularLockAxis(lock) {
      this._engine.wasm._wl_physx_component_set_angularLockAxis(this._id, lock);
    }
    /**
     * Get the angular lock axes flags.
     *
     * To get the state of a specific flag, Bitwise AND with the LockAxis needed.
     *
     * ```js
     * if(body.angularLockAxis & LockAxis.Y) {
     *     console.log("The Y flag was set!");
     * }
     * ```
     *
     * @return axes that are currently locked for angular movement.
     */
    get angularLockAxis() {
      return this._engine.wasm._wl_physx_component_get_angularLockAxis(this._id);
    }
    /**
     * Set mass.
     *
     * [PhysX Manual - "Mass Properties"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#mass-properties)
     *
     * @param m New mass.
     */
    set mass(m) {
      this._engine.wasm._wl_physx_component_set_mass(this._id, m);
    }
    /** Mass */
    get mass() {
      return this._engine.wasm._wl_physx_component_get_mass(this._id);
    }
    /**
     * Set mass space interia tensor.
     *
     * [PhysX Manual - "Mass Properties"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#mass-properties)
     *
     * Has no effect, if the component is not active.
     *
     * @param v New mass space interatia tensor.
     */
    set massSpaceInteriaTensor(v) {
      this._engine.wasm._wl_physx_component_set_massSpaceInertiaTensor(this._id, v[0], v[1], v[2]);
    }
    /**
     * Apply a force.
     *
     * [PhysX Manual - "Applying Forces and Torques"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#applying-forces-and-torques)
     *
     * Has no effect, if the component is not active.
     *
     * @param f Force vector.
     * @param m Force mode, see {@link ForceMode}, default `Force`.
     * @param localForce Whether the force vector is in local space, default `false`.
     * @param p Position to apply force at, default is center of mass.
     * @param local Whether position is in local space, default `false`.
     */
    addForce(f, m = ForceMode.Force, localForce = false, p, local = false) {
      const wasm = this._engine.wasm;
      if (!p) {
        wasm._wl_physx_component_addForce(this._id, f[0], f[1], f[2], m, localForce);
        return;
      }
      wasm._wl_physx_component_addForceAt(this._id, f[0], f[1], f[2], m, localForce, p[0], p[1], p[2], local);
    }
    /**
     * Apply torque.
     *
     * [PhysX Manual - "Applying Forces and Torques"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#applying-forces-and-torques)
     *
     * Has no effect, if the component is not active.
     *
     * @param f Force vector.
     * @param m Force mode, see {@link ForceMode}, default `Force`.
     */
    addTorque(f, m = ForceMode.Force) {
      this._engine.wasm._wl_physx_component_addTorque(this._id, f[0], f[1], f[2], m);
    }
    /**
     * Add on collision callback.
     *
     * @param callback Function to call when this rigid body (un)collides with any other.
     *
     * ```js
     *  let rigidBody = this.object.getComponent('physx');
     *  rigidBody.onCollision(function(type, other) {
     *      // Ignore uncollides
     *      if(type == CollisionEventType.TouchLost) return;
     *
     *      // Take damage on collision with enemies
     *      if(other.object.name.startsWith("enemy-")) {
     *          this.applyDamage(10);
     *      }
     *  }.bind(this));
     * ```
     *
     * @returns Id of the new callback for use with {@link PhysXComponent#removeCollisionCallback}.
     */
    onCollision(callback) {
      return this.onCollisionWith(this, callback);
    }
    /**
     * Add filtered on collision callback.
     *
     * @param otherComp Component for which callbacks will
     *        be triggered. If you pass this component, the method is equivalent to.
     *        {@link PhysXComponent#onCollision}.
     * @param callback Function to call when this rigid body
     *        (un)collides with `otherComp`.
     * @returns Id of the new callback for use with {@link PhysXComponent#removeCollisionCallback}.
     */
    onCollisionWith(otherComp, callback) {
      const physics = this._engine.physics;
      physics._callbacks[this._id] = physics._callbacks[this._id] || [];
      physics._callbacks[this._id].push(callback);
      return this._engine.wasm._wl_physx_component_addCallback(this._id, otherComp._id || this._id);
    }
    /**
     * Remove a collision callback added with {@link PhysXComponent#onCollision} or {@link PhysXComponent#onCollisionWith}.
     *
     * @param callbackId Callback id as returned by {@link PhysXComponent#onCollision} or {@link PhysXComponent#onCollisionWith}.
     * @throws When the callback does not belong to the component.
     * @throws When the callback does not exist.
     */
    removeCollisionCallback(callbackId) {
      const physics = this._engine.physics;
      const r = this._engine.wasm._wl_physx_component_removeCallback(this._id, callbackId);
      if (r)
        physics._callbacks[this._id].splice(-r);
    }
  };
  /** @override */
  __publicField(PhysXComponent, "TypeName", "physx");
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "static", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "translationOffset", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "rotationOffset", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "kinematic", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "gravity", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "simulate", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "allowSimulation", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "allowQuery", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "trigger", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "shape", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "shapeData", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "extents", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "staticFriction", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "dynamicFriction", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "bounciness", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "linearDamping", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "angularDamping", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "linearVelocity", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "angularVelocity", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "groupsMask", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "blocksMask", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "linearLockAxis", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "angularLockAxis", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "mass", null);
  var MeshIndexType;
  (function(MeshIndexType2) {
    MeshIndexType2[MeshIndexType2["UnsignedByte"] = 1] = "UnsignedByte";
    MeshIndexType2[MeshIndexType2["UnsignedShort"] = 2] = "UnsignedShort";
    MeshIndexType2[MeshIndexType2["UnsignedInt"] = 4] = "UnsignedInt";
  })(MeshIndexType || (MeshIndexType = {}));
  var MeshSkinningType;
  (function(MeshSkinningType2) {
    MeshSkinningType2[MeshSkinningType2["None"] = 0] = "None";
    MeshSkinningType2[MeshSkinningType2["FourJoints"] = 1] = "FourJoints";
    MeshSkinningType2[MeshSkinningType2["EightJoints"] = 2] = "EightJoints";
  })(MeshSkinningType || (MeshSkinningType = {}));
  var Mesh = class {
    /**
     * Index of the mesh in the manager.
     *
     * @hidden
     */
    _index = -1;
    /** Wonderland Engine instance. @hidden */
    _engine;
    /**
     * Create a new instance.
     *
     * @param params Either a mesh index to wrap or set of parameters to create a new mesh.
     *    For more information, please have a look at the {@link MeshParameters} interface.
     */
    constructor(engine, params) {
      this._engine = engine ?? WL;
      this._index = -1;
      if (isNumber(params)) {
        this._index = params;
        return;
      }
      if (!params.vertexCount)
        throw new Error("Missing parameter 'vertexCount'");
      const wasm = this._engine.wasm;
      let indexData = 0;
      let indexType = 0;
      let indexDataSize = 0;
      if (params.indexData) {
        indexType = params.indexType || MeshIndexType.UnsignedShort;
        indexDataSize = params.indexData.length * indexType;
        indexData = wasm._malloc(indexDataSize);
        switch (indexType) {
          case MeshIndexType.UnsignedByte:
            wasm.HEAPU8.set(params.indexData, indexData);
            break;
          case MeshIndexType.UnsignedShort:
            wasm.HEAPU16.set(params.indexData, indexData >> 1);
            break;
          case MeshIndexType.UnsignedInt:
            wasm.HEAPU32.set(params.indexData, indexData >> 2);
            break;
        }
      }
      const { skinningType = MeshSkinningType.None } = params;
      this._index = wasm._wl_mesh_create(indexData, indexDataSize, indexType, params.vertexCount, skinningType);
    }
    /** Number of vertices in this mesh. */
    get vertexCount() {
      return this._engine.wasm._wl_mesh_get_vertexCount(this._index);
    }
    /** Index data (read-only) or `null` if the mesh is not indexed. */
    get indexData() {
      const wasm = this._engine.wasm;
      const tempMem = wasm._tempMem;
      const ptr = wasm._wl_mesh_get_indexData(this._index, tempMem, tempMem + 4);
      if (ptr === null)
        return null;
      const indexCount = wasm.HEAPU32[tempMem / 4];
      const indexSize = wasm.HEAPU32[tempMem / 4 + 1];
      switch (indexSize) {
        case MeshIndexType.UnsignedByte:
          return new Uint8Array(wasm.HEAPU8.buffer, ptr, indexCount);
        case MeshIndexType.UnsignedShort:
          return new Uint16Array(wasm.HEAPU16.buffer, ptr, indexCount);
        case MeshIndexType.UnsignedInt:
          return new Uint32Array(wasm.HEAPU32.buffer, ptr, indexCount);
      }
      return null;
    }
    /** Hosting engine instance. */
    get engine() {
      return this._engine;
    }
    /**
     * Apply changes to {@link attribute | vertex attributes}.
     *
     * Uploads the updated vertex attributes to the GPU and updates the bounding
     * sphere to match the new vertex positions.
     *
     * Since this is an expensive operation, call it only once you have performed
     * all modifications on a mesh and avoid calling if you did not perform any
     * modifications at all.
     */
    update() {
      this._engine.wasm._wl_mesh_update(this._index);
    }
    getBoundingSphere(out = new Float32Array(4)) {
      const tempMemFloat = this._engine.wasm._tempMemFloat;
      this._engine.wasm._wl_mesh_get_boundingSphere(this._index, this._engine.wasm._tempMem);
      out[0] = tempMemFloat[0];
      out[1] = tempMemFloat[1];
      out[2] = tempMemFloat[2];
      out[3] = tempMemFloat[3];
      return out;
    }
    attribute(attr) {
      if (typeof attr != "number")
        throw new TypeError("Expected number, but got " + typeof attr);
      const tempMemUint32 = this._engine.wasm._tempMemUint32;
      this._engine.wasm._wl_mesh_get_attribute(this._index, attr, this._engine.wasm._tempMem);
      if (tempMemUint32[0] == 255)
        return null;
      const arraySize = tempMemUint32[5];
      return new MeshAttributeAccessor(this._engine, {
        attribute: tempMemUint32[0],
        offset: tempMemUint32[1],
        stride: tempMemUint32[2],
        formatSize: tempMemUint32[3],
        componentCount: tempMemUint32[4],
        /* The WASM API returns `0` for a scalar value. We clamp it to 1 as we strictly use it as a multiplier for get/set operations */
        arraySize: arraySize ? arraySize : 1,
        length: this.vertexCount,
        bufferType: attr !== MeshAttribute.JointId ? Float32Array : Uint16Array
      });
    }
    /**
     * Destroy and free the meshes memory.
     *
     * It is best practice to set the mesh variable to `null` after calling
     * destroy to prevent accidental use:
     *
     * ```js
     *   mesh.destroy();
     *   mesh = null;
     * ```
     *
     * Accessing the mesh after destruction behaves like accessing an empty
     * mesh.
     *
     * @since 0.9.0
     */
    destroy() {
      this._engine.wasm._wl_mesh_destroy(this._index);
    }
    /**
     * Checks equality by comparing whether the wrapped native mesh ids are
     * equal.
     *
     * @param otherMesh Mesh to check equality with.
     * @returns Whether this mesh equals the given mesh.
     *
     * @since 1.0.0
     */
    equals(otherMesh) {
      if (!otherMesh)
        return false;
      return this._index === otherMesh._index;
    }
  };
  var MeshAttributeAccessor = class {
    /** Max number of elements. */
    length = 0;
    /** Wonderland Engine instance. @hidden */
    _engine;
    /** Attribute index. @hidden */
    _attribute = -1;
    /** Attribute offset. @hidden */
    _offset = 0;
    /** Attribute stride. @hidden */
    _stride = 0;
    /** Format size native enum. @hidden */
    _formatSize = 0;
    /** Number of components per vertex. @hidden */
    _componentCount = 0;
    /** Number of values per vertex. @hidden */
    _arraySize = 1;
    /**
     * Class to instantiate an ArrayBuffer to get/set values.
     */
    _bufferType;
    /**
     * Function to allocate temporary WASM memory. It is cached in the accessor to avoid
     * conditionals during get/set.
     */
    _tempBufferGetter;
    /**
     * Create a new instance.
     *
     * @note Please use {@link Mesh.attribute} to create a new instance.
     *
     * @param options Contains information about how to read the data.
     * @note Do not use this constructor. Instead, please use the {@link Mesh.attribute} method.
     *
     * @hidden
     */
    constructor(engine, options) {
      this._engine = engine;
      const wasm = this._engine.wasm;
      this._attribute = options.attribute;
      this._offset = options.offset;
      this._stride = options.stride;
      this._formatSize = options.formatSize;
      this._componentCount = options.componentCount;
      this._arraySize = options.arraySize;
      this._bufferType = options.bufferType;
      this.length = options.length;
      this._tempBufferGetter = this._bufferType === Float32Array ? wasm.getTempBufferF32.bind(wasm) : wasm.getTempBufferU16.bind(wasm);
    }
    /**
     * Create a new TypedArray to hold this attribute's values.
     *
     * This method is useful to create a view to hold the data to
     * pass to {@link get} and {@link set}
     *
     * Example:
     *
     * ```js
     * const vertexCount = 4;
     * const positionAttribute = mesh.attribute(MeshAttribute.Position);
     *
     * // A position has 3 floats per vertex. Thus, positions has length 3 * 4.
     * const positions = positionAttribute.createArray(vertexCount);
     * ```
     *
     * @param count The number of **vertices** expected.
     * @returns A TypedArray with the appropriate format to access the data
     */
    createArray(count = 1) {
      count = count > this.length ? this.length : count;
      return new this._bufferType(count * this._componentCount * this._arraySize);
    }
    get(index, out = this.createArray()) {
      if (out.length % this._componentCount !== 0) {
        throw new Error(`out.length, ${out.length} is not a multiple of the attribute vector components, ${this._componentCount}`);
      }
      const dest = this._tempBufferGetter(out.length);
      const elementSize = this._bufferType.BYTES_PER_ELEMENT;
      const destSize = elementSize * out.length;
      const srcFormatSize = this._formatSize * this._arraySize;
      const destFormatSize = this._componentCount * elementSize * this._arraySize;
      this._engine.wasm._wl_mesh_get_attribute_values(this._attribute, srcFormatSize, this._offset + index * this._stride, this._stride, destFormatSize, dest.byteOffset, destSize);
      for (let i = 0; i < out.length; ++i)
        out[i] = dest[i];
      return out;
    }
    /**
     * Set attribute element.
     *
     * @param i Index
     * @param v Value to set the element to
     *
     * `v.length` needs to be a multiple of the attributes component count, see
     * {@link MeshAttribute}. If `v.length` is more than one multiple, it will be
     * filled with the next n attribute elements, which can reduce overhead
     * of this call.
     *
     * @returns Reference to self (for method chaining)
     */
    set(i, v) {
      if (v.length % this._componentCount !== 0)
        throw new Error(`out.length, ${v.length} is not a multiple of the attribute vector components, ${this._componentCount}`);
      const elementSize = this._bufferType.BYTES_PER_ELEMENT;
      const srcSize = elementSize * v.length;
      const srcFormatSize = this._componentCount * elementSize * this._arraySize;
      const destFormatSize = this._formatSize * this._arraySize;
      const wasm = this._engine.wasm;
      if (v.buffer != wasm.HEAPU8.buffer) {
        const dest = this._tempBufferGetter(v.length);
        dest.set(v);
        v = dest;
      }
      wasm._wl_mesh_set_attribute_values(this._attribute, srcFormatSize, v.byteOffset, srcSize, destFormatSize, this._offset + i * this._stride, this._stride);
      return this;
    }
  };
  var Material = class {
    /**
     * Index of this material in the manager.
     *
     * @hidden
     */
    _index;
    /**
     * Material definition index in the scene.
     *
     * @hidden
     */
    _definition;
    /** Wonderland Engine instance. @hidden */
    _engine;
    /**
     * Create a new Material.
     *
     * @note Creating material is expensive. Please use {@link Material#clone} to clone a material.
     * @note Do not use this constructor directly with an index, this is reserved for internal purposes.
     */
    constructor(engine, params) {
      this._engine = engine;
      if (typeof params !== "number") {
        if (!params?.pipeline)
          throw new Error("Missing parameter 'pipeline'");
        const wasm = this._engine.wasm;
        const pipeline = params.pipeline;
        this._index = wasm._wl_material_create(wasm.tempUTF8(pipeline));
        if (this._index < 0)
          throw new Error(`No such pipeline '${pipeline}'`);
      } else {
        this._index = params;
      }
      this._definition = this._engine.wasm._wl_material_get_definition(this._index);
      if (!this._engine.wasm._materialDefinitions[this._definition])
        throw new Error(`Material Definition ${this._definition} not found for material with index ${this._index}`);
      return new Proxy(this, {
        get(target, prop) {
          const wasm = engine.wasm;
          const definition = wasm._materialDefinitions[target._definition];
          const param = definition.get(prop);
          if (!param)
            return target[prop];
          if (wasm._wl_material_get_param_value(target._index, param.index, wasm._tempMem)) {
            const type = param.type;
            switch (type.type) {
              case MaterialParamType.UnsignedInt:
                return type.componentCount == 1 ? wasm._tempMemUint32[0] : new Uint32Array(wasm.HEAPU32.buffer, wasm._tempMem, type.componentCount);
              case MaterialParamType.Int:
                return type.componentCount == 1 ? wasm._tempMemInt[0] : new Int32Array(wasm.HEAP32.buffer, wasm._tempMem, type.componentCount);
              case MaterialParamType.Float:
                return type.componentCount == 1 ? wasm._tempMemFloat[0] : new Float32Array(wasm.HEAPF32.buffer, wasm._tempMem, type.componentCount);
              case MaterialParamType.Sampler:
                return engine.textures.wrap(wasm._tempMemInt[0]);
              default:
                throw new Error(`Invalid type ${type.type} on parameter ${param.index} for material ${target._index}`);
            }
          }
        },
        set(target, prop, value) {
          const wasm = engine.wasm;
          const definition = wasm._materialDefinitions[target._definition];
          const param = definition.get(prop);
          if (!param) {
            target[prop] = value;
            return true;
          }
          const type = param.type;
          switch (type.type) {
            case MaterialParamType.UnsignedInt:
            case MaterialParamType.Int:
            case MaterialParamType.Sampler:
              const v = value.id ?? value;
              wasm._wl_material_set_param_value_uint(target._index, param.index, v);
              break;
            case MaterialParamType.Float:
              let count = 1;
              if (typeof value === "number") {
                wasm._tempMemFloat[0] = value;
              } else {
                count = value.length;
                for (let i = 0; i < count; ++i)
                  wasm._tempMemFloat[i] = value[i];
              }
              wasm._wl_material_set_param_value_float(target._index, param.index, wasm._tempMem, count);
              break;
            case MaterialParamType.Font:
              throw new Error("Setting font properties is currently unsupported.");
          }
          return true;
        }
      });
    }
    /** @deprecated Use {@link #pipeline} instead. */
    get shader() {
      return this.pipeline;
    }
    /** Name of the pipeline used by this material. */
    get pipeline() {
      const wasm = this._engine.wasm;
      return wasm.UTF8ToString(wasm._wl_material_get_pipeline(this._index));
    }
    /** Hosting engine instance. */
    get engine() {
      return this._engine;
    }
    /**
     * Create a copy of the underlying native material.
     *
     * @returns Material clone.
     */
    clone() {
      const id = this._engine.wasm._wl_material_clone(this._index);
      return id > 0 ? new Material(this._engine, id) : null;
    }
    /**
     * Checks equality by comparing whether the wrapped native material ids are
     * equal.
     *
     * @param otherMaterial Material to check equality with.
     * @returns Whether this material equals the given material.
     *
     * @since 1.0.0
     */
    equals(otherMaterial) {
      if (!otherMaterial)
        return false;
      return this._index === otherMaterial._index;
    }
    /**
     * Wrap a native material index.
     *
     * @param engine Engine instance.
     * @param index The index.
     * @returns Material instance or `null` if index <= 0.
     *
     * @deprecated Please use `new Material()` instead.
     */
    static wrap(engine, index) {
      return index > 0 ? new Material(engine, index) : null;
    }
  };
  var temp2d = null;
  var Texture = class {
    /** Wonderland Engine instance. @hidden */
    _engine;
    /** Index in the manager. @hidden */
    _id = 0;
    /** HTML image index. @hidden */
    _imageIndex = null;
    /**
     * @param engine The engine instance
     * @param param HTML media element to create texture from or texture id to wrap.
     */
    constructor(engine, param) {
      this._engine = engine ?? WL;
      const wasm = engine.wasm;
      if (param instanceof HTMLImageElement || param instanceof HTMLVideoElement || param instanceof HTMLCanvasElement) {
        const index = wasm._images.length;
        wasm._images.push(param);
        this._imageIndex = index;
        this._id = this._engine.wasm._wl_renderer_addImage(index);
      } else {
        this._id = param;
      }
      this._engine.textures._set(this);
    }
    /** Whether this texture is valid. */
    get valid() {
      return this._id >= 0;
    }
    /** Index in this manager. */
    get id() {
      return this._id;
    }
    /** Update the texture to match the HTML element (e.g. reflect the current frame of a video). */
    update() {
      if (!this.valid || this._imageIndex === null)
        return;
      this._engine.wasm._wl_renderer_updateImage(this._id, this._imageIndex);
    }
    /** Width of the texture. */
    get width() {
      return this._engine.wasm._wl_texture_width(this._id);
    }
    /** Height of the texture. */
    get height() {
      return this._engine.wasm._wl_texture_height(this._id);
    }
    /** Hosting engine instance. */
    get engine() {
      return this._engine;
    }
    /**
     * Update a subrange on the texture to match the HTML element (e.g. reflect the current frame of a video).
     *
     * Usage:
     *
     * ```js
     * // Copies rectangle of pixel starting from (10, 20)
     * texture.updateSubImage(10, 20, 600, 400);
     * ```
     *
     * @param x x offset
     * @param y y offset
     * @param w width
     * @param h height
     */
    updateSubImage(x, y, w, h) {
      if (!this.valid || this._imageIndex === null)
        return;
      if (!temp2d) {
        const canvas2 = document.createElement("canvas");
        const ctx = canvas2.getContext("2d");
        if (!ctx) {
          throw new Error("Texture.updateSubImage(): Failed to obtain CanvasRenderingContext2D.");
        }
        temp2d = {
          canvas: canvas2,
          ctx
        };
      }
      const wasm = this._engine.wasm;
      const img = wasm._images[this._imageIndex];
      if (!img)
        return;
      temp2d.canvas.width = w;
      temp2d.canvas.height = h;
      temp2d.ctx.drawImage(img, x, y, w, h, 0, 0, w, h);
      const yOffset = (img.videoHeight ?? img.height) - y - h;
      wasm._images[this._imageIndex] = temp2d.canvas;
      wasm._wl_renderer_updateImage(this._id, this._imageIndex, x, yOffset);
      wasm._images[this._imageIndex] = img;
    }
    /**
     * Destroy and free the texture's texture altas space and memory.
     *
     * It is best practice to set the texture variable to `null` after calling
     * destroy to prevent accidental use of the invalid texture:
     *
     * ```js
     *   texture.destroy();
     *   texture = null;
     * ```
     *
     * @since 0.9.0
     */
    destroy() {
      this.engine._destroyTexture(this);
      this._id = -1;
      this._imageIndex = null;
    }
    /**
     * Checks equality by comparing whether the wrapped native texture ids are
     * equal.
     *
     * @param otherTexture Texture to check equality with.
     * @returns Whether this texture equals the given texture.
     *
     * @since 1.0.0
     */
    equals(otherTexture) {
      if (!otherTexture)
        return false;
      return this._id === otherTexture._id;
    }
  };
  var Animation = class {
    /** Index of the mesh in the manager. @hidden */
    _index;
    /** Wonderland Engine instance. @hidden */
    _engine;
    /**
     * @param index Index in the manager
     */
    constructor(engine = WL, index) {
      this._engine = engine;
      this._index = index;
    }
    /** Duration of this animation. */
    get duration() {
      return this._engine.wasm._wl_animation_get_duration(this._index);
    }
    /** Number of tracks in this animation. */
    get trackCount() {
      return this._engine.wasm._wl_animation_get_trackCount(this._index);
    }
    /**
     * Clone this animation retargeted to a new set of objects.
     *
     * The clone shares most of the data with the original and is therefore
     * light-weight.
     *
     * **Experimental:** This API might change in upcoming versions.
     *
     * If retargeting to {@link Skin}, the join names will be used to determine a mapping
     * from the previous skin to the new skin. The source skin will be retrieved from
     * the first track in the animation that targets a joint.
     *
     * @param newTargets New targets per track. Expected to have
     *      {@link Animation#trackCount} elements or to be a {@link Skin}.
     * @returns The retargeted clone of this animation.
     */
    retarget(newTargets) {
      const wasm = this._engine.wasm;
      if (newTargets instanceof Skin) {
        const animId2 = wasm._wl_animation_retargetToSkin(this._index, newTargets._index);
        return new Animation(this._engine, animId2);
      }
      if (newTargets.length != this.trackCount) {
        throw Error("Expected " + this.trackCount.toString() + " targets, but got " + newTargets.length.toString());
      }
      const ptr = wasm._malloc(2 * newTargets.length);
      for (let i = 0; i < newTargets.length; ++i) {
        wasm.HEAPU16[ptr >> 1 + i] = newTargets[i].objectId;
      }
      const animId = wasm._wl_animation_retarget(this._index, ptr);
      wasm._free(ptr);
      return new Animation(this._engine, animId);
    }
    /**
     * Checks equality by comparing whether the wrapped native animation ids
     * are equal.
     *
     * @param otherAnimation Animation to check equality with.
     * @returns Whether this animation equals the given animation.
     *
     * @since 1.0.0
     */
    equals(otherAnimation) {
      if (!otherAnimation)
        return false;
      return this._index === otherAnimation._index;
    }
  };
  var Skin = class {
    /**
     * Index of the skin in the manager.
     * @hidden
     */
    _index;
    /** Wonderland Engine instance. @hidden */
    _engine;
    constructor(engine, index) {
      this._engine = engine;
      this._index = index;
    }
    /** Amount of joints in this skin. */
    get jointCount() {
      return this._engine.wasm._wl_skin_get_joint_count(this._index);
    }
    /** Joints object ids for this skin */
    get jointIds() {
      const wasm = this._engine.wasm;
      return new Uint16Array(wasm.HEAPU16.buffer, wasm._wl_skin_joint_ids(this._index), this.jointCount);
    }
    /**
     * Dual quaternions in a flat array of size 8 times {@link jointCount}.
     *
     * Inverse bind transforms of the skin.
     */
    get inverseBindTransforms() {
      const wasm = this._engine.wasm;
      return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_skin_inverse_bind_transforms(this._index), 8 * this.jointCount);
    }
    /**
     * Vectors in a flat array of size 3 times {@link jointCount}.
     *
     * Inverse bind scalings of the skin.
     */
    get inverseBindScalings() {
      const wasm = this._engine.wasm;
      return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_skin_inverse_bind_scalings(this._index), 3 * this.jointCount);
    }
    /**
     * Checks equality by comparing whether the wrapped native skin ids are
     * equal.
     *
     * @param otherSkin Skin to check equality with.
     * @returns Whether this skin equals the given skin.
     *
     * @since 1.0.0
     */
    equals(otherSkin) {
      if (!otherSkin)
        return false;
      return this._index === otherSkin._index;
    }
  };

  // E:/git/Test_WonderlandEngine/node_modules/@wonderlandengine/api/dist/wasm.js
  var _componentDefaults = /* @__PURE__ */ new Map([
    [Type.Bool, false],
    [Type.Int, 0],
    [Type.Float, 0],
    [Type.String, ""],
    [Type.Enum, void 0],
    [Type.Object, null],
    [Type.Mesh, null],
    [Type.Texture, null],
    [Type.Material, null],
    [Type.Animation, null],
    [Type.Skin, null],
    [Type.Color, [0, 0, 0, 1]]
  ]);

  // E:/git/Test_WonderlandEngine/node_modules/@wonderlandengine/components/dist/8thwall-camera.js
  var ARCamera8thwall = class extends Component {
    /* 8thwall camera pipeline module name */
    name = "wonderland-engine-8thwall-camera";
    started = false;
    view = null;
    // cache camera
    position = [0, 0, 0];
    // cache 8thwall cam position
    rotation = [0, 0, 0, -1];
    // cache 8thwall cam rotation
    glTextureRenderer = null;
    // cache XR8.GlTextureRenderer.pipelineModule
    promptForDeviceMotion() {
      return new Promise(async (resolve, reject) => {
        window.dispatchEvent(new Event("8thwall-request-user-interaction"));
        window.addEventListener("8thwall-safe-to-request-permissions", async () => {
          try {
            const motionEvent = await DeviceMotionEvent.requestPermission();
            resolve(motionEvent);
          } catch (exception) {
            reject(exception);
          }
        });
      });
    }
    async getPermissions() {
      if (DeviceMotionEvent && DeviceMotionEvent.requestPermission) {
        try {
          const result = await DeviceMotionEvent.requestPermission();
          if (result !== "granted") {
            throw new Error("MotionEvent");
          }
        } catch (exception) {
          if (exception.name === "NotAllowedError") {
            const motionEvent = await this.promptForDeviceMotion();
            if (motionEvent !== "granted") {
              throw new Error("MotionEvent");
            }
          } else {
            throw new Error("MotionEvent");
          }
        }
      }
      try {
        const stream = await navigator.mediaDevices.getUserMedia({
          video: true,
          audio: true
        });
        stream.getTracks().forEach((track) => {
          track.stop();
        });
      } catch (exception) {
        throw new Error("Camera");
      }
    }
    init() {
      this.view = this.object.getComponent("view");
      this.onUpdate = this.onUpdate.bind(this);
      this.onAttach = this.onAttach.bind(this);
      this.onException = this.onException.bind(this);
      this.onCameraStatusChange = this.onCameraStatusChange.bind(this);
    }
    async start() {
      this.view = this.object.getComponent("view");
      if (!this.useCustomUIOverlays) {
        OverlaysHandler.init();
      }
      try {
        await this.getPermissions();
      } catch (error) {
        window.dispatchEvent(new CustomEvent("8thwall-permission-fail", { detail: error }));
        return;
      }
      await this.waitForXR8();
      XR8.XrController.configure({
        disableWorldTracking: false
      });
      this.glTextureRenderer = XR8.GlTextureRenderer.pipelineModule();
      XR8.addCameraPipelineModules([
        this.glTextureRenderer,
        XR8.XrController.pipelineModule(),
        this
      ]);
      const config = {
        cameraConfig: {
          direction: XR8.XrConfig.camera().BACK
        },
        canvas: Module.canvas,
        allowedDevices: XR8.XrConfig.device().ANY,
        ownRunLoop: false
      };
      XR8.run(config);
    }
    /**
     * @private
     * 8thwall pipeline function
     */
    onAttach(params) {
      this.started = true;
      this.engine.scene.colorClearEnabled = false;
      const gl = Module.ctx;
      const rot = this.object.rotationWorld;
      const pos = this.object.getTranslationWorld([]);
      this.position = Array.from(pos);
      this.rotation = Array.from(rot);
      XR8.XrController.updateCameraProjectionMatrix({
        origin: { x: pos[0], y: pos[1], z: pos[2] },
        facing: { x: rot[0], y: rot[1], z: rot[2], w: rot[3] },
        cam: {
          pixelRectWidth: Module.canvas.width,
          pixelRectHeight: Module.canvas.height,
          nearClipPlane: this.view.near,
          farClipPlane: this.view.far
        }
      });
      this.engine.scene.onPreRender.push(() => {
        gl.bindFramebuffer(gl.DRAW_FRAMEBUFFER, null);
        XR8.runPreRender(Date.now());
        XR8.runRender();
      });
      this.engine.scene.onPostRender.push(() => {
        XR8.runPostRender(Date.now());
      });
    }
    /**
     * @private
     * 8thwall pipeline function
     */
    onCameraStatusChange(e) {
      if (e && e.status === "failed") {
        this.onException(new Error(`Camera failed with status: ${e.status}`));
      }
    }
    /**
     * @private
     * 8thwall pipeline function
     */
    onUpdate(e) {
      if (!e.processCpuResult.reality)
        return;
      const { rotation, position, intrinsics } = e.processCpuResult.reality;
      this.rotation[0] = rotation.x;
      this.rotation[1] = rotation.y;
      this.rotation[2] = rotation.z;
      this.rotation[3] = rotation.w;
      this.position[0] = position.x;
      this.position[1] = position.y;
      this.position[2] = position.z;
      if (intrinsics) {
        const projectionMatrix = this.view.projectionMatrix;
        for (let i = 0; i < 16; i++) {
          if (Number.isFinite(intrinsics[i])) {
            projectionMatrix[i] = intrinsics[i];
          }
        }
      }
      if (position && rotation) {
        this.object.rotationWorld = this.rotation;
        this.object.setTranslationWorld(this.position);
      }
    }
    /**
     * @private
     * 8thwall pipeline function
     */
    onException(error) {
      console.error("8thwall exception:", error);
      window.dispatchEvent(new CustomEvent("8thwall-error", { detail: error }));
    }
    waitForXR8() {
      return new Promise((resolve, _rej) => {
        if (window.XR8) {
          resolve();
        } else {
          window.addEventListener("xrloaded", () => resolve());
        }
      });
    }
  };
  __publicField(ARCamera8thwall, "TypeName", "8thwall-camera");
  __publicField(ARCamera8thwall, "Properties", {
    /** Override the WL html overlays for handling camera/motion permissions and error handling */
    useCustomUIOverlays: { type: Type.Bool, default: false }
  });
  var OverlaysHandler = {
    init: function() {
      this.handleRequestUserInteraction = this.handleRequestUserInteraction.bind(this);
      this.handlePermissionFail = this.handlePermissionFail.bind(this);
      this.handleError = this.handleError.bind(this);
      window.addEventListener("8thwall-request-user-interaction", this.handleRequestUserInteraction);
      window.addEventListener("8thwall-permission-fail", this.handlePermissionFail);
      window.addEventListener("8thwall-error", this.handleError);
    },
    handleRequestUserInteraction: function() {
      const overlay = this.showOverlay(requestPermissionOverlay);
      window.addEventListener("8thwall-safe-to-request-permissions", () => {
        overlay.remove();
      });
    },
    handlePermissionFail: function(_reason) {
      this.showOverlay(failedPermissionOverlay);
    },
    handleError: function(_error) {
      this.showOverlay(runtimeErrorOverlay);
    },
    showOverlay: function(htmlContent) {
      const overlay = document.createElement("div");
      overlay.innerHTML = htmlContent;
      document.body.appendChild(overlay);
      return overlay;
    }
  };
  var requestPermissionOverlay = `
<style>
  #request-permission-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 999;
    color: #fff;
    background-color: rgba(0, 0, 0, 0.5);
    text-align: center;
    font-family: sans-serif;
  }

  .request-permission-overlay_title {
    margin: 30px;
    font-size: 32px;
  }

  .request-permission-overlay_button {
    background-color: #e80086;
    font-size: 22px;
    padding: 10px 30px;
    color: #fff;
    border-radius: 15px;
    border: none;
  }
</style>

<div id="request-permission-overlay">
  <div class="request-permission-overlay_title">This app requires to use your camera and motion sensors</div>

  <button class="request-permission-overlay_button" onclick="window.dispatchEvent(new Event('8thwall-safe-to-request-permissions'))">OK</button>
</div>`;
  var failedPermissionOverlay = `
<style>
  #failed-permission-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 999;
    color: #fff;
    background-color: rgba(0, 0, 0, 0.5);
    text-align: center;
    font-family: sans-serif;
  }

  .failed-permission-overlay_title {
    margin: 30px;
    font-size: 32px;
  }

  .failed-permission-overlay_button {
    background-color: #e80086;
    font-size: 22px;
    padding: 10px 30px;
    color: #fff;
    border-radius: 15px;
    border: none;
  }
</style>

<div id="failed-permission-overlay">
  <div class="failed-permission-overlay_title">Failed to grant permissions. Reset the the permissions and refresh the page.</div>

  <button class="failed-permission-overlay_button" onclick="window.location.reload()">Refresh the page</button>
</div>`;
  var runtimeErrorOverlay = `
<style>
  #wall-error-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 999;
    color: #fff;
    background-color: rgba(0, 0, 0, 0.5);
    text-align: center;
    font-family: sans-serif;
  }

  .wall-error-overlay_title {
    margin: 30px;
    font-size: 32px;
  }

  .wall-error-overlay_button {
    background-color: #e80086;
    font-size: 22px;
    padding: 10px 30px;
    color: #fff;
    border-radius: 15px;
    border: none;
  }
</style>

<div id="wall-error-overlay">
  <div class="wall-error-overlay_title">Error has occurred. Please reload the page</div>

  <button class="wall-error-overlay_button" onclick="window.location.reload()">Reload</button>
</div>`;

  // E:/git/Test_WonderlandEngine/node_modules/@wonderlandengine/components/dist/utils/webxr.js
  var tempVec = new Float32Array(3);
  var tempQuat = new Float32Array(4);
  function setXRRigidTransformLocal(o, transform) {
    const r = transform.orientation;
    tempQuat[0] = r.x;
    tempQuat[1] = r.y;
    tempQuat[2] = r.z;
    tempQuat[3] = r.w;
    const t = transform.position;
    tempVec[0] = t.x;
    tempVec[1] = t.y;
    tempVec[2] = t.z;
    o.resetTranslationRotation();
    o.transformLocal.set(tempQuat);
    o.translate(tempVec);
  }

  // E:/git/Test_WonderlandEngine/node_modules/@wonderlandengine/components/dist/anchor.js
  var __decorate2 = function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
      r = Reflect.decorate(decorators, target, key, desc);
    else
      for (var i = decorators.length - 1; i >= 0; i--)
        if (d = decorators[i])
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var tempVec3 = new Float32Array(3);
  var tempQuat2 = new Float32Array(4);
  var _anchors, _addAnchor, addAnchor_fn, _removeAnchor, removeAnchor_fn, _getFrame, getFrame_fn, _createAnchor, createAnchor_fn, _onAddAnchor, onAddAnchor_fn, _onRestoreAnchor, onRestoreAnchor_fn, _onCreate, onCreate_fn;
  var _Anchor = class extends Component {
    constructor() {
      super(...arguments);
      __privateAdd(this, _getFrame);
      __privateAdd(this, _createAnchor);
      __privateAdd(this, _onAddAnchor);
      __privateAdd(this, _onRestoreAnchor);
      __privateAdd(this, _onCreate);
      __publicField(this, "persist", false);
      /** Unique identifier to load a persistent anchor from, or empty/null if unknown */
      __publicField(this, "uuid", null);
      /** The xrAnchor, if created */
      __publicField(this, "xrAnchor", null);
      /** Emits events when the anchor is created either by being restored or newly created */
      __publicField(this, "onCreate", new Emitter());
      /** Whether the anchor is currently being tracked */
      __publicField(this, "visible", false);
      /** Emits an event when this anchor starts tracking */
      __publicField(this, "onTrackingFound", new Emitter());
      /** Emits an event when this anchor stops tracking */
      __publicField(this, "onTrackingLost", new Emitter());
      /** XRFrame to use for creating the anchor */
      __publicField(this, "xrFrame", null);
      /** XRHitTestResult to use for creating the anchor */
      __publicField(this, "xrHitResult", null);
    }
    /** Retrieve all anchors of the current scene */
    static getAllAnchors() {
      return __privateGet(_Anchor, _anchors);
    }
    /**
     * Create a new anchor
     *
     * @param o Object to attach the component to
     * @param params Parameters for the anchor component
     * @param frame XRFrame to use for anchor cration, if null, will use the current frame if available
     * @param hitResult Optional hit-test result to create the anchor with
     * @returns Promise for the newly created anchor component
     */
    static create(o, params, frame, hitResult) {
      const a = o.addComponent(_Anchor, { ...params, active: false });
      if (a === null)
        return null;
      a.xrHitResult = hitResult ?? null;
      a.xrFrame = frame ?? null;
      a.onCreate.once(() => (a.xrFrame = null, a.xrHitResult = null));
      a.active = true;
      return a.onCreate.promise();
    }
    start() {
      if (this.uuid && this.engine.xr) {
        this.persist = true;
        if (this.engine.xr.session.restorePersistentAnchor === void 0) {
          console.warn("anchor: Persistent anchors are not supported by your client. Ignoring persist property.");
        }
        this.engine.xr.session.restorePersistentAnchor(this.uuid).then(__privateMethod(this, _onRestoreAnchor, onRestoreAnchor_fn).bind(this));
      } else if (__privateMethod(this, _getFrame, getFrame_fn).call(this)) {
        __privateMethod(this, _createAnchor, createAnchor_fn).call(this).then(__privateMethod(this, _onAddAnchor, onAddAnchor_fn).bind(this));
      } else {
        throw new Error("Anchors can only be created during the XR frame in an active XR session");
      }
    }
    update() {
      if (!this.xrAnchor || !this.engine.xr)
        return;
      const pose = this.engine.xr.frame.getPose(this.xrAnchor.anchorSpace, this.engine.xr.currentReferenceSpace);
      const visible = !!pose;
      if (visible != this.visible) {
        this.visible = visible;
        (visible ? this.onTrackingFound : this.onTrackingLost).notify(this);
      }
      if (pose) {
        setXRRigidTransformLocal(this.object, pose.transform);
      }
    }
    onDestroy() {
      var _a;
      __privateMethod(_a = _Anchor, _removeAnchor, removeAnchor_fn).call(_a, this);
    }
  };
  var Anchor = _Anchor;
  _anchors = new WeakMap();
  _addAnchor = new WeakSet();
  addAnchor_fn = function(anchor) {
    __privateGet(_Anchor, _anchors).push(anchor);
  };
  _removeAnchor = new WeakSet();
  removeAnchor_fn = function(anchor) {
    const index = __privateGet(_Anchor, _anchors).indexOf(anchor);
    if (index < 0)
      return;
    __privateGet(_Anchor, _anchors).splice(index, 1);
  };
  _getFrame = new WeakSet();
  getFrame_fn = function() {
    return this.xrFrame || this.engine.xr.frame;
  };
  _createAnchor = new WeakSet();
  createAnchor_fn = async function() {
    if (!__privateMethod(this, _getFrame, getFrame_fn).call(this).createAnchor) {
      throw new Error("Cannot create anchor - anchors not supported, did you enable the 'anchors' WebXR feature?");
    }
    if (this.xrHitResult) {
      if (this.xrHitResult.createAnchor === void 0) {
        throw new Error("Requested anchor on XRHitTestResult, but WebXR hit-test feature is not available.");
      }
      return this.xrHitResult.createAnchor();
    } else {
      this.object.getTranslationWorld(tempVec3);
      tempQuat2.set(this.object.rotationWorld);
      const rotation = tempQuat2;
      const anchorPose = new XRRigidTransform({ x: tempVec3[0], y: tempVec3[1], z: tempVec3[2] }, { x: rotation[0], y: rotation[1], z: rotation[2], w: rotation[3] });
      return __privateMethod(this, _getFrame, getFrame_fn).call(this)?.createAnchor(anchorPose, this.engine.xr.currentReferenceSpace);
    }
  };
  _onAddAnchor = new WeakSet();
  onAddAnchor_fn = function(anchor) {
    if (!anchor)
      return;
    if (this.persist) {
      if (anchor.requestPersistentHandle !== void 0) {
        anchor.requestPersistentHandle().then((uuid) => {
          var _a;
          this.uuid = uuid;
          __privateMethod(this, _onCreate, onCreate_fn).call(this, anchor);
          __privateMethod(_a = _Anchor, _addAnchor, addAnchor_fn).call(_a, this);
        });
        return;
      } else {
        console.warn("anchor: Persistent anchors are not supported by your client. Ignoring persist property.");
      }
    }
    __privateMethod(this, _onCreate, onCreate_fn).call(this, anchor);
  };
  _onRestoreAnchor = new WeakSet();
  onRestoreAnchor_fn = function(anchor) {
    __privateMethod(this, _onCreate, onCreate_fn).call(this, anchor);
  };
  _onCreate = new WeakSet();
  onCreate_fn = function(anchor) {
    this.xrAnchor = anchor;
    this.onCreate.notify(this);
  };
  __privateAdd(Anchor, _addAnchor);
  __privateAdd(Anchor, _removeAnchor);
  __publicField(Anchor, "TypeName", "anchor");
  /* Static management of all anchors */
  __privateAdd(Anchor, _anchors, []);
  __decorate2([
    property.bool(false)
  ], Anchor.prototype, "persist", void 0);
  __decorate2([
    property.string()
  ], Anchor.prototype, "uuid", void 0);

  // E:/git/Test_WonderlandEngine/node_modules/@wonderlandengine/components/dist/cursor-target.js
  var CursorTarget = class extends Component {
    /** Emitter for events when the target is hovered */
    onHover = new Emitter();
    /** Emitter for events when the target is unhovered */
    onUnhover = new Emitter();
    /** Emitter for events when the target is clicked */
    onClick = new Emitter();
    /** Emitter for events when the cursor moves on the target */
    onMove = new Emitter();
    /** Emitter for events when the user pressed the select button on the target */
    onDown = new Emitter();
    /** Emitter for events when the user unpressed the select button on the target */
    onUp = new Emitter();
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    this.onHover.add(f);
     */
    addHoverFunction(f) {
      this.onHover.add(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    this.onHover.remove(f);
     */
    removeHoverFunction(f) {
      this.onHover.remove(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    this.onUnhover.add(f);
     */
    addUnHoverFunction(f) {
      this.onUnhover.add(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    this.onUnhover.remove(f);
     */
    removeUnHoverFunction(f) {
      this.onUnhover.remove(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    this.onClick.add(f);
     */
    addClickFunction(f) {
      this.onClick.add(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    component.onClick.remove(f);
     */
    removeClickFunction(f) {
      this.onClick.remove(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    component.onMove.add(f);
     */
    addMoveFunction(f) {
      this.onMove.add(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    component.onMove.remove(f);
     */
    removeMoveFunction(f) {
      this.onMove.remove(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    component.onDown.add(f);
     */
    addDownFunction(f) {
      this.onDown.add(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    component.onDown.remove(f);
     */
    removeDownFunction(f) {
      this.onDown.remove(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    component.onUp.add(f);
     */
    addUpFunction(f) {
      this.onUp.add(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    component.onUp.remove(f);
     */
    removeUpFunction(f) {
      this.onUp.remove(f);
    }
  };
  __publicField(CursorTarget, "TypeName", "cursor-target");
  __publicField(CursorTarget, "Properties", {});

  // E:/git/Test_WonderlandEngine/node_modules/gl-matrix/esm/common.js
  var EPSILON = 1e-6;
  var ARRAY_TYPE = typeof Float32Array !== "undefined" ? Float32Array : Array;
  var RANDOM = Math.random;
  var degree = Math.PI / 180;
  if (!Math.hypot)
    Math.hypot = function() {
      var y = 0, i = arguments.length;
      while (i--) {
        y += arguments[i] * arguments[i];
      }
      return Math.sqrt(y);
    };

  // E:/git/Test_WonderlandEngine/node_modules/gl-matrix/esm/mat3.js
  function create() {
    var out = new ARRAY_TYPE(9);
    if (ARRAY_TYPE != Float32Array) {
      out[1] = 0;
      out[2] = 0;
      out[3] = 0;
      out[5] = 0;
      out[6] = 0;
      out[7] = 0;
    }
    out[0] = 1;
    out[4] = 1;
    out[8] = 1;
    return out;
  }

  // E:/git/Test_WonderlandEngine/node_modules/gl-matrix/esm/mat4.js
  var mat4_exports = {};
  __export(mat4_exports, {
    add: () => add,
    adjoint: () => adjoint,
    clone: () => clone,
    copy: () => copy,
    create: () => create2,
    determinant: () => determinant,
    equals: () => equals,
    exactEquals: () => exactEquals,
    frob: () => frob,
    fromQuat: () => fromQuat,
    fromQuat2: () => fromQuat2,
    fromRotation: () => fromRotation,
    fromRotationTranslation: () => fromRotationTranslation,
    fromRotationTranslationScale: () => fromRotationTranslationScale,
    fromRotationTranslationScaleOrigin: () => fromRotationTranslationScaleOrigin,
    fromScaling: () => fromScaling,
    fromTranslation: () => fromTranslation,
    fromValues: () => fromValues,
    fromXRotation: () => fromXRotation,
    fromYRotation: () => fromYRotation,
    fromZRotation: () => fromZRotation,
    frustum: () => frustum,
    getRotation: () => getRotation,
    getScaling: () => getScaling,
    getTranslation: () => getTranslation,
    identity: () => identity,
    invert: () => invert,
    lookAt: () => lookAt,
    mul: () => mul,
    multiply: () => multiply,
    multiplyScalar: () => multiplyScalar,
    multiplyScalarAndAdd: () => multiplyScalarAndAdd,
    ortho: () => ortho,
    orthoNO: () => orthoNO,
    orthoZO: () => orthoZO,
    perspective: () => perspective,
    perspectiveFromFieldOfView: () => perspectiveFromFieldOfView,
    perspectiveNO: () => perspectiveNO,
    perspectiveZO: () => perspectiveZO,
    rotate: () => rotate,
    rotateX: () => rotateX,
    rotateY: () => rotateY,
    rotateZ: () => rotateZ,
    scale: () => scale,
    set: () => set,
    str: () => str,
    sub: () => sub,
    subtract: () => subtract,
    targetTo: () => targetTo,
    translate: () => translate,
    transpose: () => transpose
  });
  function create2() {
    var out = new ARRAY_TYPE(16);
    if (ARRAY_TYPE != Float32Array) {
      out[1] = 0;
      out[2] = 0;
      out[3] = 0;
      out[4] = 0;
      out[6] = 0;
      out[7] = 0;
      out[8] = 0;
      out[9] = 0;
      out[11] = 0;
      out[12] = 0;
      out[13] = 0;
      out[14] = 0;
    }
    out[0] = 1;
    out[5] = 1;
    out[10] = 1;
    out[15] = 1;
    return out;
  }
  function clone(a) {
    var out = new ARRAY_TYPE(16);
    out[0] = a[0];
    out[1] = a[1];
    out[2] = a[2];
    out[3] = a[3];
    out[4] = a[4];
    out[5] = a[5];
    out[6] = a[6];
    out[7] = a[7];
    out[8] = a[8];
    out[9] = a[9];
    out[10] = a[10];
    out[11] = a[11];
    out[12] = a[12];
    out[13] = a[13];
    out[14] = a[14];
    out[15] = a[15];
    return out;
  }
  function copy(out, a) {
    out[0] = a[0];
    out[1] = a[1];
    out[2] = a[2];
    out[3] = a[3];
    out[4] = a[4];
    out[5] = a[5];
    out[6] = a[6];
    out[7] = a[7];
    out[8] = a[8];
    out[9] = a[9];
    out[10] = a[10];
    out[11] = a[11];
    out[12] = a[12];
    out[13] = a[13];
    out[14] = a[14];
    out[15] = a[15];
    return out;
  }
  function fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {
    var out = new ARRAY_TYPE(16);
    out[0] = m00;
    out[1] = m01;
    out[2] = m02;
    out[3] = m03;
    out[4] = m10;
    out[5] = m11;
    out[6] = m12;
    out[7] = m13;
    out[8] = m20;
    out[9] = m21;
    out[10] = m22;
    out[11] = m23;
    out[12] = m30;
    out[13] = m31;
    out[14] = m32;
    out[15] = m33;
    return out;
  }
  function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {
    out[0] = m00;
    out[1] = m01;
    out[2] = m02;
    out[3] = m03;
    out[4] = m10;
    out[5] = m11;
    out[6] = m12;
    out[7] = m13;
    out[8] = m20;
    out[9] = m21;
    out[10] = m22;
    out[11] = m23;
    out[12] = m30;
    out[13] = m31;
    out[14] = m32;
    out[15] = m33;
    return out;
  }
  function identity(out) {
    out[0] = 1;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = 1;
    out[6] = 0;
    out[7] = 0;
    out[8] = 0;
    out[9] = 0;
    out[10] = 1;
    out[11] = 0;
    out[12] = 0;
    out[13] = 0;
    out[14] = 0;
    out[15] = 1;
    return out;
  }
  function transpose(out, a) {
    if (out === a) {
      var a01 = a[1], a02 = a[2], a03 = a[3];
      var a12 = a[6], a13 = a[7];
      var a23 = a[11];
      out[1] = a[4];
      out[2] = a[8];
      out[3] = a[12];
      out[4] = a01;
      out[6] = a[9];
      out[7] = a[13];
      out[8] = a02;
      out[9] = a12;
      out[11] = a[14];
      out[12] = a03;
      out[13] = a13;
      out[14] = a23;
    } else {
      out[0] = a[0];
      out[1] = a[4];
      out[2] = a[8];
      out[3] = a[12];
      out[4] = a[1];
      out[5] = a[5];
      out[6] = a[9];
      out[7] = a[13];
      out[8] = a[2];
      out[9] = a[6];
      out[10] = a[10];
      out[11] = a[14];
      out[12] = a[3];
      out[13] = a[7];
      out[14] = a[11];
      out[15] = a[15];
    }
    return out;
  }
  function invert(out, a) {
    var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3];
    var a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7];
    var a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11];
    var a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];
    var b00 = a00 * a11 - a01 * a10;
    var b01 = a00 * a12 - a02 * a10;
    var b02 = a00 * a13 - a03 * a10;
    var b03 = a01 * a12 - a02 * a11;
    var b04 = a01 * a13 - a03 * a11;
    var b05 = a02 * a13 - a03 * a12;
    var b06 = a20 * a31 - a21 * a30;
    var b07 = a20 * a32 - a22 * a30;
    var b08 = a20 * a33 - a23 * a30;
    var b09 = a21 * a32 - a22 * a31;
    var b10 = a21 * a33 - a23 * a31;
    var b11 = a22 * a33 - a23 * a32;
    var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;
    if (!det) {
      return null;
    }
    det = 1 / det;
    out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;
    out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;
    out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;
    out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;
    out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;
    out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;
    out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;
    out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;
    out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;
    out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;
    out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;
    out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;
    out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;
    out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;
    out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;
    out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;
    return out;
  }
  function adjoint(out, a) {
    var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3];
    var a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7];
    var a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11];
    var a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];
    out[0] = a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22);
    out[1] = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));
    out[2] = a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12);
    out[3] = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));
    out[4] = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));
    out[5] = a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22);
    out[6] = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));
    out[7] = a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12);
    out[8] = a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21);
    out[9] = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));
    out[10] = a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11);
    out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));
    out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));
    out[13] = a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21);
    out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));
    out[15] = a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11);
    return out;
  }
  function determinant(a) {
    var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3];
    var a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7];
    var a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11];
    var a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];
    var b00 = a00 * a11 - a01 * a10;
    var b01 = a00 * a12 - a02 * a10;
    var b02 = a00 * a13 - a03 * a10;
    var b03 = a01 * a12 - a02 * a11;
    var b04 = a01 * a13 - a03 * a11;
    var b05 = a02 * a13 - a03 * a12;
    var b06 = a20 * a31 - a21 * a30;
    var b07 = a20 * a32 - a22 * a30;
    var b08 = a20 * a33 - a23 * a30;
    var b09 = a21 * a32 - a22 * a31;
    var b10 = a21 * a33 - a23 * a31;
    var b11 = a22 * a33 - a23 * a32;
    return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;
  }
  function multiply(out, a, b) {
    var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3];
    var a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7];
    var a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11];
    var a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];
    var b0 = b[0], b1 = b[1], b2 = b[2], b3 = b[3];
    out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;
    out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;
    out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;
    out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;
    b0 = b[4];
    b1 = b[5];
    b2 = b[6];
    b3 = b[7];
    out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;
    out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;
    out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;
    out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;
    b0 = b[8];
    b1 = b[9];
    b2 = b[10];
    b3 = b[11];
    out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;
    out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;
    out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;
    out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;
    b0 = b[12];
    b1 = b[13];
    b2 = b[14];
    b3 = b[15];
    out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;
    out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;
    out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;
    out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;
    return out;
  }
  function translate(out, a, v) {
    var x = v[0], y = v[1], z = v[2];
    var a00, a01, a02, a03;
    var a10, a11, a12, a13;
    var a20, a21, a22, a23;
    if (a === out) {
      out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];
      out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];
      out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];
      out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];
    } else {
      a00 = a[0];
      a01 = a[1];
      a02 = a[2];
      a03 = a[3];
      a10 = a[4];
      a11 = a[5];
      a12 = a[6];
      a13 = a[7];
      a20 = a[8];
      a21 = a[9];
      a22 = a[10];
      a23 = a[11];
      out[0] = a00;
      out[1] = a01;
      out[2] = a02;
      out[3] = a03;
      out[4] = a10;
      out[5] = a11;
      out[6] = a12;
      out[7] = a13;
      out[8] = a20;
      out[9] = a21;
      out[10] = a22;
      out[11] = a23;
      out[12] = a00 * x + a10 * y + a20 * z + a[12];
      out[13] = a01 * x + a11 * y + a21 * z + a[13];
      out[14] = a02 * x + a12 * y + a22 * z + a[14];
      out[15] = a03 * x + a13 * y + a23 * z + a[15];
    }
    return out;
  }
  function scale(out, a, v) {
    var x = v[0], y = v[1], z = v[2];
    out[0] = a[0] * x;
    out[1] = a[1] * x;
    out[2] = a[2] * x;
    out[3] = a[3] * x;
    out[4] = a[4] * y;
    out[5] = a[5] * y;
    out[6] = a[6] * y;
    out[7] = a[7] * y;
    out[8] = a[8] * z;
    out[9] = a[9] * z;
    out[10] = a[10] * z;
    out[11] = a[11] * z;
    out[12] = a[12];
    out[13] = a[13];
    out[14] = a[14];
    out[15] = a[15];
    return out;
  }
  function rotate(out, a, rad, axis) {
    var x = axis[0], y = axis[1], z = axis[2];
    var len4 = Math.hypot(x, y, z);
    var s, c, t;
    var a00, a01, a02, a03;
    var a10, a11, a12, a13;
    var a20, a21, a22, a23;
    var b00, b01, b02;
    var b10, b11, b12;
    var b20, b21, b22;
    if (len4 < EPSILON) {
      return null;
    }
    len4 = 1 / len4;
    x *= len4;
    y *= len4;
    z *= len4;
    s = Math.sin(rad);
    c = Math.cos(rad);
    t = 1 - c;
    a00 = a[0];
    a01 = a[1];
    a02 = a[2];
    a03 = a[3];
    a10 = a[4];
    a11 = a[5];
    a12 = a[6];
    a13 = a[7];
    a20 = a[8];
    a21 = a[9];
    a22 = a[10];
    a23 = a[11];
    b00 = x * x * t + c;
    b01 = y * x * t + z * s;
    b02 = z * x * t - y * s;
    b10 = x * y * t - z * s;
    b11 = y * y * t + c;
    b12 = z * y * t + x * s;
    b20 = x * z * t + y * s;
    b21 = y * z * t - x * s;
    b22 = z * z * t + c;
    out[0] = a00 * b00 + a10 * b01 + a20 * b02;
    out[1] = a01 * b00 + a11 * b01 + a21 * b02;
    out[2] = a02 * b00 + a12 * b01 + a22 * b02;
    out[3] = a03 * b00 + a13 * b01 + a23 * b02;
    out[4] = a00 * b10 + a10 * b11 + a20 * b12;
    out[5] = a01 * b10 + a11 * b11 + a21 * b12;
    out[6] = a02 * b10 + a12 * b11 + a22 * b12;
    out[7] = a03 * b10 + a13 * b11 + a23 * b12;
    out[8] = a00 * b20 + a10 * b21 + a20 * b22;
    out[9] = a01 * b20 + a11 * b21 + a21 * b22;
    out[10] = a02 * b20 + a12 * b21 + a22 * b22;
    out[11] = a03 * b20 + a13 * b21 + a23 * b22;
    if (a !== out) {
      out[12] = a[12];
      out[13] = a[13];
      out[14] = a[14];
      out[15] = a[15];
    }
    return out;
  }
  function rotateX(out, a, rad) {
    var s = Math.sin(rad);
    var c = Math.cos(rad);
    var a10 = a[4];
    var a11 = a[5];
    var a12 = a[6];
    var a13 = a[7];
    var a20 = a[8];
    var a21 = a[9];
    var a22 = a[10];
    var a23 = a[11];
    if (a !== out) {
      out[0] = a[0];
      out[1] = a[1];
      out[2] = a[2];
      out[3] = a[3];
      out[12] = a[12];
      out[13] = a[13];
      out[14] = a[14];
      out[15] = a[15];
    }
    out[4] = a10 * c + a20 * s;
    out[5] = a11 * c + a21 * s;
    out[6] = a12 * c + a22 * s;
    out[7] = a13 * c + a23 * s;
    out[8] = a20 * c - a10 * s;
    out[9] = a21 * c - a11 * s;
    out[10] = a22 * c - a12 * s;
    out[11] = a23 * c - a13 * s;
    return out;
  }
  function rotateY(out, a, rad) {
    var s = Math.sin(rad);
    var c = Math.cos(rad);
    var a00 = a[0];
    var a01 = a[1];
    var a02 = a[2];
    var a03 = a[3];
    var a20 = a[8];
    var a21 = a[9];
    var a22 = a[10];
    var a23 = a[11];
    if (a !== out) {
      out[4] = a[4];
      out[5] = a[5];
      out[6] = a[6];
      out[7] = a[7];
      out[12] = a[12];
      out[13] = a[13];
      out[14] = a[14];
      out[15] = a[15];
    }
    out[0] = a00 * c - a20 * s;
    out[1] = a01 * c - a21 * s;
    out[2] = a02 * c - a22 * s;
    out[3] = a03 * c - a23 * s;
    out[8] = a00 * s + a20 * c;
    out[9] = a01 * s + a21 * c;
    out[10] = a02 * s + a22 * c;
    out[11] = a03 * s + a23 * c;
    return out;
  }
  function rotateZ(out, a, rad) {
    var s = Math.sin(rad);
    var c = Math.cos(rad);
    var a00 = a[0];
    var a01 = a[1];
    var a02 = a[2];
    var a03 = a[3];
    var a10 = a[4];
    var a11 = a[5];
    var a12 = a[6];
    var a13 = a[7];
    if (a !== out) {
      out[8] = a[8];
      out[9] = a[9];
      out[10] = a[10];
      out[11] = a[11];
      out[12] = a[12];
      out[13] = a[13];
      out[14] = a[14];
      out[15] = a[15];
    }
    out[0] = a00 * c + a10 * s;
    out[1] = a01 * c + a11 * s;
    out[2] = a02 * c + a12 * s;
    out[3] = a03 * c + a13 * s;
    out[4] = a10 * c - a00 * s;
    out[5] = a11 * c - a01 * s;
    out[6] = a12 * c - a02 * s;
    out[7] = a13 * c - a03 * s;
    return out;
  }
  function fromTranslation(out, v) {
    out[0] = 1;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = 1;
    out[6] = 0;
    out[7] = 0;
    out[8] = 0;
    out[9] = 0;
    out[10] = 1;
    out[11] = 0;
    out[12] = v[0];
    out[13] = v[1];
    out[14] = v[2];
    out[15] = 1;
    return out;
  }
  function fromScaling(out, v) {
    out[0] = v[0];
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = v[1];
    out[6] = 0;
    out[7] = 0;
    out[8] = 0;
    out[9] = 0;
    out[10] = v[2];
    out[11] = 0;
    out[12] = 0;
    out[13] = 0;
    out[14] = 0;
    out[15] = 1;
    return out;
  }
  function fromRotation(out, rad, axis) {
    var x = axis[0], y = axis[1], z = axis[2];
    var len4 = Math.hypot(x, y, z);
    var s, c, t;
    if (len4 < EPSILON) {
      return null;
    }
    len4 = 1 / len4;
    x *= len4;
    y *= len4;
    z *= len4;
    s = Math.sin(rad);
    c = Math.cos(rad);
    t = 1 - c;
    out[0] = x * x * t + c;
    out[1] = y * x * t + z * s;
    out[2] = z * x * t - y * s;
    out[3] = 0;
    out[4] = x * y * t - z * s;
    out[5] = y * y * t + c;
    out[6] = z * y * t + x * s;
    out[7] = 0;
    out[8] = x * z * t + y * s;
    out[9] = y * z * t - x * s;
    out[10] = z * z * t + c;
    out[11] = 0;
    out[12] = 0;
    out[13] = 0;
    out[14] = 0;
    out[15] = 1;
    return out;
  }
  function fromXRotation(out, rad) {
    var s = Math.sin(rad);
    var c = Math.cos(rad);
    out[0] = 1;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = c;
    out[6] = s;
    out[7] = 0;
    out[8] = 0;
    out[9] = -s;
    out[10] = c;
    out[11] = 0;
    out[12] = 0;
    out[13] = 0;
    out[14] = 0;
    out[15] = 1;
    return out;
  }
  function fromYRotation(out, rad) {
    var s = Math.sin(rad);
    var c = Math.cos(rad);
    out[0] = c;
    out[1] = 0;
    out[2] = -s;
    out[3] = 0;
    out[4] = 0;
    out[5] = 1;
    out[6] = 0;
    out[7] = 0;
    out[8] = s;
    out[9] = 0;
    out[10] = c;
    out[11] = 0;
    out[12] = 0;
    out[13] = 0;
    out[14] = 0;
    out[15] = 1;
    return out;
  }
  function fromZRotation(out, rad) {
    var s = Math.sin(rad);
    var c = Math.cos(rad);
    out[0] = c;
    out[1] = s;
    out[2] = 0;
    out[3] = 0;
    out[4] = -s;
    out[5] = c;
    out[6] = 0;
    out[7] = 0;
    out[8] = 0;
    out[9] = 0;
    out[10] = 1;
    out[11] = 0;
    out[12] = 0;
    out[13] = 0;
    out[14] = 0;
    out[15] = 1;
    return out;
  }
  function fromRotationTranslation(out, q, v) {
    var x = q[0], y = q[1], z = q[2], w = q[3];
    var x2 = x + x;
    var y2 = y + y;
    var z2 = z + z;
    var xx = x * x2;
    var xy = x * y2;
    var xz = x * z2;
    var yy = y * y2;
    var yz = y * z2;
    var zz = z * z2;
    var wx = w * x2;
    var wy = w * y2;
    var wz = w * z2;
    out[0] = 1 - (yy + zz);
    out[1] = xy + wz;
    out[2] = xz - wy;
    out[3] = 0;
    out[4] = xy - wz;
    out[5] = 1 - (xx + zz);
    out[6] = yz + wx;
    out[7] = 0;
    out[8] = xz + wy;
    out[9] = yz - wx;
    out[10] = 1 - (xx + yy);
    out[11] = 0;
    out[12] = v[0];
    out[13] = v[1];
    out[14] = v[2];
    out[15] = 1;
    return out;
  }
  function fromQuat2(out, a) {
    var translation = new ARRAY_TYPE(3);
    var bx = -a[0], by = -a[1], bz = -a[2], bw = a[3], ax = a[4], ay = a[5], az = a[6], aw = a[7];
    var magnitude = bx * bx + by * by + bz * bz + bw * bw;
    if (magnitude > 0) {
      translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;
      translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;
      translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;
    } else {
      translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;
      translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;
      translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;
    }
    fromRotationTranslation(out, a, translation);
    return out;
  }
  function getTranslation(out, mat) {
    out[0] = mat[12];
    out[1] = mat[13];
    out[2] = mat[14];
    return out;
  }
  function getScaling(out, mat) {
    var m11 = mat[0];
    var m12 = mat[1];
    var m13 = mat[2];
    var m21 = mat[4];
    var m22 = mat[5];
    var m23 = mat[6];
    var m31 = mat[8];
    var m32 = mat[9];
    var m33 = mat[10];
    out[0] = Math.hypot(m11, m12, m13);
    out[1] = Math.hypot(m21, m22, m23);
    out[2] = Math.hypot(m31, m32, m33);
    return out;
  }
  function getRotation(out, mat) {
    var scaling = new ARRAY_TYPE(3);
    getScaling(scaling, mat);
    var is1 = 1 / scaling[0];
    var is2 = 1 / scaling[1];
    var is3 = 1 / scaling[2];
    var sm11 = mat[0] * is1;
    var sm12 = mat[1] * is2;
    var sm13 = mat[2] * is3;
    var sm21 = mat[4] * is1;
    var sm22 = mat[5] * is2;
    var sm23 = mat[6] * is3;
    var sm31 = mat[8] * is1;
    var sm32 = mat[9] * is2;
    var sm33 = mat[10] * is3;
    var trace = sm11 + sm22 + sm33;
    var S = 0;
    if (trace > 0) {
      S = Math.sqrt(trace + 1) * 2;
      out[3] = 0.25 * S;
      out[0] = (sm23 - sm32) / S;
      out[1] = (sm31 - sm13) / S;
      out[2] = (sm12 - sm21) / S;
    } else if (sm11 > sm22 && sm11 > sm33) {
      S = Math.sqrt(1 + sm11 - sm22 - sm33) * 2;
      out[3] = (sm23 - sm32) / S;
      out[0] = 0.25 * S;
      out[1] = (sm12 + sm21) / S;
      out[2] = (sm31 + sm13) / S;
    } else if (sm22 > sm33) {
      S = Math.sqrt(1 + sm22 - sm11 - sm33) * 2;
      out[3] = (sm31 - sm13) / S;
      out[0] = (sm12 + sm21) / S;
      out[1] = 0.25 * S;
      out[2] = (sm23 + sm32) / S;
    } else {
      S = Math.sqrt(1 + sm33 - sm11 - sm22) * 2;
      out[3] = (sm12 - sm21) / S;
      out[0] = (sm31 + sm13) / S;
      out[1] = (sm23 + sm32) / S;
      out[2] = 0.25 * S;
    }
    return out;
  }
  function fromRotationTranslationScale(out, q, v, s) {
    var x = q[0], y = q[1], z = q[2], w = q[3];
    var x2 = x + x;
    var y2 = y + y;
    var z2 = z + z;
    var xx = x * x2;
    var xy = x * y2;
    var xz = x * z2;
    var yy = y * y2;
    var yz = y * z2;
    var zz = z * z2;
    var wx = w * x2;
    var wy = w * y2;
    var wz = w * z2;
    var sx = s[0];
    var sy = s[1];
    var sz = s[2];
    out[0] = (1 - (yy + zz)) * sx;
    out[1] = (xy + wz) * sx;
    out[2] = (xz - wy) * sx;
    out[3] = 0;
    out[4] = (xy - wz) * sy;
    out[5] = (1 - (xx + zz)) * sy;
    out[6] = (yz + wx) * sy;
    out[7] = 0;
    out[8] = (xz + wy) * sz;
    out[9] = (yz - wx) * sz;
    out[10] = (1 - (xx + yy)) * sz;
    out[11] = 0;
    out[12] = v[0];
    out[13] = v[1];
    out[14] = v[2];
    out[15] = 1;
    return out;
  }
  function fromRotationTranslationScaleOrigin(out, q, v, s, o) {
    var x = q[0], y = q[1], z = q[2], w = q[3];
    var x2 = x + x;
    var y2 = y + y;
    var z2 = z + z;
    var xx = x * x2;
    var xy = x * y2;
    var xz = x * z2;
    var yy = y * y2;
    var yz = y * z2;
    var zz = z * z2;
    var wx = w * x2;
    var wy = w * y2;
    var wz = w * z2;
    var sx = s[0];
    var sy = s[1];
    var sz = s[2];
    var ox = o[0];
    var oy = o[1];
    var oz = o[2];
    var out0 = (1 - (yy + zz)) * sx;
    var out1 = (xy + wz) * sx;
    var out2 = (xz - wy) * sx;
    var out4 = (xy - wz) * sy;
    var out5 = (1 - (xx + zz)) * sy;
    var out6 = (yz + wx) * sy;
    var out8 = (xz + wy) * sz;
    var out9 = (yz - wx) * sz;
    var out10 = (1 - (xx + yy)) * sz;
    out[0] = out0;
    out[1] = out1;
    out[2] = out2;
    out[3] = 0;
    out[4] = out4;
    out[5] = out5;
    out[6] = out6;
    out[7] = 0;
    out[8] = out8;
    out[9] = out9;
    out[10] = out10;
    out[11] = 0;
    out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);
    out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);
    out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);
    out[15] = 1;
    return out;
  }
  function fromQuat(out, q) {
    var x = q[0], y = q[1], z = q[2], w = q[3];
    var x2 = x + x;
    var y2 = y + y;
    var z2 = z + z;
    var xx = x * x2;
    var yx = y * x2;
    var yy = y * y2;
    var zx = z * x2;
    var zy = z * y2;
    var zz = z * z2;
    var wx = w * x2;
    var wy = w * y2;
    var wz = w * z2;
    out[0] = 1 - yy - zz;
    out[1] = yx + wz;
    out[2] = zx - wy;
    out[3] = 0;
    out[4] = yx - wz;
    out[5] = 1 - xx - zz;
    out[6] = zy + wx;
    out[7] = 0;
    out[8] = zx + wy;
    out[9] = zy - wx;
    out[10] = 1 - xx - yy;
    out[11] = 0;
    out[12] = 0;
    out[13] = 0;
    out[14] = 0;
    out[15] = 1;
    return out;
  }
  function frustum(out, left, right, bottom, top, near, far) {
    var rl = 1 / (right - left);
    var tb = 1 / (top - bottom);
    var nf = 1 / (near - far);
    out[0] = near * 2 * rl;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = near * 2 * tb;
    out[6] = 0;
    out[7] = 0;
    out[8] = (right + left) * rl;
    out[9] = (top + bottom) * tb;
    out[10] = (far + near) * nf;
    out[11] = -1;
    out[12] = 0;
    out[13] = 0;
    out[14] = far * near * 2 * nf;
    out[15] = 0;
    return out;
  }
  function perspectiveNO(out, fovy, aspect, near, far) {
    var f = 1 / Math.tan(fovy / 2), nf;
    out[0] = f / aspect;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = f;
    out[6] = 0;
    out[7] = 0;
    out[8] = 0;
    out[9] = 0;
    out[11] = -1;
    out[12] = 0;
    out[13] = 0;
    out[15] = 0;
    if (far != null && far !== Infinity) {
      nf = 1 / (near - far);
      out[10] = (far + near) * nf;
      out[14] = 2 * far * near * nf;
    } else {
      out[10] = -1;
      out[14] = -2 * near;
    }
    return out;
  }
  var perspective = perspectiveNO;
  function perspectiveZO(out, fovy, aspect, near, far) {
    var f = 1 / Math.tan(fovy / 2), nf;
    out[0] = f / aspect;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = f;
    out[6] = 0;
    out[7] = 0;
    out[8] = 0;
    out[9] = 0;
    out[11] = -1;
    out[12] = 0;
    out[13] = 0;
    out[15] = 0;
    if (far != null && far !== Infinity) {
      nf = 1 / (near - far);
      out[10] = far * nf;
      out[14] = far * near * nf;
    } else {
      out[10] = -1;
      out[14] = -near;
    }
    return out;
  }
  function perspectiveFromFieldOfView(out, fov, near, far) {
    var upTan = Math.tan(fov.upDegrees * Math.PI / 180);
    var downTan = Math.tan(fov.downDegrees * Math.PI / 180);
    var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180);
    var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180);
    var xScale = 2 / (leftTan + rightTan);
    var yScale = 2 / (upTan + downTan);
    out[0] = xScale;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = yScale;
    out[6] = 0;
    out[7] = 0;
    out[8] = -((leftTan - rightTan) * xScale * 0.5);
    out[9] = (upTan - downTan) * yScale * 0.5;
    out[10] = far / (near - far);
    out[11] = -1;
    out[12] = 0;
    out[13] = 0;
    out[14] = far * near / (near - far);
    out[15] = 0;
    return out;
  }
  function orthoNO(out, left, right, bottom, top, near, far) {
    var lr = 1 / (left - right);
    var bt = 1 / (bottom - top);
    var nf = 1 / (near - far);
    out[0] = -2 * lr;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = -2 * bt;
    out[6] = 0;
    out[7] = 0;
    out[8] = 0;
    out[9] = 0;
    out[10] = 2 * nf;
    out[11] = 0;
    out[12] = (left + right) * lr;
    out[13] = (top + bottom) * bt;
    out[14] = (far + near) * nf;
    out[15] = 1;
    return out;
  }
  var ortho = orthoNO;
  function orthoZO(out, left, right, bottom, top, near, far) {
    var lr = 1 / (left - right);
    var bt = 1 / (bottom - top);
    var nf = 1 / (near - far);
    out[0] = -2 * lr;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = -2 * bt;
    out[6] = 0;
    out[7] = 0;
    out[8] = 0;
    out[9] = 0;
    out[10] = nf;
    out[11] = 0;
    out[12] = (left + right) * lr;
    out[13] = (top + bottom) * bt;
    out[14] = near * nf;
    out[15] = 1;
    return out;
  }
  function lookAt(out, eye, center, up) {
    var x0, x1, x2, y0, y1, y2, z0, z1, z2, len4;
    var eyex = eye[0];
    var eyey = eye[1];
    var eyez = eye[2];
    var upx = up[0];
    var upy = up[1];
    var upz = up[2];
    var centerx = center[0];
    var centery = center[1];
    var centerz = center[2];
    if (Math.abs(eyex - centerx) < EPSILON && Math.abs(eyey - centery) < EPSILON && Math.abs(eyez - centerz) < EPSILON) {
      return identity(out);
    }
    z0 = eyex - centerx;
    z1 = eyey - centery;
    z2 = eyez - centerz;
    len4 = 1 / Math.hypot(z0, z1, z2);
    z0 *= len4;
    z1 *= len4;
    z2 *= len4;
    x0 = upy * z2 - upz * z1;
    x1 = upz * z0 - upx * z2;
    x2 = upx * z1 - upy * z0;
    len4 = Math.hypot(x0, x1, x2);
    if (!len4) {
      x0 = 0;
      x1 = 0;
      x2 = 0;
    } else {
      len4 = 1 / len4;
      x0 *= len4;
      x1 *= len4;
      x2 *= len4;
    }
    y0 = z1 * x2 - z2 * x1;
    y1 = z2 * x0 - z0 * x2;
    y2 = z0 * x1 - z1 * x0;
    len4 = Math.hypot(y0, y1, y2);
    if (!len4) {
      y0 = 0;
      y1 = 0;
      y2 = 0;
    } else {
      len4 = 1 / len4;
      y0 *= len4;
      y1 *= len4;
      y2 *= len4;
    }
    out[0] = x0;
    out[1] = y0;
    out[2] = z0;
    out[3] = 0;
    out[4] = x1;
    out[5] = y1;
    out[6] = z1;
    out[7] = 0;
    out[8] = x2;
    out[9] = y2;
    out[10] = z2;
    out[11] = 0;
    out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);
    out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);
    out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);
    out[15] = 1;
    return out;
  }
  function targetTo(out, eye, target, up) {
    var eyex = eye[0], eyey = eye[1], eyez = eye[2], upx = up[0], upy = up[1], upz = up[2];
    var z0 = eyex - target[0], z1 = eyey - target[1], z2 = eyez - target[2];
    var len4 = z0 * z0 + z1 * z1 + z2 * z2;
    if (len4 > 0) {
      len4 = 1 / Math.sqrt(len4);
      z0 *= len4;
      z1 *= len4;
      z2 *= len4;
    }
    var x0 = upy * z2 - upz * z1, x1 = upz * z0 - upx * z2, x2 = upx * z1 - upy * z0;
    len4 = x0 * x0 + x1 * x1 + x2 * x2;
    if (len4 > 0) {
      len4 = 1 / Math.sqrt(len4);
      x0 *= len4;
      x1 *= len4;
      x2 *= len4;
    }
    out[0] = x0;
    out[1] = x1;
    out[2] = x2;
    out[3] = 0;
    out[4] = z1 * x2 - z2 * x1;
    out[5] = z2 * x0 - z0 * x2;
    out[6] = z0 * x1 - z1 * x0;
    out[7] = 0;
    out[8] = z0;
    out[9] = z1;
    out[10] = z2;
    out[11] = 0;
    out[12] = eyex;
    out[13] = eyey;
    out[14] = eyez;
    out[15] = 1;
    return out;
  }
  function str(a) {
    return "mat4(" + a[0] + ", " + a[1] + ", " + a[2] + ", " + a[3] + ", " + a[4] + ", " + a[5] + ", " + a[6] + ", " + a[7] + ", " + a[8] + ", " + a[9] + ", " + a[10] + ", " + a[11] + ", " + a[12] + ", " + a[13] + ", " + a[14] + ", " + a[15] + ")";
  }
  function frob(a) {
    return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15]);
  }
  function add(out, a, b) {
    out[0] = a[0] + b[0];
    out[1] = a[1] + b[1];
    out[2] = a[2] + b[2];
    out[3] = a[3] + b[3];
    out[4] = a[4] + b[4];
    out[5] = a[5] + b[5];
    out[6] = a[6] + b[6];
    out[7] = a[7] + b[7];
    out[8] = a[8] + b[8];
    out[9] = a[9] + b[9];
    out[10] = a[10] + b[10];
    out[11] = a[11] + b[11];
    out[12] = a[12] + b[12];
    out[13] = a[13] + b[13];
    out[14] = a[14] + b[14];
    out[15] = a[15] + b[15];
    return out;
  }
  function subtract(out, a, b) {
    out[0] = a[0] - b[0];
    out[1] = a[1] - b[1];
    out[2] = a[2] - b[2];
    out[3] = a[3] - b[3];
    out[4] = a[4] - b[4];
    out[5] = a[5] - b[5];
    out[6] = a[6] - b[6];
    out[7] = a[7] - b[7];
    out[8] = a[8] - b[8];
    out[9] = a[9] - b[9];
    out[10] = a[10] - b[10];
    out[11] = a[11] - b[11];
    out[12] = a[12] - b[12];
    out[13] = a[13] - b[13];
    out[14] = a[14] - b[14];
    out[15] = a[15] - b[15];
    return out;
  }
  function multiplyScalar(out, a, b) {
    out[0] = a[0] * b;
    out[1] = a[1] * b;
    out[2] = a[2] * b;
    out[3] = a[3] * b;
    out[4] = a[4] * b;
    out[5] = a[5] * b;
    out[6] = a[6] * b;
    out[7] = a[7] * b;
    out[8] = a[8] * b;
    out[9] = a[9] * b;
    out[10] = a[10] * b;
    out[11] = a[11] * b;
    out[12] = a[12] * b;
    out[13] = a[13] * b;
    out[14] = a[14] * b;
    out[15] = a[15] * b;
    return out;
  }
  function multiplyScalarAndAdd(out, a, b, scale6) {
    out[0] = a[0] + b[0] * scale6;
    out[1] = a[1] + b[1] * scale6;
    out[2] = a[2] + b[2] * scale6;
    out[3] = a[3] + b[3] * scale6;
    out[4] = a[4] + b[4] * scale6;
    out[5] = a[5] + b[5] * scale6;
    out[6] = a[6] + b[6] * scale6;
    out[7] = a[7] + b[7] * scale6;
    out[8] = a[8] + b[8] * scale6;
    out[9] = a[9] + b[9] * scale6;
    out[10] = a[10] + b[10] * scale6;
    out[11] = a[11] + b[11] * scale6;
    out[12] = a[12] + b[12] * scale6;
    out[13] = a[13] + b[13] * scale6;
    out[14] = a[14] + b[14] * scale6;
    out[15] = a[15] + b[15] * scale6;
    return out;
  }
  function exactEquals(a, b) {
    return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];
  }
  function equals(a, b) {
    var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3];
    var a4 = a[4], a5 = a[5], a6 = a[6], a7 = a[7];
    var a8 = a[8], a9 = a[9], a10 = a[10], a11 = a[11];
    var a12 = a[12], a13 = a[13], a14 = a[14], a15 = a[15];
    var b0 = b[0], b1 = b[1], b2 = b[2], b3 = b[3];
    var b4 = b[4], b5 = b[5], b6 = b[6], b7 = b[7];
    var b8 = b[8], b9 = b[9], b10 = b[10], b11 = b[11];
    var b12 = b[12], b13 = b[13], b14 = b[14], b15 = b[15];
    return Math.abs(a0 - b0) <= EPSILON * Math.max(1, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= EPSILON * Math.max(1, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= EPSILON * Math.max(1, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= EPSILON * Math.max(1, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= EPSILON * Math.max(1, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= EPSILON * Math.max(1, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= EPSILON * Math.max(1, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= EPSILON * Math.max(1, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= EPSILON * Math.max(1, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= EPSILON * Math.max(1, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= EPSILON * Math.max(1, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= EPSILON * Math.max(1, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= EPSILON * Math.max(1, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= EPSILON * Math.max(1, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= EPSILON * Math.max(1, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= EPSILON * Math.max(1, Math.abs(a15), Math.abs(b15));
  }
  var mul = multiply;
  var sub = subtract;

  // E:/git/Test_WonderlandEngine/node_modules/gl-matrix/esm/quat.js
  var quat_exports = {};
  __export(quat_exports, {
    add: () => add4,
    calculateW: () => calculateW,
    clone: () => clone4,
    conjugate: () => conjugate,
    copy: () => copy4,
    create: () => create5,
    dot: () => dot3,
    equals: () => equals4,
    exactEquals: () => exactEquals4,
    exp: () => exp,
    fromEuler: () => fromEuler,
    fromMat3: () => fromMat3,
    fromValues: () => fromValues4,
    getAngle: () => getAngle,
    getAxisAngle: () => getAxisAngle,
    identity: () => identity2,
    invert: () => invert2,
    len: () => len2,
    length: () => length3,
    lerp: () => lerp3,
    ln: () => ln,
    mul: () => mul3,
    multiply: () => multiply3,
    normalize: () => normalize3,
    pow: () => pow,
    random: () => random2,
    rotateX: () => rotateX3,
    rotateY: () => rotateY3,
    rotateZ: () => rotateZ3,
    rotationTo: () => rotationTo,
    scale: () => scale4,
    set: () => set4,
    setAxes: () => setAxes,
    setAxisAngle: () => setAxisAngle,
    slerp: () => slerp,
    sqlerp: () => sqlerp,
    sqrLen: () => sqrLen2,
    squaredLength: () => squaredLength3,
    str: () => str3
  });

  // E:/git/Test_WonderlandEngine/node_modules/gl-matrix/esm/vec3.js
  var vec3_exports = {};
  __export(vec3_exports, {
    add: () => add2,
    angle: () => angle,
    bezier: () => bezier,
    ceil: () => ceil,
    clone: () => clone2,
    copy: () => copy2,
    create: () => create3,
    cross: () => cross,
    dist: () => dist,
    distance: () => distance,
    div: () => div,
    divide: () => divide,
    dot: () => dot,
    equals: () => equals2,
    exactEquals: () => exactEquals2,
    floor: () => floor,
    forEach: () => forEach,
    fromValues: () => fromValues2,
    hermite: () => hermite,
    inverse: () => inverse,
    len: () => len,
    length: () => length,
    lerp: () => lerp,
    max: () => max,
    min: () => min,
    mul: () => mul2,
    multiply: () => multiply2,
    negate: () => negate,
    normalize: () => normalize,
    random: () => random,
    rotateX: () => rotateX2,
    rotateY: () => rotateY2,
    rotateZ: () => rotateZ2,
    round: () => round,
    scale: () => scale2,
    scaleAndAdd: () => scaleAndAdd,
    set: () => set2,
    sqrDist: () => sqrDist,
    sqrLen: () => sqrLen,
    squaredDistance: () => squaredDistance,
    squaredLength: () => squaredLength,
    str: () => str2,
    sub: () => sub2,
    subtract: () => subtract2,
    transformMat3: () => transformMat3,
    transformMat4: () => transformMat4,
    transformQuat: () => transformQuat,
    zero: () => zero
  });
  function create3() {
    var out = new ARRAY_TYPE(3);
    if (ARRAY_TYPE != Float32Array) {
      out[0] = 0;
      out[1] = 0;
      out[2] = 0;
    }
    return out;
  }
  function clone2(a) {
    var out = new ARRAY_TYPE(3);
    out[0] = a[0];
    out[1] = a[1];
    out[2] = a[2];
    return out;
  }
  function length(a) {
    var x = a[0];
    var y = a[1];
    var z = a[2];
    return Math.hypot(x, y, z);
  }
  function fromValues2(x, y, z) {
    var out = new ARRAY_TYPE(3);
    out[0] = x;
    out[1] = y;
    out[2] = z;
    return out;
  }
  function copy2(out, a) {
    out[0] = a[0];
    out[1] = a[1];
    out[2] = a[2];
    return out;
  }
  function set2(out, x, y, z) {
    out[0] = x;
    out[1] = y;
    out[2] = z;
    return out;
  }
  function add2(out, a, b) {
    out[0] = a[0] + b[0];
    out[1] = a[1] + b[1];
    out[2] = a[2] + b[2];
    return out;
  }
  function subtract2(out, a, b) {
    out[0] = a[0] - b[0];
    out[1] = a[1] - b[1];
    out[2] = a[2] - b[2];
    return out;
  }
  function multiply2(out, a, b) {
    out[0] = a[0] * b[0];
    out[1] = a[1] * b[1];
    out[2] = a[2] * b[2];
    return out;
  }
  function divide(out, a, b) {
    out[0] = a[0] / b[0];
    out[1] = a[1] / b[1];
    out[2] = a[2] / b[2];
    return out;
  }
  function ceil(out, a) {
    out[0] = Math.ceil(a[0]);
    out[1] = Math.ceil(a[1]);
    out[2] = Math.ceil(a[2]);
    return out;
  }
  function floor(out, a) {
    out[0] = Math.floor(a[0]);
    out[1] = Math.floor(a[1]);
    out[2] = Math.floor(a[2]);
    return out;
  }
  function min(out, a, b) {
    out[0] = Math.min(a[0], b[0]);
    out[1] = Math.min(a[1], b[1]);
    out[2] = Math.min(a[2], b[2]);
    return out;
  }
  function max(out, a, b) {
    out[0] = Math.max(a[0], b[0]);
    out[1] = Math.max(a[1], b[1]);
    out[2] = Math.max(a[2], b[2]);
    return out;
  }
  function round(out, a) {
    out[0] = Math.round(a[0]);
    out[1] = Math.round(a[1]);
    out[2] = Math.round(a[2]);
    return out;
  }
  function scale2(out, a, b) {
    out[0] = a[0] * b;
    out[1] = a[1] * b;
    out[2] = a[2] * b;
    return out;
  }
  function scaleAndAdd(out, a, b, scale6) {
    out[0] = a[0] + b[0] * scale6;
    out[1] = a[1] + b[1] * scale6;
    out[2] = a[2] + b[2] * scale6;
    return out;
  }
  function distance(a, b) {
    var x = b[0] - a[0];
    var y = b[1] - a[1];
    var z = b[2] - a[2];
    return Math.hypot(x, y, z);
  }
  function squaredDistance(a, b) {
    var x = b[0] - a[0];
    var y = b[1] - a[1];
    var z = b[2] - a[2];
    return x * x + y * y + z * z;
  }
  function squaredLength(a) {
    var x = a[0];
    var y = a[1];
    var z = a[2];
    return x * x + y * y + z * z;
  }
  function negate(out, a) {
    out[0] = -a[0];
    out[1] = -a[1];
    out[2] = -a[2];
    return out;
  }
  function inverse(out, a) {
    out[0] = 1 / a[0];
    out[1] = 1 / a[1];
    out[2] = 1 / a[2];
    return out;
  }
  function normalize(out, a) {
    var x = a[0];
    var y = a[1];
    var z = a[2];
    var len4 = x * x + y * y + z * z;
    if (len4 > 0) {
      len4 = 1 / Math.sqrt(len4);
    }
    out[0] = a[0] * len4;
    out[1] = a[1] * len4;
    out[2] = a[2] * len4;
    return out;
  }
  function dot(a, b) {
    return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
  }
  function cross(out, a, b) {
    var ax = a[0], ay = a[1], az = a[2];
    var bx = b[0], by = b[1], bz = b[2];
    out[0] = ay * bz - az * by;
    out[1] = az * bx - ax * bz;
    out[2] = ax * by - ay * bx;
    return out;
  }
  function lerp(out, a, b, t) {
    var ax = a[0];
    var ay = a[1];
    var az = a[2];
    out[0] = ax + t * (b[0] - ax);
    out[1] = ay + t * (b[1] - ay);
    out[2] = az + t * (b[2] - az);
    return out;
  }
  function hermite(out, a, b, c, d, t) {
    var factorTimes2 = t * t;
    var factor1 = factorTimes2 * (2 * t - 3) + 1;
    var factor2 = factorTimes2 * (t - 2) + t;
    var factor3 = factorTimes2 * (t - 1);
    var factor4 = factorTimes2 * (3 - 2 * t);
    out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;
    out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;
    out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;
    return out;
  }
  function bezier(out, a, b, c, d, t) {
    var inverseFactor = 1 - t;
    var inverseFactorTimesTwo = inverseFactor * inverseFactor;
    var factorTimes2 = t * t;
    var factor1 = inverseFactorTimesTwo * inverseFactor;
    var factor2 = 3 * t * inverseFactorTimesTwo;
    var factor3 = 3 * factorTimes2 * inverseFactor;
    var factor4 = factorTimes2 * t;
    out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;
    out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;
    out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;
    return out;
  }
  function random(out, scale6) {
    scale6 = scale6 || 1;
    var r = RANDOM() * 2 * Math.PI;
    var z = RANDOM() * 2 - 1;
    var zScale = Math.sqrt(1 - z * z) * scale6;
    out[0] = Math.cos(r) * zScale;
    out[1] = Math.sin(r) * zScale;
    out[2] = z * scale6;
    return out;
  }
  function transformMat4(out, a, m) {
    var x = a[0], y = a[1], z = a[2];
    var w = m[3] * x + m[7] * y + m[11] * z + m[15];
    w = w || 1;
    out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;
    out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;
    out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;
    return out;
  }
  function transformMat3(out, a, m) {
    var x = a[0], y = a[1], z = a[2];
    out[0] = x * m[0] + y * m[3] + z * m[6];
    out[1] = x * m[1] + y * m[4] + z * m[7];
    out[2] = x * m[2] + y * m[5] + z * m[8];
    return out;
  }
  function transformQuat(out, a, q) {
    var qx = q[0], qy = q[1], qz = q[2], qw = q[3];
    var x = a[0], y = a[1], z = a[2];
    var uvx = qy * z - qz * y, uvy = qz * x - qx * z, uvz = qx * y - qy * x;
    var uuvx = qy * uvz - qz * uvy, uuvy = qz * uvx - qx * uvz, uuvz = qx * uvy - qy * uvx;
    var w2 = qw * 2;
    uvx *= w2;
    uvy *= w2;
    uvz *= w2;
    uuvx *= 2;
    uuvy *= 2;
    uuvz *= 2;
    out[0] = x + uvx + uuvx;
    out[1] = y + uvy + uuvy;
    out[2] = z + uvz + uuvz;
    return out;
  }
  function rotateX2(out, a, b, rad) {
    var p = [], r = [];
    p[0] = a[0] - b[0];
    p[1] = a[1] - b[1];
    p[2] = a[2] - b[2];
    r[0] = p[0];
    r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);
    r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad);
    out[0] = r[0] + b[0];
    out[1] = r[1] + b[1];
    out[2] = r[2] + b[2];
    return out;
  }
  function rotateY2(out, a, b, rad) {
    var p = [], r = [];
    p[0] = a[0] - b[0];
    p[1] = a[1] - b[1];
    p[2] = a[2] - b[2];
    r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);
    r[1] = p[1];
    r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad);
    out[0] = r[0] + b[0];
    out[1] = r[1] + b[1];
    out[2] = r[2] + b[2];
    return out;
  }
  function rotateZ2(out, a, b, rad) {
    var p = [], r = [];
    p[0] = a[0] - b[0];
    p[1] = a[1] - b[1];
    p[2] = a[2] - b[2];
    r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);
    r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);
    r[2] = p[2];
    out[0] = r[0] + b[0];
    out[1] = r[1] + b[1];
    out[2] = r[2] + b[2];
    return out;
  }
  function angle(a, b) {
    var ax = a[0], ay = a[1], az = a[2], bx = b[0], by = b[1], bz = b[2], mag1 = Math.sqrt(ax * ax + ay * ay + az * az), mag2 = Math.sqrt(bx * bx + by * by + bz * bz), mag = mag1 * mag2, cosine = mag && dot(a, b) / mag;
    return Math.acos(Math.min(Math.max(cosine, -1), 1));
  }
  function zero(out) {
    out[0] = 0;
    out[1] = 0;
    out[2] = 0;
    return out;
  }
  function str2(a) {
    return "vec3(" + a[0] + ", " + a[1] + ", " + a[2] + ")";
  }
  function exactEquals2(a, b) {
    return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];
  }
  function equals2(a, b) {
    var a0 = a[0], a1 = a[1], a2 = a[2];
    var b0 = b[0], b1 = b[1], b2 = b[2];
    return Math.abs(a0 - b0) <= EPSILON * Math.max(1, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= EPSILON * Math.max(1, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= EPSILON * Math.max(1, Math.abs(a2), Math.abs(b2));
  }
  var sub2 = subtract2;
  var mul2 = multiply2;
  var div = divide;
  var dist = distance;
  var sqrDist = squaredDistance;
  var len = length;
  var sqrLen = squaredLength;
  var forEach = function() {
    var vec = create3();
    return function(a, stride, offset2, count, fn, arg) {
      var i, l;
      if (!stride) {
        stride = 3;
      }
      if (!offset2) {
        offset2 = 0;
      }
      if (count) {
        l = Math.min(count * stride + offset2, a.length);
      } else {
        l = a.length;
      }
      for (i = offset2; i < l; i += stride) {
        vec[0] = a[i];
        vec[1] = a[i + 1];
        vec[2] = a[i + 2];
        fn(vec, vec, arg);
        a[i] = vec[0];
        a[i + 1] = vec[1];
        a[i + 2] = vec[2];
      }
      return a;
    };
  }();

  // E:/git/Test_WonderlandEngine/node_modules/gl-matrix/esm/vec4.js
  function create4() {
    var out = new ARRAY_TYPE(4);
    if (ARRAY_TYPE != Float32Array) {
      out[0] = 0;
      out[1] = 0;
      out[2] = 0;
      out[3] = 0;
    }
    return out;
  }
  function clone3(a) {
    var out = new ARRAY_TYPE(4);
    out[0] = a[0];
    out[1] = a[1];
    out[2] = a[2];
    out[3] = a[3];
    return out;
  }
  function fromValues3(x, y, z, w) {
    var out = new ARRAY_TYPE(4);
    out[0] = x;
    out[1] = y;
    out[2] = z;
    out[3] = w;
    return out;
  }
  function copy3(out, a) {
    out[0] = a[0];
    out[1] = a[1];
    out[2] = a[2];
    out[3] = a[3];
    return out;
  }
  function set3(out, x, y, z, w) {
    out[0] = x;
    out[1] = y;
    out[2] = z;
    out[3] = w;
    return out;
  }
  function add3(out, a, b) {
    out[0] = a[0] + b[0];
    out[1] = a[1] + b[1];
    out[2] = a[2] + b[2];
    out[3] = a[3] + b[3];
    return out;
  }
  function scale3(out, a, b) {
    out[0] = a[0] * b;
    out[1] = a[1] * b;
    out[2] = a[2] * b;
    out[3] = a[3] * b;
    return out;
  }
  function length2(a) {
    var x = a[0];
    var y = a[1];
    var z = a[2];
    var w = a[3];
    return Math.hypot(x, y, z, w);
  }
  function squaredLength2(a) {
    var x = a[0];
    var y = a[1];
    var z = a[2];
    var w = a[3];
    return x * x + y * y + z * z + w * w;
  }
  function normalize2(out, a) {
    var x = a[0];
    var y = a[1];
    var z = a[2];
    var w = a[3];
    var len4 = x * x + y * y + z * z + w * w;
    if (len4 > 0) {
      len4 = 1 / Math.sqrt(len4);
    }
    out[0] = x * len4;
    out[1] = y * len4;
    out[2] = z * len4;
    out[3] = w * len4;
    return out;
  }
  function dot2(a, b) {
    return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];
  }
  function lerp2(out, a, b, t) {
    var ax = a[0];
    var ay = a[1];
    var az = a[2];
    var aw = a[3];
    out[0] = ax + t * (b[0] - ax);
    out[1] = ay + t * (b[1] - ay);
    out[2] = az + t * (b[2] - az);
    out[3] = aw + t * (b[3] - aw);
    return out;
  }
  function exactEquals3(a, b) {
    return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];
  }
  function equals3(a, b) {
    var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3];
    var b0 = b[0], b1 = b[1], b2 = b[2], b3 = b[3];
    return Math.abs(a0 - b0) <= EPSILON * Math.max(1, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= EPSILON * Math.max(1, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= EPSILON * Math.max(1, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= EPSILON * Math.max(1, Math.abs(a3), Math.abs(b3));
  }
  var forEach2 = function() {
    var vec = create4();
    return function(a, stride, offset2, count, fn, arg) {
      var i, l;
      if (!stride) {
        stride = 4;
      }
      if (!offset2) {
        offset2 = 0;
      }
      if (count) {
        l = Math.min(count * stride + offset2, a.length);
      } else {
        l = a.length;
      }
      for (i = offset2; i < l; i += stride) {
        vec[0] = a[i];
        vec[1] = a[i + 1];
        vec[2] = a[i + 2];
        vec[3] = a[i + 3];
        fn(vec, vec, arg);
        a[i] = vec[0];
        a[i + 1] = vec[1];
        a[i + 2] = vec[2];
        a[i + 3] = vec[3];
      }
      return a;
    };
  }();

  // E:/git/Test_WonderlandEngine/node_modules/gl-matrix/esm/quat.js
  function create5() {
    var out = new ARRAY_TYPE(4);
    if (ARRAY_TYPE != Float32Array) {
      out[0] = 0;
      out[1] = 0;
      out[2] = 0;
    }
    out[3] = 1;
    return out;
  }
  function identity2(out) {
    out[0] = 0;
    out[1] = 0;
    out[2] = 0;
    out[3] = 1;
    return out;
  }
  function setAxisAngle(out, axis, rad) {
    rad = rad * 0.5;
    var s = Math.sin(rad);
    out[0] = s * axis[0];
    out[1] = s * axis[1];
    out[2] = s * axis[2];
    out[3] = Math.cos(rad);
    return out;
  }
  function getAxisAngle(out_axis, q) {
    var rad = Math.acos(q[3]) * 2;
    var s = Math.sin(rad / 2);
    if (s > EPSILON) {
      out_axis[0] = q[0] / s;
      out_axis[1] = q[1] / s;
      out_axis[2] = q[2] / s;
    } else {
      out_axis[0] = 1;
      out_axis[1] = 0;
      out_axis[2] = 0;
    }
    return rad;
  }
  function getAngle(a, b) {
    var dotproduct = dot3(a, b);
    return Math.acos(2 * dotproduct * dotproduct - 1);
  }
  function multiply3(out, a, b) {
    var ax = a[0], ay = a[1], az = a[2], aw = a[3];
    var bx = b[0], by = b[1], bz = b[2], bw = b[3];
    out[0] = ax * bw + aw * bx + ay * bz - az * by;
    out[1] = ay * bw + aw * by + az * bx - ax * bz;
    out[2] = az * bw + aw * bz + ax * by - ay * bx;
    out[3] = aw * bw - ax * bx - ay * by - az * bz;
    return out;
  }
  function rotateX3(out, a, rad) {
    rad *= 0.5;
    var ax = a[0], ay = a[1], az = a[2], aw = a[3];
    var bx = Math.sin(rad), bw = Math.cos(rad);
    out[0] = ax * bw + aw * bx;
    out[1] = ay * bw + az * bx;
    out[2] = az * bw - ay * bx;
    out[3] = aw * bw - ax * bx;
    return out;
  }
  function rotateY3(out, a, rad) {
    rad *= 0.5;
    var ax = a[0], ay = a[1], az = a[2], aw = a[3];
    var by = Math.sin(rad), bw = Math.cos(rad);
    out[0] = ax * bw - az * by;
    out[1] = ay * bw + aw * by;
    out[2] = az * bw + ax * by;
    out[3] = aw * bw - ay * by;
    return out;
  }
  function rotateZ3(out, a, rad) {
    rad *= 0.5;
    var ax = a[0], ay = a[1], az = a[2], aw = a[3];
    var bz = Math.sin(rad), bw = Math.cos(rad);
    out[0] = ax * bw + ay * bz;
    out[1] = ay * bw - ax * bz;
    out[2] = az * bw + aw * bz;
    out[3] = aw * bw - az * bz;
    return out;
  }
  function calculateW(out, a) {
    var x = a[0], y = a[1], z = a[2];
    out[0] = x;
    out[1] = y;
    out[2] = z;
    out[3] = Math.sqrt(Math.abs(1 - x * x - y * y - z * z));
    return out;
  }
  function exp(out, a) {
    var x = a[0], y = a[1], z = a[2], w = a[3];
    var r = Math.sqrt(x * x + y * y + z * z);
    var et = Math.exp(w);
    var s = r > 0 ? et * Math.sin(r) / r : 0;
    out[0] = x * s;
    out[1] = y * s;
    out[2] = z * s;
    out[3] = et * Math.cos(r);
    return out;
  }
  function ln(out, a) {
    var x = a[0], y = a[1], z = a[2], w = a[3];
    var r = Math.sqrt(x * x + y * y + z * z);
    var t = r > 0 ? Math.atan2(r, w) / r : 0;
    out[0] = x * t;
    out[1] = y * t;
    out[2] = z * t;
    out[3] = 0.5 * Math.log(x * x + y * y + z * z + w * w);
    return out;
  }
  function pow(out, a, b) {
    ln(out, a);
    scale4(out, out, b);
    exp(out, out);
    return out;
  }
  function slerp(out, a, b, t) {
    var ax = a[0], ay = a[1], az = a[2], aw = a[3];
    var bx = b[0], by = b[1], bz = b[2], bw = b[3];
    var omega, cosom, sinom, scale0, scale1;
    cosom = ax * bx + ay * by + az * bz + aw * bw;
    if (cosom < 0) {
      cosom = -cosom;
      bx = -bx;
      by = -by;
      bz = -bz;
      bw = -bw;
    }
    if (1 - cosom > EPSILON) {
      omega = Math.acos(cosom);
      sinom = Math.sin(omega);
      scale0 = Math.sin((1 - t) * omega) / sinom;
      scale1 = Math.sin(t * omega) / sinom;
    } else {
      scale0 = 1 - t;
      scale1 = t;
    }
    out[0] = scale0 * ax + scale1 * bx;
    out[1] = scale0 * ay + scale1 * by;
    out[2] = scale0 * az + scale1 * bz;
    out[3] = scale0 * aw + scale1 * bw;
    return out;
  }
  function random2(out) {
    var u1 = RANDOM();
    var u2 = RANDOM();
    var u3 = RANDOM();
    var sqrt1MinusU1 = Math.sqrt(1 - u1);
    var sqrtU1 = Math.sqrt(u1);
    out[0] = sqrt1MinusU1 * Math.sin(2 * Math.PI * u2);
    out[1] = sqrt1MinusU1 * Math.cos(2 * Math.PI * u2);
    out[2] = sqrtU1 * Math.sin(2 * Math.PI * u3);
    out[3] = sqrtU1 * Math.cos(2 * Math.PI * u3);
    return out;
  }
  function invert2(out, a) {
    var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3];
    var dot5 = a0 * a0 + a1 * a1 + a2 * a2 + a3 * a3;
    var invDot = dot5 ? 1 / dot5 : 0;
    out[0] = -a0 * invDot;
    out[1] = -a1 * invDot;
    out[2] = -a2 * invDot;
    out[3] = a3 * invDot;
    return out;
  }
  function conjugate(out, a) {
    out[0] = -a[0];
    out[1] = -a[1];
    out[2] = -a[2];
    out[3] = a[3];
    return out;
  }
  function fromMat3(out, m) {
    var fTrace = m[0] + m[4] + m[8];
    var fRoot;
    if (fTrace > 0) {
      fRoot = Math.sqrt(fTrace + 1);
      out[3] = 0.5 * fRoot;
      fRoot = 0.5 / fRoot;
      out[0] = (m[5] - m[7]) * fRoot;
      out[1] = (m[6] - m[2]) * fRoot;
      out[2] = (m[1] - m[3]) * fRoot;
    } else {
      var i = 0;
      if (m[4] > m[0])
        i = 1;
      if (m[8] > m[i * 3 + i])
        i = 2;
      var j = (i + 1) % 3;
      var k = (i + 2) % 3;
      fRoot = Math.sqrt(m[i * 3 + i] - m[j * 3 + j] - m[k * 3 + k] + 1);
      out[i] = 0.5 * fRoot;
      fRoot = 0.5 / fRoot;
      out[3] = (m[j * 3 + k] - m[k * 3 + j]) * fRoot;
      out[j] = (m[j * 3 + i] + m[i * 3 + j]) * fRoot;
      out[k] = (m[k * 3 + i] + m[i * 3 + k]) * fRoot;
    }
    return out;
  }
  function fromEuler(out, x, y, z) {
    var halfToRad = 0.5 * Math.PI / 180;
    x *= halfToRad;
    y *= halfToRad;
    z *= halfToRad;
    var sx = Math.sin(x);
    var cx = Math.cos(x);
    var sy = Math.sin(y);
    var cy = Math.cos(y);
    var sz = Math.sin(z);
    var cz = Math.cos(z);
    out[0] = sx * cy * cz - cx * sy * sz;
    out[1] = cx * sy * cz + sx * cy * sz;
    out[2] = cx * cy * sz - sx * sy * cz;
    out[3] = cx * cy * cz + sx * sy * sz;
    return out;
  }
  function str3(a) {
    return "quat(" + a[0] + ", " + a[1] + ", " + a[2] + ", " + a[3] + ")";
  }
  var clone4 = clone3;
  var fromValues4 = fromValues3;
  var copy4 = copy3;
  var set4 = set3;
  var add4 = add3;
  var mul3 = multiply3;
  var scale4 = scale3;
  var dot3 = dot2;
  var lerp3 = lerp2;
  var length3 = length2;
  var len2 = length3;
  var squaredLength3 = squaredLength2;
  var sqrLen2 = squaredLength3;
  var normalize3 = normalize2;
  var exactEquals4 = exactEquals3;
  var equals4 = equals3;
  var rotationTo = function() {
    var tmpvec3 = create3();
    var xUnitVec3 = fromValues2(1, 0, 0);
    var yUnitVec3 = fromValues2(0, 1, 0);
    return function(out, a, b) {
      var dot5 = dot(a, b);
      if (dot5 < -0.999999) {
        cross(tmpvec3, xUnitVec3, a);
        if (len(tmpvec3) < 1e-6)
          cross(tmpvec3, yUnitVec3, a);
        normalize(tmpvec3, tmpvec3);
        setAxisAngle(out, tmpvec3, Math.PI);
        return out;
      } else if (dot5 > 0.999999) {
        out[0] = 0;
        out[1] = 0;
        out[2] = 0;
        out[3] = 1;
        return out;
      } else {
        cross(tmpvec3, a, b);
        out[0] = tmpvec3[0];
        out[1] = tmpvec3[1];
        out[2] = tmpvec3[2];
        out[3] = 1 + dot5;
        return normalize3(out, out);
      }
    };
  }();
  var sqlerp = function() {
    var temp1 = create5();
    var temp2 = create5();
    return function(out, a, b, c, d, t) {
      slerp(temp1, a, d, t);
      slerp(temp2, b, c, t);
      slerp(out, temp1, temp2, 2 * t * (1 - t));
      return out;
    };
  }();
  var setAxes = function() {
    var matr = create();
    return function(out, view, right, up) {
      matr[0] = right[0];
      matr[3] = right[1];
      matr[6] = right[2];
      matr[1] = up[0];
      matr[4] = up[1];
      matr[7] = up[2];
      matr[2] = -view[0];
      matr[5] = -view[1];
      matr[8] = -view[2];
      return normalize3(out, fromMat3(out, matr));
    };
  }();

  // E:/git/Test_WonderlandEngine/node_modules/gl-matrix/esm/quat2.js
  var quat2_exports = {};
  __export(quat2_exports, {
    add: () => add5,
    clone: () => clone5,
    conjugate: () => conjugate2,
    copy: () => copy5,
    create: () => create6,
    dot: () => dot4,
    equals: () => equals5,
    exactEquals: () => exactEquals5,
    fromMat4: () => fromMat4,
    fromRotation: () => fromRotation2,
    fromRotationTranslation: () => fromRotationTranslation2,
    fromRotationTranslationValues: () => fromRotationTranslationValues,
    fromTranslation: () => fromTranslation2,
    fromValues: () => fromValues5,
    getDual: () => getDual,
    getReal: () => getReal,
    getTranslation: () => getTranslation2,
    identity: () => identity3,
    invert: () => invert3,
    len: () => len3,
    length: () => length4,
    lerp: () => lerp4,
    mul: () => mul4,
    multiply: () => multiply4,
    normalize: () => normalize4,
    rotateAroundAxis: () => rotateAroundAxis,
    rotateByQuatAppend: () => rotateByQuatAppend,
    rotateByQuatPrepend: () => rotateByQuatPrepend,
    rotateX: () => rotateX4,
    rotateY: () => rotateY4,
    rotateZ: () => rotateZ4,
    scale: () => scale5,
    set: () => set5,
    setDual: () => setDual,
    setReal: () => setReal,
    sqrLen: () => sqrLen3,
    squaredLength: () => squaredLength4,
    str: () => str4,
    translate: () => translate2
  });
  function create6() {
    var dq = new ARRAY_TYPE(8);
    if (ARRAY_TYPE != Float32Array) {
      dq[0] = 0;
      dq[1] = 0;
      dq[2] = 0;
      dq[4] = 0;
      dq[5] = 0;
      dq[6] = 0;
      dq[7] = 0;
    }
    dq[3] = 1;
    return dq;
  }
  function clone5(a) {
    var dq = new ARRAY_TYPE(8);
    dq[0] = a[0];
    dq[1] = a[1];
    dq[2] = a[2];
    dq[3] = a[3];
    dq[4] = a[4];
    dq[5] = a[5];
    dq[6] = a[6];
    dq[7] = a[7];
    return dq;
  }
  function fromValues5(x1, y1, z1, w1, x2, y2, z2, w2) {
    var dq = new ARRAY_TYPE(8);
    dq[0] = x1;
    dq[1] = y1;
    dq[2] = z1;
    dq[3] = w1;
    dq[4] = x2;
    dq[5] = y2;
    dq[6] = z2;
    dq[7] = w2;
    return dq;
  }
  function fromRotationTranslationValues(x1, y1, z1, w1, x2, y2, z2) {
    var dq = new ARRAY_TYPE(8);
    dq[0] = x1;
    dq[1] = y1;
    dq[2] = z1;
    dq[3] = w1;
    var ax = x2 * 0.5, ay = y2 * 0.5, az = z2 * 0.5;
    dq[4] = ax * w1 + ay * z1 - az * y1;
    dq[5] = ay * w1 + az * x1 - ax * z1;
    dq[6] = az * w1 + ax * y1 - ay * x1;
    dq[7] = -ax * x1 - ay * y1 - az * z1;
    return dq;
  }
  function fromRotationTranslation2(out, q, t) {
    var ax = t[0] * 0.5, ay = t[1] * 0.5, az = t[2] * 0.5, bx = q[0], by = q[1], bz = q[2], bw = q[3];
    out[0] = bx;
    out[1] = by;
    out[2] = bz;
    out[3] = bw;
    out[4] = ax * bw + ay * bz - az * by;
    out[5] = ay * bw + az * bx - ax * bz;
    out[6] = az * bw + ax * by - ay * bx;
    out[7] = -ax * bx - ay * by - az * bz;
    return out;
  }
  function fromTranslation2(out, t) {
    out[0] = 0;
    out[1] = 0;
    out[2] = 0;
    out[3] = 1;
    out[4] = t[0] * 0.5;
    out[5] = t[1] * 0.5;
    out[6] = t[2] * 0.5;
    out[7] = 0;
    return out;
  }
  function fromRotation2(out, q) {
    out[0] = q[0];
    out[1] = q[1];
    out[2] = q[2];
    out[3] = q[3];
    out[4] = 0;
    out[5] = 0;
    out[6] = 0;
    out[7] = 0;
    return out;
  }
  function fromMat4(out, a) {
    var outer = create5();
    getRotation(outer, a);
    var t = new ARRAY_TYPE(3);
    getTranslation(t, a);
    fromRotationTranslation2(out, outer, t);
    return out;
  }
  function copy5(out, a) {
    out[0] = a[0];
    out[1] = a[1];
    out[2] = a[2];
    out[3] = a[3];
    out[4] = a[4];
    out[5] = a[5];
    out[6] = a[6];
    out[7] = a[7];
    return out;
  }
  function identity3(out) {
    out[0] = 0;
    out[1] = 0;
    out[2] = 0;
    out[3] = 1;
    out[4] = 0;
    out[5] = 0;
    out[6] = 0;
    out[7] = 0;
    return out;
  }
  function set5(out, x1, y1, z1, w1, x2, y2, z2, w2) {
    out[0] = x1;
    out[1] = y1;
    out[2] = z1;
    out[3] = w1;
    out[4] = x2;
    out[5] = y2;
    out[6] = z2;
    out[7] = w2;
    return out;
  }
  var getReal = copy4;
  function getDual(out, a) {
    out[0] = a[4];
    out[1] = a[5];
    out[2] = a[6];
    out[3] = a[7];
    return out;
  }
  var setReal = copy4;
  function setDual(out, q) {
    out[4] = q[0];
    out[5] = q[1];
    out[6] = q[2];
    out[7] = q[3];
    return out;
  }
  function getTranslation2(out, a) {
    var ax = a[4], ay = a[5], az = a[6], aw = a[7], bx = -a[0], by = -a[1], bz = -a[2], bw = a[3];
    out[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;
    out[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;
    out[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;
    return out;
  }
  function translate2(out, a, v) {
    var ax1 = a[0], ay1 = a[1], az1 = a[2], aw1 = a[3], bx1 = v[0] * 0.5, by1 = v[1] * 0.5, bz1 = v[2] * 0.5, ax2 = a[4], ay2 = a[5], az2 = a[6], aw2 = a[7];
    out[0] = ax1;
    out[1] = ay1;
    out[2] = az1;
    out[3] = aw1;
    out[4] = aw1 * bx1 + ay1 * bz1 - az1 * by1 + ax2;
    out[5] = aw1 * by1 + az1 * bx1 - ax1 * bz1 + ay2;
    out[6] = aw1 * bz1 + ax1 * by1 - ay1 * bx1 + az2;
    out[7] = -ax1 * bx1 - ay1 * by1 - az1 * bz1 + aw2;
    return out;
  }
  function rotateX4(out, a, rad) {
    var bx = -a[0], by = -a[1], bz = -a[2], bw = a[3], ax = a[4], ay = a[5], az = a[6], aw = a[7], ax1 = ax * bw + aw * bx + ay * bz - az * by, ay1 = ay * bw + aw * by + az * bx - ax * bz, az1 = az * bw + aw * bz + ax * by - ay * bx, aw1 = aw * bw - ax * bx - ay * by - az * bz;
    rotateX3(out, a, rad);
    bx = out[0];
    by = out[1];
    bz = out[2];
    bw = out[3];
    out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;
    out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;
    out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;
    out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;
    return out;
  }
  function rotateY4(out, a, rad) {
    var bx = -a[0], by = -a[1], bz = -a[2], bw = a[3], ax = a[4], ay = a[5], az = a[6], aw = a[7], ax1 = ax * bw + aw * bx + ay * bz - az * by, ay1 = ay * bw + aw * by + az * bx - ax * bz, az1 = az * bw + aw * bz + ax * by - ay * bx, aw1 = aw * bw - ax * bx - ay * by - az * bz;
    rotateY3(out, a, rad);
    bx = out[0];
    by = out[1];
    bz = out[2];
    bw = out[3];
    out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;
    out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;
    out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;
    out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;
    return out;
  }
  function rotateZ4(out, a, rad) {
    var bx = -a[0], by = -a[1], bz = -a[2], bw = a[3], ax = a[4], ay = a[5], az = a[6], aw = a[7], ax1 = ax * bw + aw * bx + ay * bz - az * by, ay1 = ay * bw + aw * by + az * bx - ax * bz, az1 = az * bw + aw * bz + ax * by - ay * bx, aw1 = aw * bw - ax * bx - ay * by - az * bz;
    rotateZ3(out, a, rad);
    bx = out[0];
    by = out[1];
    bz = out[2];
    bw = out[3];
    out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;
    out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;
    out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;
    out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;
    return out;
  }
  function rotateByQuatAppend(out, a, q) {
    var qx = q[0], qy = q[1], qz = q[2], qw = q[3], ax = a[0], ay = a[1], az = a[2], aw = a[3];
    out[0] = ax * qw + aw * qx + ay * qz - az * qy;
    out[1] = ay * qw + aw * qy + az * qx - ax * qz;
    out[2] = az * qw + aw * qz + ax * qy - ay * qx;
    out[3] = aw * qw - ax * qx - ay * qy - az * qz;
    ax = a[4];
    ay = a[5];
    az = a[6];
    aw = a[7];
    out[4] = ax * qw + aw * qx + ay * qz - az * qy;
    out[5] = ay * qw + aw * qy + az * qx - ax * qz;
    out[6] = az * qw + aw * qz + ax * qy - ay * qx;
    out[7] = aw * qw - ax * qx - ay * qy - az * qz;
    return out;
  }
  function rotateByQuatPrepend(out, q, a) {
    var qx = q[0], qy = q[1], qz = q[2], qw = q[3], bx = a[0], by = a[1], bz = a[2], bw = a[3];
    out[0] = qx * bw + qw * bx + qy * bz - qz * by;
    out[1] = qy * bw + qw * by + qz * bx - qx * bz;
    out[2] = qz * bw + qw * bz + qx * by - qy * bx;
    out[3] = qw * bw - qx * bx - qy * by - qz * bz;
    bx = a[4];
    by = a[5];
    bz = a[6];
    bw = a[7];
    out[4] = qx * bw + qw * bx + qy * bz - qz * by;
    out[5] = qy * bw + qw * by + qz * bx - qx * bz;
    out[6] = qz * bw + qw * bz + qx * by - qy * bx;
    out[7] = qw * bw - qx * bx - qy * by - qz * bz;
    return out;
  }
  function rotateAroundAxis(out, a, axis, rad) {
    if (Math.abs(rad) < EPSILON) {
      return copy5(out, a);
    }
    var axisLength = Math.hypot(axis[0], axis[1], axis[2]);
    rad = rad * 0.5;
    var s = Math.sin(rad);
    var bx = s * axis[0] / axisLength;
    var by = s * axis[1] / axisLength;
    var bz = s * axis[2] / axisLength;
    var bw = Math.cos(rad);
    var ax1 = a[0], ay1 = a[1], az1 = a[2], aw1 = a[3];
    out[0] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;
    out[1] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;
    out[2] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;
    out[3] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;
    var ax = a[4], ay = a[5], az = a[6], aw = a[7];
    out[4] = ax * bw + aw * bx + ay * bz - az * by;
    out[5] = ay * bw + aw * by + az * bx - ax * bz;
    out[6] = az * bw + aw * bz + ax * by - ay * bx;
    out[7] = aw * bw - ax * bx - ay * by - az * bz;
    return out;
  }
  function add5(out, a, b) {
    out[0] = a[0] + b[0];
    out[1] = a[1] + b[1];
    out[2] = a[2] + b[2];
    out[3] = a[3] + b[3];
    out[4] = a[4] + b[4];
    out[5] = a[5] + b[5];
    out[6] = a[6] + b[6];
    out[7] = a[7] + b[7];
    return out;
  }
  function multiply4(out, a, b) {
    var ax0 = a[0], ay0 = a[1], az0 = a[2], aw0 = a[3], bx1 = b[4], by1 = b[5], bz1 = b[6], bw1 = b[7], ax1 = a[4], ay1 = a[5], az1 = a[6], aw1 = a[7], bx0 = b[0], by0 = b[1], bz0 = b[2], bw0 = b[3];
    out[0] = ax0 * bw0 + aw0 * bx0 + ay0 * bz0 - az0 * by0;
    out[1] = ay0 * bw0 + aw0 * by0 + az0 * bx0 - ax0 * bz0;
    out[2] = az0 * bw0 + aw0 * bz0 + ax0 * by0 - ay0 * bx0;
    out[3] = aw0 * bw0 - ax0 * bx0 - ay0 * by0 - az0 * bz0;
    out[4] = ax0 * bw1 + aw0 * bx1 + ay0 * bz1 - az0 * by1 + ax1 * bw0 + aw1 * bx0 + ay1 * bz0 - az1 * by0;
    out[5] = ay0 * bw1 + aw0 * by1 + az0 * bx1 - ax0 * bz1 + ay1 * bw0 + aw1 * by0 + az1 * bx0 - ax1 * bz0;
    out[6] = az0 * bw1 + aw0 * bz1 + ax0 * by1 - ay0 * bx1 + az1 * bw0 + aw1 * bz0 + ax1 * by0 - ay1 * bx0;
    out[7] = aw0 * bw1 - ax0 * bx1 - ay0 * by1 - az0 * bz1 + aw1 * bw0 - ax1 * bx0 - ay1 * by0 - az1 * bz0;
    return out;
  }
  var mul4 = multiply4;
  function scale5(out, a, b) {
    out[0] = a[0] * b;
    out[1] = a[1] * b;
    out[2] = a[2] * b;
    out[3] = a[3] * b;
    out[4] = a[4] * b;
    out[5] = a[5] * b;
    out[6] = a[6] * b;
    out[7] = a[7] * b;
    return out;
  }
  var dot4 = dot3;
  function lerp4(out, a, b, t) {
    var mt = 1 - t;
    if (dot4(a, b) < 0)
      t = -t;
    out[0] = a[0] * mt + b[0] * t;
    out[1] = a[1] * mt + b[1] * t;
    out[2] = a[2] * mt + b[2] * t;
    out[3] = a[3] * mt + b[3] * t;
    out[4] = a[4] * mt + b[4] * t;
    out[5] = a[5] * mt + b[5] * t;
    out[6] = a[6] * mt + b[6] * t;
    out[7] = a[7] * mt + b[7] * t;
    return out;
  }
  function invert3(out, a) {
    var sqlen = squaredLength4(a);
    out[0] = -a[0] / sqlen;
    out[1] = -a[1] / sqlen;
    out[2] = -a[2] / sqlen;
    out[3] = a[3] / sqlen;
    out[4] = -a[4] / sqlen;
    out[5] = -a[5] / sqlen;
    out[6] = -a[6] / sqlen;
    out[7] = a[7] / sqlen;
    return out;
  }
  function conjugate2(out, a) {
    out[0] = -a[0];
    out[1] = -a[1];
    out[2] = -a[2];
    out[3] = a[3];
    out[4] = -a[4];
    out[5] = -a[5];
    out[6] = -a[6];
    out[7] = a[7];
    return out;
  }
  var length4 = length3;
  var len3 = length4;
  var squaredLength4 = squaredLength3;
  var sqrLen3 = squaredLength4;
  function normalize4(out, a) {
    var magnitude = squaredLength4(a);
    if (magnitude > 0) {
      magnitude = Math.sqrt(magnitude);
      var a0 = a[0] / magnitude;
      var a1 = a[1] / magnitude;
      var a2 = a[2] / magnitude;
      var a3 = a[3] / magnitude;
      var b0 = a[4];
      var b1 = a[5];
      var b2 = a[6];
      var b3 = a[7];
      var a_dot_b = a0 * b0 + a1 * b1 + a2 * b2 + a3 * b3;
      out[0] = a0;
      out[1] = a1;
      out[2] = a2;
      out[3] = a3;
      out[4] = (b0 - a0 * a_dot_b) / magnitude;
      out[5] = (b1 - a1 * a_dot_b) / magnitude;
      out[6] = (b2 - a2 * a_dot_b) / magnitude;
      out[7] = (b3 - a3 * a_dot_b) / magnitude;
    }
    return out;
  }
  function str4(a) {
    return "quat2(" + a[0] + ", " + a[1] + ", " + a[2] + ", " + a[3] + ", " + a[4] + ", " + a[5] + ", " + a[6] + ", " + a[7] + ")";
  }
  function exactEquals5(a, b) {
    return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7];
  }
  function equals5(a, b) {
    var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3], a4 = a[4], a5 = a[5], a6 = a[6], a7 = a[7];
    var b0 = b[0], b1 = b[1], b2 = b[2], b3 = b[3], b4 = b[4], b5 = b[5], b6 = b[6], b7 = b[7];
    return Math.abs(a0 - b0) <= EPSILON * Math.max(1, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= EPSILON * Math.max(1, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= EPSILON * Math.max(1, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= EPSILON * Math.max(1, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= EPSILON * Math.max(1, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= EPSILON * Math.max(1, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= EPSILON * Math.max(1, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= EPSILON * Math.max(1, Math.abs(a7), Math.abs(b7));
  }

  // E:/git/Test_WonderlandEngine/node_modules/@wonderlandengine/components/dist/hit-test-location.js
  var __decorate3 = function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
      r = Reflect.decorate(decorators, target, key, desc);
    else
      for (var i = decorators.length - 1; i >= 0; i--)
        if (d = decorators[i])
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var HitTestLocation = class extends Component {
    tempScaling = new Float32Array(3);
    visible = false;
    xrHitTestSource = null;
    /** Reference space for creating the hit test when the session starts */
    xrReferenceSpace = null;
    /**
     * For maintaining backwards compatibility: Whether to scale the object to 0 and back.
     * @deprecated Use onHitLost and onHitFound instead.
     */
    scaleObject = true;
    /** Emits an event when the hit test switches from visible to invisible */
    onHitLost = new Emitter();
    /** Emits an event when the hit test switches from invisible to visible */
    onHitFound = new Emitter();
    onSessionStartCallback = null;
    onSessionEndCallback = null;
    start() {
      this.onSessionStartCallback = this.onXRSessionStart.bind(this);
      this.onSessionEndCallback = this.onXRSessionEnd.bind(this);
      if (this.scaleObject) {
        this.tempScaling.set(this.object.scalingLocal);
        this.object.scale([0, 0, 0]);
        this.onHitLost.add(() => {
          this.tempScaling.set(this.object.scalingLocal);
          this.object.scale([0, 0, 0]);
        });
        this.onHitFound.add(() => {
          this.object.scalingLocal.set(this.tempScaling);
          this.object.setDirty();
        });
      }
    }
    onActivate() {
      this.engine.onXRSessionStart.add(this.onSessionStartCallback);
      this.engine.onXRSessionEnd.add(this.onSessionEndCallback);
    }
    onDeactivate() {
      this.engine.onXRSessionStart.remove(this.onSessionStartCallback);
      this.engine.onXRSessionEnd.remove(this.onSessionEndCallback);
    }
    update() {
      const wasVisible = this.visible;
      if (this.xrHitTestSource) {
        const frame = this.engine.xrFrame;
        if (!frame)
          return;
        let hitTestResults = frame.getHitTestResults(this.xrHitTestSource);
        if (hitTestResults.length > 0) {
          let pose = hitTestResults[0].getPose(this.engine.xr.currentReferenceSpace);
          this.visible = !!pose;
          if (pose) {
            setXRRigidTransformLocal(this.object, pose.transform);
          }
        } else {
          this.visible = false;
        }
      }
      if (this.visible != wasVisible) {
        (this.visible ? this.onHitFound : this.onHitLost).notify(this);
      }
    }
    getHitTestResults(frame = this.engine.xr?.frame ?? null) {
      if (!frame)
        return [];
      if (!this.xrHitTestSource)
        return [];
      return frame.getHitTestResults(this.xrHitTestSource);
    }
    onXRSessionStart(session) {
      if (session.requestHitTestSource === void 0) {
        console.error("hit-test-location: hit test feature not available. Deactivating component.");
        this.active = false;
        return;
      }
      session.requestHitTestSource({
        space: this.xrReferenceSpace ?? this.engine.xr.referenceSpaceForType("viewer")
      }).then((hitTestSource) => {
        this.xrHitTestSource = hitTestSource;
      }).catch(console.error);
    }
    onXRSessionEnd() {
      if (!this.xrHitTestSource)
        return;
      this.xrHitTestSource.cancel();
      this.xrHitTestSource = null;
    }
  };
  __publicField(HitTestLocation, "TypeName", "hit-test-location");
  __decorate3([
    property.bool(true)
  ], HitTestLocation.prototype, "scaleObject", void 0);

  // E:/git/Test_WonderlandEngine/node_modules/@wonderlandengine/components/dist/cursor.js
  var __decorate4 = function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
      r = Reflect.decorate(decorators, target, key, desc);
    else
      for (var i = decorators.length - 1; i >= 0; i--)
        if (d = decorators[i])
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var tempVec2 = new Float32Array(3);
  var CursorTargetEmitters = class {
    /** Emitter for events when the target is hovered */
    onHover = new Emitter();
    /** Emitter for events when the target is unhovered */
    onUnhover = new Emitter();
    /** Emitter for events when the target is clicked */
    onClick = new Emitter();
    /** Emitter for events when the cursor moves on the target */
    onMove = new Emitter();
    /** Emitter for events when the user pressed the select button on the target */
    onDown = new Emitter();
    /** Emitter for events when the user unpressed the select button on the target */
    onUp = new Emitter();
  };
  var Cursor = class extends Component {
    static onRegister(engine) {
      engine.registerComponent(HitTestLocation);
    }
    _collisionMask = 0;
    _onDeactivateCallbacks = [];
    _input = null;
    _origin = new Float32Array(3);
    _cursorObjScale = new Float32Array(3);
    _direction = new Float32Array(3);
    _projectionMatrix = new Float32Array(16);
    _viewComponent = null;
    _isDown = false;
    _lastIsDown = false;
    _arTouchDown = false;
    _lastPointerPos = new Float32Array(2);
    _lastCursorPosOnTarget = new Float32Array(3);
    _cursorRayScale = new Float32Array(3);
    _hitTestLocation = null;
    _hitTestObject = null;
    _onSessionStartCallback = null;
    /**
     * Whether the cursor (and cursorObject) is visible, i.e. pointing at an object
     * that matches the collision group
     */
    visible = true;
    /** Currently hovered object */
    hoveringObject = null;
    /** CursorTarget component of the currently hovered object */
    hoveringObjectTarget = null;
    /** Whether the cursor is hovering reality via hit-test */
    hoveringReality = false;
    /**
     * Global target lets you receive global cursor events on any object.
     */
    globalTarget = new CursorTargetEmitters();
    /**
     * Hit test target lets you receive cursor events for "reality", if
     * `useWebXRHitTest` is set to `true`.
     *
     * @example
     * ```js
     * cursor.hitTestTarget.onClick.add((hit, cursor) => {
     *     // User clicked on reality
     * });
     * ```
     */
    hitTestTarget = new CursorTargetEmitters();
    /** World position of the cursor */
    cursorPos = new Float32Array(3);
    /** Collision group for the ray cast. Only objects in this group will be affected by this cursor. */
    collisionGroup = 1;
    /** (optional) Object that visualizes the cursor's ray. */
    cursorRayObject = null;
    /** Axis along which to scale the `cursorRayObject`. */
    cursorRayScalingAxis = 2;
    /** (optional) Object that visualizes the cursor's hit location. */
    cursorObject = null;
    /** Handedness for VR cursors to accept trigger events only from respective controller. */
    handedness = 0;
    /** Mode for raycasting, whether to use PhysX or simple collision components */
    rayCastMode = 0;
    /** Maximum distance for the cursor's ray cast. */
    maxDistance = 100;
    /** Whether to set the CSS style of the mouse cursor on desktop */
    styleCursor = true;
    /**
     * Use WebXR hit-test if available.
     *
     * Attaches a hit-test-location component to the cursorObject, which will be used
     * by the cursor to send events to the hitTestTarget with HitTestResult.
     */
    useWebXRHitTest = false;
    _onViewportResize = () => {
      if (!this._viewComponent)
        return;
      mat4_exports.invert(this._projectionMatrix, this._viewComponent.projectionMatrix);
    };
    start() {
      this._collisionMask = 1 << this.collisionGroup;
      if (this.handedness == 0) {
        const inputComp = this.object.getComponent("input");
        if (!inputComp) {
          console.warn("cursor component on object", this.object.name, 'was configured with handedness "input component", but object has no input component.');
        } else {
          this.handedness = inputComp.handedness || "none";
          this._input = inputComp;
        }
      } else {
        this.handedness = ["left", "right", "none"][this.handedness - 1];
      }
      this._viewComponent = this.object.getComponent(ViewComponent);
      if (this.useWebXRHitTest) {
        this._hitTestObject = this.engine.scene.addObject(this.object);
        this._hitTestLocation = this._hitTestObject.addComponent(HitTestLocation, {
          scaleObject: false
        }) ?? null;
      }
      this._onSessionStartCallback = this.setupVREvents.bind(this);
    }
    onActivate() {
      this.engine.onXRSessionStart.add(this._onSessionStartCallback);
      this.engine.onResize.add(this._onViewportResize);
      this._setCursorVisibility(true);
      if (this._viewComponent != null) {
        const canvas2 = this.engine.canvas;
        const onClick = this.onClick.bind(this);
        const onPointerMove = this.onPointerMove.bind(this);
        const onPointerDown = this.onPointerDown.bind(this);
        const onPointerUp = this.onPointerUp.bind(this);
        canvas2.addEventListener("click", onClick);
        canvas2.addEventListener("pointermove", onPointerMove);
        canvas2.addEventListener("pointerdown", onPointerDown);
        canvas2.addEventListener("pointerup", onPointerUp);
        this._onDeactivateCallbacks.push(() => {
          canvas2.removeEventListener("click", onClick);
          canvas2.removeEventListener("pointermove", onPointerMove);
          canvas2.removeEventListener("pointerdown", onPointerDown);
          canvas2.removeEventListener("pointerup", onPointerUp);
        });
      }
      this._onViewportResize();
    }
    _setCursorRayTransform(hitPosition) {
      if (!this.cursorRayObject)
        return;
      const dist2 = vec3_exports.dist(this._origin, hitPosition);
      this.cursorRayObject.setTranslationLocal([0, 0, -dist2 / 2]);
      if (this.cursorRayScalingAxis != 4) {
        this.cursorRayObject.resetScaling();
        this._cursorRayScale[this.cursorRayScalingAxis] = dist2 / 2;
        this.cursorRayObject.scale(this._cursorRayScale);
      }
    }
    _setCursorVisibility(visible) {
      if (this.visible == visible)
        return;
      this.visible = visible;
      if (!this.cursorObject)
        return;
      if (visible) {
        this.cursorObject.setScalingWorld(this._cursorObjScale);
      } else {
        this.cursorObject.getScalingWorld(this._cursorObjScale);
        this.cursorObject.scaleLocal([0, 0, 0]);
      }
    }
    update() {
      if (this.engine.xr && this._arTouchDown && this._input && this.engine.xr.session.inputSources[0].handedness === "none" && this.engine.xr.session.inputSources[0].gamepad) {
        const p = this.engine.xr.session.inputSources[0].gamepad.axes;
        this._direction[0] = p[0];
        this._direction[1] = -p[1];
        this._direction[2] = -1;
        this.applyTransformAndProjectDirection();
      } else if (this.engine.xr && this._input && this._input.xrInputSource) {
        this._direction[0] = 0;
        this._direction[1] = 0;
        this._direction[2] = -1;
        this.applyTransformToDirection();
      } else if (this._viewComponent) {
        this.updateDirection();
      }
      this.rayCast(null, this.engine.xr?.frame);
      if (this.cursorObject) {
        if (this.hoveringObject && (this.cursorPos[0] != 0 || this.cursorPos[1] != 0 || this.cursorPos[2] != 0)) {
          this._setCursorVisibility(true);
          this.cursorObject.setTranslationWorld(this.cursorPos);
          this._setCursorRayTransform(this.cursorPos);
        } else {
          this._setCursorVisibility(false);
        }
      }
    }
    /* Returns the hovered cursor target, if available */
    notify(event, originalEvent) {
      const target = this.hoveringObject;
      if (target) {
        const cursorTarget = this.hoveringObjectTarget;
        if (cursorTarget)
          cursorTarget[event].notify(target, this, originalEvent ?? void 0);
        this.globalTarget[event].notify(target, this, originalEvent ?? void 0);
      }
    }
    hoverBehaviour(rayHit, hitTestResult, doClick, originalEvent) {
      const hit = !this.hoveringReality && rayHit.hitCount > 0 ? rayHit.objects[0] : null;
      if (hit) {
        if (!this.hoveringObject || !this.hoveringObject.equals(hit)) {
          if (this.hoveringObject) {
            this.notify("onUnhover", originalEvent);
          }
          this.hoveringObject = hit;
          this.hoveringObjectTarget = this.hoveringObject.getComponent(CursorTarget);
          if (this.styleCursor)
            this.engine.canvas.style.cursor = "pointer";
          this.notify("onHover", originalEvent);
        }
      } else if (this.hoveringObject) {
        this.notify("onUnhover", originalEvent);
        this.hoveringObject = null;
        this.hoveringObjectTarget = null;
        if (this.styleCursor)
          this.engine.canvas.style.cursor = "default";
      }
      if (this.hoveringObject) {
        if (this._isDown !== this._lastIsDown) {
          this.notify(this._isDown ? "onDown" : "onUp", originalEvent);
        }
        if (doClick)
          this.notify("onClick", originalEvent);
      } else if (this.hoveringReality) {
        if (this._isDown !== this._lastIsDown) {
          (this._isDown ? this.hitTestTarget.onDown : this.hitTestTarget.onUp).notify(hitTestResult, this, originalEvent ?? void 0);
        }
        if (doClick)
          this.hitTestTarget.onClick.notify(hitTestResult, this, originalEvent ?? void 0);
      }
      if (hit) {
        if (this.hoveringObject) {
          this.hoveringObject.transformPointInverseWorld(tempVec2, this.cursorPos);
        } else {
          tempVec2.set(this.cursorPos);
        }
        if (!vec3_exports.equals(this._lastCursorPosOnTarget, tempVec2)) {
          this.notify("onMove", originalEvent);
          this._lastCursorPosOnTarget.set(tempVec2);
        }
      } else if (this.hoveringReality) {
        if (!vec3_exports.equals(this._lastCursorPosOnTarget, this.cursorPos)) {
          this.hitTestTarget.onMove.notify(hitTestResult, this, originalEvent ?? void 0);
          this._lastCursorPosOnTarget.set(this.cursorPos);
        }
      } else {
        this._lastCursorPosOnTarget.set(this.cursorPos);
      }
      this._lastIsDown = this._isDown;
    }
    /**
     * Setup event listeners on session object
     * @param s WebXR session
     *
     * Sets up 'select' and 'end' events.
     */
    setupVREvents(s) {
      if (!s)
        console.error("setupVREvents called without a valid session");
      const onSelect = this.onSelect.bind(this);
      s.addEventListener("select", onSelect);
      const onSelectStart = this.onSelectStart.bind(this);
      s.addEventListener("selectstart", onSelectStart);
      const onSelectEnd = this.onSelectEnd.bind(this);
      s.addEventListener("selectend", onSelectEnd);
      this._onDeactivateCallbacks.push(() => {
        if (!this.engine.xrSession)
          return;
        s.removeEventListener("select", onSelect);
        s.removeEventListener("selectstart", onSelectStart);
        s.removeEventListener("selectend", onSelectEnd);
      });
      this._onViewportResize();
    }
    onDeactivate() {
      this.engine.onXRSessionStart.remove(this._onSessionStartCallback);
      this.engine.onResize.remove(this._onViewportResize);
      this._setCursorVisibility(false);
      if (this.hoveringObject)
        this.notify("onUnhover", null);
      if (this.cursorRayObject)
        this.cursorRayObject.scale([0, 0, 0]);
      for (const f of this._onDeactivateCallbacks)
        f();
      this._onDeactivateCallbacks.length = 0;
    }
    onDestroy() {
      this._hitTestObject?.destroy();
    }
    /** 'select' event listener */
    onSelect(e) {
      if (e.inputSource.handedness != this.handedness)
        return;
      this.rayCast(e, e.frame, true);
    }
    /** 'selectstart' event listener */
    onSelectStart(e) {
      this._arTouchDown = true;
      if (e.inputSource.handedness == this.handedness) {
        this._isDown = true;
        this.rayCast(e, e.frame);
      }
    }
    /** 'selectend' event listener */
    onSelectEnd(e) {
      this._arTouchDown = false;
      if (e.inputSource.handedness == this.handedness) {
        this._isDown = false;
        this.rayCast(e, e.frame);
      }
    }
    /** 'pointermove' event listener */
    onPointerMove(e) {
      if (!e.isPrimary)
        return;
      this.updateMousePos(e);
      this.rayCast(e, null);
    }
    /** 'click' event listener */
    onClick(e) {
      this.updateMousePos(e);
      this.rayCast(e, null, true);
    }
    /** 'pointerdown' event listener */
    onPointerDown(e) {
      if (!e.isPrimary || e.button !== 0)
        return;
      this.updateMousePos(e);
      this._isDown = true;
      this.rayCast(e);
    }
    /** 'pointerup' event listener */
    onPointerUp(e) {
      if (!e.isPrimary || e.button !== 0)
        return;
      this.updateMousePos(e);
      this._isDown = false;
      this.rayCast(e);
    }
    /**
     * Update mouse position in non-VR mode and raycast for new position
     * @returns @ref WL.RayHit for new position.
     */
    updateMousePos(e) {
      this._lastPointerPos[0] = e.clientX;
      this._lastPointerPos[1] = e.clientY;
      this.updateDirection();
    }
    updateDirection() {
      const bounds = this.engine.canvas.getBoundingClientRect();
      const left = this._lastPointerPos[0] / bounds.width;
      const top = this._lastPointerPos[1] / bounds.height;
      this._direction[0] = left * 2 - 1;
      this._direction[1] = -top * 2 + 1;
      this._direction[2] = -1;
      this.applyTransformAndProjectDirection();
    }
    applyTransformAndProjectDirection() {
      vec3_exports.transformMat4(this._direction, this._direction, this._projectionMatrix);
      vec3_exports.normalize(this._direction, this._direction);
      this.applyTransformToDirection();
    }
    applyTransformToDirection() {
      vec3_exports.transformQuat(this._direction, this._direction, this.object.transformWorld);
      this.object.getTranslationWorld(this._origin);
    }
    rayCast(originalEvent, frame = null, doClick = false) {
      const rayHit = this.rayCastMode == 0 ? this.engine.scene.rayCast(this._origin, this._direction, this._collisionMask) : this.engine.physics.rayCast(this._origin, this._direction, this._collisionMask, this.maxDistance);
      let hitResultDistance = Infinity;
      let hitTestResult = null;
      if (this._hitTestLocation?.visible) {
        this._hitTestObject.getTranslationWorld(this.cursorPos);
        hitResultDistance = vec3_exports.distance(this.object.getTranslationWorld(tempVec2), this.cursorPos);
        hitTestResult = this._hitTestLocation?.getHitTestResults(frame)[0];
      }
      let hoveringReality = false;
      if (rayHit.hitCount > 0) {
        const d = rayHit.distances[0];
        if (hitResultDistance >= d) {
          this.cursorPos.set(rayHit.locations[0]);
        } else {
          hoveringReality = true;
        }
      } else if (hitResultDistance < Infinity) {
      } else {
        this.cursorPos.fill(0);
      }
      if (hoveringReality && !this.hoveringReality) {
        this.hitTestTarget.onHover.notify(hitTestResult, this);
      } else if (!hoveringReality && this.hoveringReality) {
        this.hitTestTarget.onUnhover.notify(hitTestResult, this);
      }
      this.hoveringReality = hoveringReality;
      this.hoverBehaviour(rayHit, hitTestResult, doClick, originalEvent);
      return rayHit;
    }
  };
  __publicField(Cursor, "TypeName", "cursor");
  /* Dependencies is deprecated, but we keep it here for compatibility
   * with 1.0.0-rc2 until 1.0.0 is released */
  __publicField(Cursor, "Dependencies", [HitTestLocation]);
  __decorate4([
    property.int(1)
  ], Cursor.prototype, "collisionGroup", void 0);
  __decorate4([
    property.object()
  ], Cursor.prototype, "cursorRayObject", void 0);
  __decorate4([
    property.enum(["x", "y", "z", "none"], "z")
  ], Cursor.prototype, "cursorRayScalingAxis", void 0);
  __decorate4([
    property.object()
  ], Cursor.prototype, "cursorObject", void 0);
  __decorate4([
    property.enum(["input component", "left", "right", "none"], "input component")
  ], Cursor.prototype, "handedness", void 0);
  __decorate4([
    property.enum(["collision", "physx"], "collision")
  ], Cursor.prototype, "rayCastMode", void 0);
  __decorate4([
    property.float(100)
  ], Cursor.prototype, "maxDistance", void 0);
  __decorate4([
    property.bool(true)
  ], Cursor.prototype, "styleCursor", void 0);
  __decorate4([
    property.bool(false)
  ], Cursor.prototype, "useWebXRHitTest", void 0);

  // E:/git/Test_WonderlandEngine/node_modules/@wonderlandengine/components/dist/debug-object.js
  var __decorate5 = function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
      r = Reflect.decorate(decorators, target, key, desc);
    else
      for (var i = decorators.length - 1; i >= 0; i--)
        if (d = decorators[i])
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var DebugObject = class extends Component {
    /** A second object to print the name of */
    obj = null;
    start() {
      let origin = new Float32Array(3);
      quat2_exports.getTranslation(origin, this.object.transformWorld);
      console.log("Debug object:", this.object.name);
      console.log("Other object:", this.obj?.name);
      console.log("	translation", origin);
      console.log("	transformWorld", this.object.transformWorld);
      console.log("	transformLocal", this.object.transformLocal);
    }
  };
  __publicField(DebugObject, "TypeName", "debug-object");
  __decorate5([
    property.object()
  ], DebugObject.prototype, "obj", void 0);

  // E:/git/Test_WonderlandEngine/node_modules/@wonderlandengine/components/dist/device-orientation-look.js
  function quatFromEulerYXZ(out, x, y, z) {
    const c1 = Math.cos(x / 2);
    const c2 = Math.cos(y / 2);
    const c3 = Math.cos(z / 2);
    const s1 = Math.sin(x / 2);
    const s2 = Math.sin(y / 2);
    const s3 = Math.sin(z / 2);
    out[0] = s1 * c2 * c3 + c1 * s2 * s3;
    out[1] = c1 * s2 * c3 - s1 * c2 * s3;
    out[2] = c1 * c2 * s3 - s1 * s2 * c3;
    out[3] = c1 * c2 * c3 + s1 * s2 * s3;
  }
  var DeviceOrientationLook = class extends Component {
    start() {
      this.rotationX = 0;
      this.rotationY = 0;
      this.lastClientX = -1;
      this.lastClientY = -1;
    }
    init() {
      this.deviceOrientation = [0, 0, 0, 1];
      this.screenOrientation = window.innerHeight > window.innerWidth ? 0 : 90;
      this._origin = [0, 0, 0];
      window.addEventListener("deviceorientation", function(e) {
        let alpha = e.alpha || 0;
        let beta = e.beta || 0;
        let gamma = e.gamma || 0;
        const toRad = Math.PI / 180;
        quatFromEulerYXZ(this.deviceOrientation, beta * toRad, alpha * toRad, -gamma * toRad);
      }.bind(this));
      window.addEventListener("orientationchange", function(e) {
        this.screenOrientation = window.orientation || 0;
      }.bind(this), false);
    }
    update() {
      if (this.engine.xr)
        return;
      this.object.getTranslationLocal(this._origin);
      this.object.resetTransform();
      if (this.screenOrientation != 0) {
        this.object.rotateAxisAngleDeg([0, 0, -1], this.screenOrientation);
      }
      this.object.rotate([-Math.sqrt(0.5), 0, 0, Math.sqrt(0.5)]);
      this.object.rotate(this.deviceOrientation);
      this.object.translate(this._origin);
    }
  };
  __publicField(DeviceOrientationLook, "TypeName", "device-orientation-look");
  __publicField(DeviceOrientationLook, "Properties", {});

  // E:/git/Test_WonderlandEngine/node_modules/@wonderlandengine/components/dist/finger-cursor.js
  var FingerCursor = class extends Component {
    init() {
      this.lastTarget = null;
    }
    start() {
      this.tip = this.object.getComponent("collision");
    }
    update() {
      const overlaps = this.tip.queryOverlaps();
      let overlapFound = null;
      for (let i = 0; i < overlaps.length; ++i) {
        const o = overlaps[i].object;
        const target = o.getComponent("cursor-target");
        if (target) {
          if (!target.equals(this.lastTarget)) {
            target.onHover(o, this);
            target.onClick(o, this);
          }
          overlapFound = target;
          break;
        }
      }
      if (!overlapFound) {
        if (this.lastTarget)
          this.lastTarget.onUnhover(this.lastTarget.object, this);
        this.lastTarget = null;
        return;
      } else {
        this.lastTarget = overlapFound;
      }
    }
  };
  __publicField(FingerCursor, "TypeName", "finger-cursor");
  __publicField(FingerCursor, "Properties", {});

  // E:/git/Test_WonderlandEngine/node_modules/@wonderlandengine/components/dist/fixed-foveation.js
  var FixedFoveation = class extends Component {
    start() {
      this.onSessionStartCallback = this.setFixedFoveation.bind(this);
    }
    onActivate() {
      this.engine.onXRSessionStart.add(this.onSessionStartCallback);
    }
    onDeactivate() {
      this.engine.onXRSessionStart.remove(this.onSessionStartCallback);
    }
    setFixedFoveation() {
      this.engine.xr.baseLayer.fixedFoveation = this.fixedFoveation;
    }
  };
  __publicField(FixedFoveation, "TypeName", "fixed-foveation");
  __publicField(FixedFoveation, "Properties", {
    /** Amount to apply from 0 (none) to 1 (full) */
    fixedFoveation: { type: Type.Float, default: 0.5 }
  });

  // E:/git/Test_WonderlandEngine/node_modules/@wonderlandengine/components/dist/hand-tracking.js
  var ORDERED_JOINTS = [
    "wrist",
    "thumb-metacarpal",
    "thumb-phalanx-proximal",
    "thumb-phalanx-distal",
    "thumb-tip",
    "index-finger-metacarpal",
    "index-finger-phalanx-proximal",
    "index-finger-phalanx-intermediate",
    "index-finger-phalanx-distal",
    "index-finger-tip",
    "middle-finger-metacarpal",
    "middle-finger-phalanx-proximal",
    "middle-finger-phalanx-intermediate",
    "middle-finger-phalanx-distal",
    "middle-finger-tip",
    "ring-finger-metacarpal",
    "ring-finger-phalanx-proximal",
    "ring-finger-phalanx-intermediate",
    "ring-finger-phalanx-distal",
    "ring-finger-tip",
    "pinky-finger-metacarpal",
    "pinky-finger-phalanx-proximal",
    "pinky-finger-phalanx-intermediate",
    "pinky-finger-phalanx-distal",
    "pinky-finger-tip"
  ];
  var invTranslation = new Float32Array(3);
  var invRotation = new Float32Array(4);
  var HandTracking = class extends Component {
    init() {
      this.handedness = ["left", "right"][this.handedness];
    }
    joints = {};
    session = null;
    /* Whether last update had a hand pose */
    hasPose = false;
    _childrenActive = true;
    start() {
      if (!("XRHand" in window)) {
        console.warn("WebXR Hand Tracking not supported by this browser.");
        this.active = false;
        return;
      }
      if (this.handSkin) {
        let skin = this.handSkin;
        let jointIds = skin.jointIds;
        this.joints[ORDERED_JOINTS[0]] = this.engine.wrapObject(jointIds[0]);
        for (let j = 0; j < jointIds.length; ++j) {
          let joint = this.engine.wrapObject(jointIds[j]);
          this.joints[joint.name] = joint;
        }
        return;
      }
      const jointObjects = this.engine.scene.addObjects(ORDERED_JOINTS.length, this.object.parent, ORDERED_JOINTS.length);
      for (let j = 0; j < ORDERED_JOINTS.length; ++j) {
        let joint = jointObjects[j];
        joint.addComponent(MeshComponent, {
          mesh: this.jointMesh,
          material: this.jointMaterial
        });
        this.joints[ORDERED_JOINTS[j]] = joint;
      }
    }
    update(dt) {
      if (!this.session) {
        if (this.engine.xr)
          this.setupVREvents(this.engine.xr.session);
      }
      if (!this.session)
        return;
      this.hasPose = false;
      if (this.session && this.session.inputSources) {
        for (let i = 0; i < this.session.inputSources.length; ++i) {
          const inputSource = this.session.inputSources[i];
          if (!inputSource || !inputSource.hand || inputSource.handedness != this.handedness)
            continue;
          this.hasPose = true;
          const wristSpace = inputSource.hand.get("wrist");
          if (wristSpace !== null) {
            const p = this.engine.xr.frame.getJointPose(wristSpace, this.engine.xr.currentReferenceSpace);
            if (p) {
              setXRRigidTransformLocal(this.object, p.transform);
            }
          }
          this.object.getRotationLocal(invRotation);
          quat_exports.conjugate(invRotation, invRotation);
          this.object.getTranslationLocal(invTranslation);
          for (let j = 0; j < ORDERED_JOINTS.length; ++j) {
            const jointName = ORDERED_JOINTS[j];
            const joint = this.joints[jointName];
            if (joint === null)
              continue;
            let jointPose = null;
            const jointSpace = inputSource.hand.get(jointName);
            if (jointSpace !== null) {
              jointPose = this.engine.xr.frame.getJointPose(jointSpace, this.engine.xr.currentReferenceSpace);
            }
            if (jointPose !== null) {
              if (this.handSkin) {
                joint.resetTranslationRotation();
                joint.translate([
                  jointPose.transform.position.x - invTranslation[0],
                  jointPose.transform.position.y - invTranslation[1],
                  jointPose.transform.position.z - invTranslation[2]
                ]);
                joint.rotate(invRotation);
                joint.rotateObject([
                  jointPose.transform.orientation.x,
                  jointPose.transform.orientation.y,
                  jointPose.transform.orientation.z,
                  jointPose.transform.orientation.w
                ]);
              } else {
                setXRRigidTransformLocal(joint, jointPose.transform);
                const r = jointPose.radius || 7e-3;
                joint.setScalingLocal([r, r, r]);
              }
            }
          }
        }
      }
      if (!this.hasPose && this._childrenActive) {
        this._childrenActive = false;
        if (this.deactivateChildrenWithoutPose) {
          this.setChildrenActive(false);
        }
        if (this.controllerToDeactivate) {
          this.controllerToDeactivate.active = true;
          this.setChildrenActive(true, this.controllerToDeactivate);
        }
      } else if (this.hasPose && !this._childrenActive) {
        this._childrenActive = true;
        if (this.deactivateChildrenWithoutPose) {
          this.setChildrenActive(true);
        }
        if (this.controllerToDeactivate) {
          this.controllerToDeactivate.active = false;
          this.setChildrenActive(false, this.controllerToDeactivate);
        }
      }
    }
    setChildrenActive(active, object) {
      object = object || this.object;
      const children = object.children;
      for (const o of children) {
        o.active = active;
        this.setChildrenActive(active, o);
      }
    }
    isGrabbing() {
      const indexTipPos = [0, 0, 0];
      quat2_exports.getTranslation(indexTipPos, this.joints["index-finger-tip"].transformLocal);
      const thumbTipPos = [0, 0, 0];
      quat2_exports.getTranslation(thumbTipPos, this.joints["thumb-tip"].transformLocal);
      return vec3_exports.sqrDist(thumbTipPos, indexTipPos) < 1e-3;
    }
    setupVREvents(s) {
      this.session = s;
    }
  };
  __publicField(HandTracking, "TypeName", "hand-tracking");
  __publicField(HandTracking, "Properties", {
    /** Handedness determining whether to receive tracking input from right or left hand */
    handedness: { type: Type.Enum, default: "left", values: ["left", "right"] },
    /** (optional) Mesh to use to visualize joints */
    jointMesh: { type: Type.Mesh, default: null },
    /** Material to use for display. Applied to either the spawned skinned mesh or the joint spheres. */
    jointMaterial: { type: Type.Material, default: null },
    /** (optional) Skin to apply tracked joint poses to. If not present, joint spheres will be used for display instead. */
    handSkin: { type: Type.Skin, default: null },
    /** Deactivate children if no pose was tracked */
    deactivateChildrenWithoutPose: { type: Type.Bool, default: true },
    /** Controller objects to activate including children if no pose is available */
    controllerToDeactivate: { type: Type.Object }
  });

  // E:/git/Test_WonderlandEngine/node_modules/@wonderlandengine/components/dist/howler-audio-listener.js
  var import_howler = __toESM(require_howler(), 1);
  var HowlerAudioListener = class extends Component {
    init() {
      this.origin = new Float32Array(3);
      this.fwd = new Float32Array(3);
      this.up = new Float32Array(3);
    }
    update() {
      if (!this.spatial)
        return;
      this.object.getTranslationWorld(this.origin);
      this.object.getForward(this.fwd);
      this.object.getUp(this.up);
      Howler.pos(this.origin[0], this.origin[1], this.origin[2]);
      Howler.orientation(this.fwd[0], this.fwd[1], this.fwd[2], this.up[0], this.up[1], this.up[2]);
    }
  };
  __publicField(HowlerAudioListener, "TypeName", "howler-audio-listener");
  __publicField(HowlerAudioListener, "Properties", {
    /** Whether audio should be spatialized/positional. */
    spatial: { type: Type.Bool, default: true }
  });

  // E:/git/Test_WonderlandEngine/node_modules/@wonderlandengine/components/dist/howler-audio-source.js
  var import_howler2 = __toESM(require_howler(), 1);
  var HowlerAudioSource = class extends Component {
    start() {
      this.audio = new Howl({
        src: [this.src],
        loop: this.loop,
        volume: this.volume,
        autoplay: this.autoplay
      });
      this.lastPlayedAudioId = null;
      this.origin = new Float32Array(3);
      this.lastOrigin = new Float32Array(3);
      if (this.spatial && this.autoplay) {
        this.updatePosition();
        this.play();
      }
    }
    update() {
      if (!this.spatial || !this.lastPlayedAudioId)
        return;
      this.object.getTranslationWorld(this.origin);
      if (Math.abs(this.lastOrigin[0] - this.origin[0]) > 5e-3 || Math.abs(this.lastOrigin[1] - this.origin[1]) > 5e-3 || Math.abs(this.lastOrigin[2] - this.origin[2]) > 5e-3) {
        this.updatePosition();
      }
    }
    updatePosition() {
      this.audio.pos(this.origin[0], this.origin[1], this.origin[2], this.lastPlayedAudioId);
      this.lastOrigin.set(this.origin);
    }
    play() {
      if (this.lastPlayedAudioId)
        this.audio.stop(this.lastPlayedAudioId);
      this.lastPlayedAudioId = this.audio.play();
      if (this.spatial)
        this.updatePosition();
    }
    stop() {
      if (!this.lastPlayedAudioId)
        return;
      this.audio.stop(this.lastPlayedAudioId);
      this.lastPlayedAudioId = null;
    }
    onDeactivate() {
      this.stop();
    }
  };
  __publicField(HowlerAudioSource, "TypeName", "howler-audio-source");
  __publicField(HowlerAudioSource, "Properties", {
    /** Volume */
    volume: { type: Type.Float, default: 1 },
    /** Whether audio should be spatialized/positional */
    spatial: { type: Type.Bool, default: true },
    /** Whether to loop the sound */
    loop: { type: Type.Bool, default: false },
    /** Whether to start playing automatically */
    autoplay: { type: Type.Bool, default: false },
    /** URL to a sound file to play */
    src: { type: Type.String, default: "" }
  });

  // E:/git/Test_WonderlandEngine/node_modules/@wonderlandengine/components/dist/utils/utils.js
  function setFirstMaterialTexture(mat, texture, customTextureProperty) {
    if (customTextureProperty !== "auto") {
      mat[customTextureProperty] = texture;
      return true;
    }
    const shader = mat.shader;
    if (shader === "Flat Opaque Textured") {
      mat.flatTexture = texture;
      return true;
    } else if (shader === "Phong Opaque Textured" || shader === "Foliage" || shader === "Phong Normalmapped" || shader === "Phong Lightmapped") {
      mat.diffuseTexture = texture;
      return true;
    } else if (shader === "Particle") {
      mat.mainTexture = texture;
      return true;
    } else if (shader === "DistanceFieldVector") {
      mat.vectorTexture = texture;
      return true;
    } else if (shader === "Background" || shader === "Sky") {
      mat.texture = texture;
      return true;
    } else if (shader === "Physical Opaque Textured") {
      mat.albedoTexture = texture;
      return true;
    }
    return false;
  }

  // E:/git/Test_WonderlandEngine/node_modules/@wonderlandengine/components/dist/image-texture.js
  var ImageTexture = class extends Component {
    start() {
      if (!this.material) {
        throw Error("image-texture: material property not set");
      }
      this.engine.textures.load(this.url, "anonymous").then((texture) => {
        const mat = this.material;
        if (!setFirstMaterialTexture(mat, texture, this.textureProperty)) {
          console.error("Shader", mat.shader, "not supported by image-texture");
        }
      }).catch(console.err);
    }
  };
  __publicField(ImageTexture, "TypeName", "image-texture");
  __publicField(ImageTexture, "Properties", {
    /** URL to download the image from */
    url: Property.string(),
    /** Material to apply the video texture to */
    material: Property.material(),
    /** Name of the texture property to set */
    textureProperty: Property.string("auto")
  });

  // E:/git/Test_WonderlandEngine/node_modules/@wonderlandengine/components/dist/mouse-look.js
  var MouseLookComponent = class extends Component {
    init() {
      this.currentRotationY = 0;
      this.currentRotationX = 0;
      this.origin = new Float32Array(3);
      this.parentOrigin = new Float32Array(3);
      this.rotationX = 0;
      this.rotationY = 0;
    }
    start() {
      document.addEventListener("mousemove", (e) => {
        if (this.active && (this.mouseDown || !this.requireMouseDown)) {
          this.rotationY = -this.sensitity * e.movementX / 100;
          this.rotationX = -this.sensitity * e.movementY / 100;
          this.currentRotationX += this.rotationX;
          this.currentRotationY += this.rotationY;
          this.currentRotationX = Math.min(1.507, this.currentRotationX);
          this.currentRotationX = Math.max(-1.507, this.currentRotationX);
          this.object.getTranslationWorld(this.origin);
          const parent = this.object.parent;
          if (parent !== null) {
            parent.getTranslationWorld(this.parentOrigin);
            vec3_exports.sub(this.origin, this.origin, this.parentOrigin);
          }
          this.object.resetTranslationRotation();
          this.object.rotateAxisAngleRad([1, 0, 0], this.currentRotationX);
          this.object.rotateAxisAngleRad([0, 1, 0], this.currentRotationY);
          this.object.translate(this.origin);
        }
      });
      const canvas2 = this.engine.canvas;
      if (this.pointerLockOnClick) {
        canvas2.addEventListener("mousedown", () => {
          canvas2.requestPointerLock = canvas2.requestPointerLock || canvas2.mozRequestPointerLock || canvas2.webkitRequestPointerLock;
          canvas2.requestPointerLock();
        });
      }
      if (this.requireMouseDown) {
        if (this.mouseButtonIndex == 2) {
          canvas2.addEventListener("contextmenu", (e) => {
            e.preventDefault();
          }, false);
        }
        canvas2.addEventListener("mousedown", (e) => {
          if (e.button == this.mouseButtonIndex) {
            this.mouseDown = true;
            document.body.style.cursor = "grabbing";
            if (e.button == 1) {
              e.preventDefault();
              return false;
            }
          }
        });
        canvas2.addEventListener("mouseup", (e) => {
          if (e.button == this.mouseButtonIndex) {
            this.mouseDown = false;
            document.body.style.cursor = "initial";
          }
        });
      }
    }
  };
  __publicField(MouseLookComponent, "TypeName", "mouse-look");
  __publicField(MouseLookComponent, "Properties", {
    /** Mouse look sensitivity */
    sensitity: { type: Type.Float, default: 0.25 },
    /** Require a mouse button to be pressed to control view.
     * Otherwise view will allways follow mouse movement */
    requireMouseDown: { type: Type.Bool, default: true },
    /** If "moveOnClick" is enabled, mouse button which should
     * be held down to control view */
    mouseButtonIndex: { type: Type.Int },
    /** Enables pointer lock on "mousedown" event on canvas */
    pointerLockOnClick: { type: Type.Bool, default: false }
  });

  // E:/git/Test_WonderlandEngine/node_modules/@wonderlandengine/components/dist/player-height.js
  var __decorate6 = function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
      r = Reflect.decorate(decorators, target, key, desc);
    else
      for (var i = decorators.length - 1; i >= 0; i--)
        if (d = decorators[i])
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var PlayerHeight = class extends Component {
    height = 1.75;
    onSessionStartCallback;
    onSessionEndCallback;
    start() {
      this.object.resetPositionRotation();
      this.object.translateLocal([0, this.height, 0]);
      this.onSessionStartCallback = this.onXRSessionStart.bind(this);
      this.onSessionEndCallback = this.onXRSessionEnd.bind(this);
    }
    onActivate() {
      this.engine.onXRSessionStart.add(this.onSessionStartCallback);
      this.engine.onXRSessionEnd.add(this.onSessionEndCallback);
    }
    onDeactivate() {
      this.engine.onXRSessionStart.remove(this.onSessionStartCallback);
      this.engine.onXRSessionEnd.remove(this.onSessionEndCallback);
    }
    onXRSessionStart() {
      const type = this.engine.xr?.currentReferenceSpaceType;
      if (type !== "local" && type !== "viewer") {
        this.object.resetPositionRotation();
      }
    }
    onXRSessionEnd() {
      const type = this.engine.xr?.currentReferenceSpaceType;
      if (type !== "local" && type !== "viewer") {
        this.object.resetPositionRotation();
        this.object.translateLocal([0, this.height, 0]);
      }
    }
  };
  __publicField(PlayerHeight, "TypeName", "player-height");
  __decorate6([
    property.float(1.75)
  ], PlayerHeight.prototype, "height", void 0);

  // E:/git/Test_WonderlandEngine/node_modules/@wonderlandengine/components/dist/target-framerate.js
  var TargetFramerate = class extends Component {
    start() {
      this.onSessionStartCallback = this.setTargetFramerate.bind(this);
    }
    onActivate() {
      this.engine.onXRSessionStart.add(this.onSessionStartCallback);
    }
    onDeactivate() {
      this.engine.onXRSessionStart.remove(this.onSessionStartCallback);
    }
    setTargetFramerate(s) {
      if (s.supportedFrameRates && s.updateTargetFrameRate) {
        const a = this.engine.xr.session.supportedFrameRates;
        a.sort((a2, b) => Math.abs(a2 - this.framerate) - Math.abs(b - this.framerate));
        this.engine.xr.session.updateTargetFrameRate(a[0]);
      }
    }
  };
  __publicField(TargetFramerate, "TypeName", "target-framerate");
  __publicField(TargetFramerate, "Properties", {
    framerate: { type: Type.Float, default: 90 }
  });

  // E:/git/Test_WonderlandEngine/node_modules/@wonderlandengine/components/dist/teleport.js
  var TeleportComponent = class extends Component {
    init() {
      this._prevThumbstickAxis = new Float32Array(2);
      this._tempVec = new Float32Array(3);
      this._tempVec0 = new Float32Array(3);
      this._currentIndicatorRotation = 0;
      this.input = this.object.getComponent("input");
      if (!this.input) {
        console.error(this.object.name, "generic-teleport-component.js: input component is required on the object");
        return;
      }
      if (!this.teleportIndicatorMeshObject) {
        console.error(this.object.name, "generic-teleport-component.js: Teleport indicator mesh is missing");
        return;
      }
      if (!this.camRoot) {
        console.error(this.object.name, "generic-teleport-component.js: camRoot not set");
        return;
      }
      this.isIndicating = false;
      this.indicatorHidden = true;
      this.hitSpot = new Float32Array(3);
      this._hasHit = false;
      this._extraRotation = 0;
      this._currentStickAxes = new Float32Array(2);
    }
    start() {
      if (this.cam) {
        this.isMouseIndicating = false;
        canvas.addEventListener("mousedown", this.onMouseDown.bind(this));
        canvas.addEventListener("mouseup", this.onMouseUp.bind(this));
      }
      if (this.handedness == 0) {
        const inputComp = this.object.getComponent("input");
        if (!inputComp) {
          console.warn("teleport component on object", this.object.name, 'was configured with handedness "input component", but object has no input component.');
        } else {
          this.handedness = inputComp.handedness;
          this.input = inputComp;
        }
      } else {
        this.handedness = ["left", "right"][this.handedness - 1];
      }
      this.onSessionStartCallback = this.setupVREvents.bind(this);
      this.teleportIndicatorMeshObject.active = false;
    }
    onActivate() {
      this.engine.onXRSessionStart.add(this.onSessionStartCallback);
    }
    onDeactivate() {
      this.engine.onXRSessionStart.remove(this.onSessionStartCallback);
    }
    /* Get current camera Y rotation */
    _getCamRotation() {
      this.eyeLeft.getForward(this._tempVec);
      this._tempVec[1] = 0;
      vec3_exports.normalize(this._tempVec, this._tempVec);
      return Math.atan2(this._tempVec[0], this._tempVec[2]);
    }
    update() {
      let inputLength = 0;
      if (this.gamepad && this.gamepad.axes) {
        this._currentStickAxes[0] = this.gamepad.axes[2];
        this._currentStickAxes[1] = this.gamepad.axes[3];
        inputLength = Math.abs(this._currentStickAxes[0]) + Math.abs(this._currentStickAxes[1]);
      }
      if (!this.isIndicating && this._prevThumbstickAxis[1] >= this.thumbstickActivationThreshhold && this._currentStickAxes[1] < this.thumbstickActivationThreshhold) {
        this.isIndicating = true;
      } else if (this.isIndicating && inputLength < this.thumbstickDeactivationThreshhold) {
        this.isIndicating = false;
        this.teleportIndicatorMeshObject.active = false;
        if (this._hasHit) {
          this._teleportPlayer(this.hitSpot, this._extraRotation);
        }
      }
      if (this.isIndicating && this.teleportIndicatorMeshObject && this.input) {
        const origin = this._tempVec0;
        this.object.getPositionWorld(origin);
        const direction2 = this.object.getForwardWorld(this._tempVec);
        let rayHit = this.rayHit = this.rayCastMode == 0 ? this.engine.scene.rayCast(origin, direction2, 1 << this.floorGroup) : this.engine.physics.rayCast(origin, direction2, 1 << this.floorGroup, this.maxDistance);
        if (rayHit.hitCount > 0) {
          this.indicatorHidden = false;
          this._extraRotation = Math.PI + Math.atan2(this._currentStickAxes[0], this._currentStickAxes[1]);
          this._currentIndicatorRotation = this._getCamRotation() + (this._extraRotation - Math.PI);
          this.teleportIndicatorMeshObject.resetPositionRotation();
          this.teleportIndicatorMeshObject.rotateAxisAngleRad([0, 1, 0], this._currentIndicatorRotation);
          this.teleportIndicatorMeshObject.translate(rayHit.locations[0]);
          this.teleportIndicatorMeshObject.translate([
            0,
            this.indicatorYOffset,
            0
          ]);
          this.teleportIndicatorMeshObject.active = true;
          this.hitSpot.set(rayHit.locations[0]);
          this._hasHit = true;
        } else {
          if (!this.indicatorHidden) {
            this.teleportIndicatorMeshObject.active = false;
            this.indicatorHidden = true;
          }
          this._hasHit = false;
        }
      } else if (this.teleportIndicatorMeshObject && this.isMouseIndicating) {
        this.onMousePressed();
      }
      this._prevThumbstickAxis.set(this._currentStickAxes);
    }
    setupVREvents(s) {
      this.session = s;
      s.addEventListener("end", function() {
        this.gamepad = null;
        this.session = null;
      }.bind(this));
      if (s.inputSources && s.inputSources.length) {
        for (let i = 0; i < s.inputSources.length; i++) {
          let inputSource = s.inputSources[i];
          if (inputSource.handedness == this.handedness) {
            this.gamepad = inputSource.gamepad;
          }
        }
      }
      s.addEventListener("inputsourceschange", function(e) {
        if (e.added && e.added.length) {
          for (let i = 0; i < e.added.length; i++) {
            let inputSource = e.added[i];
            if (inputSource.handedness == this.handedness) {
              this.gamepad = inputSource.gamepad;
            }
          }
        }
      }.bind(this));
    }
    onMouseDown() {
      this.isMouseIndicating = true;
    }
    onMouseUp() {
      this.isMouseIndicating = false;
      this.teleportIndicatorMeshObject.active = false;
      if (this._hasHit) {
        this._teleportPlayer(this.hitSpot, 0);
      }
    }
    onMousePressed() {
      let origin = [0, 0, 0];
      this.cam.getPositionWorld(origin);
      const direction2 = this.cam.getForward(this._tempVec);
      let rayHit = this.rayHit = this.rayCastMode == 0 ? this.engine.scene.rayCast(origin, direction2, 1 << this.floorGroup) : this.engine.physics.rayCast(origin, direction2, 1 << this.floorGroup, this.maxDistance);
      if (rayHit.hitCount > 0) {
        this.indicatorHidden = false;
        direction2[1] = 0;
        vec3_exports.normalize(direction2, direction2);
        this._currentIndicatorRotation = -Math.sign(direction2[2]) * Math.acos(direction2[0]) - Math.PI * 0.5;
        this.teleportIndicatorMeshObject.resetPositionRotation();
        this.teleportIndicatorMeshObject.rotateAxisAngleRad([0, 1, 0], this._currentIndicatorRotation);
        this.teleportIndicatorMeshObject.translate(rayHit.locations[0]);
        this.teleportIndicatorMeshObject.active = true;
        this.hitSpot = rayHit.locations[0];
        this._hasHit = true;
      } else {
        if (!this.indicatorHidden) {
          this.teleportIndicatorMeshObject.active = false;
          this.indicatorHidden = true;
        }
        this._hasHit = false;
      }
    }
    _teleportPlayer(newPosition, rotationToAdd) {
      this.camRoot.rotateAxisAngleRad([0, 1, 0], rotationToAdd);
      const p = this._tempVec;
      const p1 = this._tempVec0;
      if (this.session) {
        this.eyeLeft.getPositionWorld(p);
        this.eyeRight.getPositionWorld(p1);
        vec3_exports.add(p, p, p1);
        vec3_exports.scale(p, p, 0.5);
      } else {
        this.cam.getPositionWorld(p);
      }
      this.camRoot.getPositionWorld(p1);
      vec3_exports.sub(p, p1, p);
      p[0] += newPosition[0];
      p[1] = newPosition[1];
      p[2] += newPosition[2];
      this.camRoot.setPositionWorld(p);
    }
  };
  __publicField(TeleportComponent, "TypeName", "teleport");
  __publicField(TeleportComponent, "Properties", {
    /** Object that will be placed as indiciation forwhere the player will teleport to. */
    teleportIndicatorMeshObject: { type: Type.Object },
    /** Root of the player, the object that will be positioned on teleportation. */
    camRoot: { type: Type.Object },
    /** Non-vr camera for use outside of VR */
    cam: { type: Type.Object },
    /** Left eye for use in VR*/
    eyeLeft: { type: Type.Object },
    /** Right eye for use in VR*/
    eyeRight: { type: Type.Object },
    /** Handedness for VR cursors to accept trigger events only from respective controller. */
    handedness: {
      type: Type.Enum,
      values: ["input component", "left", "right", "none"],
      default: "input component"
    },
    /** Collision group of valid "floor" objects that can be teleported on */
    floorGroup: { type: Type.Int, default: 1 },
    /** How far the thumbstick needs to be pushed to have the teleport target indicator show up */
    thumbstickActivationThreshhold: { type: Type.Float, default: -0.7 },
    /** How far the thumbstick needs to be released to execute the teleport */
    thumbstickDeactivationThreshhold: { type: Type.Float, default: 0.3 },
    /** Offset to apply to the indicator object, e.g. to avoid it from Z-fighting with the floor */
    indicatorYOffset: { type: Type.Float, default: 0.01 },
    /** Mode for raycasting, whether to use PhysX or simple collision components */
    rayCastMode: {
      type: Type.Enum,
      values: ["collision", "physx"],
      default: "collision"
    },
    /** Max distance for PhysX raycast */
    maxDistance: { type: Type.Float, default: 100 }
  });

  // E:/git/Test_WonderlandEngine/node_modules/@wonderlandengine/components/dist/trail.js
  var direction = vec3_exports.create();
  var offset = vec3_exports.create();
  var normal = vec3_exports.create();
  var Trail = class extends Component {
    init() {
      this.points = new Array(this.segments + 1);
      for (let i = 0; i < this.points.length; ++i) {
        this.points[i] = vec3_exports.create();
      }
      this.currentPointOffset = 0;
      this.up = [0, 1, 0];
      this.timeTillNext = this.interval;
    }
    start() {
      this.trailContainer = this.engine.scene.addObject();
      this.meshComp = this.trailContainer.addComponent("mesh");
      this.meshComp.material = this.material;
      const vertexCount = 2 * this.points.length;
      this.indexData = new Uint32Array(6 * this.segments);
      for (let i = 0, v = 0; i < vertexCount - 2; i += 2, v += 6) {
        this.indexData.subarray(v, v + 6).set([i + 1, i + 0, i + 2, i + 2, i + 3, i + 1]);
      }
      this.mesh = new Mesh(this.engine, {
        vertexCount,
        indexData: this.indexData,
        indexType: MeshIndexType.UnsignedInt
      });
      this.meshComp.mesh = this.mesh;
    }
    updateVertices() {
      const positions = this.mesh.attribute(MeshAttribute.Position);
      const texCoords = this.mesh.attribute(MeshAttribute.TextureCoordinate);
      const normals = this.mesh.attribute(MeshAttribute.Normal);
      vec3_exports.set(direction, 0, 0, 0);
      for (let i = 0; i < this.points.length; ++i) {
        const curr = this.points[(this.currentPointIndex + i + 1) % this.points.length];
        const next = this.points[(this.currentPointIndex + i + 2) % this.points.length];
        if (i !== this.points.length - 1) {
          vec3_exports.sub(direction, next, curr);
        }
        vec3_exports.cross(offset, this.up, direction);
        vec3_exports.normalize(offset, offset);
        const timeFraction = 1 - this.timeTillNext / this.interval;
        const fraction = (i - timeFraction) / this.segments;
        vec3_exports.scale(offset, offset, (this.taper ? fraction : 1) * this.width / 2);
        positions.set(i * 2, [
          curr[0] - offset[0],
          curr[1] - offset[1],
          curr[2] - offset[2]
        ]);
        positions.set(i * 2 + 1, [
          curr[0] + offset[0],
          curr[1] + offset[1],
          curr[2] + offset[2]
        ]);
        if (normals) {
          vec3_exports.cross(normal, direction, offset);
          vec3_exports.normalize(normal, normal);
          normals.set(i * 2, normal);
          normals.set(i * 2 + 1, normal);
        }
        if (texCoords) {
          texCoords.set(i * 2, [0, fraction]);
          texCoords.set(i * 2 + 1, [1, fraction]);
        }
      }
      this.mesh.update();
    }
    resetTrail() {
      this.object.getTranslationWorld(this.points[0]);
      for (let i = 1; i < this.points.length; ++i) {
        vec3_exports.copy(this.points[i], this.points[0]);
      }
      this.currentPointIndex = 0;
      this.timeTillNext = this.interval;
    }
    update(dt) {
      this.timeTillNext -= dt;
      if (dt > this.resetThreshold) {
        this.resetTrail();
      }
      if (this.timeTillNext < 0) {
        this.currentPointIndex = (this.currentPointIndex + 1) % this.points.length;
        this.timeTillNext = this.timeTillNext % this.interval + this.interval;
      }
      this.object.getTranslationWorld(this.points[this.currentPointIndex]);
      this.updateVertices();
    }
    onActivate() {
      this.resetTrail();
    }
    onDestroy() {
      this.trailContainer.destroy();
      this.mesh.destroy();
    }
  };
  __publicField(Trail, "TypeName", "trail");
  __publicField(Trail, "Properties", {
    /** The material to apply to the trail mesh */
    material: { type: Type.Material },
    /** The number of segments in the trail mesh */
    segments: { type: Type.Int, default: 50 },
    /** The time interval before recording a new point */
    interval: { type: Type.Float, default: 0.1 },
    /** The width of the trail (in world space) */
    width: { type: Type.Float, default: 1 },
    /** Whether or not the trail should taper off */
    taper: { type: Type.Bool, default: true },
    /**
     * The maximum delta time in seconds, above which the trail resets.
     * This prevents the trail from jumping around when updates happen
     * infrequently (e.g. when the tab doesn't have focus).
     */
    resetThreshold: { type: Type.Float, default: 0.5 }
  });

  // E:/git/Test_WonderlandEngine/node_modules/@wonderlandengine/components/dist/two-joint-ik-solver.js
  function clamp2(v, a, b) {
    return Math.max(a, Math.min(v, b));
  }
  var rootScaling = new Float32Array(3);
  var tempQuat3 = new Float32Array(4);
  var middlePos = new Float32Array(3);
  var endPos = new Float32Array(3);
  var targetPos = new Float32Array(3);
  var helperPos = new Float32Array(3);
  var rootTransform = new Float32Array(8);
  var middleTransform = new Float32Array(8);
  var endTransform = new Float32Array(8);
  var twoJointIK = function() {
    const ta = new Float32Array(3);
    const ca = new Float32Array(3);
    const ba = new Float32Array(3);
    const ab = new Float32Array(3);
    const cb = new Float32Array(3);
    const axis0 = new Float32Array(3);
    const axis1 = new Float32Array(3);
    const temp = new Float32Array(3);
    return function(root, middle, b, c, targetPos2, eps, helper) {
      ba.set(b);
      const lab = vec3_exports.length(ba);
      vec3_exports.sub(ta, b, c);
      const lcb = vec3_exports.length(ta);
      ta.set(targetPos2);
      const lat = clamp2(vec3_exports.length(ta), eps, lab + lcb - eps);
      ca.set(c);
      vec3_exports.scale(ab, b, -1);
      vec3_exports.sub(cb, c, b);
      vec3_exports.normalize(ca, ca);
      vec3_exports.normalize(ba, ba);
      vec3_exports.normalize(ab, ab);
      vec3_exports.normalize(cb, cb);
      vec3_exports.normalize(ta, ta);
      const ac_ab_0 = Math.acos(clamp2(vec3_exports.dot(ca, ba), -1, 1));
      const ba_bc_0 = Math.acos(clamp2(vec3_exports.dot(ab, cb), -1, 1));
      const ac_at_0 = Math.acos(clamp2(vec3_exports.dot(ca, ta), -1, 1));
      const ac_ab_1 = Math.acos(clamp2((lcb * lcb - lab * lab - lat * lat) / (-2 * lab * lat), -1, 1));
      const ba_bc_1 = Math.acos(clamp2((lat * lat - lab * lab - lcb * lcb) / (-2 * lab * lcb), -1, 1));
      if (helper) {
        vec3_exports.sub(ba, helper, b);
        vec3_exports.normalize(ba, ba);
      }
      vec3_exports.cross(axis0, ca, ba);
      vec3_exports.normalize(axis0, axis0);
      vec3_exports.cross(axis1, c, targetPos2);
      vec3_exports.normalize(axis1, axis1);
      middle.transformVectorInverseLocal(temp, axis0);
      root.rotateAxisAngleRadObject(axis1, ac_at_0);
      root.rotateAxisAngleRadObject(axis0, ac_ab_1 - ac_ab_0);
      middle.rotateAxisAngleRadObject(axis0, ba_bc_1 - ba_bc_0);
    };
  }();
  var TwoJointIkSolver = class extends Component {
    time = 0;
    start() {
      this.root.getTransformLocal(rootTransform);
      this.middle.getTransformLocal(middleTransform);
      this.end.getTransformLocal(endTransform);
    }
    update(dt) {
      this.time += dt;
      this.root.setTransformLocal(rootTransform);
      this.middle.setTransformLocal(middleTransform);
      this.end.setTransformLocal(endTransform);
      this.root.getScalingWorld(rootScaling);
      this.middle.getPositionLocal(middlePos);
      this.end.getPositionLocal(endPos);
      this.middle.transformPointLocal(endPos, endPos);
      if (this.helper) {
        this.helper.getPositionWorld(helperPos);
        this.root.transformPointInverseWorld(helperPos, helperPos);
        vec3_exports.div(helperPos, helperPos, rootScaling);
      }
      this.target.getPositionWorld(targetPos);
      this.root.transformPointInverseWorld(targetPos, targetPos);
      vec3_exports.div(targetPos, targetPos, rootScaling);
      twoJointIK(this.root, this.middle, middlePos, endPos, targetPos, 0.01, this.helper ? helperPos : null, this.time);
      if (this.copyTargetRotation) {
        this.end.setRotationWorld(this.target.getRotationWorld(tempQuat3));
      }
    }
  };
  __publicField(TwoJointIkSolver, "TypeName", "two-joint-ik-solver");
  __publicField(TwoJointIkSolver, "Properties", {
    /** Root bone, never moves */
    root: Property.object(),
    /** Bone attached to the root */
    middle: Property.object(),
    /** Bone attached to the middle */
    end: Property.object(),
    /** Target the joins should reach for */
    target: Property.object(),
    /** Flag for copying rotation from target to end */
    copyTargetRotation: Property.bool(true),
    /** Helper object to use to determine joint rotation axis */
    helper: Property.object()
  });

  // E:/git/Test_WonderlandEngine/node_modules/@wonderlandengine/components/dist/video-texture.js
  var VideoTexture = class extends Component {
    init() {
      if (!this.material) {
        throw Error("video-texture: material property not set");
      }
      this.loaded = false;
      this.frameUpdateRequested = true;
    }
    start() {
      this.video = document.createElement("video");
      this.video.src = this.url;
      this.video.crossOrigin = "anonymous";
      this.video.playsInline = true;
      this.video.loop = this.loop;
      this.video.muted = this.muted;
      this.video.addEventListener("playing", () => {
        this.loaded = true;
      });
      if (this.autoplay) {
        const playAfterUserGesture = () => {
          this.video.play();
          window.removeEventListener("click", playAfterUserGesture);
          window.removeEventListener("touchstart", playAfterUserGesture);
        };
        window.addEventListener("click", playAfterUserGesture);
        window.addEventListener("touchstart", playAfterUserGesture);
      }
    }
    applyTexture() {
      const mat = this.material;
      const shader = mat.shader;
      const texture = this.texture = new Texture(this.engine, this.video);
      if (!setFirstMaterialTexture(mat, texture, this.textureProperty)) {
        console.error("Shader", shader, "not supported by video-texture");
      }
      if ("requestVideoFrameCallback" in this.video) {
        this.video.requestVideoFrameCallback(this.updateVideo.bind(this));
      } else {
        this.video.addEventListener("timeupdate", () => {
          this.frameUpdateRequested = true;
        });
      }
    }
    update(dt) {
      if (this.loaded && this.frameUpdateRequested) {
        if (this.texture) {
          this.texture.update();
        } else {
          this.applyTexture();
        }
        this.frameUpdateRequested = false;
      }
    }
    updateVideo() {
      this.frameUpdateRequested = true;
      this.video.requestVideoFrameCallback(this.updateVideo.bind(this));
    }
  };
  __publicField(VideoTexture, "TypeName", "video-texture");
  __publicField(VideoTexture, "Properties", {
    /** URL to download video from */
    url: Property.string(),
    /** Material to apply the video texture to */
    material: Property.material(),
    /** Whether to loop the video */
    loop: Property.bool(true),
    /** Whether to automatically start playing the video */
    autoplay: Property.bool(true),
    /** Whether to mute sound */
    muted: Property.bool(true),
    /** Name of the texture property to set */
    textureProperty: Property.string("auto")
  });

  // E:/git/Test_WonderlandEngine/node_modules/@wonderlandengine/components/dist/vr-mode-active-switch.js
  var VrModeActiveSwitch = class extends Component {
    start() {
      this.components = [];
      this.getComponents(this.object);
      this.onXRSessionEnd();
      this.onSessionStartCallback = this.onXRSessionStart.bind(this);
      this.onSessionEndCallback = this.onXRSessionEnd.bind(this);
    }
    onActivate() {
      this.engine.onXRSessionStart.add(this.onSessionStartCallback);
      this.engine.onXRSessionEnd.add(this.onSessionEndCallback);
    }
    onDeactivate() {
      this.engine.onXRSessionStart.remove(this.onSessionStartCallback);
      this.engine.onXRSessionEnd.remove(this.onSessionEndCallback);
    }
    getComponents(obj) {
      const comps = obj.getComponents().filter((c) => c.type !== "vr-mode-active-switch");
      this.components = this.components.concat(comps);
      if (this.affectChildren) {
        let children = obj.children;
        for (let i = 0; i < children.length; ++i) {
          this.getComponents(children[i]);
        }
      }
    }
    setComponentsActive(active) {
      const comps = this.components;
      for (let i = 0; i < comps.length; ++i) {
        comps[i].active = active;
      }
    }
    onXRSessionStart() {
      this.setComponentsActive(this.activateComponents == 0);
    }
    onXRSessionEnd() {
      this.setComponentsActive(this.activateComponents != 0);
    }
  };
  __publicField(VrModeActiveSwitch, "TypeName", "vr-mode-active-switch");
  __publicField(VrModeActiveSwitch, "Properties", {
    /** When components should be active: In VR or when not in VR */
    activateComponents: {
      type: Type.Enum,
      values: ["in VR", "in non-VR"],
      default: "in VR"
    },
    /** Whether child object's components should be affected */
    affectChildren: { type: Type.Bool, default: true }
  });

  // E:/git/Test_WonderlandEngine/node_modules/@wonderlandengine/components/dist/plane-detection.js
  var import_earcut = __toESM(require_earcut(), 1);
  var __decorate7 = function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
      r = Reflect.decorate(decorators, target, key, desc);
    else
      for (var i = decorators.length - 1; i >= 0; i--)
        if (d = decorators[i])
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var tempVec32 = new Float32Array(3);
  function extentsFromContour(out, points) {
    if (points.length == 0)
      return out;
    let absMaxX = Math.abs(points[0].x);
    let absMaxZ = Math.abs(points[0].z);
    for (let i = 1; i < points.length; ++i) {
      absMaxX = Math.max(absMaxX, Math.abs(points[i].x));
      absMaxZ = Math.max(absMaxZ, Math.abs(points[i].z));
    }
    out[0] = absMaxX;
    out[1] = 0;
    out[2] = absMaxZ;
  }
  function within(x, a, b) {
    if (a > b)
      return x < a && x > b;
    return x > a && x < b;
  }
  function isPointLocalOnXRPlanePolygon(p, plane) {
    const points = plane.polygon;
    if (points.length < 3)
      return false;
    const pX = p[0];
    const pZ = p[2];
    let intersections = 0;
    for (let n = 0, l = points.length - 1; n < points.length; ++n) {
      const aX = points[l].x;
      const aZ = points[l].z;
      const s = (points[n].z - aZ) / (points[n].x - aX);
      const x = Math.abs((pZ - aZ) / s);
      if (x >= 0 && x <= 1 && within(x + pX, aX, points[n].x))
        ++intersections;
      l = n;
    }
    return (intersections & 1) == 0;
  }
  function isPointWorldOnXRPlanePolygon(object, p, plane) {
    if (plane.polygon.length < 3)
      return false;
    isPointLocalOnXRPlanePolygon(object.transformPointInverseWorld(tempVec32, p), plane);
  }
  function planeMeshFromContour(engine, points, meshToUpdate = null) {
    const vertexCount = points.length;
    const vertices = new Float32Array(vertexCount * 2);
    for (let i = 0, d = 0; i < vertexCount; ++i, d += 2) {
      vertices[d] = points[i].x;
      vertices[d + 1] = points[i].z;
    }
    const triangles = (0, import_earcut.default)(vertices);
    const mesh = meshToUpdate || new Mesh(engine, {
      vertexCount,
      /* Assumption here that we will never have more than 256 points
       * in the detected plane meshes! */
      indexType: MeshIndexType.UnsignedByte,
      indexData: triangles
    });
    if (mesh.vertexCount !== vertexCount) {
      console.warn("vertexCount of meshToUpdate did not match required vertexCount");
      return mesh;
    }
    const positions = mesh.attribute(MeshAttribute.Position);
    const textureCoords = mesh.attribute(MeshAttribute.TextureCoordinate);
    const normals = mesh.attribute(MeshAttribute.Normal);
    tempVec32[1] = 0;
    for (let i = 0, s = 0; i < vertexCount; ++i, s += 2) {
      tempVec32[0] = vertices[s];
      tempVec32[2] = vertices[s + 1];
      positions.set(i, tempVec32);
    }
    textureCoords?.set(0, vertices);
    if (normals) {
      tempVec32[0] = 0;
      tempVec32[1] = 1;
      tempVec32[2] = 0;
      for (let i = 0; i < vertexCount; ++i) {
        normals.set(i, tempVec32);
      }
    }
    if (meshToUpdate)
      mesh.update();
    return mesh;
  }
  var _planeLost, planeLost_fn, _planeFound, planeFound_fn, _planeUpdate, planeUpdate_fn, _planeUpdatePose, planeUpdatePose_fn;
  var PlaneDetection = class extends Component {
    constructor() {
      super(...arguments);
      __privateAdd(this, _planeLost);
      __privateAdd(this, _planeFound);
      __privateAdd(this, _planeUpdate);
      __privateAdd(this, _planeUpdatePose);
      /**
       * Material to assign to created plane meshes or `null` if meshes should not be created.
       */
      __publicField(this, "planeMaterial", null);
      /**
       * Collision mask to assign to newly created collision components or a negative value if
       * collision components should not be created.
       */
      __publicField(this, "collisionMask", -1);
      /** Map of all planes and their last updated timestamps */
      __publicField(this, "planes", /* @__PURE__ */ new Map());
      /** Objects generated for each XRPlane */
      __publicField(this, "planeObjects", /* @__PURE__ */ new Map());
      /** Called when a plane starts tracking */
      __publicField(this, "onPlaneFound", new Emitter());
      /** Called when a plane stops tracking */
      __publicField(this, "onPlaneLost", new Emitter());
    }
    update() {
      if (!this.engine.xr?.frame)
        return;
      if (this.engine.xr.frame.detectedPlanes === void 0) {
        console.error("plane-detection: WebXR feature not available.");
        this.active = false;
        return;
      }
      const detectedPlanes = this.engine.xr.frame.detectedPlanes;
      for (const [plane, _] of this.planes) {
        if (!detectedPlanes.has(plane)) {
          __privateMethod(this, _planeLost, planeLost_fn).call(this, plane);
        }
      }
      detectedPlanes.forEach((plane) => {
        if (this.planes.has(plane)) {
          if (plane.lastChangedTime > this.planes.get(plane)) {
            __privateMethod(this, _planeUpdate, planeUpdate_fn).call(this, plane);
          }
        } else {
          __privateMethod(this, _planeFound, planeFound_fn).call(this, plane);
        }
        __privateMethod(this, _planeUpdatePose, planeUpdatePose_fn).call(this, plane);
      });
    }
  };
  _planeLost = new WeakSet();
  planeLost_fn = function(plane) {
    this.planes.delete(plane);
    const o = this.planeObjects.get(plane);
    this.onPlaneLost.notify(plane, o);
    if (o.objectId > 0)
      o.destroy();
  };
  _planeFound = new WeakSet();
  planeFound_fn = function(plane) {
    this.planes.set(plane, plane.lastChangedTime);
    const o = this.engine.scene.addObject(this.object);
    this.planeObjects.set(plane, o);
    if (this.planeMaterial) {
      o.addComponent(MeshComponent, {
        mesh: planeMeshFromContour(this.engine, plane.polygon),
        material: this.planeMaterial
      });
    }
    if (this.collisionMask >= 0) {
      extentsFromContour(tempVec32, plane.polygon);
      tempVec32[1] = 0.025;
      o.addComponent(CollisionComponent, {
        group: this.collisionMask,
        collider: Collider.Box,
        extents: tempVec32
      });
    }
    this.onPlaneFound.notify(plane, o);
  };
  _planeUpdate = new WeakSet();
  planeUpdate_fn = function(plane) {
    this.planes.set(plane, plane.lastChangedTime);
    const planeMesh = this.planeObjects.get(plane).getComponent(MeshComponent);
    if (!planeMesh)
      return;
    planeMeshFromContour(this.engine, plane.polygon, planeMesh.mesh);
  };
  _planeUpdatePose = new WeakSet();
  planeUpdatePose_fn = function(plane) {
    const o = this.planeObjects.get(plane);
    const pose = this.engine.xr.frame.getPose(plane.planeSpace, this.engine.xr.currentReferenceSpace);
    if (!pose) {
      o.active = false;
      return;
    }
    setXRRigidTransformLocal(o, pose.transform);
  };
  __publicField(PlaneDetection, "TypeName", "plane-detection");
  __decorate7([
    property.material()
  ], PlaneDetection.prototype, "planeMaterial", void 0);
  __decorate7([
    property.int()
  ], PlaneDetection.prototype, "collisionMask", void 0);

  // E:/git/Test_WonderlandEngine/node_modules/@wonderlandengine/components/dist/vrm.js
  var VRM_ROLL_AXES = {
    X: [1, 0, 0],
    Y: [0, 1, 0],
    Z: [0, 0, 1]
  };
  var VRM_AIM_AXES = {
    PositiveX: [1, 0, 0],
    NegativeX: [-1, 0, 0],
    PositiveY: [0, 1, 0],
    NegativeY: [0, -1, 0],
    PositiveZ: [0, 0, 1],
    NegativeZ: [0, 0, -1]
  };
  var Vrm = class extends Component {
    /** Meta information about the VRM model */
    meta = null;
    /** The humanoid bones of the VRM model */
    bones = {
      /* Torso */
      hips: null,
      spine: null,
      chest: null,
      upperChest: null,
      neck: null,
      /* Head */
      head: null,
      leftEye: null,
      rightEye: null,
      jaw: null,
      /* Legs */
      leftUpperLeg: null,
      leftLowerLeg: null,
      leftFoot: null,
      leftToes: null,
      rightUpperLeg: null,
      rightLowerLeg: null,
      rightFoot: null,
      rightToes: null,
      /* Arms */
      leftShoulder: null,
      leftUpperArm: null,
      leftLowerArm: null,
      leftHand: null,
      rightShoulder: null,
      rightUpperArm: null,
      rightLowerArm: null,
      rightHand: null,
      /* Fingers */
      leftThumbMetacarpal: null,
      leftThumbProximal: null,
      leftThumbDistal: null,
      leftIndexProximal: null,
      leftIndexIntermediate: null,
      leftIndexDistal: null,
      leftMiddleProximal: null,
      leftMiddleIntermediate: null,
      leftMiddleDistal: null,
      leftRingProximal: null,
      leftRingIntermediate: null,
      leftRingDistal: null,
      leftLittleProximal: null,
      leftLittleIntermediate: null,
      leftLittleDistal: null,
      rightThumbMetacarpal: null,
      rightThumbProximal: null,
      rightThumbDistal: null,
      rightIndexProximal: null,
      rightIndexIntermediate: null,
      rightIndexDistal: null,
      rightMiddleProximal: null,
      rightMiddleIntermediate: null,
      rightMiddleDistal: null,
      rightRingProximal: null,
      rightRingIntermediate: null,
      rightRingDistal: null,
      rightLittleProximal: null,
      rightLittleIntermediate: null,
      rightLittleDistal: null
    };
    /** Rotations of the bones in the rest pose (T-pose) */
    restPose = {};
    /* All node constraints, ordered to deal with dependencies */
    _nodeConstraints = [];
    /* VRMC_springBone chains */
    _springChains = [];
    /* Spherical colliders for spring bones */
    _sphereColliders = [];
    /* Capsule shaped colliders for spring bones */
    _capsuleColliders = [];
    /* Indicates which meshes are rendered in first/third person views */
    _firstPersonAnnotations = [];
    /* Contains details for (bone type) lookAt behaviour */
    _lookAt = null;
    /* Whether or not the VRM component has been initialized with `initializeVrm` */
    _initialized = false;
    init() {
      this._tempV3 = vec3_exports.create();
      this._tempV3A = vec3_exports.create();
      this._tempV3B = vec3_exports.create();
      this._tempQuat = quat_exports.create();
      this._tempQuatA = quat_exports.create();
      this._tempQuatB = quat_exports.create();
      this._tempMat4A = mat4_exports.create();
      this._tempQuat2 = quat2_exports.create();
      this._tailToShape = vec3_exports.create();
      this._headToTail = vec3_exports.create();
      this._inertia = vec3_exports.create();
      this._stiffness = vec3_exports.create();
      this._external = vec3_exports.create();
      this._rightVector = vec3_exports.set(vec3_exports.create(), 1, 0, 0);
      this._upVector = vec3_exports.set(vec3_exports.create(), 0, 1, 0);
      this._forwardVector = vec3_exports.set(vec3_exports.create(), 0, 0, 1);
      this._identityQuat = quat_exports.identity(quat_exports.create());
      this._rad2deg = 180 / Math.PI;
    }
    start() {
      if (!this.src) {
        console.error("vrm: src property not set");
        return;
      }
      this.engine.scene.append(this.src, { loadGltfExtensions: true }).then(({ root, extensions }) => {
        root.children.forEach((child) => child.parent = this.object);
        this._initializeVrm(extensions);
        root.destroy();
      });
    }
    /**
     * Parses the VRM glTF extensions and initializes the vrm component.
     * @param {GLTFExtensions} extensions The glTF extensions for the VRM model
     */
    _initializeVrm(extensions) {
      if (this._initialized) {
        throw Error("VRM component has already been initialized");
      }
      const VRMC_vrm = extensions.root["VRMC_vrm"];
      if (!VRMC_vrm) {
        throw Error("Missing VRM extensions");
      }
      if (VRMC_vrm.specVersion !== "1.0") {
        throw Error(`Unsupported VRM version, only 1.0 is supported, but encountered '${VRMC_vrm.specVersion}'`);
      }
      this.meta = VRMC_vrm.meta;
      this._parseHumanoid(VRMC_vrm.humanoid, extensions);
      if (VRMC_vrm.firstPerson) {
        this._parseFirstPerson(VRMC_vrm.firstPerson, extensions);
      }
      if (VRMC_vrm.lookAt) {
        this._parseLookAt(VRMC_vrm.lookAt);
      }
      this._findAndParseNodeConstraints(extensions);
      const springBone = extensions.root["VRMC_springBone"];
      if (springBone) {
        this._parseAndInitializeSpringBones(springBone, extensions);
      }
      this._initialized = true;
    }
    _parseHumanoid(humanoid, extensions) {
      for (const boneName in humanoid.humanBones) {
        if (!(boneName in this.bones)) {
          console.warn(`Unrecognized bone '${boneName}'`);
          continue;
        }
        const node = humanoid.humanBones[boneName].node;
        const objectId = extensions.idMapping[node];
        this.bones[boneName] = this.engine.wrapObject(objectId);
        this.restPose[boneName] = quat_exports.copy(quat_exports.create(), this.bones[boneName].rotationLocal);
      }
    }
    _parseFirstPerson(firstPerson, extensions) {
      for (const meshAnnotation of firstPerson.meshAnnotations) {
        const annotation = {
          node: this.engine.wrapObject(extensions.idMapping[meshAnnotation.node]),
          firstPerson: true,
          thirdPerson: true
        };
        switch (meshAnnotation.type) {
          case "firstPersonOnly":
            annotation.thirdPerson = false;
            break;
          case "thirdPersonOnly":
            annotation.firstPerson = false;
            break;
          case "both":
            break;
          case "auto":
            console.warn("First person mesh annotation type 'auto' is not supported, treating as 'both'!");
            break;
          default:
            console.error(`Invalid mesh annotation type '${meshAnnotation.type}'`);
            break;
        }
        this._firstPersonAnnotations.push(annotation);
      }
    }
    _parseLookAt(lookAt2) {
      if (lookAt2.type !== "bone") {
        console.warn(`Unsupported lookAt type '${lookAt2.type}', only 'bone' is supported`);
        return;
      }
      const parseRangeMap = (rangeMap) => {
        return {
          inputMaxValue: rangeMap.inputMaxValue,
          outputScale: rangeMap.outputScale
        };
      };
      this._lookAt = {
        offsetFromHeadBone: lookAt2.offsetFromHeadBone || [0, 0, 0],
        horizontalInner: parseRangeMap(lookAt2.rangeMapHorizontalInner),
        horizontalOuter: parseRangeMap(lookAt2.rangeMapHorizontalOuter),
        verticalDown: parseRangeMap(lookAt2.rangeMapVerticalDown),
        verticalUp: parseRangeMap(lookAt2.rangeMapVerticalUp)
      };
    }
    _findAndParseNodeConstraints(extensions) {
      const traverse = (object) => {
        const nodeExtensions = extensions.node[object.objectId];
        if (nodeExtensions && "VRMC_node_constraint" in nodeExtensions) {
          const nodeConstraintExtension = nodeExtensions["VRMC_node_constraint"];
          const constraint = nodeConstraintExtension.constraint;
          let type, axis;
          if ("roll" in constraint) {
            type = "roll";
            axis = VRM_ROLL_AXES[constraint.roll.rollAxis];
          } else if ("aim" in constraint) {
            type = "aim";
            axis = VRM_AIM_AXES[constraint.aim.aimAxis];
          } else if ("rotation" in constraint) {
            type = "rotation";
          }
          if (type) {
            const source = this.engine.wrapObject(extensions.idMapping[constraint[type].source]);
            this._nodeConstraints.push({
              type,
              source,
              destination: object,
              axis,
              weight: constraint[type].weight,
              /* Rest pose */
              destinationRestLocalRotation: quat_exports.copy(quat_exports.create(), object.rotationLocal),
              sourceRestLocalRotation: quat_exports.copy(quat_exports.create(), source.rotationLocal),
              sourceRestLocalRotationInv: quat_exports.invert(quat_exports.create(), source.rotationLocal)
            });
          } else {
            console.warn("Unrecognized or invalid VRMC_node_constraint, ignoring it");
          }
        }
        for (const child of object.children) {
          traverse(child);
        }
      };
      traverse(this.object);
    }
    _parseAndInitializeSpringBones(springBone, extensions) {
      const colliders = (springBone.colliders || []).map((collider, i) => {
        const shapeType = "capsule" in collider.shape ? "capsule" : "sphere";
        return {
          id: i,
          object: this.engine.wrapObject(extensions.idMapping[collider.node]),
          shape: {
            isCapsule: shapeType === "capsule",
            radius: collider.shape[shapeType].radius,
            offset: collider.shape[shapeType].offset,
            tail: collider.shape[shapeType].tail
          },
          cache: {
            head: vec3_exports.create(),
            tail: vec3_exports.create()
          }
        };
      });
      this._sphereColliders = colliders.filter((c) => !c.shape.isCapsule);
      this._capsuleColliders = colliders.filter((c) => c.shape.isCapsule);
      const colliderGroups = (springBone.colliderGroups || []).map((group) => ({
        name: group.name,
        colliders: group.colliders.map((c) => colliders[c])
      }));
      for (const spring of springBone.springs) {
        const joints = [];
        for (const joint of spring.joints) {
          const springJoint = {
            hitRadius: 0,
            stiffness: 1,
            gravityPower: 0,
            gravityDir: [0, -1, 0],
            dragForce: 0.5,
            node: null,
            state: null
          };
          Object.assign(springJoint, joint);
          springJoint.node = this.engine.wrapObject(extensions.idMapping[springJoint.node]);
          joints.push(springJoint);
        }
        const springChainColliders = (spring.colliderGroups || []).flatMap((cg) => colliderGroups[cg].colliders);
        this._springChains.push({
          name: spring.name,
          center: spring.center ? this.engine.wrapObject(extensions.idMapping[spring.center]) : null,
          joints,
          sphereColliders: springChainColliders.filter((c) => !c.shape.isCapsule),
          capsuleColliders: springChainColliders.filter((c) => c.shape.isCapsule)
        });
      }
      for (const springChain of this._springChains) {
        for (let i = 0; i < springChain.joints.length - 1; ++i) {
          const springBoneJoint = springChain.joints[i];
          const childSpringBoneJoint = springChain.joints[i + 1];
          const springBonePosition = springBoneJoint.node.getTranslationWorld(vec3_exports.create());
          const childSpringBonePosition = childSpringBoneJoint.node.getTranslationWorld(vec3_exports.create());
          const boneDirection = vec3_exports.subtract(this._tempV3A, springBonePosition, childSpringBonePosition);
          const state = {
            prevTail: childSpringBonePosition,
            currentTail: vec3_exports.copy(vec3_exports.create(), childSpringBonePosition),
            initialLocalRotation: quat_exports.copy(quat_exports.create(), springBoneJoint.node.rotationLocal),
            initialLocalTransformInvert: quat2_exports.invert(quat2_exports.create(), springBoneJoint.node.transformLocal),
            boneAxis: vec3_exports.normalize(vec3_exports.create(), childSpringBoneJoint.node.getTranslationLocal(this._tempV3)),
            /* Ensure bone length is at least 1cm to avoid jittery behaviour from zero-length bones */
            boneLength: Math.max(0.01, vec3_exports.length(boneDirection)),
            /* Tail positions in center space, if needed */
            prevTailCenter: null,
            currentTailCenter: null
          };
          if (springChain.center) {
            state.prevTailCenter = springChain.center.transformPointInverseWorld(vec3_exports.create(), childSpringBonePosition);
            state.currentTailCenter = vec3_exports.copy(vec3_exports.create(), childSpringBonePosition);
          }
          springBoneJoint.state = state;
        }
      }
    }
    update(dt) {
      if (!this._initialized) {
        return;
      }
      this._resolveLookAt();
      this._resolveConstraints();
      this._updateSpringBones(dt);
    }
    _rangeMap(rangeMap, input) {
      const maxValue = rangeMap.inputMaxValue;
      const outputScale = rangeMap.outputScale;
      return Math.min(input, maxValue) / maxValue * outputScale;
    }
    _resolveLookAt() {
      if (!this._lookAt || !this.lookAtTarget) {
        return;
      }
      const lookAtSource = this.bones.head.transformPointWorld(this._tempV3A, this._lookAt.offsetFromHeadBone);
      const lookAtTarget = this.lookAtTarget.getTranslationWorld(this._tempV3B);
      const lookAtDirection = vec3_exports.sub(this._tempV3A, lookAtTarget, lookAtSource);
      vec3_exports.normalize(lookAtDirection, lookAtDirection);
      this.bones.head.parent.transformVectorInverseWorld(lookAtDirection);
      const z = vec3_exports.dot(lookAtDirection, this._forwardVector);
      const x = vec3_exports.dot(lookAtDirection, this._rightVector);
      const yaw = Math.atan2(x, z) * this._rad2deg;
      const xz = Math.sqrt(x * x + z * z);
      const y = vec3_exports.dot(lookAtDirection, this._upVector);
      let pitch = Math.atan2(-y, xz) * this._rad2deg;
      if (pitch > 0) {
        pitch = this._rangeMap(this._lookAt.verticalDown, pitch);
      } else {
        pitch = -this._rangeMap(this._lookAt.verticalUp, -pitch);
      }
      if (this.bones.leftEye) {
        let yawLeft = yaw;
        if (yawLeft > 0) {
          yawLeft = this._rangeMap(this._lookAt.horizontalInner, yawLeft);
        } else {
          yawLeft = -this._rangeMap(this._lookAt.horizontalOuter, -yawLeft);
        }
        const eyeRotation = quat_exports.fromEuler(this._tempQuatA, pitch, yawLeft, 0);
        this.bones.leftEye.rotationLocal = quat_exports.multiply(eyeRotation, this.restPose.leftEye, eyeRotation);
      }
      if (this.bones.rightEye) {
        let yawRight = yaw;
        if (yawRight > 0) {
          yawRight = this._rangeMap(this._lookAt.horizontalOuter, yawRight);
        } else {
          yawRight = -this._rangeMap(this._lookAt.horizontalInner, -yawRight);
        }
        const eyeRotation = quat_exports.fromEuler(this._tempQuatA, pitch, yawRight, 0);
        this.bones.rightEye.rotationLocal = quat_exports.multiply(eyeRotation, this.restPose.rightEye, eyeRotation);
      }
    }
    _resolveConstraints() {
      for (const nodeConstraint of this._nodeConstraints) {
        this._resolveConstraint(nodeConstraint);
      }
    }
    _resolveConstraint(nodeConstraint) {
      const dstRestQuat = nodeConstraint.destinationRestLocalRotation;
      const srcRestQuatInv = nodeConstraint.sourceRestLocalRotationInv;
      const targetQuat = quat_exports.identity(this._tempQuatA);
      switch (nodeConstraint.type) {
        case "roll":
          {
            const deltaSrcQuat = quat_exports.multiply(this._tempQuatA, srcRestQuatInv, nodeConstraint.source.rotationLocal);
            const deltaSrcQuatInParent = quat_exports.multiply(this._tempQuatA, nodeConstraint.sourceRestLocalRotation, deltaSrcQuat);
            quat_exports.mul(deltaSrcQuatInParent, deltaSrcQuatInParent, srcRestQuatInv);
            const dstRestQuatInv = quat_exports.invert(this._tempQuatB, dstRestQuat);
            const deltaSrcQuatInDst = quat_exports.multiply(this._tempQuatB, dstRestQuatInv, deltaSrcQuatInParent);
            quat_exports.multiply(deltaSrcQuatInDst, deltaSrcQuatInDst, dstRestQuat);
            const toVec = vec3_exports.transformQuat(this._tempV3A, nodeConstraint.axis, deltaSrcQuatInDst);
            const fromToQuat = quat_exports.rotationTo(this._tempQuatA, nodeConstraint.axis, toVec);
            quat_exports.mul(targetQuat, dstRestQuat, quat_exports.invert(this._tempQuat, fromToQuat));
            quat_exports.mul(targetQuat, targetQuat, deltaSrcQuatInDst);
          }
          break;
        case "aim":
          {
            const dstParentWorldQuat = nodeConstraint.destination.parent.rotationWorld;
            const fromVec = vec3_exports.transformQuat(this._tempV3A, nodeConstraint.axis, dstRestQuat);
            vec3_exports.transformQuat(fromVec, fromVec, dstParentWorldQuat);
            const toVec = nodeConstraint.source.getTranslationWorld(this._tempV3B);
            vec3_exports.sub(toVec, toVec, nodeConstraint.destination.getTranslationWorld(this._tempV3));
            vec3_exports.normalize(toVec, toVec);
            const fromToQuat = quat_exports.rotationTo(this._tempQuatA, fromVec, toVec);
            quat_exports.mul(targetQuat, quat_exports.invert(this._tempQuat, dstParentWorldQuat), fromToQuat);
            quat_exports.mul(targetQuat, targetQuat, dstParentWorldQuat);
            quat_exports.mul(targetQuat, targetQuat, dstRestQuat);
          }
          break;
        case "rotation":
          {
            const srcDeltaQuat = quat_exports.mul(targetQuat, srcRestQuatInv, nodeConstraint.source.rotationLocal);
            quat_exports.mul(targetQuat, dstRestQuat, srcDeltaQuat);
          }
          break;
      }
      quat_exports.slerp(targetQuat, dstRestQuat, targetQuat, nodeConstraint.weight);
      nodeConstraint.destination.rotationLocal = targetQuat;
    }
    _updateSpringBones(dt) {
      this._sphereColliders.forEach(({ object, shape, cache }) => {
        const offset2 = vec3_exports.copy(cache.head, shape.offset);
        object.transformVectorWorld(offset2);
        vec3_exports.add(cache.head, object.getTranslationWorld(this._tempV3), offset2);
      });
      this._capsuleColliders.forEach(({ object, shape, cache }) => {
        const shapeCenter = object.getTranslationWorld(this._tempV3A);
        const headOffset = vec3_exports.copy(cache.head, shape.offset);
        object.transformVectorWorld(headOffset);
        vec3_exports.add(cache.head, shapeCenter, headOffset);
        const tailOffset = vec3_exports.copy(cache.tail, shape.tail);
        object.transformVectorWorld(tailOffset);
        vec3_exports.add(cache.tail, shapeCenter, tailOffset);
      });
      this._springChains.forEach((springChain) => {
        for (let i = 0; i < springChain.joints.length - 1; ++i) {
          const joint = springChain.joints[i];
          const parentWorldRotation = joint.node.parent ? joint.node.parent.rotationWorld : this._identityQuat;
          const inertia = this._inertia;
          if (springChain.center) {
            vec3_exports.sub(inertia, joint.state.currentTailCenter, joint.state.prevTailCenter);
            springChain.center.transformVectorWorld(inertia);
          } else {
            vec3_exports.sub(inertia, joint.state.currentTail, joint.state.prevTail);
          }
          vec3_exports.scale(inertia, inertia, 1 - joint.dragForce);
          const stiffness = vec3_exports.copy(this._stiffness, joint.state.boneAxis);
          vec3_exports.transformQuat(stiffness, stiffness, joint.state.initialLocalRotation);
          vec3_exports.transformQuat(stiffness, stiffness, parentWorldRotation);
          vec3_exports.scale(stiffness, stiffness, dt * joint.stiffness);
          const external = vec3_exports.scale(this._external, joint.gravityDir, dt * joint.gravityPower);
          const nextTail = vec3_exports.copy(this._tempV3A, joint.state.currentTail);
          vec3_exports.add(nextTail, nextTail, inertia);
          vec3_exports.add(nextTail, nextTail, stiffness);
          vec3_exports.add(nextTail, nextTail, external);
          const worldPosition = joint.node.getTranslationWorld(this._tempV3B);
          vec3_exports.sub(nextTail, nextTail, worldPosition);
          vec3_exports.normalize(nextTail, nextTail);
          vec3_exports.scaleAndAdd(nextTail, worldPosition, nextTail, joint.state.boneLength);
          for (const { shape, cache } of springChain.sphereColliders) {
            let tailToShape = this._tailToShape;
            const sphereCenter = cache.head;
            tailToShape = vec3_exports.sub(tailToShape, nextTail, sphereCenter);
            const radius = shape.radius + joint.hitRadius;
            const dist2 = vec3_exports.length(tailToShape) - radius;
            if (dist2 < 0) {
              vec3_exports.normalize(tailToShape, tailToShape);
              vec3_exports.scaleAndAdd(nextTail, nextTail, tailToShape, -dist2);
              vec3_exports.sub(nextTail, nextTail, worldPosition);
              vec3_exports.normalize(nextTail, nextTail);
              vec3_exports.scaleAndAdd(nextTail, worldPosition, nextTail, joint.state.boneLength);
            }
          }
          for (const { shape, cache } of springChain.capsuleColliders) {
            let tailToShape = this._tailToShape;
            const head = cache.head;
            const tail = cache.tail;
            tailToShape = vec3_exports.sub(tailToShape, nextTail, head);
            const headToTail = vec3_exports.sub(this._headToTail, tail, head);
            const dot5 = vec3_exports.dot(headToTail, tailToShape);
            if (vec3_exports.squaredLength(headToTail) <= dot5) {
              vec3_exports.sub(tailToShape, nextTail, tail);
            } else if (dot5 > 0) {
              vec3_exports.scale(headToTail, headToTail, dot5 / vec3_exports.squaredLength(headToTail));
              vec3_exports.sub(tailToShape, tailToShape, headToTail);
            }
            const radius = shape.radius + joint.hitRadius;
            const dist2 = vec3_exports.length(tailToShape) - radius;
            if (dist2 < 0) {
              vec3_exports.normalize(tailToShape, tailToShape);
              vec3_exports.scaleAndAdd(nextTail, nextTail, tailToShape, -dist2);
              vec3_exports.sub(nextTail, nextTail, worldPosition);
              vec3_exports.normalize(nextTail, nextTail);
              vec3_exports.scaleAndAdd(nextTail, worldPosition, nextTail, joint.state.boneLength);
            }
          }
          vec3_exports.copy(joint.state.prevTail, joint.state.currentTail);
          vec3_exports.copy(joint.state.currentTail, nextTail);
          if (springChain.center) {
            vec3_exports.copy(joint.state.prevTailCenter, joint.state.currentTailCenter);
            vec3_exports.copy(joint.state.currentTailCenter, nextTail);
            springChain.center.transformPointInverseWorld(joint.state.currentTailCenter);
          }
          joint.node.parent.transformPointInverseWorld(nextTail);
          const nextTailDualQuat = quat2_exports.fromTranslation(this._tempQuat2, nextTail);
          quat2_exports.multiply(nextTailDualQuat, joint.state.initialLocalTransformInvert, nextTailDualQuat);
          quat2_exports.getTranslation(nextTail, nextTailDualQuat);
          vec3_exports.normalize(nextTail, nextTail);
          const jointRotation = quat_exports.rotationTo(this._tempQuatA, joint.state.boneAxis, nextTail);
          joint.node.rotationLocal = quat_exports.mul(this._tempQuatA, joint.state.initialLocalRotation, jointRotation);
        }
      });
    }
    /**
     * @param {boolean} firstPerson Whether the model should render for first person or third person views
     */
    set firstPerson(firstPerson) {
      this._firstPersonAnnotations.forEach((annotation) => {
        const visible = firstPerson == annotation.firstPerson || firstPerson != annotation.thirdPerson;
        annotation.node.getComponents("mesh").forEach((mesh) => {
          mesh.active = visible;
        });
      });
    }
  };
  __publicField(Vrm, "TypeName", "vrm");
  __publicField(Vrm, "Properties", {
    /** URL to a VRM file to load */
    src: { type: Type.String },
    /** Object the VRM is looking at */
    lookAtTarget: { type: Type.Object }
  });

  // E:/git/Test_WonderlandEngine/node_modules/@wonderlandengine/components/dist/wasd-controls.js
  var _direction = new Float32Array(3);
  var WasdControlsComponent = class extends Component {
    init() {
      this.up = false;
      this.right = false;
      this.down = false;
      this.left = false;
      window.addEventListener("keydown", this.press.bind(this));
      window.addEventListener("keyup", this.release.bind(this));
    }
    start() {
      this.headObject = this.headObject || this.object;
    }
    update() {
      vec3_exports.zero(_direction);
      if (this.up)
        _direction[2] -= 1;
      if (this.down)
        _direction[2] += 1;
      if (this.left)
        _direction[0] -= 1;
      if (this.right)
        _direction[0] += 1;
      vec3_exports.normalize(_direction, _direction);
      _direction[0] *= this.speed;
      _direction[2] *= this.speed;
      vec3_exports.transformQuat(_direction, _direction, this.headObject.transformWorld);
      if (this.lockY) {
        _direction[1] = 0;
        vec3_exports.normalize(_direction, _direction);
        vec3_exports.scale(_direction, _direction, this.speed);
      }
      this.object.translateLocal(_direction);
    }
    press(e) {
      if (e.keyCode === 38 || e.keyCode === 87 || e.keyCode === 90) {
        this.up = true;
      } else if (e.keyCode === 39 || e.keyCode === 68) {
        this.right = true;
      } else if (e.keyCode === 40 || e.keyCode === 83) {
        this.down = true;
      } else if (e.keyCode === 37 || e.keyCode === 65 || e.keyCode === 81) {
        this.left = true;
      }
    }
    release(e) {
      if (e.keyCode === 38 || e.keyCode === 87 || e.keyCode === 90) {
        this.up = false;
      } else if (e.keyCode === 39 || e.keyCode === 68) {
        this.right = false;
      } else if (e.keyCode === 40 || e.keyCode === 83) {
        this.down = false;
      } else if (e.keyCode === 37 || e.keyCode === 65 || e.keyCode === 81) {
        this.left = false;
      }
    }
  };
  __publicField(WasdControlsComponent, "TypeName", "wasd-controls");
  __publicField(WasdControlsComponent, "Properties", {
    /** Movement speed in m/s. */
    speed: { type: Type.Float, default: 0.1 },
    /** Flag for only moving the object on the global x & z planes */
    lockY: { type: Type.Bool, default: false },
    /** Object of which the orientation is used to determine forward direction */
    headObject: { type: Type.Object }
  });

  // E:/git/Test_WonderlandEngine/js/button.js
  var button_exports = {};
  __export(button_exports, {
    ButtonComponent: () => ButtonComponent,
    hapticFeedback: () => hapticFeedback
  });
  function hapticFeedback(object, strength, duration) {
    const input = object.getComponent(InputComponent);
    if (input && input.xrInputSource) {
      const gamepad = input.xrInputSource.gamepad;
      if (gamepad && gamepad.hapticActuators)
        gamepad.hapticActuators[0].pulse(strength, duration);
    }
  }
  var ButtonComponent = class extends Component {
    static onRegister(engine) {
      engine.registerComponent(HowlerAudioSource);
      engine.registerComponent(CursorTarget);
    }
    /* Position to return to when "unpressing" the button */
    returnPos = new Float32Array(3);
    start() {
      this.mesh = this.buttonMeshObject.getComponent(MeshComponent);
      this.defaultMaterial = this.mesh.material;
      this.buttonMeshObject.getTranslationLocal(this.returnPos);
      this.target = this.object.getComponent(CursorTarget) || this.object.addComponent(CursorTarget);
      this.soundClick = this.object.addComponent(HowlerAudioSource, {
        src: "sfx/click.wav",
        spatial: true
      });
      this.soundUnClick = this.object.addComponent(HowlerAudioSource, {
        src: "sfx/unclick.wav",
        spatial: true
      });
    }
    onActivate() {
      this.target.onHover.add(this.onHover);
      this.target.onUnhover.add(this.onUnhover);
      this.target.onDown.add(this.onDown);
      this.target.onUp.add(this.onUp);
    }
    onDeactivate() {
      this.target.onHover.remove(this.onHover);
      this.target.onUnhover.remove(this.onUnhover);
      this.target.onDown.remove(this.onDown);
      this.target.onUp.remove(this.onUp);
    }
    /* Called by 'cursor-target' */
    onHover = (_, cursor) => {
      this.mesh.material = this.hoverMaterial;
      if (cursor.type === "finger-cursor") {
        this.onDown(_, cursor);
      }
      hapticFeedback(cursor.object, 0.5, 50);
    };
    /* Called by 'cursor-target' */
    onDown = (_, cursor) => {
      this.soundClick.play();
      this.buttonMeshObject.translate([0, -0.1, 0]);
      hapticFeedback(cursor.object, 1, 20);
    };
    /* Called by 'cursor-target' */
    onUp = (_, cursor) => {
      this.soundUnClick.play();
      this.buttonMeshObject.setTranslationLocal(this.returnPos);
      hapticFeedback(cursor.object, 0.7, 20);
    };
    /* Called by 'cursor-target' */
    onUnhover = (_, cursor) => {
      this.mesh.material = this.defaultMaterial;
      if (cursor.type === "finger-cursor") {
        this.onUp(_, cursor);
      }
      hapticFeedback(cursor.object, 0.3, 50);
    };
  };
  __publicField(ButtonComponent, "TypeName", "button");
  __publicField(ButtonComponent, "Properties", {
    /** Object that has the button's mesh attached */
    buttonMeshObject: Property.object(),
    /** Material to apply when the user hovers the button */
    hoverMaterial: Property.material()
  });

  // E:/git/Test_WonderlandEngine/js/test.js
  var test_exports = {};
  __export(test_exports, {
    Test: () => Test
  });

  // E:/git/Test_WonderlandEngine/js/testManager.js
  var testManager_exports = {};
  __export(testManager_exports, {
    TestManager: () => TestManager
  });
  var TestManager = class extends Component {
    isPlayer1 = true;
    isWinning = false;
    static onRegister(engine) {
    }
    init() {
      console.log("init() with param", this.param);
    }
    start() {
      this.b0 = this.block0.getComponent("test");
      this.b1 = this.block1.getComponent("test");
      this.b2 = this.block2.getComponent("test");
      this.b3 = this.block3.getComponent("test");
      this.b4 = this.block4.getComponent("test");
      this.b5 = this.block5.getComponent("test");
      this.b6 = this.block6.getComponent("test");
      this.b7 = this.block7.getComponent("test");
      this.b8 = this.block8.getComponent("test");
      this.blockArray = [
        [this.b0, this.b1, this.b2],
        [this.b3, this.b4, this.b5],
        [this.b6, this.b7, this.b7]
      ];
    }
    update(dt) {
      this.isWin();
      this.isBoardFull();
    }
    //Checking who is winner
    isWin() {
      for (var i = 0; i < 3; i++) {
        if (this.blockArray[i][0].player !== "0") {
          if (this.blockArray[i][0].player === "1" && this.blockArray[i][1].player === "1" && this.blockArray[i][2].player === "1") {
            this.isWinning = true;
            console.log("Player1 is winner");
          }
          if (this.blockArray[i][0].player === "2" && this.blockArray[i][1].player === "2" && this.blockArray[i][2].player === "2") {
            this.isWinning = true;
            console.log("Player2 is winner");
          }
        }
        if (this.blockArray[0][i].player !== "0") {
          if (this.blockArray[0][i].player === "1" && this.blockArray[1][i].player === "1" && this.blockArray[2][i].player === "1") {
            this.isWinning = true;
            console.log("Player1 is winner");
          }
          if (this.blockArray[0][i].player === "2" && this.blockArray[1][i].player === "2" && this.blockArray[2][i].player === "2") {
            this.isWinning = true;
            console.log("Player2 is winner");
          }
        }
      }
    }
    //Checking board is full
    isBoardFull() {
      if (this.isWinning === false) {
        if (this.blockArray[0][0].player !== "0" && this.blockArray[0][1].player !== "0" && this.blockArray[0][2].player !== "0" && this.blockArray[1][0].player !== "0" && this.blockArray[1][1].player !== "0" && this.blockArray[1][2].player !== "0" && this.blockArray[2][0].player !== "0" && this.blockArray[2][1].player !== "0" && this.blockArray[2][2].player !== "0") {
          console.log("Board is full");
        }
      }
    }
    //turn player
    blockWasClicked() {
      this.isPlayer1 = !this.isPlayer1;
    }
  };
  __publicField(TestManager, "TypeName", "testManager");
  /* Properties that are configurable in the editor */
  __publicField(TestManager, "Properties", {
    //param: Property.float(1.0)
    block0: Property.object(),
    block1: Property.object(),
    block2: Property.object(),
    block3: Property.object(),
    block4: Property.object(),
    block5: Property.object(),
    block6: Property.object(),
    block7: Property.object(),
    block8: Property.object()
  });

  // E:/git/Test_WonderlandEngine/js/test.js
  var Test = class extends Component {
    meshComponent;
    gameManager;
    player = "0";
    init() {
    }
    start() {
      this.cursorTarget = this.object.getComponent("cursor-target");
      this.cursorTarget.addClickFunction(this.onClick.bind(this));
      this.meshComponent = this.object.getComponent(MeshComponent);
      this.gameManager = this.gameManager.getComponent(TestManager);
    }
    update(dt) {
    }
    onClick() {
      if (this.meshComponent.material.equals(this.player1Material) || this.meshComponent.material.equals(this.player2Material)) {
        console.log("click ignore");
        return;
      } else {
        if (this.gameManager.isPlayer1 === true) {
          this.meshComponent.material = this.player1Material;
          this.player = "1";
        } else {
          this.meshComponent.material = this.player2Material;
          this.player = "2";
        }
      }
      this.gameManager.blockWasClicked();
    }
  };
  __publicField(Test, "TypeName", "test");
  /* Properties that are configurable in the editor */
  __publicField(Test, "Properties", {
    player1Material: Property.material(),
    player2Material: Property.material(),
    gameManager: Property.object()
  });

  // E:/git/Test_WonderlandEngine/cache/js/_editor_index.js
  _registerEditor(dist_exports);
  _registerEditor(button_exports);
  _registerEditor(test_exports);
  _registerEditor(testManager_exports);
})();
/*! Bundled license information:

howler/dist/howler.js:
  (*!
   *  howler.js v2.2.4
   *  howlerjs.com
   *
   *  (c) 2013-2020, James Simpson of GoldFire Studios
   *  goldfirestudios.com
   *
   *  MIT License
   *)
  (*!
   *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
   *  
   *  howler.js v2.2.4
   *  howlerjs.com
   *
   *  (c) 2013-2020, James Simpson of GoldFire Studios
   *  goldfirestudios.com
   *
   *  MIT License
   *)
*/
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vbm9kZV9tb2R1bGVzL2hvd2xlci9kaXN0L2hvd2xlci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvZWFyY3V0L3NyYy9lYXJjdXQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvYXBpL2Rpc3QvcHJvcGVydHkuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2FwaS9kaXN0L2RlY29yYXRvcnMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2FwaS9kaXN0L3V0aWxzL29iamVjdC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvYXBpL2Rpc3QvdXRpbHMvZXZlbnQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2FwaS9kaXN0L3dvbmRlcmxhbmQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2FwaS9kaXN0L3dhc20uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC84dGh3YWxsLWNhbWVyYS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L3V0aWxzL3dlYnhyLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3QvYW5jaG9yLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3QvY3Vyc29yLXRhcmdldC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvZ2wtbWF0cml4L2VzbS9jb21tb24uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2dsLW1hdHJpeC9lc20vbWF0My5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvZ2wtbWF0cml4L2VzbS9tYXQ0LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9nbC1tYXRyaXgvZXNtL3F1YXQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2dsLW1hdHJpeC9lc20vdmVjMy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvZ2wtbWF0cml4L2VzbS92ZWM0LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9nbC1tYXRyaXgvZXNtL3F1YXQyLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3QvaGl0LXRlc3QtbG9jYXRpb24uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC9jdXJzb3IuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC9kZWJ1Zy1vYmplY3QuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC9kZXZpY2Utb3JpZW50YXRpb24tbG9vay5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L2Zpbmdlci1jdXJzb3IuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC9maXhlZC1mb3ZlYXRpb24uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC9oYW5kLXRyYWNraW5nLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3QvaG93bGVyLWF1ZGlvLWxpc3RlbmVyLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3QvaG93bGVyLWF1ZGlvLXNvdXJjZS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L3V0aWxzL3V0aWxzLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3QvaW1hZ2UtdGV4dHVyZS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L21vdXNlLWxvb2suanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC9wbGF5ZXItaGVpZ2h0LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3QvdGFyZ2V0LWZyYW1lcmF0ZS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L3RlbGVwb3J0LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3QvdHJhaWwuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC90d28tam9pbnQtaWstc29sdmVyLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3QvdmlkZW8tdGV4dHVyZS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L3ZyLW1vZGUtYWN0aXZlLXN3aXRjaC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L3BsYW5lLWRldGVjdGlvbi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L3ZybS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L3dhc2QtY29udHJvbHMuanMiLCAiLi4vLi4vanMvYnV0dG9uLmpzIiwgIi4uLy4uL2pzL3Rlc3QuanMiLCAiLi4vLi4vanMvdGVzdE1hbmFnZXIuanMiLCAiX2VkaXRvcl9pbmRleC5qcyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiLyohXHJcbiAqICBob3dsZXIuanMgdjIuMi40XHJcbiAqICBob3dsZXJqcy5jb21cclxuICpcclxuICogIChjKSAyMDEzLTIwMjAsIEphbWVzIFNpbXBzb24gb2YgR29sZEZpcmUgU3R1ZGlvc1xyXG4gKiAgZ29sZGZpcmVzdHVkaW9zLmNvbVxyXG4gKlxyXG4gKiAgTUlUIExpY2Vuc2VcclxuICovXHJcblxyXG4oZnVuY3Rpb24oKSB7XHJcblxyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgLyoqIEdsb2JhbCBNZXRob2RzICoqL1xyXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4gIC8qKlxyXG4gICAqIENyZWF0ZSB0aGUgZ2xvYmFsIGNvbnRyb2xsZXIuIEFsbCBjb250YWluZWQgbWV0aG9kcyBhbmQgcHJvcGVydGllcyBhcHBseVxyXG4gICAqIHRvIGFsbCBzb3VuZHMgdGhhdCBhcmUgY3VycmVudGx5IHBsYXlpbmcgb3Igd2lsbCBiZSBpbiB0aGUgZnV0dXJlLlxyXG4gICAqL1xyXG4gIHZhciBIb3dsZXJHbG9iYWwgPSBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMuaW5pdCgpO1xyXG4gIH07XHJcbiAgSG93bGVyR2xvYmFsLnByb3RvdHlwZSA9IHtcclxuICAgIC8qKlxyXG4gICAgICogSW5pdGlhbGl6ZSB0aGUgZ2xvYmFsIEhvd2xlciBvYmplY3QuXHJcbiAgICAgKiBAcmV0dXJuIHtIb3dsZXJ9XHJcbiAgICAgKi9cclxuICAgIGluaXQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXMgfHwgSG93bGVyO1xyXG5cclxuICAgICAgLy8gQ3JlYXRlIGEgZ2xvYmFsIElEIGNvdW50ZXIuXHJcbiAgICAgIHNlbGYuX2NvdW50ZXIgPSAxMDAwO1xyXG5cclxuICAgICAgLy8gUG9vbCBvZiB1bmxvY2tlZCBIVE1MNSBBdWRpbyBvYmplY3RzLlxyXG4gICAgICBzZWxmLl9odG1sNUF1ZGlvUG9vbCA9IFtdO1xyXG4gICAgICBzZWxmLmh0bWw1UG9vbFNpemUgPSAxMDtcclxuXHJcbiAgICAgIC8vIEludGVybmFsIHByb3BlcnRpZXMuXHJcbiAgICAgIHNlbGYuX2NvZGVjcyA9IHt9O1xyXG4gICAgICBzZWxmLl9ob3dscyA9IFtdO1xyXG4gICAgICBzZWxmLl9tdXRlZCA9IGZhbHNlO1xyXG4gICAgICBzZWxmLl92b2x1bWUgPSAxO1xyXG4gICAgICBzZWxmLl9jYW5QbGF5RXZlbnQgPSAnY2FucGxheXRocm91Z2gnO1xyXG4gICAgICBzZWxmLl9uYXZpZ2F0b3IgPSAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93Lm5hdmlnYXRvcikgPyB3aW5kb3cubmF2aWdhdG9yIDogbnVsbDtcclxuXHJcbiAgICAgIC8vIFB1YmxpYyBwcm9wZXJ0aWVzLlxyXG4gICAgICBzZWxmLm1hc3RlckdhaW4gPSBudWxsO1xyXG4gICAgICBzZWxmLm5vQXVkaW8gPSBmYWxzZTtcclxuICAgICAgc2VsZi51c2luZ1dlYkF1ZGlvID0gdHJ1ZTtcclxuICAgICAgc2VsZi5hdXRvU3VzcGVuZCA9IHRydWU7XHJcbiAgICAgIHNlbGYuY3R4ID0gbnVsbDtcclxuXHJcbiAgICAgIC8vIFNldCB0byBmYWxzZSB0byBkaXNhYmxlIHRoZSBhdXRvIGF1ZGlvIHVubG9ja2VyLlxyXG4gICAgICBzZWxmLmF1dG9VbmxvY2sgPSB0cnVlO1xyXG5cclxuICAgICAgLy8gU2V0dXAgdGhlIHZhcmlvdXMgc3RhdGUgdmFsdWVzIGZvciBnbG9iYWwgdHJhY2tpbmcuXHJcbiAgICAgIHNlbGYuX3NldHVwKCk7XHJcblxyXG4gICAgICByZXR1cm4gc2VsZjtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQvc2V0IHRoZSBnbG9iYWwgdm9sdW1lIGZvciBhbGwgc291bmRzLlxyXG4gICAgICogQHBhcmFtICB7RmxvYXR9IHZvbCBWb2x1bWUgZnJvbSAwLjAgdG8gMS4wLlxyXG4gICAgICogQHJldHVybiB7SG93bGVyL0Zsb2F0fSAgICAgUmV0dXJucyBzZWxmIG9yIGN1cnJlbnQgdm9sdW1lLlxyXG4gICAgICovXHJcbiAgICB2b2x1bWU6IGZ1bmN0aW9uKHZvbCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXMgfHwgSG93bGVyO1xyXG4gICAgICB2b2wgPSBwYXJzZUZsb2F0KHZvbCk7XHJcblxyXG4gICAgICAvLyBJZiB3ZSBkb24ndCBoYXZlIGFuIEF1ZGlvQ29udGV4dCBjcmVhdGVkIHlldCwgcnVuIHRoZSBzZXR1cC5cclxuICAgICAgaWYgKCFzZWxmLmN0eCkge1xyXG4gICAgICAgIHNldHVwQXVkaW9Db250ZXh0KCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh0eXBlb2Ygdm9sICE9PSAndW5kZWZpbmVkJyAmJiB2b2wgPj0gMCAmJiB2b2wgPD0gMSkge1xyXG4gICAgICAgIHNlbGYuX3ZvbHVtZSA9IHZvbDtcclxuXHJcbiAgICAgICAgLy8gRG9uJ3QgdXBkYXRlIGFueSBvZiB0aGUgbm9kZXMgaWYgd2UgYXJlIG11dGVkLlxyXG4gICAgICAgIGlmIChzZWxmLl9tdXRlZCkge1xyXG4gICAgICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBXaGVuIHVzaW5nIFdlYiBBdWRpbywgd2UganVzdCBuZWVkIHRvIGFkanVzdCB0aGUgbWFzdGVyIGdhaW4uXHJcbiAgICAgICAgaWYgKHNlbGYudXNpbmdXZWJBdWRpbykge1xyXG4gICAgICAgICAgc2VsZi5tYXN0ZXJHYWluLmdhaW4uc2V0VmFsdWVBdFRpbWUodm9sLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIExvb3AgdGhyb3VnaCBhbmQgY2hhbmdlIHZvbHVtZSBmb3IgYWxsIEhUTUw1IGF1ZGlvIG5vZGVzLlxyXG4gICAgICAgIGZvciAodmFyIGk9MDsgaTxzZWxmLl9ob3dscy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgaWYgKCFzZWxmLl9ob3dsc1tpXS5fd2ViQXVkaW8pIHtcclxuICAgICAgICAgICAgLy8gR2V0IGFsbCBvZiB0aGUgc291bmRzIGluIHRoaXMgSG93bCBncm91cC5cclxuICAgICAgICAgICAgdmFyIGlkcyA9IHNlbGYuX2hvd2xzW2ldLl9nZXRTb3VuZElkcygpO1xyXG5cclxuICAgICAgICAgICAgLy8gTG9vcCB0aHJvdWdoIGFsbCBzb3VuZHMgYW5kIGNoYW5nZSB0aGUgdm9sdW1lcy5cclxuICAgICAgICAgICAgZm9yICh2YXIgaj0wOyBqPGlkcy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgIHZhciBzb3VuZCA9IHNlbGYuX2hvd2xzW2ldLl9zb3VuZEJ5SWQoaWRzW2pdKTtcclxuXHJcbiAgICAgICAgICAgICAgaWYgKHNvdW5kICYmIHNvdW5kLl9ub2RlKSB7XHJcbiAgICAgICAgICAgICAgICBzb3VuZC5fbm9kZS52b2x1bWUgPSBzb3VuZC5fdm9sdW1lICogdm9sO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBzZWxmLl92b2x1bWU7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSGFuZGxlIG11dGluZyBhbmQgdW5tdXRpbmcgZ2xvYmFsbHkuXHJcbiAgICAgKiBAcGFyYW0gIHtCb29sZWFufSBtdXRlZCBJcyBtdXRlZCBvciBub3QuXHJcbiAgICAgKi9cclxuICAgIG11dGU6IGZ1bmN0aW9uKG11dGVkKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XHJcblxyXG4gICAgICAvLyBJZiB3ZSBkb24ndCBoYXZlIGFuIEF1ZGlvQ29udGV4dCBjcmVhdGVkIHlldCwgcnVuIHRoZSBzZXR1cC5cclxuICAgICAgaWYgKCFzZWxmLmN0eCkge1xyXG4gICAgICAgIHNldHVwQXVkaW9Db250ZXh0KCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHNlbGYuX211dGVkID0gbXV0ZWQ7XHJcblxyXG4gICAgICAvLyBXaXRoIFdlYiBBdWRpbywgd2UganVzdCBuZWVkIHRvIG11dGUgdGhlIG1hc3RlciBnYWluLlxyXG4gICAgICBpZiAoc2VsZi51c2luZ1dlYkF1ZGlvKSB7XHJcbiAgICAgICAgc2VsZi5tYXN0ZXJHYWluLmdhaW4uc2V0VmFsdWVBdFRpbWUobXV0ZWQgPyAwIDogc2VsZi5fdm9sdW1lLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gTG9vcCB0aHJvdWdoIGFuZCBtdXRlIGFsbCBIVE1MNSBBdWRpbyBub2Rlcy5cclxuICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX2hvd2xzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKCFzZWxmLl9ob3dsc1tpXS5fd2ViQXVkaW8pIHtcclxuICAgICAgICAgIC8vIEdldCBhbGwgb2YgdGhlIHNvdW5kcyBpbiB0aGlzIEhvd2wgZ3JvdXAuXHJcbiAgICAgICAgICB2YXIgaWRzID0gc2VsZi5faG93bHNbaV0uX2dldFNvdW5kSWRzKCk7XHJcblxyXG4gICAgICAgICAgLy8gTG9vcCB0aHJvdWdoIGFsbCBzb3VuZHMgYW5kIG1hcmsgdGhlIGF1ZGlvIG5vZGUgYXMgbXV0ZWQuXHJcbiAgICAgICAgICBmb3IgKHZhciBqPTA7IGo8aWRzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgIHZhciBzb3VuZCA9IHNlbGYuX2hvd2xzW2ldLl9zb3VuZEJ5SWQoaWRzW2pdKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChzb3VuZCAmJiBzb3VuZC5fbm9kZSkge1xyXG4gICAgICAgICAgICAgIHNvdW5kLl9ub2RlLm11dGVkID0gKG11dGVkKSA/IHRydWUgOiBzb3VuZC5fbXV0ZWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEhhbmRsZSBzdG9wcGluZyBhbGwgc291bmRzIGdsb2JhbGx5LlxyXG4gICAgICovXHJcbiAgICBzdG9wOiBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzIHx8IEhvd2xlcjtcclxuXHJcbiAgICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgSG93bHMgYW5kIHN0b3AgdGhlbS5cclxuICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX2hvd2xzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgc2VsZi5faG93bHNbaV0uc3RvcCgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gc2VsZjtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBVbmxvYWQgYW5kIGRlc3Ryb3kgYWxsIGN1cnJlbnRseSBsb2FkZWQgSG93bCBvYmplY3RzLlxyXG4gICAgICogQHJldHVybiB7SG93bGVyfVxyXG4gICAgICovXHJcbiAgICB1bmxvYWQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXMgfHwgSG93bGVyO1xyXG5cclxuICAgICAgZm9yICh2YXIgaT1zZWxmLl9ob3dscy5sZW5ndGgtMTsgaT49MDsgaS0tKSB7XHJcbiAgICAgICAgc2VsZi5faG93bHNbaV0udW5sb2FkKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIENyZWF0ZSBhIG5ldyBBdWRpb0NvbnRleHQgdG8gbWFrZSBzdXJlIGl0IGlzIGZ1bGx5IHJlc2V0LlxyXG4gICAgICBpZiAoc2VsZi51c2luZ1dlYkF1ZGlvICYmIHNlbGYuY3R4ICYmIHR5cGVvZiBzZWxmLmN0eC5jbG9zZSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICBzZWxmLmN0eC5jbG9zZSgpO1xyXG4gICAgICAgIHNlbGYuY3R4ID0gbnVsbDtcclxuICAgICAgICBzZXR1cEF1ZGlvQ29udGV4dCgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gc2VsZjtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVjayBmb3IgY29kZWMgc3VwcG9ydCBvZiBzcGVjaWZpYyBleHRlbnNpb24uXHJcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IGV4dCBBdWRpbyBmaWxlIGV4dGVudGlvbi5cclxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIGNvZGVjczogZnVuY3Rpb24oZXh0KSB7XHJcbiAgICAgIHJldHVybiAodGhpcyB8fCBIb3dsZXIpLl9jb2RlY3NbZXh0LnJlcGxhY2UoL154LS8sICcnKV07XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0dXAgdmFyaW91cyBzdGF0ZSB2YWx1ZXMgZm9yIGdsb2JhbCB0cmFja2luZy5cclxuICAgICAqIEByZXR1cm4ge0hvd2xlcn1cclxuICAgICAqL1xyXG4gICAgX3NldHVwOiBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzIHx8IEhvd2xlcjtcclxuXHJcbiAgICAgIC8vIEtlZXBzIHRyYWNrIG9mIHRoZSBzdXNwZW5kL3Jlc3VtZSBzdGF0ZSBvZiB0aGUgQXVkaW9Db250ZXh0LlxyXG4gICAgICBzZWxmLnN0YXRlID0gc2VsZi5jdHggPyBzZWxmLmN0eC5zdGF0ZSB8fCAnc3VzcGVuZGVkJyA6ICdzdXNwZW5kZWQnO1xyXG5cclxuICAgICAgLy8gQXV0b21hdGljYWxseSBiZWdpbiB0aGUgMzAtc2Vjb25kIHN1c3BlbmQgcHJvY2Vzc1xyXG4gICAgICBzZWxmLl9hdXRvU3VzcGVuZCgpO1xyXG5cclxuICAgICAgLy8gQ2hlY2sgaWYgYXVkaW8gaXMgYXZhaWxhYmxlLlxyXG4gICAgICBpZiAoIXNlbGYudXNpbmdXZWJBdWRpbykge1xyXG4gICAgICAgIC8vIE5vIGF1ZGlvIGlzIGF2YWlsYWJsZSBvbiB0aGlzIHN5c3RlbSBpZiBub0F1ZGlvIGlzIHNldCB0byB0cnVlLlxyXG4gICAgICAgIGlmICh0eXBlb2YgQXVkaW8gIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YXIgdGVzdCA9IG5ldyBBdWRpbygpO1xyXG5cclxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGNhbnBsYXl0aHJvdWdoIGV2ZW50IGlzIGF2YWlsYWJsZS5cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0ZXN0Lm9uY2FucGxheXRocm91Z2ggPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgc2VsZi5fY2FuUGxheUV2ZW50ID0gJ2NhbnBsYXknO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGNhdGNoKGUpIHtcclxuICAgICAgICAgICAgc2VsZi5ub0F1ZGlvID0gdHJ1ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgc2VsZi5ub0F1ZGlvID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFRlc3QgdG8gbWFrZSBzdXJlIGF1ZGlvIGlzbid0IGRpc2FibGVkIGluIEludGVybmV0IEV4cGxvcmVyLlxyXG4gICAgICB0cnkge1xyXG4gICAgICAgIHZhciB0ZXN0ID0gbmV3IEF1ZGlvKCk7XHJcbiAgICAgICAgaWYgKHRlc3QubXV0ZWQpIHtcclxuICAgICAgICAgIHNlbGYubm9BdWRpbyA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoIChlKSB7fVxyXG5cclxuICAgICAgLy8gQ2hlY2sgZm9yIHN1cHBvcnRlZCBjb2RlY3MuXHJcbiAgICAgIGlmICghc2VsZi5ub0F1ZGlvKSB7XHJcbiAgICAgICAgc2VsZi5fc2V0dXBDb2RlY3MoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgZm9yIGJyb3dzZXIgc3VwcG9ydCBmb3IgdmFyaW91cyBjb2RlY3MgYW5kIGNhY2hlIHRoZSByZXN1bHRzLlxyXG4gICAgICogQHJldHVybiB7SG93bGVyfVxyXG4gICAgICovXHJcbiAgICBfc2V0dXBDb2RlY3M6IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXMgfHwgSG93bGVyO1xyXG4gICAgICB2YXIgYXVkaW9UZXN0ID0gbnVsbDtcclxuXHJcbiAgICAgIC8vIE11c3Qgd3JhcCBpbiBhIHRyeS9jYXRjaCBiZWNhdXNlIElFMTEgaW4gc2VydmVyIG1vZGUgdGhyb3dzIGFuIGVycm9yLlxyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGF1ZGlvVGVzdCA9ICh0eXBlb2YgQXVkaW8gIT09ICd1bmRlZmluZWQnKSA/IG5ldyBBdWRpbygpIDogbnVsbDtcclxuICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghYXVkaW9UZXN0IHx8IHR5cGVvZiBhdWRpb1Rlc3QuY2FuUGxheVR5cGUgIT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICByZXR1cm4gc2VsZjtcclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIG1wZWdUZXN0ID0gYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9tcGVnOycpLnJlcGxhY2UoL15ubyQvLCAnJyk7XHJcblxyXG4gICAgICAvLyBPcGVyYSB2ZXJzaW9uIDwzMyBoYXMgbWl4ZWQgTVAzIHN1cHBvcnQsIHNvIHdlIG5lZWQgdG8gY2hlY2sgZm9yIGFuZCBibG9jayBpdC5cclxuICAgICAgdmFyIHVhID0gc2VsZi5fbmF2aWdhdG9yID8gc2VsZi5fbmF2aWdhdG9yLnVzZXJBZ2VudCA6ICcnO1xyXG4gICAgICB2YXIgY2hlY2tPcGVyYSA9IHVhLm1hdGNoKC9PUFJcXC8oXFxkKykvZyk7XHJcbiAgICAgIHZhciBpc09sZE9wZXJhID0gKGNoZWNrT3BlcmEgJiYgcGFyc2VJbnQoY2hlY2tPcGVyYVswXS5zcGxpdCgnLycpWzFdLCAxMCkgPCAzMyk7XHJcbiAgICAgIHZhciBjaGVja1NhZmFyaSA9IHVhLmluZGV4T2YoJ1NhZmFyaScpICE9PSAtMSAmJiB1YS5pbmRleE9mKCdDaHJvbWUnKSA9PT0gLTE7XHJcbiAgICAgIHZhciBzYWZhcmlWZXJzaW9uID0gdWEubWF0Y2goL1ZlcnNpb25cXC8oLio/KSAvKTtcclxuICAgICAgdmFyIGlzT2xkU2FmYXJpID0gKGNoZWNrU2FmYXJpICYmIHNhZmFyaVZlcnNpb24gJiYgcGFyc2VJbnQoc2FmYXJpVmVyc2lvblsxXSwgMTApIDwgMTUpO1xyXG5cclxuICAgICAgc2VsZi5fY29kZWNzID0ge1xyXG4gICAgICAgIG1wMzogISEoIWlzT2xkT3BlcmEgJiYgKG1wZWdUZXN0IHx8IGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vbXAzOycpLnJlcGxhY2UoL15ubyQvLCAnJykpKSxcclxuICAgICAgICBtcGVnOiAhIW1wZWdUZXN0LFxyXG4gICAgICAgIG9wdXM6ICEhYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9vZ2c7IGNvZGVjcz1cIm9wdXNcIicpLnJlcGxhY2UoL15ubyQvLCAnJyksXHJcbiAgICAgICAgb2dnOiAhIWF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vb2dnOyBjb2RlY3M9XCJ2b3JiaXNcIicpLnJlcGxhY2UoL15ubyQvLCAnJyksXHJcbiAgICAgICAgb2dhOiAhIWF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vb2dnOyBjb2RlY3M9XCJ2b3JiaXNcIicpLnJlcGxhY2UoL15ubyQvLCAnJyksXHJcbiAgICAgICAgd2F2OiAhIShhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL3dhdjsgY29kZWNzPVwiMVwiJykgfHwgYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby93YXYnKSkucmVwbGFjZSgvXm5vJC8sICcnKSxcclxuICAgICAgICBhYWM6ICEhYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9hYWM7JykucmVwbGFjZSgvXm5vJC8sICcnKSxcclxuICAgICAgICBjYWY6ICEhYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby94LWNhZjsnKS5yZXBsYWNlKC9ebm8kLywgJycpLFxyXG4gICAgICAgIG00YTogISEoYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby94LW00YTsnKSB8fCBhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL200YTsnKSB8fCBhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL2FhYzsnKSkucmVwbGFjZSgvXm5vJC8sICcnKSxcclxuICAgICAgICBtNGI6ICEhKGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8veC1tNGI7JykgfHwgYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9tNGI7JykgfHwgYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9hYWM7JykpLnJlcGxhY2UoL15ubyQvLCAnJyksXHJcbiAgICAgICAgbXA0OiAhIShhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL3gtbXA0OycpIHx8IGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vbXA0OycpIHx8IGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vYWFjOycpKS5yZXBsYWNlKC9ebm8kLywgJycpLFxyXG4gICAgICAgIHdlYmE6ICEhKCFpc09sZFNhZmFyaSAmJiBhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL3dlYm07IGNvZGVjcz1cInZvcmJpc1wiJykucmVwbGFjZSgvXm5vJC8sICcnKSksXHJcbiAgICAgICAgd2VibTogISEoIWlzT2xkU2FmYXJpICYmIGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vd2VibTsgY29kZWNzPVwidm9yYmlzXCInKS5yZXBsYWNlKC9ebm8kLywgJycpKSxcclxuICAgICAgICBkb2xieTogISFhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL21wNDsgY29kZWNzPVwiZWMtM1wiJykucmVwbGFjZSgvXm5vJC8sICcnKSxcclxuICAgICAgICBmbGFjOiAhIShhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL3gtZmxhYzsnKSB8fCBhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL2ZsYWM7JykpLnJlcGxhY2UoL15ubyQvLCAnJylcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIFNvbWUgYnJvd3NlcnMvZGV2aWNlcyB3aWxsIG9ubHkgYWxsb3cgYXVkaW8gdG8gYmUgcGxheWVkIGFmdGVyIGEgdXNlciBpbnRlcmFjdGlvbi5cclxuICAgICAqIEF0dGVtcHQgdG8gYXV0b21hdGljYWxseSB1bmxvY2sgYXVkaW8gb24gdGhlIGZpcnN0IHVzZXIgaW50ZXJhY3Rpb24uXHJcbiAgICAgKiBDb25jZXB0IGZyb206IGh0dHA6Ly9wYXVsYmFrYXVzLmNvbS90dXRvcmlhbHMvaHRtbDUvd2ViLWF1ZGlvLW9uLWlvcy9cclxuICAgICAqIEByZXR1cm4ge0hvd2xlcn1cclxuICAgICAqL1xyXG4gICAgX3VubG9ja0F1ZGlvOiBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzIHx8IEhvd2xlcjtcclxuXHJcbiAgICAgIC8vIE9ubHkgcnVuIHRoaXMgaWYgV2ViIEF1ZGlvIGlzIHN1cHBvcnRlZCBhbmQgaXQgaGFzbid0IGFscmVhZHkgYmVlbiB1bmxvY2tlZC5cclxuICAgICAgaWYgKHNlbGYuX2F1ZGlvVW5sb2NrZWQgfHwgIXNlbGYuY3R4KSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBzZWxmLl9hdWRpb1VubG9ja2VkID0gZmFsc2U7XHJcbiAgICAgIHNlbGYuYXV0b1VubG9jayA9IGZhbHNlO1xyXG5cclxuICAgICAgLy8gU29tZSBtb2JpbGUgZGV2aWNlcy9wbGF0Zm9ybXMgaGF2ZSBkaXN0b3J0aW9uIGlzc3VlcyB3aGVuIG9wZW5pbmcvY2xvc2luZyB0YWJzIGFuZC9vciB3ZWIgdmlld3MuXHJcbiAgICAgIC8vIEJ1Z3MgaW4gdGhlIGJyb3dzZXIgKGVzcGVjaWFsbHkgTW9iaWxlIFNhZmFyaSkgY2FuIGNhdXNlIHRoZSBzYW1wbGVSYXRlIHRvIGNoYW5nZSBmcm9tIDQ0MTAwIHRvIDQ4MDAwLlxyXG4gICAgICAvLyBCeSBjYWxsaW5nIEhvd2xlci51bmxvYWQoKSwgd2UgY3JlYXRlIGEgbmV3IEF1ZGlvQ29udGV4dCB3aXRoIHRoZSBjb3JyZWN0IHNhbXBsZVJhdGUuXHJcbiAgICAgIGlmICghc2VsZi5fbW9iaWxlVW5sb2FkZWQgJiYgc2VsZi5jdHguc2FtcGxlUmF0ZSAhPT0gNDQxMDApIHtcclxuICAgICAgICBzZWxmLl9tb2JpbGVVbmxvYWRlZCA9IHRydWU7XHJcbiAgICAgICAgc2VsZi51bmxvYWQoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gU2NyYXRjaCBidWZmZXIgZm9yIGVuYWJsaW5nIGlPUyB0byBkaXNwb3NlIG9mIHdlYiBhdWRpbyBidWZmZXJzIGNvcnJlY3RseSwgYXMgcGVyOlxyXG4gICAgICAvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzI0MTE5Njg0XHJcbiAgICAgIHNlbGYuX3NjcmF0Y2hCdWZmZXIgPSBzZWxmLmN0eC5jcmVhdGVCdWZmZXIoMSwgMSwgMjIwNTApO1xyXG5cclxuICAgICAgLy8gQ2FsbCB0aGlzIG1ldGhvZCBvbiB0b3VjaCBzdGFydCB0byBjcmVhdGUgYW5kIHBsYXkgYSBidWZmZXIsXHJcbiAgICAgIC8vIHRoZW4gY2hlY2sgaWYgdGhlIGF1ZGlvIGFjdHVhbGx5IHBsYXllZCB0byBkZXRlcm1pbmUgaWZcclxuICAgICAgLy8gYXVkaW8gaGFzIG5vdyBiZWVuIHVubG9ja2VkIG9uIGlPUywgQW5kcm9pZCwgZXRjLlxyXG4gICAgICB2YXIgdW5sb2NrID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIC8vIENyZWF0ZSBhIHBvb2wgb2YgdW5sb2NrZWQgSFRNTDUgQXVkaW8gb2JqZWN0cyB0aGF0IGNhblxyXG4gICAgICAgIC8vIGJlIHVzZWQgZm9yIHBsYXlpbmcgc291bmRzIHdpdGhvdXQgdXNlciBpbnRlcmFjdGlvbi4gSFRNTDVcclxuICAgICAgICAvLyBBdWRpbyBvYmplY3RzIG11c3QgYmUgaW5kaXZpZHVhbGx5IHVubG9ja2VkLCBhcyBvcHBvc2VkXHJcbiAgICAgICAgLy8gdG8gdGhlIFdlYkF1ZGlvIEFQSSB3aGljaCBvbmx5IG5lZWRzIGEgc2luZ2xlIGFjdGl2YXRpb24uXHJcbiAgICAgICAgLy8gVGhpcyBtdXN0IG9jY3VyIGJlZm9yZSBXZWJBdWRpbyBzZXR1cCBvciB0aGUgc291cmNlLm9uZW5kZWRcclxuICAgICAgICAvLyBldmVudCB3aWxsIG5vdCBmaXJlLlxyXG4gICAgICAgIHdoaWxlIChzZWxmLl9odG1sNUF1ZGlvUG9vbC5sZW5ndGggPCBzZWxmLmh0bWw1UG9vbFNpemUpIHtcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHZhciBhdWRpb05vZGUgPSBuZXcgQXVkaW8oKTtcclxuXHJcbiAgICAgICAgICAgIC8vIE1hcmsgdGhpcyBBdWRpbyBvYmplY3QgYXMgdW5sb2NrZWQgdG8gZW5zdXJlIGl0IGNhbiBnZXQgcmV0dXJuZWRcclxuICAgICAgICAgICAgLy8gdG8gdGhlIHVubG9ja2VkIHBvb2wgd2hlbiByZWxlYXNlZC5cclxuICAgICAgICAgICAgYXVkaW9Ob2RlLl91bmxvY2tlZCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAvLyBBZGQgdGhlIGF1ZGlvIG5vZGUgdG8gdGhlIHBvb2wuXHJcbiAgICAgICAgICAgIHNlbGYuX3JlbGVhc2VIdG1sNUF1ZGlvKGF1ZGlvTm9kZSk7XHJcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHNlbGYubm9BdWRpbyA9IHRydWU7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTG9vcCB0aHJvdWdoIGFueSBhc3NpZ25lZCBhdWRpbyBub2RlcyBhbmQgdW5sb2NrIHRoZW0uXHJcbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX2hvd2xzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICBpZiAoIXNlbGYuX2hvd2xzW2ldLl93ZWJBdWRpbykge1xyXG4gICAgICAgICAgICAvLyBHZXQgYWxsIG9mIHRoZSBzb3VuZHMgaW4gdGhpcyBIb3dsIGdyb3VwLlxyXG4gICAgICAgICAgICB2YXIgaWRzID0gc2VsZi5faG93bHNbaV0uX2dldFNvdW5kSWRzKCk7XHJcblxyXG4gICAgICAgICAgICAvLyBMb29wIHRocm91Z2ggYWxsIHNvdW5kcyBhbmQgdW5sb2NrIHRoZSBhdWRpbyBub2Rlcy5cclxuICAgICAgICAgICAgZm9yICh2YXIgaj0wOyBqPGlkcy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgIHZhciBzb3VuZCA9IHNlbGYuX2hvd2xzW2ldLl9zb3VuZEJ5SWQoaWRzW2pdKTtcclxuXHJcbiAgICAgICAgICAgICAgaWYgKHNvdW5kICYmIHNvdW5kLl9ub2RlICYmICFzb3VuZC5fbm9kZS5fdW5sb2NrZWQpIHtcclxuICAgICAgICAgICAgICAgIHNvdW5kLl9ub2RlLl91bmxvY2tlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5sb2FkKCk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBGaXggQW5kcm9pZCBjYW4gbm90IHBsYXkgaW4gc3VzcGVuZCBzdGF0ZS5cclxuICAgICAgICBzZWxmLl9hdXRvUmVzdW1lKCk7XHJcblxyXG4gICAgICAgIC8vIENyZWF0ZSBhbiBlbXB0eSBidWZmZXIuXHJcbiAgICAgICAgdmFyIHNvdXJjZSA9IHNlbGYuY3R4LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO1xyXG4gICAgICAgIHNvdXJjZS5idWZmZXIgPSBzZWxmLl9zY3JhdGNoQnVmZmVyO1xyXG4gICAgICAgIHNvdXJjZS5jb25uZWN0KHNlbGYuY3R4LmRlc3RpbmF0aW9uKTtcclxuXHJcbiAgICAgICAgLy8gUGxheSB0aGUgZW1wdHkgYnVmZmVyLlxyXG4gICAgICAgIGlmICh0eXBlb2Ygc291cmNlLnN0YXJ0ID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgc291cmNlLm5vdGVPbigwKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgc291cmNlLnN0YXJ0KDApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ2FsbGluZyByZXN1bWUoKSBvbiBhIHN0YWNrIGluaXRpYXRlZCBieSB1c2VyIGdlc3R1cmUgaXMgd2hhdCBhY3R1YWxseSB1bmxvY2tzIHRoZSBhdWRpbyBvbiBBbmRyb2lkIENocm9tZSA+PSA1NS5cclxuICAgICAgICBpZiAodHlwZW9mIHNlbGYuY3R4LnJlc3VtZSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgc2VsZi5jdHgucmVzdW1lKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTZXR1cCBhIHRpbWVvdXQgdG8gY2hlY2sgdGhhdCB3ZSBhcmUgdW5sb2NrZWQgb24gdGhlIG5leHQgZXZlbnQgbG9vcC5cclxuICAgICAgICBzb3VyY2Uub25lbmRlZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgc291cmNlLmRpc2Nvbm5lY3QoMCk7XHJcblxyXG4gICAgICAgICAgLy8gVXBkYXRlIHRoZSB1bmxvY2tlZCBzdGF0ZSBhbmQgcHJldmVudCB0aGlzIGNoZWNrIGZyb20gaGFwcGVuaW5nIGFnYWluLlxyXG4gICAgICAgICAgc2VsZi5fYXVkaW9VbmxvY2tlZCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgLy8gUmVtb3ZlIHRoZSB0b3VjaCBzdGFydCBsaXN0ZW5lci5cclxuICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB1bmxvY2ssIHRydWUpO1xyXG4gICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB1bmxvY2ssIHRydWUpO1xyXG4gICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB1bmxvY2ssIHRydWUpO1xyXG4gICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHVubG9jaywgdHJ1ZSk7XHJcblxyXG4gICAgICAgICAgLy8gTGV0IGFsbCBzb3VuZHMga25vdyB0aGF0IGF1ZGlvIGhhcyBiZWVuIHVubG9ja2VkLlxyXG4gICAgICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX2hvd2xzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHNlbGYuX2hvd2xzW2ldLl9lbWl0KCd1bmxvY2snKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgLy8gU2V0dXAgYSB0b3VjaCBzdGFydCBsaXN0ZW5lciB0byBhdHRlbXB0IGFuIHVubG9jayBpbi5cclxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHVubG9jaywgdHJ1ZSk7XHJcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdW5sb2NrLCB0cnVlKTtcclxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB1bmxvY2ssIHRydWUpO1xyXG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdW5sb2NrLCB0cnVlKTtcclxuXHJcbiAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCBhbiB1bmxvY2tlZCBIVE1MNSBBdWRpbyBvYmplY3QgZnJvbSB0aGUgcG9vbC4gSWYgbm9uZSBhcmUgbGVmdCxcclxuICAgICAqIHJldHVybiBhIG5ldyBBdWRpbyBvYmplY3QgYW5kIHRocm93IGEgd2FybmluZy5cclxuICAgICAqIEByZXR1cm4ge0F1ZGlvfSBIVE1MNSBBdWRpbyBvYmplY3QuXHJcbiAgICAgKi9cclxuICAgIF9vYnRhaW5IdG1sNUF1ZGlvOiBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzIHx8IEhvd2xlcjtcclxuXHJcbiAgICAgIC8vIFJldHVybiB0aGUgbmV4dCBvYmplY3QgZnJvbSB0aGUgcG9vbCBpZiBvbmUgZXhpc3RzLlxyXG4gICAgICBpZiAoc2VsZi5faHRtbDVBdWRpb1Bvb2wubGVuZ3RoKSB7XHJcbiAgICAgICAgcmV0dXJuIHNlbGYuX2h0bWw1QXVkaW9Qb29sLnBvcCgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLy5DaGVjayBpZiB0aGUgYXVkaW8gaXMgbG9ja2VkIGFuZCB0aHJvdyBhIHdhcm5pbmcuXHJcbiAgICAgIHZhciB0ZXN0UGxheSA9IG5ldyBBdWRpbygpLnBsYXkoKTtcclxuICAgICAgaWYgKHRlc3RQbGF5ICYmIHR5cGVvZiBQcm9taXNlICE9PSAndW5kZWZpbmVkJyAmJiAodGVzdFBsYXkgaW5zdGFuY2VvZiBQcm9taXNlIHx8IHR5cGVvZiB0ZXN0UGxheS50aGVuID09PSAnZnVuY3Rpb24nKSkge1xyXG4gICAgICAgIHRlc3RQbGF5LmNhdGNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgY29uc29sZS53YXJuKCdIVE1MNSBBdWRpbyBwb29sIGV4aGF1c3RlZCwgcmV0dXJuaW5nIHBvdGVudGlhbGx5IGxvY2tlZCBhdWRpbyBvYmplY3QuJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBuZXcgQXVkaW8oKTtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm4gYW4gYWN0aXZhdGVkIEhUTUw1IEF1ZGlvIG9iamVjdCB0byB0aGUgcG9vbC5cclxuICAgICAqIEByZXR1cm4ge0hvd2xlcn1cclxuICAgICAqL1xyXG4gICAgX3JlbGVhc2VIdG1sNUF1ZGlvOiBmdW5jdGlvbihhdWRpbykge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXMgfHwgSG93bGVyO1xyXG5cclxuICAgICAgLy8gRG9uJ3QgYWRkIGF1ZGlvIHRvIHRoZSBwb29sIGlmIHdlIGRvbid0IGtub3cgaWYgaXQgaGFzIGJlZW4gdW5sb2NrZWQuXHJcbiAgICAgIGlmIChhdWRpby5fdW5sb2NrZWQpIHtcclxuICAgICAgICBzZWxmLl9odG1sNUF1ZGlvUG9vbC5wdXNoKGF1ZGlvKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQXV0b21hdGljYWxseSBzdXNwZW5kIHRoZSBXZWIgQXVkaW8gQXVkaW9Db250ZXh0IGFmdGVyIG5vIHNvdW5kIGhhcyBwbGF5ZWQgZm9yIDMwIHNlY29uZHMuXHJcbiAgICAgKiBUaGlzIHNhdmVzIHByb2Nlc3NpbmcvZW5lcmd5IGFuZCBmaXhlcyB2YXJpb3VzIGJyb3dzZXItc3BlY2lmaWMgYnVncyB3aXRoIGF1ZGlvIGdldHRpbmcgc3R1Y2suXHJcbiAgICAgKiBAcmV0dXJuIHtIb3dsZXJ9XHJcbiAgICAgKi9cclxuICAgIF9hdXRvU3VzcGVuZDogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgIGlmICghc2VsZi5hdXRvU3VzcGVuZCB8fCAhc2VsZi5jdHggfHwgdHlwZW9mIHNlbGYuY3R4LnN1c3BlbmQgPT09ICd1bmRlZmluZWQnIHx8ICFIb3dsZXIudXNpbmdXZWJBdWRpbykge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQ2hlY2sgaWYgYW55IHNvdW5kcyBhcmUgcGxheWluZy5cclxuICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX2hvd2xzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKHNlbGYuX2hvd2xzW2ldLl93ZWJBdWRpbykge1xyXG4gICAgICAgICAgZm9yICh2YXIgaj0wOyBqPHNlbGYuX2hvd2xzW2ldLl9zb3VuZHMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgaWYgKCFzZWxmLl9ob3dsc1tpXS5fc291bmRzW2pdLl9wYXVzZWQpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gc2VsZjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHNlbGYuX3N1c3BlbmRUaW1lcikge1xyXG4gICAgICAgIGNsZWFyVGltZW91dChzZWxmLl9zdXNwZW5kVGltZXIpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBJZiBubyBzb3VuZCBoYXMgcGxheWVkIGFmdGVyIDMwIHNlY29uZHMsIHN1c3BlbmQgdGhlIGNvbnRleHQuXHJcbiAgICAgIHNlbGYuX3N1c3BlbmRUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKCFzZWxmLmF1dG9TdXNwZW5kKSB7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzZWxmLl9zdXNwZW5kVGltZXIgPSBudWxsO1xyXG4gICAgICAgIHNlbGYuc3RhdGUgPSAnc3VzcGVuZGluZyc7XHJcblxyXG4gICAgICAgIC8vIEhhbmRsZSB1cGRhdGluZyB0aGUgc3RhdGUgb2YgdGhlIGF1ZGlvIGNvbnRleHQgYWZ0ZXIgc3VzcGVuZGluZy5cclxuICAgICAgICB2YXIgaGFuZGxlU3VzcGVuc2lvbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgc2VsZi5zdGF0ZSA9ICdzdXNwZW5kZWQnO1xyXG5cclxuICAgICAgICAgIGlmIChzZWxmLl9yZXN1bWVBZnRlclN1c3BlbmQpIHtcclxuICAgICAgICAgICAgZGVsZXRlIHNlbGYuX3Jlc3VtZUFmdGVyU3VzcGVuZDtcclxuICAgICAgICAgICAgc2VsZi5fYXV0b1Jlc3VtZSgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIEVpdGhlciB0aGUgc3RhdGUgZ2V0cyBzdXNwZW5kZWQgb3IgaXQgaXMgaW50ZXJydXB0ZWQuXHJcbiAgICAgICAgLy8gRWl0aGVyIHdheSwgd2UgbmVlZCB0byB1cGRhdGUgdGhlIHN0YXRlIHRvIHN1c3BlbmRlZC5cclxuICAgICAgICBzZWxmLmN0eC5zdXNwZW5kKCkudGhlbihoYW5kbGVTdXNwZW5zaW9uLCBoYW5kbGVTdXNwZW5zaW9uKTtcclxuICAgICAgfSwgMzAwMDApO1xyXG5cclxuICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQXV0b21hdGljYWxseSByZXN1bWUgdGhlIFdlYiBBdWRpbyBBdWRpb0NvbnRleHQgd2hlbiBhIG5ldyBzb3VuZCBpcyBwbGF5ZWQuXHJcbiAgICAgKiBAcmV0dXJuIHtIb3dsZXJ9XHJcbiAgICAgKi9cclxuICAgIF9hdXRvUmVzdW1lOiBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgaWYgKCFzZWxmLmN0eCB8fCB0eXBlb2Ygc2VsZi5jdHgucmVzdW1lID09PSAndW5kZWZpbmVkJyB8fCAhSG93bGVyLnVzaW5nV2ViQXVkaW8pIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChzZWxmLnN0YXRlID09PSAncnVubmluZycgJiYgc2VsZi5jdHguc3RhdGUgIT09ICdpbnRlcnJ1cHRlZCcgJiYgc2VsZi5fc3VzcGVuZFRpbWVyKSB7XHJcbiAgICAgICAgY2xlYXJUaW1lb3V0KHNlbGYuX3N1c3BlbmRUaW1lcik7XHJcbiAgICAgICAgc2VsZi5fc3VzcGVuZFRpbWVyID0gbnVsbDtcclxuICAgICAgfSBlbHNlIGlmIChzZWxmLnN0YXRlID09PSAnc3VzcGVuZGVkJyB8fCBzZWxmLnN0YXRlID09PSAncnVubmluZycgJiYgc2VsZi5jdHguc3RhdGUgPT09ICdpbnRlcnJ1cHRlZCcpIHtcclxuICAgICAgICBzZWxmLmN0eC5yZXN1bWUoKS50aGVuKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgc2VsZi5zdGF0ZSA9ICdydW5uaW5nJztcclxuXHJcbiAgICAgICAgICAvLyBFbWl0IHRvIGFsbCBIb3dscyB0aGF0IHRoZSBhdWRpbyBoYXMgcmVzdW1lZC5cclxuICAgICAgICAgIGZvciAodmFyIGk9MDsgaTxzZWxmLl9ob3dscy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBzZWxmLl9ob3dsc1tpXS5fZW1pdCgncmVzdW1lJyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmIChzZWxmLl9zdXNwZW5kVGltZXIpIHtcclxuICAgICAgICAgIGNsZWFyVGltZW91dChzZWxmLl9zdXNwZW5kVGltZXIpO1xyXG4gICAgICAgICAgc2VsZi5fc3VzcGVuZFRpbWVyID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSBpZiAoc2VsZi5zdGF0ZSA9PT0gJ3N1c3BlbmRpbmcnKSB7XHJcbiAgICAgICAgc2VsZi5fcmVzdW1lQWZ0ZXJTdXNwZW5kID0gdHJ1ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy8gU2V0dXAgdGhlIGdsb2JhbCBhdWRpbyBjb250cm9sbGVyLlxyXG4gIHZhciBIb3dsZXIgPSBuZXcgSG93bGVyR2xvYmFsKCk7XHJcblxyXG4gIC8qKiBHcm91cCBNZXRob2RzICoqL1xyXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4gIC8qKlxyXG4gICAqIENyZWF0ZSBhbiBhdWRpbyBncm91cCBjb250cm9sbGVyLlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvIFBhc3NlZCBpbiBwcm9wZXJ0aWVzIGZvciB0aGlzIGdyb3VwLlxyXG4gICAqL1xyXG4gIHZhciBIb3dsID0gZnVuY3Rpb24obykge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgIC8vIFRocm93IGFuIGVycm9yIGlmIG5vIHNvdXJjZSBpcyBwcm92aWRlZC5cclxuICAgIGlmICghby5zcmMgfHwgby5zcmMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0FuIGFycmF5IG9mIHNvdXJjZSBmaWxlcyBtdXN0IGJlIHBhc3NlZCB3aXRoIGFueSBuZXcgSG93bC4nKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHNlbGYuaW5pdChvKTtcclxuICB9O1xyXG4gIEhvd2wucHJvdG90eXBlID0ge1xyXG4gICAgLyoqXHJcbiAgICAgKiBJbml0aWFsaXplIGEgbmV3IEhvd2wgZ3JvdXAgb2JqZWN0LlxyXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBvIFBhc3NlZCBpbiBwcm9wZXJ0aWVzIGZvciB0aGlzIGdyb3VwLlxyXG4gICAgICogQHJldHVybiB7SG93bH1cclxuICAgICAqL1xyXG4gICAgaW5pdDogZnVuY3Rpb24obykge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAvLyBJZiB3ZSBkb24ndCBoYXZlIGFuIEF1ZGlvQ29udGV4dCBjcmVhdGVkIHlldCwgcnVuIHRoZSBzZXR1cC5cclxuICAgICAgaWYgKCFIb3dsZXIuY3R4KSB7XHJcbiAgICAgICAgc2V0dXBBdWRpb0NvbnRleHQoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gU2V0dXAgdXNlci1kZWZpbmVkIGRlZmF1bHQgcHJvcGVydGllcy5cclxuICAgICAgc2VsZi5fYXV0b3BsYXkgPSBvLmF1dG9wbGF5IHx8IGZhbHNlO1xyXG4gICAgICBzZWxmLl9mb3JtYXQgPSAodHlwZW9mIG8uZm9ybWF0ICE9PSAnc3RyaW5nJykgPyBvLmZvcm1hdCA6IFtvLmZvcm1hdF07XHJcbiAgICAgIHNlbGYuX2h0bWw1ID0gby5odG1sNSB8fCBmYWxzZTtcclxuICAgICAgc2VsZi5fbXV0ZWQgPSBvLm11dGUgfHwgZmFsc2U7XHJcbiAgICAgIHNlbGYuX2xvb3AgPSBvLmxvb3AgfHwgZmFsc2U7XHJcbiAgICAgIHNlbGYuX3Bvb2wgPSBvLnBvb2wgfHwgNTtcclxuICAgICAgc2VsZi5fcHJlbG9hZCA9ICh0eXBlb2Ygby5wcmVsb2FkID09PSAnYm9vbGVhbicgfHwgby5wcmVsb2FkID09PSAnbWV0YWRhdGEnKSA/IG8ucHJlbG9hZCA6IHRydWU7XHJcbiAgICAgIHNlbGYuX3JhdGUgPSBvLnJhdGUgfHwgMTtcclxuICAgICAgc2VsZi5fc3ByaXRlID0gby5zcHJpdGUgfHwge307XHJcbiAgICAgIHNlbGYuX3NyYyA9ICh0eXBlb2Ygby5zcmMgIT09ICdzdHJpbmcnKSA/IG8uc3JjIDogW28uc3JjXTtcclxuICAgICAgc2VsZi5fdm9sdW1lID0gby52b2x1bWUgIT09IHVuZGVmaW5lZCA/IG8udm9sdW1lIDogMTtcclxuICAgICAgc2VsZi5feGhyID0ge1xyXG4gICAgICAgIG1ldGhvZDogby54aHIgJiYgby54aHIubWV0aG9kID8gby54aHIubWV0aG9kIDogJ0dFVCcsXHJcbiAgICAgICAgaGVhZGVyczogby54aHIgJiYgby54aHIuaGVhZGVycyA/IG8ueGhyLmhlYWRlcnMgOiBudWxsLFxyXG4gICAgICAgIHdpdGhDcmVkZW50aWFsczogby54aHIgJiYgby54aHIud2l0aENyZWRlbnRpYWxzID8gby54aHIud2l0aENyZWRlbnRpYWxzIDogZmFsc2UsXHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvLyBTZXR1cCBhbGwgb3RoZXIgZGVmYXVsdCBwcm9wZXJ0aWVzLlxyXG4gICAgICBzZWxmLl9kdXJhdGlvbiA9IDA7XHJcbiAgICAgIHNlbGYuX3N0YXRlID0gJ3VubG9hZGVkJztcclxuICAgICAgc2VsZi5fc291bmRzID0gW107XHJcbiAgICAgIHNlbGYuX2VuZFRpbWVycyA9IHt9O1xyXG4gICAgICBzZWxmLl9xdWV1ZSA9IFtdO1xyXG4gICAgICBzZWxmLl9wbGF5TG9jayA9IGZhbHNlO1xyXG5cclxuICAgICAgLy8gU2V0dXAgZXZlbnQgbGlzdGVuZXJzLlxyXG4gICAgICBzZWxmLl9vbmVuZCA9IG8ub25lbmQgPyBbe2ZuOiBvLm9uZW5kfV0gOiBbXTtcclxuICAgICAgc2VsZi5fb25mYWRlID0gby5vbmZhZGUgPyBbe2ZuOiBvLm9uZmFkZX1dIDogW107XHJcbiAgICAgIHNlbGYuX29ubG9hZCA9IG8ub25sb2FkID8gW3tmbjogby5vbmxvYWR9XSA6IFtdO1xyXG4gICAgICBzZWxmLl9vbmxvYWRlcnJvciA9IG8ub25sb2FkZXJyb3IgPyBbe2ZuOiBvLm9ubG9hZGVycm9yfV0gOiBbXTtcclxuICAgICAgc2VsZi5fb25wbGF5ZXJyb3IgPSBvLm9ucGxheWVycm9yID8gW3tmbjogby5vbnBsYXllcnJvcn1dIDogW107XHJcbiAgICAgIHNlbGYuX29ucGF1c2UgPSBvLm9ucGF1c2UgPyBbe2ZuOiBvLm9ucGF1c2V9XSA6IFtdO1xyXG4gICAgICBzZWxmLl9vbnBsYXkgPSBvLm9ucGxheSA/IFt7Zm46IG8ub25wbGF5fV0gOiBbXTtcclxuICAgICAgc2VsZi5fb25zdG9wID0gby5vbnN0b3AgPyBbe2ZuOiBvLm9uc3RvcH1dIDogW107XHJcbiAgICAgIHNlbGYuX29ubXV0ZSA9IG8ub25tdXRlID8gW3tmbjogby5vbm11dGV9XSA6IFtdO1xyXG4gICAgICBzZWxmLl9vbnZvbHVtZSA9IG8ub252b2x1bWUgPyBbe2ZuOiBvLm9udm9sdW1lfV0gOiBbXTtcclxuICAgICAgc2VsZi5fb25yYXRlID0gby5vbnJhdGUgPyBbe2ZuOiBvLm9ucmF0ZX1dIDogW107XHJcbiAgICAgIHNlbGYuX29uc2VlayA9IG8ub25zZWVrID8gW3tmbjogby5vbnNlZWt9XSA6IFtdO1xyXG4gICAgICBzZWxmLl9vbnVubG9jayA9IG8ub251bmxvY2sgPyBbe2ZuOiBvLm9udW5sb2NrfV0gOiBbXTtcclxuICAgICAgc2VsZi5fb25yZXN1bWUgPSBbXTtcclxuXHJcbiAgICAgIC8vIFdlYiBBdWRpbyBvciBIVE1MNSBBdWRpbz9cclxuICAgICAgc2VsZi5fd2ViQXVkaW8gPSBIb3dsZXIudXNpbmdXZWJBdWRpbyAmJiAhc2VsZi5faHRtbDU7XHJcblxyXG4gICAgICAvLyBBdXRvbWF0aWNhbGx5IHRyeSB0byBlbmFibGUgYXVkaW8uXHJcbiAgICAgIGlmICh0eXBlb2YgSG93bGVyLmN0eCAhPT0gJ3VuZGVmaW5lZCcgJiYgSG93bGVyLmN0eCAmJiBIb3dsZXIuYXV0b1VubG9jaykge1xyXG4gICAgICAgIEhvd2xlci5fdW5sb2NrQXVkaW8oKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gS2VlcCB0cmFjayBvZiB0aGlzIEhvd2wgZ3JvdXAgaW4gdGhlIGdsb2JhbCBjb250cm9sbGVyLlxyXG4gICAgICBIb3dsZXIuX2hvd2xzLnB1c2goc2VsZik7XHJcblxyXG4gICAgICAvLyBJZiB0aGV5IHNlbGVjdGVkIGF1dG9wbGF5LCBhZGQgYSBwbGF5IGV2ZW50IHRvIHRoZSBsb2FkIHF1ZXVlLlxyXG4gICAgICBpZiAoc2VsZi5fYXV0b3BsYXkpIHtcclxuICAgICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcclxuICAgICAgICAgIGV2ZW50OiAncGxheScsXHJcbiAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBzZWxmLnBsYXkoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gTG9hZCB0aGUgc291cmNlIGZpbGUgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXHJcbiAgICAgIGlmIChzZWxmLl9wcmVsb2FkICYmIHNlbGYuX3ByZWxvYWQgIT09ICdub25lJykge1xyXG4gICAgICAgIHNlbGYubG9hZCgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gc2VsZjtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBMb2FkIHRoZSBhdWRpbyBmaWxlLlxyXG4gICAgICogQHJldHVybiB7SG93bGVyfVxyXG4gICAgICovXHJcbiAgICBsb2FkOiBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICB2YXIgdXJsID0gbnVsbDtcclxuXHJcbiAgICAgIC8vIElmIG5vIGF1ZGlvIGlzIGF2YWlsYWJsZSwgcXVpdCBpbW1lZGlhdGVseS5cclxuICAgICAgaWYgKEhvd2xlci5ub0F1ZGlvKSB7XHJcbiAgICAgICAgc2VsZi5fZW1pdCgnbG9hZGVycm9yJywgbnVsbCwgJ05vIGF1ZGlvIHN1cHBvcnQuJyk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBNYWtlIHN1cmUgb3VyIHNvdXJjZSBpcyBpbiBhbiBhcnJheS5cclxuICAgICAgaWYgKHR5cGVvZiBzZWxmLl9zcmMgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgc2VsZi5fc3JjID0gW3NlbGYuX3NyY107XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIExvb3AgdGhyb3VnaCB0aGUgc291cmNlcyBhbmQgcGljayB0aGUgZmlyc3Qgb25lIHRoYXQgaXMgY29tcGF0aWJsZS5cclxuICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX3NyYy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhciBleHQsIHN0cjtcclxuXHJcbiAgICAgICAgaWYgKHNlbGYuX2Zvcm1hdCAmJiBzZWxmLl9mb3JtYXRbaV0pIHtcclxuICAgICAgICAgIC8vIElmIGFuIGV4dGVuc2lvbiB3YXMgc3BlY2lmaWVkLCB1c2UgdGhhdCBpbnN0ZWFkLlxyXG4gICAgICAgICAgZXh0ID0gc2VsZi5fZm9ybWF0W2ldO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIHNvdXJjZSBpcyBhIHN0cmluZy5cclxuICAgICAgICAgIHN0ciA9IHNlbGYuX3NyY1tpXTtcclxuICAgICAgICAgIGlmICh0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICBzZWxmLl9lbWl0KCdsb2FkZXJyb3InLCBudWxsLCAnTm9uLXN0cmluZyBmb3VuZCBpbiBzZWxlY3RlZCBhdWRpbyBzb3VyY2VzIC0gaWdub3JpbmcuJyk7XHJcbiAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIEV4dHJhY3QgdGhlIGZpbGUgZXh0ZW5zaW9uIGZyb20gdGhlIFVSTCBvciBiYXNlNjQgZGF0YSBVUkkuXHJcbiAgICAgICAgICBleHQgPSAvXmRhdGE6YXVkaW9cXC8oW147LF0rKTsvaS5leGVjKHN0cik7XHJcbiAgICAgICAgICBpZiAoIWV4dCkge1xyXG4gICAgICAgICAgICBleHQgPSAvXFwuKFteLl0rKSQvLmV4ZWMoc3RyLnNwbGl0KCc/JywgMSlbMF0pO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGlmIChleHQpIHtcclxuICAgICAgICAgICAgZXh0ID0gZXh0WzFdLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBMb2cgYSB3YXJuaW5nIGlmIG5vIGV4dGVuc2lvbiB3YXMgZm91bmQuXHJcbiAgICAgICAgaWYgKCFleHQpIHtcclxuICAgICAgICAgIGNvbnNvbGUud2FybignTm8gZmlsZSBleHRlbnNpb24gd2FzIGZvdW5kLiBDb25zaWRlciB1c2luZyB0aGUgXCJmb3JtYXRcIiBwcm9wZXJ0eSBvciBzcGVjaWZ5IGFuIGV4dGVuc2lvbi4nKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGlmIHRoaXMgZXh0ZW5zaW9uIGlzIGF2YWlsYWJsZS5cclxuICAgICAgICBpZiAoZXh0ICYmIEhvd2xlci5jb2RlY3MoZXh0KSkge1xyXG4gICAgICAgICAgdXJsID0gc2VsZi5fc3JjW2ldO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoIXVybCkge1xyXG4gICAgICAgIHNlbGYuX2VtaXQoJ2xvYWRlcnJvcicsIG51bGwsICdObyBjb2RlYyBzdXBwb3J0IGZvciBzZWxlY3RlZCBhdWRpbyBzb3VyY2VzLicpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgc2VsZi5fc3JjID0gdXJsO1xyXG4gICAgICBzZWxmLl9zdGF0ZSA9ICdsb2FkaW5nJztcclxuXHJcbiAgICAgIC8vIElmIHRoZSBob3N0aW5nIHBhZ2UgaXMgSFRUUFMgYW5kIHRoZSBzb3VyY2UgaXNuJ3QsXHJcbiAgICAgIC8vIGRyb3AgZG93biB0byBIVE1MNSBBdWRpbyB0byBhdm9pZCBNaXhlZCBDb250ZW50IGVycm9ycy5cclxuICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCA9PT0gJ2h0dHBzOicgJiYgdXJsLnNsaWNlKDAsIDUpID09PSAnaHR0cDonKSB7XHJcbiAgICAgICAgc2VsZi5faHRtbDUgPSB0cnVlO1xyXG4gICAgICAgIHNlbGYuX3dlYkF1ZGlvID0gZmFsc2U7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIENyZWF0ZSBhIG5ldyBzb3VuZCBvYmplY3QgYW5kIGFkZCBpdCB0byB0aGUgcG9vbC5cclxuICAgICAgbmV3IFNvdW5kKHNlbGYpO1xyXG5cclxuICAgICAgLy8gTG9hZCBhbmQgZGVjb2RlIHRoZSBhdWRpbyBkYXRhIGZvciBwbGF5YmFjay5cclxuICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvKSB7XHJcbiAgICAgICAgbG9hZEJ1ZmZlcihzZWxmKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUGxheSBhIHNvdW5kIG9yIHJlc3VtZSBwcmV2aW91cyBwbGF5YmFjay5cclxuICAgICAqIEBwYXJhbSAge1N0cmluZy9OdW1iZXJ9IHNwcml0ZSAgIFNwcml0ZSBuYW1lIGZvciBzcHJpdGUgcGxheWJhY2sgb3Igc291bmQgaWQgdG8gY29udGludWUgcHJldmlvdXMuXHJcbiAgICAgKiBAcGFyYW0gIHtCb29sZWFufSBpbnRlcm5hbCBJbnRlcm5hbCBVc2U6IHRydWUgcHJldmVudHMgZXZlbnQgZmlyaW5nLlxyXG4gICAgICogQHJldHVybiB7TnVtYmVyfSAgICAgICAgICBTb3VuZCBJRC5cclxuICAgICAqL1xyXG4gICAgcGxheTogZnVuY3Rpb24oc3ByaXRlLCBpbnRlcm5hbCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgIHZhciBpZCA9IG51bGw7XHJcblxyXG4gICAgICAvLyBEZXRlcm1pbmUgaWYgYSBzcHJpdGUsIHNvdW5kIGlkIG9yIG5vdGhpbmcgd2FzIHBhc3NlZFxyXG4gICAgICBpZiAodHlwZW9mIHNwcml0ZSA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICBpZCA9IHNwcml0ZTtcclxuICAgICAgICBzcHJpdGUgPSBudWxsO1xyXG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBzcHJpdGUgPT09ICdzdHJpbmcnICYmIHNlbGYuX3N0YXRlID09PSAnbG9hZGVkJyAmJiAhc2VsZi5fc3ByaXRlW3Nwcml0ZV0pIHtcclxuICAgICAgICAvLyBJZiB0aGUgcGFzc2VkIHNwcml0ZSBkb2Vzbid0IGV4aXN0LCBkbyBub3RoaW5nLlxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBzcHJpdGUgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgLy8gVXNlIHRoZSBkZWZhdWx0IHNvdW5kIHNwcml0ZSAocGxheXMgdGhlIGZ1bGwgYXVkaW8gbGVuZ3RoKS5cclxuICAgICAgICBzcHJpdGUgPSAnX19kZWZhdWx0JztcclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlcmUgaXMgYSBzaW5nbGUgcGF1c2VkIHNvdW5kIHRoYXQgaXNuJ3QgZW5kZWQuXHJcbiAgICAgICAgLy8gSWYgdGhlcmUgaXMsIHBsYXkgdGhhdCBzb3VuZC4gSWYgbm90LCBjb250aW51ZSBhcyB1c3VhbC5cclxuICAgICAgICBpZiAoIXNlbGYuX3BsYXlMb2NrKSB7XHJcbiAgICAgICAgICB2YXIgbnVtID0gMDtcclxuICAgICAgICAgIGZvciAodmFyIGk9MDsgaTxzZWxmLl9zb3VuZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKHNlbGYuX3NvdW5kc1tpXS5fcGF1c2VkICYmICFzZWxmLl9zb3VuZHNbaV0uX2VuZGVkKSB7XHJcbiAgICAgICAgICAgICAgbnVtKys7XHJcbiAgICAgICAgICAgICAgaWQgPSBzZWxmLl9zb3VuZHNbaV0uX2lkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaWYgKG51bSA9PT0gMSkge1xyXG4gICAgICAgICAgICBzcHJpdGUgPSBudWxsO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWQgPSBudWxsO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gR2V0IHRoZSBzZWxlY3RlZCBub2RlLCBvciBnZXQgb25lIGZyb20gdGhlIHBvb2wuXHJcbiAgICAgIHZhciBzb3VuZCA9IGlkID8gc2VsZi5fc291bmRCeUlkKGlkKSA6IHNlbGYuX2luYWN0aXZlU291bmQoKTtcclxuXHJcbiAgICAgIC8vIElmIHRoZSBzb3VuZCBkb2Vzbid0IGV4aXN0LCBkbyBub3RoaW5nLlxyXG4gICAgICBpZiAoIXNvdW5kKSB7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFNlbGVjdCB0aGUgc3ByaXRlIGRlZmluaXRpb24uXHJcbiAgICAgIGlmIChpZCAmJiAhc3ByaXRlKSB7XHJcbiAgICAgICAgc3ByaXRlID0gc291bmQuX3Nwcml0ZSB8fCAnX19kZWZhdWx0JztcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gSWYgdGhlIHNvdW5kIGhhc24ndCBsb2FkZWQsIHdlIG11c3Qgd2FpdCB0byBnZXQgdGhlIGF1ZGlvJ3MgZHVyYXRpb24uXHJcbiAgICAgIC8vIFdlIGFsc28gbmVlZCB0byB3YWl0IHRvIG1ha2Ugc3VyZSB3ZSBkb24ndCBydW4gaW50byByYWNlIGNvbmRpdGlvbnMgd2l0aFxyXG4gICAgICAvLyB0aGUgb3JkZXIgb2YgZnVuY3Rpb24gY2FsbHMuXHJcbiAgICAgIGlmIChzZWxmLl9zdGF0ZSAhPT0gJ2xvYWRlZCcpIHtcclxuICAgICAgICAvLyBTZXQgdGhlIHNwcml0ZSB2YWx1ZSBvbiB0aGlzIHNvdW5kLlxyXG4gICAgICAgIHNvdW5kLl9zcHJpdGUgPSBzcHJpdGU7XHJcblxyXG4gICAgICAgIC8vIE1hcmsgdGhpcyBzb3VuZCBhcyBub3QgZW5kZWQgaW4gY2FzZSBhbm90aGVyIHNvdW5kIGlzIHBsYXllZCBiZWZvcmUgdGhpcyBvbmUgbG9hZHMuXHJcbiAgICAgICAgc291bmQuX2VuZGVkID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIEFkZCB0aGUgc291bmQgdG8gdGhlIHF1ZXVlIHRvIGJlIHBsYXllZCBvbiBsb2FkLlxyXG4gICAgICAgIHZhciBzb3VuZElkID0gc291bmQuX2lkO1xyXG4gICAgICAgIHNlbGYuX3F1ZXVlLnB1c2goe1xyXG4gICAgICAgICAgZXZlbnQ6ICdwbGF5JyxcclxuICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHNlbGYucGxheShzb3VuZElkKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHNvdW5kSWQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIERvbid0IHBsYXkgdGhlIHNvdW5kIGlmIGFuIGlkIHdhcyBwYXNzZWQgYW5kIGl0IGlzIGFscmVhZHkgcGxheWluZy5cclxuICAgICAgaWYgKGlkICYmICFzb3VuZC5fcGF1c2VkKSB7XHJcbiAgICAgICAgLy8gVHJpZ2dlciB0aGUgcGxheSBldmVudCwgaW4gb3JkZXIgdG8ga2VlcCBpdGVyYXRpbmcgdGhyb3VnaCBxdWV1ZS5cclxuICAgICAgICBpZiAoIWludGVybmFsKSB7XHJcbiAgICAgICAgICBzZWxmLl9sb2FkUXVldWUoJ3BsYXknKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBzb3VuZC5faWQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgQXVkaW9Db250ZXh0IGlzbid0IHN1c3BlbmRlZCwgYW5kIHJlc3VtZSBpdCBpZiBpdCBpcy5cclxuICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvKSB7XHJcbiAgICAgICAgSG93bGVyLl9hdXRvUmVzdW1lKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIERldGVybWluZSBob3cgbG9uZyB0byBwbGF5IGZvciBhbmQgd2hlcmUgdG8gc3RhcnQgcGxheWluZy5cclxuICAgICAgdmFyIHNlZWsgPSBNYXRoLm1heCgwLCBzb3VuZC5fc2VlayA+IDAgPyBzb3VuZC5fc2VlayA6IHNlbGYuX3Nwcml0ZVtzcHJpdGVdWzBdIC8gMTAwMCk7XHJcbiAgICAgIHZhciBkdXJhdGlvbiA9IE1hdGgubWF4KDAsICgoc2VsZi5fc3ByaXRlW3Nwcml0ZV1bMF0gKyBzZWxmLl9zcHJpdGVbc3ByaXRlXVsxXSkgLyAxMDAwKSAtIHNlZWspO1xyXG4gICAgICB2YXIgdGltZW91dCA9IChkdXJhdGlvbiAqIDEwMDApIC8gTWF0aC5hYnMoc291bmQuX3JhdGUpO1xyXG4gICAgICB2YXIgc3RhcnQgPSBzZWxmLl9zcHJpdGVbc3ByaXRlXVswXSAvIDEwMDA7XHJcbiAgICAgIHZhciBzdG9wID0gKHNlbGYuX3Nwcml0ZVtzcHJpdGVdWzBdICsgc2VsZi5fc3ByaXRlW3Nwcml0ZV1bMV0pIC8gMTAwMDtcclxuICAgICAgc291bmQuX3Nwcml0ZSA9IHNwcml0ZTtcclxuXHJcbiAgICAgIC8vIE1hcmsgdGhlIHNvdW5kIGFzIGVuZGVkIGluc3RhbnRseSBzbyB0aGF0IHRoaXMgYXN5bmMgcGxheWJhY2tcclxuICAgICAgLy8gZG9lc24ndCBnZXQgZ3JhYmJlZCBieSBhbm90aGVyIGNhbGwgdG8gcGxheSB3aGlsZSB0aGlzIG9uZSB3YWl0cyB0byBzdGFydC5cclxuICAgICAgc291bmQuX2VuZGVkID0gZmFsc2U7XHJcblxyXG4gICAgICAvLyBVcGRhdGUgdGhlIHBhcmFtZXRlcnMgb2YgdGhlIHNvdW5kLlxyXG4gICAgICB2YXIgc2V0UGFyYW1zID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgc291bmQuX3BhdXNlZCA9IGZhbHNlO1xyXG4gICAgICAgIHNvdW5kLl9zZWVrID0gc2VlaztcclxuICAgICAgICBzb3VuZC5fc3RhcnQgPSBzdGFydDtcclxuICAgICAgICBzb3VuZC5fc3RvcCA9IHN0b3A7XHJcbiAgICAgICAgc291bmQuX2xvb3AgPSAhIShzb3VuZC5fbG9vcCB8fCBzZWxmLl9zcHJpdGVbc3ByaXRlXVsyXSk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvLyBFbmQgdGhlIHNvdW5kIGluc3RhbnRseSBpZiBzZWVrIGlzIGF0IHRoZSBlbmQuXHJcbiAgICAgIGlmIChzZWVrID49IHN0b3ApIHtcclxuICAgICAgICBzZWxmLl9lbmRlZChzb3VuZCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBCZWdpbiB0aGUgYWN0dWFsIHBsYXliYWNrLlxyXG4gICAgICB2YXIgbm9kZSA9IHNvdW5kLl9ub2RlO1xyXG4gICAgICBpZiAoc2VsZi5fd2ViQXVkaW8pIHtcclxuICAgICAgICAvLyBGaXJlIHRoaXMgd2hlbiB0aGUgc291bmQgaXMgcmVhZHkgdG8gcGxheSB0byBiZWdpbiBXZWIgQXVkaW8gcGxheWJhY2suXHJcbiAgICAgICAgdmFyIHBsYXlXZWJBdWRpbyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgc2VsZi5fcGxheUxvY2sgPSBmYWxzZTtcclxuICAgICAgICAgIHNldFBhcmFtcygpO1xyXG4gICAgICAgICAgc2VsZi5fcmVmcmVzaEJ1ZmZlcihzb3VuZCk7XHJcblxyXG4gICAgICAgICAgLy8gU2V0dXAgdGhlIHBsYXliYWNrIHBhcmFtcy5cclxuICAgICAgICAgIHZhciB2b2wgPSAoc291bmQuX211dGVkIHx8IHNlbGYuX211dGVkKSA/IDAgOiBzb3VuZC5fdm9sdW1lO1xyXG4gICAgICAgICAgbm9kZS5nYWluLnNldFZhbHVlQXRUaW1lKHZvbCwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XHJcbiAgICAgICAgICBzb3VuZC5fcGxheVN0YXJ0ID0gSG93bGVyLmN0eC5jdXJyZW50VGltZTtcclxuXHJcbiAgICAgICAgICAvLyBQbGF5IHRoZSBzb3VuZCB1c2luZyB0aGUgc3VwcG9ydGVkIG1ldGhvZC5cclxuICAgICAgICAgIGlmICh0eXBlb2Ygbm9kZS5idWZmZXJTb3VyY2Uuc3RhcnQgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIHNvdW5kLl9sb29wID8gbm9kZS5idWZmZXJTb3VyY2Uubm90ZUdyYWluT24oMCwgc2VlaywgODY0MDApIDogbm9kZS5idWZmZXJTb3VyY2Uubm90ZUdyYWluT24oMCwgc2VlaywgZHVyYXRpb24pO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc291bmQuX2xvb3AgPyBub2RlLmJ1ZmZlclNvdXJjZS5zdGFydCgwLCBzZWVrLCA4NjQwMCkgOiBub2RlLmJ1ZmZlclNvdXJjZS5zdGFydCgwLCBzZWVrLCBkdXJhdGlvbik7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gU3RhcnQgYSBuZXcgdGltZXIgaWYgbm9uZSBpcyBwcmVzZW50LlxyXG4gICAgICAgICAgaWYgKHRpbWVvdXQgIT09IEluZmluaXR5KSB7XHJcbiAgICAgICAgICAgIHNlbGYuX2VuZFRpbWVyc1tzb3VuZC5faWRdID0gc2V0VGltZW91dChzZWxmLl9lbmRlZC5iaW5kKHNlbGYsIHNvdW5kKSwgdGltZW91dCk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaWYgKCFpbnRlcm5hbCkge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgIHNlbGYuX2VtaXQoJ3BsYXknLCBzb3VuZC5faWQpO1xyXG4gICAgICAgICAgICAgIHNlbGYuX2xvYWRRdWV1ZSgpO1xyXG4gICAgICAgICAgICB9LCAwKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBpZiAoSG93bGVyLnN0YXRlID09PSAncnVubmluZycgJiYgSG93bGVyLmN0eC5zdGF0ZSAhPT0gJ2ludGVycnVwdGVkJykge1xyXG4gICAgICAgICAgcGxheVdlYkF1ZGlvKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHNlbGYuX3BsYXlMb2NrID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAvLyBXYWl0IGZvciB0aGUgYXVkaW8gY29udGV4dCB0byByZXN1bWUgYmVmb3JlIHBsYXlpbmcuXHJcbiAgICAgICAgICBzZWxmLm9uY2UoJ3Jlc3VtZScsIHBsYXlXZWJBdWRpbyk7XHJcblxyXG4gICAgICAgICAgLy8gQ2FuY2VsIHRoZSBlbmQgdGltZXIuXHJcbiAgICAgICAgICBzZWxmLl9jbGVhclRpbWVyKHNvdW5kLl9pZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIEZpcmUgdGhpcyB3aGVuIHRoZSBzb3VuZCBpcyByZWFkeSB0byBwbGF5IHRvIGJlZ2luIEhUTUw1IEF1ZGlvIHBsYXliYWNrLlxyXG4gICAgICAgIHZhciBwbGF5SHRtbDUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIG5vZGUuY3VycmVudFRpbWUgPSBzZWVrO1xyXG4gICAgICAgICAgbm9kZS5tdXRlZCA9IHNvdW5kLl9tdXRlZCB8fCBzZWxmLl9tdXRlZCB8fCBIb3dsZXIuX211dGVkIHx8IG5vZGUubXV0ZWQ7XHJcbiAgICAgICAgICBub2RlLnZvbHVtZSA9IHNvdW5kLl92b2x1bWUgKiBIb3dsZXIudm9sdW1lKCk7XHJcbiAgICAgICAgICBub2RlLnBsYXliYWNrUmF0ZSA9IHNvdW5kLl9yYXRlO1xyXG5cclxuICAgICAgICAgIC8vIFNvbWUgYnJvd3NlcnMgd2lsbCB0aHJvdyBhbiBlcnJvciBpZiB0aGlzIGlzIGNhbGxlZCB3aXRob3V0IHVzZXIgaW50ZXJhY3Rpb24uXHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YXIgcGxheSA9IG5vZGUucGxheSgpO1xyXG5cclxuICAgICAgICAgICAgLy8gU3VwcG9ydCBvbGRlciBicm93c2VycyB0aGF0IGRvbid0IHN1cHBvcnQgcHJvbWlzZXMsIGFuZCB0aHVzIGRvbid0IGhhdmUgdGhpcyBpc3N1ZS5cclxuICAgICAgICAgICAgaWYgKHBsYXkgJiYgdHlwZW9mIFByb21pc2UgIT09ICd1bmRlZmluZWQnICYmIChwbGF5IGluc3RhbmNlb2YgUHJvbWlzZSB8fCB0eXBlb2YgcGxheS50aGVuID09PSAnZnVuY3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgIC8vIEltcGxlbWVudHMgYSBsb2NrIHRvIHByZXZlbnQgRE9NRXhjZXB0aW9uOiBUaGUgcGxheSgpIHJlcXVlc3Qgd2FzIGludGVycnVwdGVkIGJ5IGEgY2FsbCB0byBwYXVzZSgpLlxyXG4gICAgICAgICAgICAgIHNlbGYuX3BsYXlMb2NrID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgLy8gU2V0IHBhcmFtIHZhbHVlcyBpbW1lZGlhdGVseS5cclxuICAgICAgICAgICAgICBzZXRQYXJhbXMoKTtcclxuXHJcbiAgICAgICAgICAgICAgLy8gUmVsZWFzZXMgdGhlIGxvY2sgYW5kIGV4ZWN1dGVzIHF1ZXVlZCBhY3Rpb25zLlxyXG4gICAgICAgICAgICAgIHBsYXlcclxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICBzZWxmLl9wbGF5TG9jayA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICBub2RlLl91bmxvY2tlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgIGlmICghaW50ZXJuYWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLl9lbWl0KCdwbGF5Jywgc291bmQuX2lkKTtcclxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLl9sb2FkUXVldWUoKTtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgc2VsZi5fcGxheUxvY2sgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgc2VsZi5fZW1pdCgncGxheWVycm9yJywgc291bmQuX2lkLCAnUGxheWJhY2sgd2FzIHVuYWJsZSB0byBzdGFydC4gVGhpcyBpcyBtb3N0IGNvbW1vbmx5IGFuIGlzc3VlICcgK1xyXG4gICAgICAgICAgICAgICAgICAgICdvbiBtb2JpbGUgZGV2aWNlcyBhbmQgQ2hyb21lIHdoZXJlIHBsYXliYWNrIHdhcyBub3Qgd2l0aGluIGEgdXNlciBpbnRlcmFjdGlvbi4nKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgIC8vIFJlc2V0IHRoZSBlbmRlZCBhbmQgcGF1c2VkIHZhbHVlcy5cclxuICAgICAgICAgICAgICAgICAgc291bmQuX2VuZGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgc291bmQuX3BhdXNlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICghaW50ZXJuYWwpIHtcclxuICAgICAgICAgICAgICBzZWxmLl9wbGF5TG9jayA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgIHNldFBhcmFtcygpO1xyXG4gICAgICAgICAgICAgIHNlbGYuX2VtaXQoJ3BsYXknLCBzb3VuZC5faWQpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBTZXR0aW5nIHJhdGUgYmVmb3JlIHBsYXlpbmcgd29uJ3Qgd29yayBpbiBJRSwgc28gd2Ugc2V0IGl0IGFnYWluIGhlcmUuXHJcbiAgICAgICAgICAgIG5vZGUucGxheWJhY2tSYXRlID0gc291bmQuX3JhdGU7XHJcblxyXG4gICAgICAgICAgICAvLyBJZiB0aGUgbm9kZSBpcyBzdGlsbCBwYXVzZWQsIHRoZW4gd2UgY2FuIGFzc3VtZSB0aGVyZSB3YXMgYSBwbGF5YmFjayBpc3N1ZS5cclxuICAgICAgICAgICAgaWYgKG5vZGUucGF1c2VkKSB7XHJcbiAgICAgICAgICAgICAgc2VsZi5fZW1pdCgncGxheWVycm9yJywgc291bmQuX2lkLCAnUGxheWJhY2sgd2FzIHVuYWJsZSB0byBzdGFydC4gVGhpcyBpcyBtb3N0IGNvbW1vbmx5IGFuIGlzc3VlICcgK1xyXG4gICAgICAgICAgICAgICAgJ29uIG1vYmlsZSBkZXZpY2VzIGFuZCBDaHJvbWUgd2hlcmUgcGxheWJhY2sgd2FzIG5vdCB3aXRoaW4gYSB1c2VyIGludGVyYWN0aW9uLicpO1xyXG4gICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gU2V0dXAgdGhlIGVuZCB0aW1lciBvbiBzcHJpdGVzIG9yIGxpc3RlbiBmb3IgdGhlIGVuZGVkIGV2ZW50LlxyXG4gICAgICAgICAgICBpZiAoc3ByaXRlICE9PSAnX19kZWZhdWx0JyB8fCBzb3VuZC5fbG9vcCkge1xyXG4gICAgICAgICAgICAgIHNlbGYuX2VuZFRpbWVyc1tzb3VuZC5faWRdID0gc2V0VGltZW91dChzZWxmLl9lbmRlZC5iaW5kKHNlbGYsIHNvdW5kKSwgdGltZW91dCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgc2VsZi5fZW5kVGltZXJzW3NvdW5kLl9pZF0gPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIC8vIEZpcmUgZW5kZWQgb24gdGhpcyBhdWRpbyBub2RlLlxyXG4gICAgICAgICAgICAgICAgc2VsZi5fZW5kZWQoc291bmQpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIENsZWFyIHRoaXMgbGlzdGVuZXIuXHJcbiAgICAgICAgICAgICAgICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgc2VsZi5fZW5kVGltZXJzW3NvdW5kLl9pZF0sIGZhbHNlKTtcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBzZWxmLl9lbmRUaW1lcnNbc291bmQuX2lkXSwgZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgc2VsZi5fZW1pdCgncGxheWVycm9yJywgc291bmQuX2lkLCBlcnIpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIElmIHRoaXMgaXMgc3RyZWFtaW5nIGF1ZGlvLCBtYWtlIHN1cmUgdGhlIHNyYyBpcyBzZXQgYW5kIGxvYWQgYWdhaW4uXHJcbiAgICAgICAgaWYgKG5vZGUuc3JjID09PSAnZGF0YTphdWRpby93YXY7YmFzZTY0LFVrbEdSaWdBQUFCWFFWWkZabTEwSUJJQUFBQUJBQUVBUkt3QUFJaFlBUUFDQUJBQUFBQmtZWFJoQWdBQUFBRUEnKSB7XHJcbiAgICAgICAgICBub2RlLnNyYyA9IHNlbGYuX3NyYztcclxuICAgICAgICAgIG5vZGUubG9hZCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUGxheSBpbW1lZGlhdGVseSBpZiByZWFkeSwgb3Igd2FpdCBmb3IgdGhlICdjYW5wbGF5dGhyb3VnaCdlIHZlbnQuXHJcbiAgICAgICAgdmFyIGxvYWRlZE5vUmVhZHlTdGF0ZSA9ICh3aW5kb3cgJiYgd2luZG93LmVqZWN0YSkgfHwgKCFub2RlLnJlYWR5U3RhdGUgJiYgSG93bGVyLl9uYXZpZ2F0b3IuaXNDb2Nvb25KUyk7XHJcbiAgICAgICAgaWYgKG5vZGUucmVhZHlTdGF0ZSA+PSAzIHx8IGxvYWRlZE5vUmVhZHlTdGF0ZSkge1xyXG4gICAgICAgICAgcGxheUh0bWw1KCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHNlbGYuX3BsYXlMb2NrID0gdHJ1ZTtcclxuICAgICAgICAgIHNlbGYuX3N0YXRlID0gJ2xvYWRpbmcnO1xyXG5cclxuICAgICAgICAgIHZhciBsaXN0ZW5lciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBzZWxmLl9zdGF0ZSA9ICdsb2FkZWQnO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gQmVnaW4gcGxheWJhY2suXHJcbiAgICAgICAgICAgIHBsYXlIdG1sNSgpO1xyXG5cclxuICAgICAgICAgICAgLy8gQ2xlYXIgdGhpcyBsaXN0ZW5lci5cclxuICAgICAgICAgICAgbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKEhvd2xlci5fY2FuUGxheUV2ZW50LCBsaXN0ZW5lciwgZmFsc2UpO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcihIb3dsZXIuX2NhblBsYXlFdmVudCwgbGlzdGVuZXIsIGZhbHNlKTtcclxuXHJcbiAgICAgICAgICAvLyBDYW5jZWwgdGhlIGVuZCB0aW1lci5cclxuICAgICAgICAgIHNlbGYuX2NsZWFyVGltZXIoc291bmQuX2lkKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBzb3VuZC5faWQ7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUGF1c2UgcGxheWJhY2sgYW5kIHNhdmUgY3VycmVudCBwb3NpdGlvbi5cclxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgVGhlIHNvdW5kIElEIChlbXB0eSB0byBwYXVzZSBhbGwgaW4gZ3JvdXApLlxyXG4gICAgICogQHJldHVybiB7SG93bH1cclxuICAgICAqL1xyXG4gICAgcGF1c2U6IGZ1bmN0aW9uKGlkKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgIC8vIElmIHRoZSBzb3VuZCBoYXNuJ3QgbG9hZGVkIG9yIGEgcGxheSgpIHByb21pc2UgaXMgcGVuZGluZywgYWRkIGl0IHRvIHRoZSBsb2FkIHF1ZXVlIHRvIHBhdXNlIHdoZW4gY2FwYWJsZS5cclxuICAgICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJyB8fCBzZWxmLl9wbGF5TG9jaykge1xyXG4gICAgICAgIHNlbGYuX3F1ZXVlLnB1c2goe1xyXG4gICAgICAgICAgZXZlbnQ6ICdwYXVzZScsXHJcbiAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBzZWxmLnBhdXNlKGlkKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIElmIG5vIGlkIGlzIHBhc3NlZCwgZ2V0IGFsbCBJRCdzIHRvIGJlIHBhdXNlZC5cclxuICAgICAgdmFyIGlkcyA9IHNlbGYuX2dldFNvdW5kSWRzKGlkKTtcclxuXHJcbiAgICAgIGZvciAodmFyIGk9MDsgaTxpZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAvLyBDbGVhciB0aGUgZW5kIHRpbWVyLlxyXG4gICAgICAgIHNlbGYuX2NsZWFyVGltZXIoaWRzW2ldKTtcclxuXHJcbiAgICAgICAgLy8gR2V0IHRoZSBzb3VuZC5cclxuICAgICAgICB2YXIgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRzW2ldKTtcclxuXHJcbiAgICAgICAgaWYgKHNvdW5kICYmICFzb3VuZC5fcGF1c2VkKSB7XHJcbiAgICAgICAgICAvLyBSZXNldCB0aGUgc2VlayBwb3NpdGlvbi5cclxuICAgICAgICAgIHNvdW5kLl9zZWVrID0gc2VsZi5zZWVrKGlkc1tpXSk7XHJcbiAgICAgICAgICBzb3VuZC5fcmF0ZVNlZWsgPSAwO1xyXG4gICAgICAgICAgc291bmQuX3BhdXNlZCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgLy8gU3RvcCBjdXJyZW50bHkgcnVubmluZyBmYWRlcy5cclxuICAgICAgICAgIHNlbGYuX3N0b3BGYWRlKGlkc1tpXSk7XHJcblxyXG4gICAgICAgICAgaWYgKHNvdW5kLl9ub2RlKSB7XHJcbiAgICAgICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbykge1xyXG4gICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgc291bmQgaGFzIGJlZW4gY3JlYXRlZC5cclxuICAgICAgICAgICAgICBpZiAoIXNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZSkge1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICBpZiAodHlwZW9mIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5zdG9wID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLm5vdGVPZmYoMCk7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5zdG9wKDApO1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgLy8gQ2xlYW4gdXAgdGhlIGJ1ZmZlciBzb3VyY2UuXHJcbiAgICAgICAgICAgICAgc2VsZi5fY2xlYW5CdWZmZXIoc291bmQuX25vZGUpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFpc05hTihzb3VuZC5fbm9kZS5kdXJhdGlvbikgfHwgc291bmQuX25vZGUuZHVyYXRpb24gPT09IEluZmluaXR5KSB7XHJcbiAgICAgICAgICAgICAgc291bmQuX25vZGUucGF1c2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRmlyZSB0aGUgcGF1c2UgZXZlbnQsIHVubGVzcyBgdHJ1ZWAgaXMgcGFzc2VkIGFzIHRoZSAybmQgYXJndW1lbnQuXHJcbiAgICAgICAgaWYgKCFhcmd1bWVudHNbMV0pIHtcclxuICAgICAgICAgIHNlbGYuX2VtaXQoJ3BhdXNlJywgc291bmQgPyBzb3VuZC5faWQgOiBudWxsKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIFN0b3AgcGxheWJhY2sgYW5kIHJlc2V0IHRvIHN0YXJ0LlxyXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBpZCBUaGUgc291bmQgSUQgKGVtcHR5IHRvIHN0b3AgYWxsIGluIGdyb3VwKS5cclxuICAgICAqIEBwYXJhbSAge0Jvb2xlYW59IGludGVybmFsIEludGVybmFsIFVzZTogdHJ1ZSBwcmV2ZW50cyBldmVudCBmaXJpbmcuXHJcbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxyXG4gICAgICovXHJcbiAgICBzdG9wOiBmdW5jdGlvbihpZCwgaW50ZXJuYWwpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgLy8gSWYgdGhlIHNvdW5kIGhhc24ndCBsb2FkZWQsIGFkZCBpdCB0byB0aGUgbG9hZCBxdWV1ZSB0byBzdG9wIHdoZW4gY2FwYWJsZS5cclxuICAgICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJyB8fCBzZWxmLl9wbGF5TG9jaykge1xyXG4gICAgICAgIHNlbGYuX3F1ZXVlLnB1c2goe1xyXG4gICAgICAgICAgZXZlbnQ6ICdzdG9wJyxcclxuICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHNlbGYuc3RvcChpZCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBJZiBubyBpZCBpcyBwYXNzZWQsIGdldCBhbGwgSUQncyB0byBiZSBzdG9wcGVkLlxyXG4gICAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoaWQpO1xyXG5cclxuICAgICAgZm9yICh2YXIgaT0wOyBpPGlkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIC8vIENsZWFyIHRoZSBlbmQgdGltZXIuXHJcbiAgICAgICAgc2VsZi5fY2xlYXJUaW1lcihpZHNbaV0pO1xyXG5cclxuICAgICAgICAvLyBHZXQgdGhlIHNvdW5kLlxyXG4gICAgICAgIHZhciBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZHNbaV0pO1xyXG5cclxuICAgICAgICBpZiAoc291bmQpIHtcclxuICAgICAgICAgIC8vIFJlc2V0IHRoZSBzZWVrIHBvc2l0aW9uLlxyXG4gICAgICAgICAgc291bmQuX3NlZWsgPSBzb3VuZC5fc3RhcnQgfHwgMDtcclxuICAgICAgICAgIHNvdW5kLl9yYXRlU2VlayA9IDA7XHJcbiAgICAgICAgICBzb3VuZC5fcGF1c2VkID0gdHJ1ZTtcclxuICAgICAgICAgIHNvdW5kLl9lbmRlZCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgLy8gU3RvcCBjdXJyZW50bHkgcnVubmluZyBmYWRlcy5cclxuICAgICAgICAgIHNlbGYuX3N0b3BGYWRlKGlkc1tpXSk7XHJcblxyXG4gICAgICAgICAgaWYgKHNvdW5kLl9ub2RlKSB7XHJcbiAgICAgICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbykge1xyXG4gICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgc291bmQncyBBdWRpb0J1ZmZlclNvdXJjZU5vZGUgaGFzIGJlZW4gY3JlYXRlZC5cclxuICAgICAgICAgICAgICBpZiAoc291bmQuX25vZGUuYnVmZmVyU291cmNlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5zdG9wID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2Uubm90ZU9mZigwKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5zdG9wKDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIENsZWFuIHVwIHRoZSBidWZmZXIgc291cmNlLlxyXG4gICAgICAgICAgICAgICAgc2VsZi5fY2xlYW5CdWZmZXIoc291bmQuX25vZGUpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmICghaXNOYU4oc291bmQuX25vZGUuZHVyYXRpb24pIHx8IHNvdW5kLl9ub2RlLmR1cmF0aW9uID09PSBJbmZpbml0eSkge1xyXG4gICAgICAgICAgICAgIHNvdW5kLl9ub2RlLmN1cnJlbnRUaW1lID0gc291bmQuX3N0YXJ0IHx8IDA7XHJcbiAgICAgICAgICAgICAgc291bmQuX25vZGUucGF1c2UoKTtcclxuXHJcbiAgICAgICAgICAgICAgLy8gSWYgdGhpcyBpcyBhIGxpdmUgc3RyZWFtLCBzdG9wIGRvd25sb2FkIG9uY2UgdGhlIGF1ZGlvIGlzIHN0b3BwZWQuXHJcbiAgICAgICAgICAgICAgaWYgKHNvdW5kLl9ub2RlLmR1cmF0aW9uID09PSBJbmZpbml0eSkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5fY2xlYXJTb3VuZChzb3VuZC5fbm9kZSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaWYgKCFpbnRlcm5hbCkge1xyXG4gICAgICAgICAgICBzZWxmLl9lbWl0KCdzdG9wJywgc291bmQuX2lkKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIE11dGUvdW5tdXRlIGEgc2luZ2xlIHNvdW5kIG9yIGFsbCBzb3VuZHMgaW4gdGhpcyBIb3dsIGdyb3VwLlxyXG4gICAgICogQHBhcmFtICB7Qm9vbGVhbn0gbXV0ZWQgU2V0IHRvIHRydWUgdG8gbXV0ZSBhbmQgZmFsc2UgdG8gdW5tdXRlLlxyXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBpZCAgICBUaGUgc291bmQgSUQgdG8gdXBkYXRlIChvbWl0IHRvIG11dGUvdW5tdXRlIGFsbCkuXHJcbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxyXG4gICAgICovXHJcbiAgICBtdXRlOiBmdW5jdGlvbihtdXRlZCwgaWQpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgLy8gSWYgdGhlIHNvdW5kIGhhc24ndCBsb2FkZWQsIGFkZCBpdCB0byB0aGUgbG9hZCBxdWV1ZSB0byBtdXRlIHdoZW4gY2FwYWJsZS5cclxuICAgICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJ3x8IHNlbGYuX3BsYXlMb2NrKSB7XHJcbiAgICAgICAgc2VsZi5fcXVldWUucHVzaCh7XHJcbiAgICAgICAgICBldmVudDogJ211dGUnLFxyXG4gICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgc2VsZi5tdXRlKG11dGVkLCBpZCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBJZiBhcHBseWluZyBtdXRlL3VubXV0ZSB0byBhbGwgc291bmRzLCB1cGRhdGUgdGhlIGdyb3VwJ3MgdmFsdWUuXHJcbiAgICAgIGlmICh0eXBlb2YgaWQgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBtdXRlZCA9PT0gJ2Jvb2xlYW4nKSB7XHJcbiAgICAgICAgICBzZWxmLl9tdXRlZCA9IG11dGVkO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZXR1cm4gc2VsZi5fbXV0ZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBJZiBubyBpZCBpcyBwYXNzZWQsIGdldCBhbGwgSUQncyB0byBiZSBtdXRlZC5cclxuICAgICAgdmFyIGlkcyA9IHNlbGYuX2dldFNvdW5kSWRzKGlkKTtcclxuXHJcbiAgICAgIGZvciAodmFyIGk9MDsgaTxpZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAvLyBHZXQgdGhlIHNvdW5kLlxyXG4gICAgICAgIHZhciBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZHNbaV0pO1xyXG5cclxuICAgICAgICBpZiAoc291bmQpIHtcclxuICAgICAgICAgIHNvdW5kLl9tdXRlZCA9IG11dGVkO1xyXG5cclxuICAgICAgICAgIC8vIENhbmNlbCBhY3RpdmUgZmFkZSBhbmQgc2V0IHRoZSB2b2x1bWUgdG8gdGhlIGVuZCB2YWx1ZS5cclxuICAgICAgICAgIGlmIChzb3VuZC5faW50ZXJ2YWwpIHtcclxuICAgICAgICAgICAgc2VsZi5fc3RvcEZhZGUoc291bmQuX2lkKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpZiAoc2VsZi5fd2ViQXVkaW8gJiYgc291bmQuX25vZGUpIHtcclxuICAgICAgICAgICAgc291bmQuX25vZGUuZ2Fpbi5zZXRWYWx1ZUF0VGltZShtdXRlZCA/IDAgOiBzb3VuZC5fdm9sdW1lLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcclxuICAgICAgICAgIH0gZWxzZSBpZiAoc291bmQuX25vZGUpIHtcclxuICAgICAgICAgICAgc291bmQuX25vZGUubXV0ZWQgPSBIb3dsZXIuX211dGVkID8gdHJ1ZSA6IG11dGVkO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHNlbGYuX2VtaXQoJ211dGUnLCBzb3VuZC5faWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0L3NldCB0aGUgdm9sdW1lIG9mIHRoaXMgc291bmQgb3Igb2YgdGhlIEhvd2wgZ3JvdXAuIFRoaXMgbWV0aG9kIGNhbiBvcHRpb25hbGx5IHRha2UgMCwgMSBvciAyIGFyZ3VtZW50cy5cclxuICAgICAqICAgdm9sdW1lKCkgLT4gUmV0dXJucyB0aGUgZ3JvdXAncyB2b2x1bWUgdmFsdWUuXHJcbiAgICAgKiAgIHZvbHVtZShpZCkgLT4gUmV0dXJucyB0aGUgc291bmQgaWQncyBjdXJyZW50IHZvbHVtZS5cclxuICAgICAqICAgdm9sdW1lKHZvbCkgLT4gU2V0cyB0aGUgdm9sdW1lIG9mIGFsbCBzb3VuZHMgaW4gdGhpcyBIb3dsIGdyb3VwLlxyXG4gICAgICogICB2b2x1bWUodm9sLCBpZCkgLT4gU2V0cyB0aGUgdm9sdW1lIG9mIHBhc3NlZCBzb3VuZCBpZC5cclxuICAgICAqIEByZXR1cm4ge0hvd2wvTnVtYmVyfSBSZXR1cm5zIHNlbGYgb3IgY3VycmVudCB2b2x1bWUuXHJcbiAgICAgKi9cclxuICAgIHZvbHVtZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XHJcbiAgICAgIHZhciB2b2wsIGlkO1xyXG5cclxuICAgICAgLy8gRGV0ZXJtaW5lIHRoZSB2YWx1ZXMgYmFzZWQgb24gYXJndW1lbnRzLlxyXG4gICAgICBpZiAoYXJncy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAvLyBSZXR1cm4gdGhlIHZhbHVlIG9mIHRoZSBncm91cHMnIHZvbHVtZS5cclxuICAgICAgICByZXR1cm4gc2VsZi5fdm9sdW1lO1xyXG4gICAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAxIHx8IGFyZ3MubGVuZ3RoID09PSAyICYmIHR5cGVvZiBhcmdzWzFdID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIC8vIEZpcnN0IGNoZWNrIGlmIHRoaXMgaXMgYW4gSUQsIGFuZCBpZiBub3QsIGFzc3VtZSBpdCBpcyBhIG5ldyB2b2x1bWUuXHJcbiAgICAgICAgdmFyIGlkcyA9IHNlbGYuX2dldFNvdW5kSWRzKCk7XHJcbiAgICAgICAgdmFyIGluZGV4ID0gaWRzLmluZGV4T2YoYXJnc1swXSk7XHJcbiAgICAgICAgaWYgKGluZGV4ID49IDApIHtcclxuICAgICAgICAgIGlkID0gcGFyc2VJbnQoYXJnc1swXSwgMTApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB2b2wgPSBwYXJzZUZsb2F0KGFyZ3NbMF0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA+PSAyKSB7XHJcbiAgICAgICAgdm9sID0gcGFyc2VGbG9hdChhcmdzWzBdKTtcclxuICAgICAgICBpZCA9IHBhcnNlSW50KGFyZ3NbMV0sIDEwKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gVXBkYXRlIHRoZSB2b2x1bWUgb3IgcmV0dXJuIHRoZSBjdXJyZW50IHZvbHVtZS5cclxuICAgICAgdmFyIHNvdW5kO1xyXG4gICAgICBpZiAodHlwZW9mIHZvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgdm9sID49IDAgJiYgdm9sIDw9IDEpIHtcclxuICAgICAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCwgYWRkIGl0IHRvIHRoZSBsb2FkIHF1ZXVlIHRvIGNoYW5nZSB2b2x1bWUgd2hlbiBjYXBhYmxlLlxyXG4gICAgICAgIGlmIChzZWxmLl9zdGF0ZSAhPT0gJ2xvYWRlZCd8fCBzZWxmLl9wbGF5TG9jaykge1xyXG4gICAgICAgICAgc2VsZi5fcXVldWUucHVzaCh7XHJcbiAgICAgICAgICAgIGV2ZW50OiAndm9sdW1lJyxcclxuICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICBzZWxmLnZvbHVtZS5hcHBseShzZWxmLCBhcmdzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTZXQgdGhlIGdyb3VwIHZvbHVtZS5cclxuICAgICAgICBpZiAodHlwZW9mIGlkID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgc2VsZi5fdm9sdW1lID0gdm9sO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gVXBkYXRlIG9uZSBvciBhbGwgdm9sdW1lcy5cclxuICAgICAgICBpZCA9IHNlbGYuX2dldFNvdW5kSWRzKGlkKTtcclxuICAgICAgICBmb3IgKHZhciBpPTA7IGk8aWQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIC8vIEdldCB0aGUgc291bmQuXHJcbiAgICAgICAgICBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZFtpXSk7XHJcblxyXG4gICAgICAgICAgaWYgKHNvdW5kKSB7XHJcbiAgICAgICAgICAgIHNvdW5kLl92b2x1bWUgPSB2b2w7XHJcblxyXG4gICAgICAgICAgICAvLyBTdG9wIGN1cnJlbnRseSBydW5uaW5nIGZhZGVzLlxyXG4gICAgICAgICAgICBpZiAoIWFyZ3NbMl0pIHtcclxuICAgICAgICAgICAgICBzZWxmLl9zdG9wRmFkZShpZFtpXSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbyAmJiBzb3VuZC5fbm9kZSAmJiAhc291bmQuX211dGVkKSB7XHJcbiAgICAgICAgICAgICAgc291bmQuX25vZGUuZ2Fpbi5zZXRWYWx1ZUF0VGltZSh2b2wsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHNvdW5kLl9ub2RlICYmICFzb3VuZC5fbXV0ZWQpIHtcclxuICAgICAgICAgICAgICBzb3VuZC5fbm9kZS52b2x1bWUgPSB2b2wgKiBIb3dsZXIudm9sdW1lKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHNlbGYuX2VtaXQoJ3ZvbHVtZScsIHNvdW5kLl9pZCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNvdW5kID0gaWQgPyBzZWxmLl9zb3VuZEJ5SWQoaWQpIDogc2VsZi5fc291bmRzWzBdO1xyXG4gICAgICAgIHJldHVybiBzb3VuZCA/IHNvdW5kLl92b2x1bWUgOiAwO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gc2VsZjtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBGYWRlIGEgY3VycmVudGx5IHBsYXlpbmcgc291bmQgYmV0d2VlbiB0d28gdm9sdW1lcyAoaWYgbm8gaWQgaXMgcGFzc2VkLCBhbGwgc291bmRzIHdpbGwgZmFkZSkuXHJcbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGZyb20gVGhlIHZhbHVlIHRvIGZhZGUgZnJvbSAoMC4wIHRvIDEuMCkuXHJcbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHRvICAgVGhlIHZvbHVtZSB0byBmYWRlIHRvICgwLjAgdG8gMS4wKS5cclxuICAgICAqIEBwYXJhbSAge051bWJlcn0gbGVuICBUaW1lIGluIG1pbGxpc2Vjb25kcyB0byBmYWRlLlxyXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBpZCAgIFRoZSBzb3VuZCBpZCAob21pdCB0byBmYWRlIGFsbCBzb3VuZHMpLlxyXG4gICAgICogQHJldHVybiB7SG93bH1cclxuICAgICAqL1xyXG4gICAgZmFkZTogZnVuY3Rpb24oZnJvbSwgdG8sIGxlbiwgaWQpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgLy8gSWYgdGhlIHNvdW5kIGhhc24ndCBsb2FkZWQsIGFkZCBpdCB0byB0aGUgbG9hZCBxdWV1ZSB0byBmYWRlIHdoZW4gY2FwYWJsZS5cclxuICAgICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJyB8fCBzZWxmLl9wbGF5TG9jaykge1xyXG4gICAgICAgIHNlbGYuX3F1ZXVlLnB1c2goe1xyXG4gICAgICAgICAgZXZlbnQ6ICdmYWRlJyxcclxuICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHNlbGYuZmFkZShmcm9tLCB0bywgbGVuLCBpZCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBNYWtlIHN1cmUgdGhlIHRvL2Zyb20vbGVuIHZhbHVlcyBhcmUgbnVtYmVycy5cclxuICAgICAgZnJvbSA9IE1hdGgubWluKE1hdGgubWF4KDAsIHBhcnNlRmxvYXQoZnJvbSkpLCAxKTtcclxuICAgICAgdG8gPSBNYXRoLm1pbihNYXRoLm1heCgwLCBwYXJzZUZsb2F0KHRvKSksIDEpO1xyXG4gICAgICBsZW4gPSBwYXJzZUZsb2F0KGxlbik7XHJcblxyXG4gICAgICAvLyBTZXQgdGhlIHZvbHVtZSB0byB0aGUgc3RhcnQgcG9zaXRpb24uXHJcbiAgICAgIHNlbGYudm9sdW1lKGZyb20sIGlkKTtcclxuXHJcbiAgICAgIC8vIEZhZGUgdGhlIHZvbHVtZSBvZiBvbmUgb3IgYWxsIHNvdW5kcy5cclxuICAgICAgdmFyIGlkcyA9IHNlbGYuX2dldFNvdW5kSWRzKGlkKTtcclxuICAgICAgZm9yICh2YXIgaT0wOyBpPGlkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIC8vIEdldCB0aGUgc291bmQuXHJcbiAgICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkc1tpXSk7XHJcblxyXG4gICAgICAgIC8vIENyZWF0ZSBhIGxpbmVhciBmYWRlIG9yIGZhbGwgYmFjayB0byB0aW1lb3V0cyB3aXRoIEhUTUw1IEF1ZGlvLlxyXG4gICAgICAgIGlmIChzb3VuZCkge1xyXG4gICAgICAgICAgLy8gU3RvcCB0aGUgcHJldmlvdXMgZmFkZSBpZiBubyBzcHJpdGUgaXMgYmVpbmcgdXNlZCAob3RoZXJ3aXNlLCB2b2x1bWUgaGFuZGxlcyB0aGlzKS5cclxuICAgICAgICAgIGlmICghaWQpIHtcclxuICAgICAgICAgICAgc2VsZi5fc3RvcEZhZGUoaWRzW2ldKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBJZiB3ZSBhcmUgdXNpbmcgV2ViIEF1ZGlvLCBsZXQgdGhlIG5hdGl2ZSBtZXRob2RzIGRvIHRoZSBhY3R1YWwgZmFkZS5cclxuICAgICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbyAmJiAhc291bmQuX211dGVkKSB7XHJcbiAgICAgICAgICAgIHZhciBjdXJyZW50VGltZSA9IEhvd2xlci5jdHguY3VycmVudFRpbWU7XHJcbiAgICAgICAgICAgIHZhciBlbmQgPSBjdXJyZW50VGltZSArIChsZW4gLyAxMDAwKTtcclxuICAgICAgICAgICAgc291bmQuX3ZvbHVtZSA9IGZyb207XHJcbiAgICAgICAgICAgIHNvdW5kLl9ub2RlLmdhaW4uc2V0VmFsdWVBdFRpbWUoZnJvbSwgY3VycmVudFRpbWUpO1xyXG4gICAgICAgICAgICBzb3VuZC5fbm9kZS5nYWluLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKHRvLCBlbmQpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHNlbGYuX3N0YXJ0RmFkZUludGVydmFsKHNvdW5kLCBmcm9tLCB0bywgbGVuLCBpZHNbaV0sIHR5cGVvZiBpZCA9PT0gJ3VuZGVmaW5lZCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU3RhcnRzIHRoZSBpbnRlcm5hbCBpbnRlcnZhbCB0byBmYWRlIGEgc291bmQuXHJcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IHNvdW5kIFJlZmVyZW5jZSB0byBzb3VuZCB0byBmYWRlLlxyXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBmcm9tIFRoZSB2YWx1ZSB0byBmYWRlIGZyb20gKDAuMCB0byAxLjApLlxyXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSB0byAgIFRoZSB2b2x1bWUgdG8gZmFkZSB0byAoMC4wIHRvIDEuMCkuXHJcbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGxlbiAgVGltZSBpbiBtaWxsaXNlY29uZHMgdG8gZmFkZS5cclxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgICBUaGUgc291bmQgaWQgdG8gZmFkZS5cclxuICAgICAqIEBwYXJhbSAge0Jvb2xlYW59IGlzR3JvdXAgICBJZiB0cnVlLCBzZXQgdGhlIHZvbHVtZSBvbiB0aGUgZ3JvdXAuXHJcbiAgICAgKi9cclxuICAgIF9zdGFydEZhZGVJbnRlcnZhbDogZnVuY3Rpb24oc291bmQsIGZyb20sIHRvLCBsZW4sIGlkLCBpc0dyb3VwKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgdmFyIHZvbCA9IGZyb207XHJcbiAgICAgIHZhciBkaWZmID0gdG8gLSBmcm9tO1xyXG4gICAgICB2YXIgc3RlcHMgPSBNYXRoLmFicyhkaWZmIC8gMC4wMSk7XHJcbiAgICAgIHZhciBzdGVwTGVuID0gTWF0aC5tYXgoNCwgKHN0ZXBzID4gMCkgPyBsZW4gLyBzdGVwcyA6IGxlbik7XHJcbiAgICAgIHZhciBsYXN0VGljayA9IERhdGUubm93KCk7XHJcblxyXG4gICAgICAvLyBTdG9yZSB0aGUgdmFsdWUgYmVpbmcgZmFkZWQgdG8uXHJcbiAgICAgIHNvdW5kLl9mYWRlVG8gPSB0bztcclxuXHJcbiAgICAgIC8vIFVwZGF0ZSB0aGUgdm9sdW1lIHZhbHVlIG9uIGVhY2ggaW50ZXJ2YWwgdGljay5cclxuICAgICAgc291bmQuX2ludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy8gVXBkYXRlIHRoZSB2b2x1bWUgYmFzZWQgb24gdGhlIHRpbWUgc2luY2UgdGhlIGxhc3QgdGljay5cclxuICAgICAgICB2YXIgdGljayA9IChEYXRlLm5vdygpIC0gbGFzdFRpY2spIC8gbGVuO1xyXG4gICAgICAgIGxhc3RUaWNrID0gRGF0ZS5ub3coKTtcclxuICAgICAgICB2b2wgKz0gZGlmZiAqIHRpY2s7XHJcblxyXG4gICAgICAgIC8vIFJvdW5kIHRvIHdpdGhpbiAyIGRlY2ltYWwgcG9pbnRzLlxyXG4gICAgICAgIHZvbCA9IE1hdGgucm91bmQodm9sICogMTAwKSAvIDEwMDtcclxuXHJcbiAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSB2b2x1bWUgaXMgaW4gdGhlIHJpZ2h0IGJvdW5kcy5cclxuICAgICAgICBpZiAoZGlmZiA8IDApIHtcclxuICAgICAgICAgIHZvbCA9IE1hdGgubWF4KHRvLCB2b2wpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB2b2wgPSBNYXRoLm1pbih0bywgdm9sKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENoYW5nZSB0aGUgdm9sdW1lLlxyXG4gICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbykge1xyXG4gICAgICAgICAgc291bmQuX3ZvbHVtZSA9IHZvbDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgc2VsZi52b2x1bWUodm9sLCBzb3VuZC5faWQsIHRydWUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU2V0IHRoZSBncm91cCdzIHZvbHVtZS5cclxuICAgICAgICBpZiAoaXNHcm91cCkge1xyXG4gICAgICAgICAgc2VsZi5fdm9sdW1lID0gdm9sO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gV2hlbiB0aGUgZmFkZSBpcyBjb21wbGV0ZSwgc3RvcCBpdCBhbmQgZmlyZSBldmVudC5cclxuICAgICAgICBpZiAoKHRvIDwgZnJvbSAmJiB2b2wgPD0gdG8pIHx8ICh0byA+IGZyb20gJiYgdm9sID49IHRvKSkge1xyXG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChzb3VuZC5faW50ZXJ2YWwpO1xyXG4gICAgICAgICAgc291bmQuX2ludGVydmFsID0gbnVsbDtcclxuICAgICAgICAgIHNvdW5kLl9mYWRlVG8gPSBudWxsO1xyXG4gICAgICAgICAgc2VsZi52b2x1bWUodG8sIHNvdW5kLl9pZCk7XHJcbiAgICAgICAgICBzZWxmLl9lbWl0KCdmYWRlJywgc291bmQuX2lkKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sIHN0ZXBMZW4pO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEludGVybmFsIG1ldGhvZCB0aGF0IHN0b3BzIHRoZSBjdXJyZW50bHkgcGxheWluZyBmYWRlIHdoZW5cclxuICAgICAqIGEgbmV3IGZhZGUgc3RhcnRzLCB2b2x1bWUgaXMgY2hhbmdlZCBvciB0aGUgc291bmQgaXMgc3RvcHBlZC5cclxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgVGhlIHNvdW5kIGlkLlxyXG4gICAgICogQHJldHVybiB7SG93bH1cclxuICAgICAqL1xyXG4gICAgX3N0b3BGYWRlOiBmdW5jdGlvbihpZCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgIHZhciBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZCk7XHJcblxyXG4gICAgICBpZiAoc291bmQgJiYgc291bmQuX2ludGVydmFsKSB7XHJcbiAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvKSB7XHJcbiAgICAgICAgICBzb3VuZC5fbm9kZS5nYWluLmNhbmNlbFNjaGVkdWxlZFZhbHVlcyhIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNsZWFySW50ZXJ2YWwoc291bmQuX2ludGVydmFsKTtcclxuICAgICAgICBzb3VuZC5faW50ZXJ2YWwgPSBudWxsO1xyXG4gICAgICAgIHNlbGYudm9sdW1lKHNvdW5kLl9mYWRlVG8sIGlkKTtcclxuICAgICAgICBzb3VuZC5fZmFkZVRvID0gbnVsbDtcclxuICAgICAgICBzZWxmLl9lbWl0KCdmYWRlJywgaWQpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gc2VsZjtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQvc2V0IHRoZSBsb29wIHBhcmFtZXRlciBvbiBhIHNvdW5kLiBUaGlzIG1ldGhvZCBjYW4gb3B0aW9uYWxseSB0YWtlIDAsIDEgb3IgMiBhcmd1bWVudHMuXHJcbiAgICAgKiAgIGxvb3AoKSAtPiBSZXR1cm5zIHRoZSBncm91cCdzIGxvb3AgdmFsdWUuXHJcbiAgICAgKiAgIGxvb3AoaWQpIC0+IFJldHVybnMgdGhlIHNvdW5kIGlkJ3MgbG9vcCB2YWx1ZS5cclxuICAgICAqICAgbG9vcChsb29wKSAtPiBTZXRzIHRoZSBsb29wIHZhbHVlIGZvciBhbGwgc291bmRzIGluIHRoaXMgSG93bCBncm91cC5cclxuICAgICAqICAgbG9vcChsb29wLCBpZCkgLT4gU2V0cyB0aGUgbG9vcCB2YWx1ZSBvZiBwYXNzZWQgc291bmQgaWQuXHJcbiAgICAgKiBAcmV0dXJuIHtIb3dsL0Jvb2xlYW59IFJldHVybnMgc2VsZiBvciBjdXJyZW50IGxvb3AgdmFsdWUuXHJcbiAgICAgKi9cclxuICAgIGxvb3A6IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xyXG4gICAgICB2YXIgbG9vcCwgaWQsIHNvdW5kO1xyXG5cclxuICAgICAgLy8gRGV0ZXJtaW5lIHRoZSB2YWx1ZXMgZm9yIGxvb3AgYW5kIGlkLlxyXG4gICAgICBpZiAoYXJncy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAvLyBSZXR1cm4gdGhlIGdyb3UncyBsb29wIHZhbHVlLlxyXG4gICAgICAgIHJldHVybiBzZWxmLl9sb29wO1xyXG4gICAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBhcmdzWzBdID09PSAnYm9vbGVhbicpIHtcclxuICAgICAgICAgIGxvb3AgPSBhcmdzWzBdO1xyXG4gICAgICAgICAgc2VsZi5fbG9vcCA9IGxvb3A7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vIFJldHVybiB0aGlzIHNvdW5kJ3MgbG9vcCB2YWx1ZS5cclxuICAgICAgICAgIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKHBhcnNlSW50KGFyZ3NbMF0sIDEwKSk7XHJcbiAgICAgICAgICByZXR1cm4gc291bmQgPyBzb3VuZC5fbG9vcCA6IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMikge1xyXG4gICAgICAgIGxvb3AgPSBhcmdzWzBdO1xyXG4gICAgICAgIGlkID0gcGFyc2VJbnQoYXJnc1sxXSwgMTApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBJZiBubyBpZCBpcyBwYXNzZWQsIGdldCBhbGwgSUQncyB0byBiZSBsb29wZWQuXHJcbiAgICAgIHZhciBpZHMgPSBzZWxmLl9nZXRTb3VuZElkcyhpZCk7XHJcbiAgICAgIGZvciAodmFyIGk9MDsgaTxpZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZHNbaV0pO1xyXG5cclxuICAgICAgICBpZiAoc291bmQpIHtcclxuICAgICAgICAgIHNvdW5kLl9sb29wID0gbG9vcDtcclxuICAgICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbyAmJiBzb3VuZC5fbm9kZSAmJiBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UpIHtcclxuICAgICAgICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLmxvb3AgPSBsb29wO1xyXG4gICAgICAgICAgICBpZiAobG9vcCkge1xyXG4gICAgICAgICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5sb29wU3RhcnQgPSBzb3VuZC5fc3RhcnQgfHwgMDtcclxuICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UubG9vcEVuZCA9IHNvdW5kLl9zdG9wO1xyXG5cclxuICAgICAgICAgICAgICAvLyBJZiBwbGF5aW5nLCByZXN0YXJ0IHBsYXliYWNrIHRvIGVuc3VyZSBsb29waW5nIHVwZGF0ZXMuXHJcbiAgICAgICAgICAgICAgaWYgKHNlbGYucGxheWluZyhpZHNbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnBhdXNlKGlkc1tpXSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnBsYXkoaWRzW2ldLCB0cnVlKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldC9zZXQgdGhlIHBsYXliYWNrIHJhdGUgb2YgYSBzb3VuZC4gVGhpcyBtZXRob2QgY2FuIG9wdGlvbmFsbHkgdGFrZSAwLCAxIG9yIDIgYXJndW1lbnRzLlxyXG4gICAgICogICByYXRlKCkgLT4gUmV0dXJucyB0aGUgZmlyc3Qgc291bmQgbm9kZSdzIGN1cnJlbnQgcGxheWJhY2sgcmF0ZS5cclxuICAgICAqICAgcmF0ZShpZCkgLT4gUmV0dXJucyB0aGUgc291bmQgaWQncyBjdXJyZW50IHBsYXliYWNrIHJhdGUuXHJcbiAgICAgKiAgIHJhdGUocmF0ZSkgLT4gU2V0cyB0aGUgcGxheWJhY2sgcmF0ZSBvZiBhbGwgc291bmRzIGluIHRoaXMgSG93bCBncm91cC5cclxuICAgICAqICAgcmF0ZShyYXRlLCBpZCkgLT4gU2V0cyB0aGUgcGxheWJhY2sgcmF0ZSBvZiBwYXNzZWQgc291bmQgaWQuXHJcbiAgICAgKiBAcmV0dXJuIHtIb3dsL051bWJlcn0gUmV0dXJucyBzZWxmIG9yIHRoZSBjdXJyZW50IHBsYXliYWNrIHJhdGUuXHJcbiAgICAgKi9cclxuICAgIHJhdGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xyXG4gICAgICB2YXIgcmF0ZSwgaWQ7XHJcblxyXG4gICAgICAvLyBEZXRlcm1pbmUgdGhlIHZhbHVlcyBiYXNlZCBvbiBhcmd1bWVudHMuXHJcbiAgICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIC8vIFdlIHdpbGwgc2ltcGx5IHJldHVybiB0aGUgY3VycmVudCByYXRlIG9mIHRoZSBmaXJzdCBub2RlLlxyXG4gICAgICAgIGlkID0gc2VsZi5fc291bmRzWzBdLl9pZDtcclxuICAgICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgIC8vIEZpcnN0IGNoZWNrIGlmIHRoaXMgaXMgYW4gSUQsIGFuZCBpZiBub3QsIGFzc3VtZSBpdCBpcyBhIG5ldyByYXRlIHZhbHVlLlxyXG4gICAgICAgIHZhciBpZHMgPSBzZWxmLl9nZXRTb3VuZElkcygpO1xyXG4gICAgICAgIHZhciBpbmRleCA9IGlkcy5pbmRleE9mKGFyZ3NbMF0pO1xyXG4gICAgICAgIGlmIChpbmRleCA+PSAwKSB7XHJcbiAgICAgICAgICBpZCA9IHBhcnNlSW50KGFyZ3NbMF0sIDEwKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmF0ZSA9IHBhcnNlRmxvYXQoYXJnc1swXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAyKSB7XHJcbiAgICAgICAgcmF0ZSA9IHBhcnNlRmxvYXQoYXJnc1swXSk7XHJcbiAgICAgICAgaWQgPSBwYXJzZUludChhcmdzWzFdLCAxMCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFVwZGF0ZSB0aGUgcGxheWJhY2sgcmF0ZSBvciByZXR1cm4gdGhlIGN1cnJlbnQgdmFsdWUuXHJcbiAgICAgIHZhciBzb3VuZDtcclxuICAgICAgaWYgKHR5cGVvZiByYXRlID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgIC8vIElmIHRoZSBzb3VuZCBoYXNuJ3QgbG9hZGVkLCBhZGQgaXQgdG8gdGhlIGxvYWQgcXVldWUgdG8gY2hhbmdlIHBsYXliYWNrIHJhdGUgd2hlbiBjYXBhYmxlLlxyXG4gICAgICAgIGlmIChzZWxmLl9zdGF0ZSAhPT0gJ2xvYWRlZCcgfHwgc2VsZi5fcGxheUxvY2spIHtcclxuICAgICAgICAgIHNlbGYuX3F1ZXVlLnB1c2goe1xyXG4gICAgICAgICAgICBldmVudDogJ3JhdGUnLFxyXG4gICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgIHNlbGYucmF0ZS5hcHBseShzZWxmLCBhcmdzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTZXQgdGhlIGdyb3VwIHJhdGUuXHJcbiAgICAgICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgIHNlbGYuX3JhdGUgPSByYXRlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gVXBkYXRlIG9uZSBvciBhbGwgdm9sdW1lcy5cclxuICAgICAgICBpZCA9IHNlbGYuX2dldFNvdW5kSWRzKGlkKTtcclxuICAgICAgICBmb3IgKHZhciBpPTA7IGk8aWQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIC8vIEdldCB0aGUgc291bmQuXHJcbiAgICAgICAgICBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZFtpXSk7XHJcblxyXG4gICAgICAgICAgaWYgKHNvdW5kKSB7XHJcbiAgICAgICAgICAgIC8vIEtlZXAgdHJhY2sgb2Ygb3VyIHBvc2l0aW9uIHdoZW4gdGhlIHJhdGUgY2hhbmdlZCBhbmQgdXBkYXRlIHRoZSBwbGF5YmFja1xyXG4gICAgICAgICAgICAvLyBzdGFydCBwb3NpdGlvbiBzbyB3ZSBjYW4gcHJvcGVybHkgYWRqdXN0IHRoZSBzZWVrIHBvc2l0aW9uIGZvciB0aW1lIGVsYXBzZWQuXHJcbiAgICAgICAgICAgIGlmIChzZWxmLnBsYXlpbmcoaWRbaV0pKSB7XHJcbiAgICAgICAgICAgICAgc291bmQuX3JhdGVTZWVrID0gc2VsZi5zZWVrKGlkW2ldKTtcclxuICAgICAgICAgICAgICBzb3VuZC5fcGxheVN0YXJ0ID0gc2VsZi5fd2ViQXVkaW8gPyBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lIDogc291bmQuX3BsYXlTdGFydDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzb3VuZC5fcmF0ZSA9IHJhdGU7XHJcblxyXG4gICAgICAgICAgICAvLyBDaGFuZ2UgdGhlIHBsYXliYWNrIHJhdGUuXHJcbiAgICAgICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbyAmJiBzb3VuZC5fbm9kZSAmJiBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UpIHtcclxuICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UucGxheWJhY2tSYXRlLnNldFZhbHVlQXRUaW1lKHJhdGUsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHNvdW5kLl9ub2RlKSB7XHJcbiAgICAgICAgICAgICAgc291bmQuX25vZGUucGxheWJhY2tSYXRlID0gcmF0ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gUmVzZXQgdGhlIHRpbWVycy5cclxuICAgICAgICAgICAgdmFyIHNlZWsgPSBzZWxmLnNlZWsoaWRbaV0pO1xyXG4gICAgICAgICAgICB2YXIgZHVyYXRpb24gPSAoKHNlbGYuX3Nwcml0ZVtzb3VuZC5fc3ByaXRlXVswXSArIHNlbGYuX3Nwcml0ZVtzb3VuZC5fc3ByaXRlXVsxXSkgLyAxMDAwKSAtIHNlZWs7XHJcbiAgICAgICAgICAgIHZhciB0aW1lb3V0ID0gKGR1cmF0aW9uICogMTAwMCkgLyBNYXRoLmFicyhzb3VuZC5fcmF0ZSk7XHJcblxyXG4gICAgICAgICAgICAvLyBTdGFydCBhIG5ldyBlbmQgdGltZXIgaWYgc291bmQgaXMgYWxyZWFkeSBwbGF5aW5nLlxyXG4gICAgICAgICAgICBpZiAoc2VsZi5fZW5kVGltZXJzW2lkW2ldXSB8fCAhc291bmQuX3BhdXNlZCkge1xyXG4gICAgICAgICAgICAgIHNlbGYuX2NsZWFyVGltZXIoaWRbaV0pO1xyXG4gICAgICAgICAgICAgIHNlbGYuX2VuZFRpbWVyc1tpZFtpXV0gPSBzZXRUaW1lb3V0KHNlbGYuX2VuZGVkLmJpbmQoc2VsZiwgc291bmQpLCB0aW1lb3V0KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgc2VsZi5fZW1pdCgncmF0ZScsIHNvdW5kLl9pZCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkKTtcclxuICAgICAgICByZXR1cm4gc291bmQgPyBzb3VuZC5fcmF0ZSA6IHNlbGYuX3JhdGU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldC9zZXQgdGhlIHNlZWsgcG9zaXRpb24gb2YgYSBzb3VuZC4gVGhpcyBtZXRob2QgY2FuIG9wdGlvbmFsbHkgdGFrZSAwLCAxIG9yIDIgYXJndW1lbnRzLlxyXG4gICAgICogICBzZWVrKCkgLT4gUmV0dXJucyB0aGUgZmlyc3Qgc291bmQgbm9kZSdzIGN1cnJlbnQgc2VlayBwb3NpdGlvbi5cclxuICAgICAqICAgc2VlayhpZCkgLT4gUmV0dXJucyB0aGUgc291bmQgaWQncyBjdXJyZW50IHNlZWsgcG9zaXRpb24uXHJcbiAgICAgKiAgIHNlZWsoc2VlaykgLT4gU2V0cyB0aGUgc2VlayBwb3NpdGlvbiBvZiB0aGUgZmlyc3Qgc291bmQgbm9kZS5cclxuICAgICAqICAgc2VlayhzZWVrLCBpZCkgLT4gU2V0cyB0aGUgc2VlayBwb3NpdGlvbiBvZiBwYXNzZWQgc291bmQgaWQuXHJcbiAgICAgKiBAcmV0dXJuIHtIb3dsL051bWJlcn0gUmV0dXJucyBzZWxmIG9yIHRoZSBjdXJyZW50IHNlZWsgcG9zaXRpb24uXHJcbiAgICAgKi9cclxuICAgIHNlZWs6IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xyXG4gICAgICB2YXIgc2VlaywgaWQ7XHJcblxyXG4gICAgICAvLyBEZXRlcm1pbmUgdGhlIHZhbHVlcyBiYXNlZCBvbiBhcmd1bWVudHMuXHJcbiAgICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIC8vIFdlIHdpbGwgc2ltcGx5IHJldHVybiB0aGUgY3VycmVudCBwb3NpdGlvbiBvZiB0aGUgZmlyc3Qgbm9kZS5cclxuICAgICAgICBpZiAoc2VsZi5fc291bmRzLmxlbmd0aCkge1xyXG4gICAgICAgICAgaWQgPSBzZWxmLl9zb3VuZHNbMF0uX2lkO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgIC8vIEZpcnN0IGNoZWNrIGlmIHRoaXMgaXMgYW4gSUQsIGFuZCBpZiBub3QsIGFzc3VtZSBpdCBpcyBhIG5ldyBzZWVrIHBvc2l0aW9uLlxyXG4gICAgICAgIHZhciBpZHMgPSBzZWxmLl9nZXRTb3VuZElkcygpO1xyXG4gICAgICAgIHZhciBpbmRleCA9IGlkcy5pbmRleE9mKGFyZ3NbMF0pO1xyXG4gICAgICAgIGlmIChpbmRleCA+PSAwKSB7XHJcbiAgICAgICAgICBpZCA9IHBhcnNlSW50KGFyZ3NbMF0sIDEwKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHNlbGYuX3NvdW5kcy5sZW5ndGgpIHtcclxuICAgICAgICAgIGlkID0gc2VsZi5fc291bmRzWzBdLl9pZDtcclxuICAgICAgICAgIHNlZWsgPSBwYXJzZUZsb2F0KGFyZ3NbMF0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMikge1xyXG4gICAgICAgIHNlZWsgPSBwYXJzZUZsb2F0KGFyZ3NbMF0pO1xyXG4gICAgICAgIGlkID0gcGFyc2VJbnQoYXJnc1sxXSwgMTApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBJZiB0aGVyZSBpcyBubyBJRCwgYmFpbCBvdXQuXHJcbiAgICAgIGlmICh0eXBlb2YgaWQgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIElmIHRoZSBzb3VuZCBoYXNuJ3QgbG9hZGVkLCBhZGQgaXQgdG8gdGhlIGxvYWQgcXVldWUgdG8gc2VlayB3aGVuIGNhcGFibGUuXHJcbiAgICAgIGlmICh0eXBlb2Ygc2VlayA9PT0gJ251bWJlcicgJiYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJyB8fCBzZWxmLl9wbGF5TG9jaykpIHtcclxuICAgICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcclxuICAgICAgICAgIGV2ZW50OiAnc2VlaycsXHJcbiAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBzZWxmLnNlZWsuYXBwbHkoc2VsZiwgYXJncyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBHZXQgdGhlIHNvdW5kLlxyXG4gICAgICB2YXIgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWQpO1xyXG5cclxuICAgICAgaWYgKHNvdW5kKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBzZWVrID09PSAnbnVtYmVyJyAmJiBzZWVrID49IDApIHtcclxuICAgICAgICAgIC8vIFBhdXNlIHRoZSBzb3VuZCBhbmQgdXBkYXRlIHBvc2l0aW9uIGZvciByZXN0YXJ0aW5nIHBsYXliYWNrLlxyXG4gICAgICAgICAgdmFyIHBsYXlpbmcgPSBzZWxmLnBsYXlpbmcoaWQpO1xyXG4gICAgICAgICAgaWYgKHBsYXlpbmcpIHtcclxuICAgICAgICAgICAgc2VsZi5wYXVzZShpZCwgdHJ1ZSk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gTW92ZSB0aGUgcG9zaXRpb24gb2YgdGhlIHRyYWNrIGFuZCBjYW5jZWwgdGltZXIuXHJcbiAgICAgICAgICBzb3VuZC5fc2VlayA9IHNlZWs7XHJcbiAgICAgICAgICBzb3VuZC5fZW5kZWQgPSBmYWxzZTtcclxuICAgICAgICAgIHNlbGYuX2NsZWFyVGltZXIoaWQpO1xyXG5cclxuICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgc2VlayBwb3NpdGlvbiBmb3IgSFRNTDUgQXVkaW8uXHJcbiAgICAgICAgICBpZiAoIXNlbGYuX3dlYkF1ZGlvICYmIHNvdW5kLl9ub2RlICYmICFpc05hTihzb3VuZC5fbm9kZS5kdXJhdGlvbikpIHtcclxuICAgICAgICAgICAgc291bmQuX25vZGUuY3VycmVudFRpbWUgPSBzZWVrO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIFNlZWsgYW5kIGVtaXQgd2hlbiByZWFkeS5cclxuICAgICAgICAgIHZhciBzZWVrQW5kRW1pdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAvLyBSZXN0YXJ0IHRoZSBwbGF5YmFjayBpZiB0aGUgc291bmQgd2FzIHBsYXlpbmcuXHJcbiAgICAgICAgICAgIGlmIChwbGF5aW5nKSB7XHJcbiAgICAgICAgICAgICAgc2VsZi5wbGF5KGlkLCB0cnVlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgc2VsZi5fZW1pdCgnc2VlaycsIGlkKTtcclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgLy8gV2FpdCBmb3IgdGhlIHBsYXkgbG9jayB0byBiZSB1bnNldCBiZWZvcmUgZW1pdHRpbmcgKEhUTUw1IEF1ZGlvKS5cclxuICAgICAgICAgIGlmIChwbGF5aW5nICYmICFzZWxmLl93ZWJBdWRpbykge1xyXG4gICAgICAgICAgICB2YXIgZW1pdFNlZWsgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICBpZiAoIXNlbGYuX3BsYXlMb2NrKSB7XHJcbiAgICAgICAgICAgICAgICBzZWVrQW5kRW1pdCgpO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGVtaXRTZWVrLCAwKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZW1pdFNlZWssIDApO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc2Vla0FuZEVtaXQoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvKSB7XHJcbiAgICAgICAgICAgIHZhciByZWFsVGltZSA9IHNlbGYucGxheWluZyhpZCkgPyBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lIC0gc291bmQuX3BsYXlTdGFydCA6IDA7XHJcbiAgICAgICAgICAgIHZhciByYXRlU2VlayA9IHNvdW5kLl9yYXRlU2VlayA/IHNvdW5kLl9yYXRlU2VlayAtIHNvdW5kLl9zZWVrIDogMDtcclxuICAgICAgICAgICAgcmV0dXJuIHNvdW5kLl9zZWVrICsgKHJhdGVTZWVrICsgcmVhbFRpbWUgKiBNYXRoLmFicyhzb3VuZC5fcmF0ZSkpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHNvdW5kLl9ub2RlLmN1cnJlbnRUaW1lO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgaWYgYSBzcGVjaWZpYyBzb3VuZCBpcyBjdXJyZW50bHkgcGxheWluZyBvciBub3QgKGlmIGlkIGlzIHByb3ZpZGVkKSwgb3IgY2hlY2sgaWYgYXQgbGVhc3Qgb25lIG9mIHRoZSBzb3VuZHMgaW4gdGhlIGdyb3VwIGlzIHBsYXlpbmcgb3Igbm90LlxyXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgaWQgVGhlIHNvdW5kIGlkIHRvIGNoZWNrLiBJZiBub25lIGlzIHBhc3NlZCwgdGhlIHdob2xlIHNvdW5kIGdyb3VwIGlzIGNoZWNrZWQuXHJcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIHBsYXlpbmcgYW5kIGZhbHNlIGlmIG5vdC5cclxuICAgICAqL1xyXG4gICAgcGxheWluZzogZnVuY3Rpb24oaWQpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgLy8gQ2hlY2sgdGhlIHBhc3NlZCBzb3VuZCBJRCAoaWYgYW55KS5cclxuICAgICAgaWYgKHR5cGVvZiBpZCA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICB2YXIgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWQpO1xyXG4gICAgICAgIHJldHVybiBzb3VuZCA/ICFzb3VuZC5fcGF1c2VkIDogZmFsc2U7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIE90aGVyd2lzZSwgbG9vcCB0aHJvdWdoIGFsbCBzb3VuZHMgYW5kIGNoZWNrIGlmIGFueSBhcmUgcGxheWluZy5cclxuICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX3NvdW5kcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmICghc2VsZi5fc291bmRzW2ldLl9wYXVzZWQpIHtcclxuICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgZHVyYXRpb24gb2YgdGhpcyBzb3VuZC4gUGFzc2luZyBhIHNvdW5kIGlkIHdpbGwgcmV0dXJuIHRoZSBzcHJpdGUgZHVyYXRpb24uXHJcbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkIFRoZSBzb3VuZCBpZCB0byBjaGVjay4gSWYgbm9uZSBpcyBwYXNzZWQsIHJldHVybiBmdWxsIHNvdXJjZSBkdXJhdGlvbi5cclxuICAgICAqIEByZXR1cm4ge051bWJlcn0gQXVkaW8gZHVyYXRpb24gaW4gc2Vjb25kcy5cclxuICAgICAqL1xyXG4gICAgZHVyYXRpb246IGZ1bmN0aW9uKGlkKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgdmFyIGR1cmF0aW9uID0gc2VsZi5fZHVyYXRpb247XHJcblxyXG4gICAgICAvLyBJZiB3ZSBwYXNzIGFuIElELCBnZXQgdGhlIHNvdW5kIGFuZCByZXR1cm4gdGhlIHNwcml0ZSBsZW5ndGguXHJcbiAgICAgIHZhciBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZCk7XHJcbiAgICAgIGlmIChzb3VuZCkge1xyXG4gICAgICAgIGR1cmF0aW9uID0gc2VsZi5fc3ByaXRlW3NvdW5kLl9zcHJpdGVdWzFdIC8gMTAwMDtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIGR1cmF0aW9uO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIGN1cnJlbnQgbG9hZGVkIHN0YXRlIG9mIHRoaXMgSG93bC5cclxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gJ3VubG9hZGVkJywgJ2xvYWRpbmcnLCAnbG9hZGVkJ1xyXG4gICAgICovXHJcbiAgICBzdGF0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9zdGF0ZTtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBVbmxvYWQgYW5kIGRlc3Ryb3kgdGhlIGN1cnJlbnQgSG93bCBvYmplY3QuXHJcbiAgICAgKiBUaGlzIHdpbGwgaW1tZWRpYXRlbHkgc3RvcCBhbGwgc291bmQgaW5zdGFuY2VzIGF0dGFjaGVkIHRvIHRoaXMgZ3JvdXAuXHJcbiAgICAgKi9cclxuICAgIHVubG9hZDogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgIC8vIFN0b3AgcGxheWluZyBhbnkgYWN0aXZlIHNvdW5kcy5cclxuICAgICAgdmFyIHNvdW5kcyA9IHNlbGYuX3NvdW5kcztcclxuICAgICAgZm9yICh2YXIgaT0wOyBpPHNvdW5kcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIC8vIFN0b3AgdGhlIHNvdW5kIGlmIGl0IGlzIGN1cnJlbnRseSBwbGF5aW5nLlxyXG4gICAgICAgIGlmICghc291bmRzW2ldLl9wYXVzZWQpIHtcclxuICAgICAgICAgIHNlbGYuc3RvcChzb3VuZHNbaV0uX2lkKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFJlbW92ZSB0aGUgc291cmNlIG9yIGRpc2Nvbm5lY3QuXHJcbiAgICAgICAgaWYgKCFzZWxmLl93ZWJBdWRpbykge1xyXG4gICAgICAgICAgLy8gU2V0IHRoZSBzb3VyY2UgdG8gMC1zZWNvbmQgc2lsZW5jZSB0byBzdG9wIGFueSBkb3dubG9hZGluZyAoZXhjZXB0IGluIElFKS5cclxuICAgICAgICAgIHNlbGYuX2NsZWFyU291bmQoc291bmRzW2ldLl9ub2RlKTtcclxuXHJcbiAgICAgICAgICAvLyBSZW1vdmUgYW55IGV2ZW50IGxpc3RlbmVycy5cclxuICAgICAgICAgIHNvdW5kc1tpXS5fbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIHNvdW5kc1tpXS5fZXJyb3JGbiwgZmFsc2UpO1xyXG4gICAgICAgICAgc291bmRzW2ldLl9ub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoSG93bGVyLl9jYW5QbGF5RXZlbnQsIHNvdW5kc1tpXS5fbG9hZEZuLCBmYWxzZSk7XHJcbiAgICAgICAgICBzb3VuZHNbaV0uX25vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBzb3VuZHNbaV0uX2VuZEZuLCBmYWxzZSk7XHJcblxyXG4gICAgICAgICAgLy8gUmVsZWFzZSB0aGUgQXVkaW8gb2JqZWN0IGJhY2sgdG8gdGhlIHBvb2wuXHJcbiAgICAgICAgICBIb3dsZXIuX3JlbGVhc2VIdG1sNUF1ZGlvKHNvdW5kc1tpXS5fbm9kZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBFbXB0eSBvdXQgYWxsIG9mIHRoZSBub2Rlcy5cclxuICAgICAgICBkZWxldGUgc291bmRzW2ldLl9ub2RlO1xyXG5cclxuICAgICAgICAvLyBNYWtlIHN1cmUgYWxsIHRpbWVycyBhcmUgY2xlYXJlZCBvdXQuXHJcbiAgICAgICAgc2VsZi5fY2xlYXJUaW1lcihzb3VuZHNbaV0uX2lkKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gUmVtb3ZlIHRoZSByZWZlcmVuY2VzIGluIHRoZSBnbG9iYWwgSG93bGVyIG9iamVjdC5cclxuICAgICAgdmFyIGluZGV4ID0gSG93bGVyLl9ob3dscy5pbmRleE9mKHNlbGYpO1xyXG4gICAgICBpZiAoaW5kZXggPj0gMCkge1xyXG4gICAgICAgIEhvd2xlci5faG93bHMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gRGVsZXRlIHRoaXMgc291bmQgZnJvbSB0aGUgY2FjaGUgKGlmIG5vIG90aGVyIEhvd2wgaXMgdXNpbmcgaXQpLlxyXG4gICAgICB2YXIgcmVtQ2FjaGUgPSB0cnVlO1xyXG4gICAgICBmb3IgKGk9MDsgaTxIb3dsZXIuX2hvd2xzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKEhvd2xlci5faG93bHNbaV0uX3NyYyA9PT0gc2VsZi5fc3JjIHx8IHNlbGYuX3NyYy5pbmRleE9mKEhvd2xlci5faG93bHNbaV0uX3NyYykgPj0gMCkge1xyXG4gICAgICAgICAgcmVtQ2FjaGUgPSBmYWxzZTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGNhY2hlICYmIHJlbUNhY2hlKSB7XHJcbiAgICAgICAgZGVsZXRlIGNhY2hlW3NlbGYuX3NyY107XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIENsZWFyIGdsb2JhbCBlcnJvcnMuXHJcbiAgICAgIEhvd2xlci5ub0F1ZGlvID0gZmFsc2U7XHJcblxyXG4gICAgICAvLyBDbGVhciBvdXQgYHNlbGZgLlxyXG4gICAgICBzZWxmLl9zdGF0ZSA9ICd1bmxvYWRlZCc7XHJcbiAgICAgIHNlbGYuX3NvdW5kcyA9IFtdO1xyXG4gICAgICBzZWxmID0gbnVsbDtcclxuXHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIExpc3RlbiB0byBhIGN1c3RvbSBldmVudC5cclxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gICBldmVudCBFdmVudCBuYW1lLlxyXG4gICAgICogQHBhcmFtICB7RnVuY3Rpb259IGZuICAgIExpc3RlbmVyIHRvIGNhbGwuXHJcbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9ICAgaWQgICAgKG9wdGlvbmFsKSBPbmx5IGxpc3RlbiB0byBldmVudHMgZm9yIHRoaXMgc291bmQuXHJcbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9ICAgb25jZSAgKElOVEVSTkFMKSBNYXJrcyBldmVudCB0byBmaXJlIG9ubHkgb25jZS5cclxuICAgICAqIEByZXR1cm4ge0hvd2x9XHJcbiAgICAgKi9cclxuICAgIG9uOiBmdW5jdGlvbihldmVudCwgZm4sIGlkLCBvbmNlKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgdmFyIGV2ZW50cyA9IHNlbGZbJ19vbicgKyBldmVudF07XHJcblxyXG4gICAgICBpZiAodHlwZW9mIGZuID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgZXZlbnRzLnB1c2gob25jZSA/IHtpZDogaWQsIGZuOiBmbiwgb25jZTogb25jZX0gOiB7aWQ6IGlkLCBmbjogZm59KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlIGEgY3VzdG9tIGV2ZW50LiBDYWxsIHdpdGhvdXQgcGFyYW1ldGVycyB0byByZW1vdmUgYWxsIGV2ZW50cy5cclxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gICBldmVudCBFdmVudCBuYW1lLlxyXG4gICAgICogQHBhcmFtICB7RnVuY3Rpb259IGZuICAgIExpc3RlbmVyIHRvIHJlbW92ZS4gTGVhdmUgZW1wdHkgdG8gcmVtb3ZlIGFsbC5cclxuICAgICAqIEBwYXJhbSAge051bWJlcn0gICBpZCAgICAob3B0aW9uYWwpIE9ubHkgcmVtb3ZlIGV2ZW50cyBmb3IgdGhpcyBzb3VuZC5cclxuICAgICAqIEByZXR1cm4ge0hvd2x9XHJcbiAgICAgKi9cclxuICAgIG9mZjogZnVuY3Rpb24oZXZlbnQsIGZuLCBpZCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgIHZhciBldmVudHMgPSBzZWxmWydfb24nICsgZXZlbnRdO1xyXG4gICAgICB2YXIgaSA9IDA7XHJcblxyXG4gICAgICAvLyBBbGxvdyBwYXNzaW5nIGp1c3QgYW4gZXZlbnQgYW5kIElELlxyXG4gICAgICBpZiAodHlwZW9mIGZuID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgIGlkID0gZm47XHJcbiAgICAgICAgZm4gPSBudWxsO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoZm4gfHwgaWQpIHtcclxuICAgICAgICAvLyBMb29wIHRocm91Z2ggZXZlbnQgc3RvcmUgYW5kIHJlbW92ZSB0aGUgcGFzc2VkIGZ1bmN0aW9uLlxyXG4gICAgICAgIGZvciAoaT0wOyBpPGV2ZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgdmFyIGlzSWQgPSAoaWQgPT09IGV2ZW50c1tpXS5pZCk7XHJcbiAgICAgICAgICBpZiAoZm4gPT09IGV2ZW50c1tpXS5mbiAmJiBpc0lkIHx8ICFmbiAmJiBpc0lkKSB7XHJcbiAgICAgICAgICAgIGV2ZW50cy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIGlmIChldmVudCkge1xyXG4gICAgICAgIC8vIENsZWFyIG91dCBhbGwgZXZlbnRzIG9mIHRoaXMgdHlwZS5cclxuICAgICAgICBzZWxmWydfb24nICsgZXZlbnRdID0gW107XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gQ2xlYXIgb3V0IGFsbCBldmVudHMgb2YgZXZlcnkgdHlwZS5cclxuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHNlbGYpO1xyXG4gICAgICAgIGZvciAoaT0wOyBpPGtleXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGlmICgoa2V5c1tpXS5pbmRleE9mKCdfb24nKSA9PT0gMCkgJiYgQXJyYXkuaXNBcnJheShzZWxmW2tleXNbaV1dKSkge1xyXG4gICAgICAgICAgICBzZWxmW2tleXNbaV1dID0gW107XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gc2VsZjtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBMaXN0ZW4gdG8gYSBjdXN0b20gZXZlbnQgYW5kIHJlbW92ZSBpdCBvbmNlIGZpcmVkLlxyXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSAgIGV2ZW50IEV2ZW50IG5hbWUuXHJcbiAgICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gZm4gICAgTGlzdGVuZXIgdG8gY2FsbC5cclxuICAgICAqIEBwYXJhbSAge051bWJlcn0gICBpZCAgICAob3B0aW9uYWwpIE9ubHkgbGlzdGVuIHRvIGV2ZW50cyBmb3IgdGhpcyBzb3VuZC5cclxuICAgICAqIEByZXR1cm4ge0hvd2x9XHJcbiAgICAgKi9cclxuICAgIG9uY2U6IGZ1bmN0aW9uKGV2ZW50LCBmbiwgaWQpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgLy8gU2V0dXAgdGhlIGV2ZW50IGxpc3RlbmVyLlxyXG4gICAgICBzZWxmLm9uKGV2ZW50LCBmbiwgaWQsIDEpO1xyXG5cclxuICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRW1pdCBhbGwgZXZlbnRzIG9mIGEgc3BlY2lmaWMgdHlwZSBhbmQgcGFzcyB0aGUgc291bmQgaWQuXHJcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IGV2ZW50IEV2ZW50IG5hbWUuXHJcbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkICAgIFNvdW5kIElELlxyXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBtc2cgICBNZXNzYWdlIHRvIGdvIHdpdGggZXZlbnQuXHJcbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxyXG4gICAgICovXHJcbiAgICBfZW1pdDogZnVuY3Rpb24oZXZlbnQsIGlkLCBtc2cpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICB2YXIgZXZlbnRzID0gc2VsZlsnX29uJyArIGV2ZW50XTtcclxuXHJcbiAgICAgIC8vIExvb3AgdGhyb3VnaCBldmVudCBzdG9yZSBhbmQgZmlyZSBhbGwgZnVuY3Rpb25zLlxyXG4gICAgICBmb3IgKHZhciBpPWV2ZW50cy5sZW5ndGgtMTsgaT49MDsgaS0tKSB7XHJcbiAgICAgICAgLy8gT25seSBmaXJlIHRoZSBsaXN0ZW5lciBpZiB0aGUgY29ycmVjdCBJRCBpcyB1c2VkLlxyXG4gICAgICAgIGlmICghZXZlbnRzW2ldLmlkIHx8IGV2ZW50c1tpXS5pZCA9PT0gaWQgfHwgZXZlbnQgPT09ICdsb2FkJykge1xyXG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbihmbikge1xyXG4gICAgICAgICAgICBmbi5jYWxsKHRoaXMsIGlkLCBtc2cpO1xyXG4gICAgICAgICAgfS5iaW5kKHNlbGYsIGV2ZW50c1tpXS5mbiksIDApO1xyXG5cclxuICAgICAgICAgIC8vIElmIHRoaXMgZXZlbnQgd2FzIHNldHVwIHdpdGggYG9uY2VgLCByZW1vdmUgaXQuXHJcbiAgICAgICAgICBpZiAoZXZlbnRzW2ldLm9uY2UpIHtcclxuICAgICAgICAgICAgc2VsZi5vZmYoZXZlbnQsIGV2ZW50c1tpXS5mbiwgZXZlbnRzW2ldLmlkKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFBhc3MgdGhlIGV2ZW50IHR5cGUgaW50byBsb2FkIHF1ZXVlIHNvIHRoYXQgaXQgY2FuIGNvbnRpbnVlIHN0ZXBwaW5nLlxyXG4gICAgICBzZWxmLl9sb2FkUXVldWUoZXZlbnQpO1xyXG5cclxuICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUXVldWUgb2YgYWN0aW9ucyBpbml0aWF0ZWQgYmVmb3JlIHRoZSBzb3VuZCBoYXMgbG9hZGVkLlxyXG4gICAgICogVGhlc2Ugd2lsbCBiZSBjYWxsZWQgaW4gc2VxdWVuY2UsIHdpdGggdGhlIG5leHQgb25seSBmaXJpbmdcclxuICAgICAqIGFmdGVyIHRoZSBwcmV2aW91cyBoYXMgZmluaXNoZWQgZXhlY3V0aW5nIChldmVuIGlmIGFzeW5jIGxpa2UgcGxheSkuXHJcbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxyXG4gICAgICovXHJcbiAgICBfbG9hZFF1ZXVlOiBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICBpZiAoc2VsZi5fcXVldWUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIHZhciB0YXNrID0gc2VsZi5fcXVldWVbMF07XHJcblxyXG4gICAgICAgIC8vIFJlbW92ZSB0aGlzIHRhc2sgaWYgYSBtYXRjaGluZyBldmVudCB3YXMgcGFzc2VkLlxyXG4gICAgICAgIGlmICh0YXNrLmV2ZW50ID09PSBldmVudCkge1xyXG4gICAgICAgICAgc2VsZi5fcXVldWUuc2hpZnQoKTtcclxuICAgICAgICAgIHNlbGYuX2xvYWRRdWV1ZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUnVuIHRoZSB0YXNrIGlmIG5vIGV2ZW50IHR5cGUgaXMgcGFzc2VkLlxyXG4gICAgICAgIGlmICghZXZlbnQpIHtcclxuICAgICAgICAgIHRhc2suYWN0aW9uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gc2VsZjtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBGaXJlZCB3aGVuIHBsYXliYWNrIGVuZHMgYXQgdGhlIGVuZCBvZiB0aGUgZHVyYXRpb24uXHJcbiAgICAgKiBAcGFyYW0gIHtTb3VuZH0gc291bmQgVGhlIHNvdW5kIG9iamVjdCB0byB3b3JrIHdpdGguXHJcbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxyXG4gICAgICovXHJcbiAgICBfZW5kZWQ6IGZ1bmN0aW9uKHNvdW5kKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgdmFyIHNwcml0ZSA9IHNvdW5kLl9zcHJpdGU7XHJcblxyXG4gICAgICAvLyBJZiB3ZSBhcmUgdXNpbmcgSUUgYW5kIHRoZXJlIHdhcyBuZXR3b3JrIGxhdGVuY3kgd2UgbWF5IGJlIGNsaXBwaW5nXHJcbiAgICAgIC8vIGF1ZGlvIGJlZm9yZSBpdCBjb21wbGV0ZXMgcGxheWluZy4gTGV0cyBjaGVjayB0aGUgbm9kZSB0byBtYWtlIHN1cmUgaXRcclxuICAgICAgLy8gYmVsaWV2ZXMgaXQgaGFzIGNvbXBsZXRlZCwgYmVmb3JlIGVuZGluZyB0aGUgcGxheWJhY2suXHJcbiAgICAgIGlmICghc2VsZi5fd2ViQXVkaW8gJiYgc291bmQuX25vZGUgJiYgIXNvdW5kLl9ub2RlLnBhdXNlZCAmJiAhc291bmQuX25vZGUuZW5kZWQgJiYgc291bmQuX25vZGUuY3VycmVudFRpbWUgPCBzb3VuZC5fc3RvcCkge1xyXG4gICAgICAgIHNldFRpbWVvdXQoc2VsZi5fZW5kZWQuYmluZChzZWxmLCBzb3VuZCksIDEwMCk7XHJcbiAgICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFNob3VsZCB0aGlzIHNvdW5kIGxvb3A/XHJcbiAgICAgIHZhciBsb29wID0gISEoc291bmQuX2xvb3AgfHwgc2VsZi5fc3ByaXRlW3Nwcml0ZV1bMl0pO1xyXG5cclxuICAgICAgLy8gRmlyZSB0aGUgZW5kZWQgZXZlbnQuXHJcbiAgICAgIHNlbGYuX2VtaXQoJ2VuZCcsIHNvdW5kLl9pZCk7XHJcblxyXG4gICAgICAvLyBSZXN0YXJ0IHRoZSBwbGF5YmFjayBmb3IgSFRNTDUgQXVkaW8gbG9vcC5cclxuICAgICAgaWYgKCFzZWxmLl93ZWJBdWRpbyAmJiBsb29wKSB7XHJcbiAgICAgICAgc2VsZi5zdG9wKHNvdW5kLl9pZCwgdHJ1ZSkucGxheShzb3VuZC5faWQpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBSZXN0YXJ0IHRoaXMgdGltZXIgaWYgb24gYSBXZWIgQXVkaW8gbG9vcC5cclxuICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvICYmIGxvb3ApIHtcclxuICAgICAgICBzZWxmLl9lbWl0KCdwbGF5Jywgc291bmQuX2lkKTtcclxuICAgICAgICBzb3VuZC5fc2VlayA9IHNvdW5kLl9zdGFydCB8fCAwO1xyXG4gICAgICAgIHNvdW5kLl9yYXRlU2VlayA9IDA7XHJcbiAgICAgICAgc291bmQuX3BsYXlTdGFydCA9IEhvd2xlci5jdHguY3VycmVudFRpbWU7XHJcblxyXG4gICAgICAgIHZhciB0aW1lb3V0ID0gKChzb3VuZC5fc3RvcCAtIHNvdW5kLl9zdGFydCkgKiAxMDAwKSAvIE1hdGguYWJzKHNvdW5kLl9yYXRlKTtcclxuICAgICAgICBzZWxmLl9lbmRUaW1lcnNbc291bmQuX2lkXSA9IHNldFRpbWVvdXQoc2VsZi5fZW5kZWQuYmluZChzZWxmLCBzb3VuZCksIHRpbWVvdXQpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBNYXJrIHRoZSBub2RlIGFzIHBhdXNlZC5cclxuICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvICYmICFsb29wKSB7XHJcbiAgICAgICAgc291bmQuX3BhdXNlZCA9IHRydWU7XHJcbiAgICAgICAgc291bmQuX2VuZGVkID0gdHJ1ZTtcclxuICAgICAgICBzb3VuZC5fc2VlayA9IHNvdW5kLl9zdGFydCB8fCAwO1xyXG4gICAgICAgIHNvdW5kLl9yYXRlU2VlayA9IDA7XHJcbiAgICAgICAgc2VsZi5fY2xlYXJUaW1lcihzb3VuZC5faWQpO1xyXG5cclxuICAgICAgICAvLyBDbGVhbiB1cCB0aGUgYnVmZmVyIHNvdXJjZS5cclxuICAgICAgICBzZWxmLl9jbGVhbkJ1ZmZlcihzb3VuZC5fbm9kZSk7XHJcblxyXG4gICAgICAgIC8vIEF0dGVtcHQgdG8gYXV0by1zdXNwZW5kIEF1ZGlvQ29udGV4dCBpZiBubyBzb3VuZHMgYXJlIHN0aWxsIHBsYXlpbmcuXHJcbiAgICAgICAgSG93bGVyLl9hdXRvU3VzcGVuZCgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBXaGVuIHVzaW5nIGEgc3ByaXRlLCBlbmQgdGhlIHRyYWNrLlxyXG4gICAgICBpZiAoIXNlbGYuX3dlYkF1ZGlvICYmICFsb29wKSB7XHJcbiAgICAgICAgc2VsZi5zdG9wKHNvdW5kLl9pZCwgdHJ1ZSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIENsZWFyIHRoZSBlbmQgdGltZXIgZm9yIGEgc291bmQgcGxheWJhY2suXHJcbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkIFRoZSBzb3VuZCBJRC5cclxuICAgICAqIEByZXR1cm4ge0hvd2x9XHJcbiAgICAgKi9cclxuICAgIF9jbGVhclRpbWVyOiBmdW5jdGlvbihpZCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICBpZiAoc2VsZi5fZW5kVGltZXJzW2lkXSkge1xyXG4gICAgICAgIC8vIENsZWFyIHRoZSB0aW1lb3V0IG9yIHJlbW92ZSB0aGUgZW5kZWQgbGlzdGVuZXIuXHJcbiAgICAgICAgaWYgKHR5cGVvZiBzZWxmLl9lbmRUaW1lcnNbaWRdICE9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICBjbGVhclRpbWVvdXQoc2VsZi5fZW5kVGltZXJzW2lkXSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHZhciBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZCk7XHJcbiAgICAgICAgICBpZiAoc291bmQgJiYgc291bmQuX25vZGUpIHtcclxuICAgICAgICAgICAgc291bmQuX25vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBzZWxmLl9lbmRUaW1lcnNbaWRdLCBmYWxzZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBkZWxldGUgc2VsZi5fZW5kVGltZXJzW2lkXTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJuIHRoZSBzb3VuZCBpZGVudGlmaWVkIGJ5IHRoaXMgSUQsIG9yIHJldHVybiBudWxsLlxyXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBpZCBTb3VuZCBJRFxyXG4gICAgICogQHJldHVybiB7T2JqZWN0fSAgICBTb3VuZCBvYmplY3Qgb3IgbnVsbC5cclxuICAgICAqL1xyXG4gICAgX3NvdW5kQnlJZDogZnVuY3Rpb24oaWQpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgLy8gTG9vcCB0aHJvdWdoIGFsbCBzb3VuZHMgYW5kIGZpbmQgdGhlIG9uZSB3aXRoIHRoaXMgSUQuXHJcbiAgICAgIGZvciAodmFyIGk9MDsgaTxzZWxmLl9zb3VuZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZiAoaWQgPT09IHNlbGYuX3NvdW5kc1tpXS5faWQpIHtcclxuICAgICAgICAgIHJldHVybiBzZWxmLl9zb3VuZHNbaV07XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm4gYW4gaW5hY3RpdmUgc291bmQgZnJvbSB0aGUgcG9vbCBvciBjcmVhdGUgYSBuZXcgb25lLlxyXG4gICAgICogQHJldHVybiB7U291bmR9IFNvdW5kIHBsYXliYWNrIG9iamVjdC5cclxuICAgICAqL1xyXG4gICAgX2luYWN0aXZlU291bmQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICBzZWxmLl9kcmFpbigpO1xyXG5cclxuICAgICAgLy8gRmluZCB0aGUgZmlyc3QgaW5hY3RpdmUgbm9kZSB0byByZWN5Y2xlLlxyXG4gICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5fc291bmRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKHNlbGYuX3NvdW5kc1tpXS5fZW5kZWQpIHtcclxuICAgICAgICAgIHJldHVybiBzZWxmLl9zb3VuZHNbaV0ucmVzZXQoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIElmIG5vIGluYWN0aXZlIG5vZGUgd2FzIGZvdW5kLCBjcmVhdGUgYSBuZXcgb25lLlxyXG4gICAgICByZXR1cm4gbmV3IFNvdW5kKHNlbGYpO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIERyYWluIGV4Y2VzcyBpbmFjdGl2ZSBzb3VuZHMgZnJvbSB0aGUgcG9vbC5cclxuICAgICAqL1xyXG4gICAgX2RyYWluOiBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICB2YXIgbGltaXQgPSBzZWxmLl9wb29sO1xyXG4gICAgICB2YXIgY250ID0gMDtcclxuICAgICAgdmFyIGkgPSAwO1xyXG5cclxuICAgICAgLy8gSWYgdGhlcmUgYXJlIGxlc3Mgc291bmRzIHRoYW4gdGhlIG1heCBwb29sIHNpemUsIHdlIGFyZSBkb25lLlxyXG4gICAgICBpZiAoc2VsZi5fc291bmRzLmxlbmd0aCA8IGxpbWl0KSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBDb3VudCB0aGUgbnVtYmVyIG9mIGluYWN0aXZlIHNvdW5kcy5cclxuICAgICAgZm9yIChpPTA7IGk8c2VsZi5fc291bmRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKHNlbGYuX3NvdW5kc1tpXS5fZW5kZWQpIHtcclxuICAgICAgICAgIGNudCsrO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gUmVtb3ZlIGV4Y2VzcyBpbmFjdGl2ZSBzb3VuZHMsIGdvaW5nIGluIHJldmVyc2Ugb3JkZXIuXHJcbiAgICAgIGZvciAoaT1zZWxmLl9zb3VuZHMubGVuZ3RoIC0gMTsgaT49MDsgaS0tKSB7XHJcbiAgICAgICAgaWYgKGNudCA8PSBsaW1pdCkge1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHNlbGYuX3NvdW5kc1tpXS5fZW5kZWQpIHtcclxuICAgICAgICAgIC8vIERpc2Nvbm5lY3QgdGhlIGF1ZGlvIHNvdXJjZSB3aGVuIHVzaW5nIFdlYiBBdWRpby5cclxuICAgICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbyAmJiBzZWxmLl9zb3VuZHNbaV0uX25vZGUpIHtcclxuICAgICAgICAgICAgc2VsZi5fc291bmRzW2ldLl9ub2RlLmRpc2Nvbm5lY3QoMCk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gUmVtb3ZlIHNvdW5kcyB1bnRpbCB3ZSBoYXZlIHRoZSBwb29sIHNpemUuXHJcbiAgICAgICAgICBzZWxmLl9zb3VuZHMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgY250LS07XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IGFsbCBJRCdzIGZyb20gdGhlIHNvdW5kcyBwb29sLlxyXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBpZCBPbmx5IHJldHVybiBvbmUgSUQgaWYgb25lIGlzIHBhc3NlZC5cclxuICAgICAqIEByZXR1cm4ge0FycmF5fSAgICBBcnJheSBvZiBJRHMuXHJcbiAgICAgKi9cclxuICAgIF9nZXRTb3VuZElkczogZnVuY3Rpb24oaWQpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICB2YXIgaWRzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX3NvdW5kcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgaWRzLnB1c2goc2VsZi5fc291bmRzW2ldLl9pZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gaWRzO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBbaWRdO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTG9hZCB0aGUgc291bmQgYmFjayBpbnRvIHRoZSBidWZmZXIgc291cmNlLlxyXG4gICAgICogQHBhcmFtICB7U291bmR9IHNvdW5kIFRoZSBzb3VuZCBvYmplY3QgdG8gd29yayB3aXRoLlxyXG4gICAgICogQHJldHVybiB7SG93bH1cclxuICAgICAqL1xyXG4gICAgX3JlZnJlc2hCdWZmZXI6IGZ1bmN0aW9uKHNvdW5kKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgIC8vIFNldHVwIHRoZSBidWZmZXIgc291cmNlIGZvciBwbGF5YmFjay5cclxuICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlID0gSG93bGVyLmN0eC5jcmVhdGVCdWZmZXJTb3VyY2UoKTtcclxuICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLmJ1ZmZlciA9IGNhY2hlW3NlbGYuX3NyY107XHJcblxyXG4gICAgICAvLyBDb25uZWN0IHRvIHRoZSBjb3JyZWN0IG5vZGUuXHJcbiAgICAgIGlmIChzb3VuZC5fcGFubmVyKSB7XHJcbiAgICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLmNvbm5lY3Qoc291bmQuX3Bhbm5lcik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLmNvbm5lY3Qoc291bmQuX25vZGUpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBTZXR1cCBsb29waW5nIGFuZCBwbGF5YmFjayByYXRlLlxyXG4gICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UubG9vcCA9IHNvdW5kLl9sb29wO1xyXG4gICAgICBpZiAoc291bmQuX2xvb3ApIHtcclxuICAgICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UubG9vcFN0YXJ0ID0gc291bmQuX3N0YXJ0IHx8IDA7XHJcbiAgICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLmxvb3BFbmQgPSBzb3VuZC5fc3RvcCB8fCAwO1xyXG4gICAgICB9XHJcbiAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5wbGF5YmFja1JhdGUuc2V0VmFsdWVBdFRpbWUoc291bmQuX3JhdGUsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xyXG5cclxuICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUHJldmVudCBtZW1vcnkgbGVha3MgYnkgY2xlYW5pbmcgdXAgdGhlIGJ1ZmZlciBzb3VyY2UgYWZ0ZXIgcGxheWJhY2suXHJcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IG5vZGUgU291bmQncyBhdWRpbyBub2RlIGNvbnRhaW5pbmcgdGhlIGJ1ZmZlciBzb3VyY2UuXHJcbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxyXG4gICAgICovXHJcbiAgICBfY2xlYW5CdWZmZXI6IGZ1bmN0aW9uKG5vZGUpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICB2YXIgaXNJT1MgPSBIb3dsZXIuX25hdmlnYXRvciAmJiBIb3dsZXIuX25hdmlnYXRvci52ZW5kb3IuaW5kZXhPZignQXBwbGUnKSA+PSAwO1xyXG5cclxuICAgICAgaWYgKCFub2RlLmJ1ZmZlclNvdXJjZSkge1xyXG4gICAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoSG93bGVyLl9zY3JhdGNoQnVmZmVyICYmIG5vZGUuYnVmZmVyU291cmNlKSB7XHJcbiAgICAgICAgbm9kZS5idWZmZXJTb3VyY2Uub25lbmRlZCA9IG51bGw7XHJcbiAgICAgICAgbm9kZS5idWZmZXJTb3VyY2UuZGlzY29ubmVjdCgwKTtcclxuICAgICAgICBpZiAoaXNJT1MpIHtcclxuICAgICAgICAgIHRyeSB7IG5vZGUuYnVmZmVyU291cmNlLmJ1ZmZlciA9IEhvd2xlci5fc2NyYXRjaEJ1ZmZlcjsgfSBjYXRjaChlKSB7fVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBub2RlLmJ1ZmZlclNvdXJjZSA9IG51bGw7XHJcblxyXG4gICAgICByZXR1cm4gc2VsZjtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgdGhlIHNvdXJjZSB0byBhIDAtc2Vjb25kIHNpbGVuY2UgdG8gc3RvcCBhbnkgZG93bmxvYWRpbmcgKGV4Y2VwdCBpbiBJRSkuXHJcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IG5vZGUgQXVkaW8gbm9kZSB0byBjbGVhci5cclxuICAgICAqL1xyXG4gICAgX2NsZWFyU291bmQ6IGZ1bmN0aW9uKG5vZGUpIHtcclxuICAgICAgdmFyIGNoZWNrSUUgPSAvTVNJRSB8VHJpZGVudFxcLy8udGVzdChIb3dsZXIuX25hdmlnYXRvciAmJiBIb3dsZXIuX25hdmlnYXRvci51c2VyQWdlbnQpO1xyXG4gICAgICBpZiAoIWNoZWNrSUUpIHtcclxuICAgICAgICBub2RlLnNyYyA9ICdkYXRhOmF1ZGlvL3dhdjtiYXNlNjQsVWtsR1JpZ0FBQUJYUVZaRlptMTBJQklBQUFBQkFBRUFSS3dBQUloWUFRQUNBQkFBQUFCa1lYUmhBZ0FBQUFFQSc7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvKiogU2luZ2xlIFNvdW5kIE1ldGhvZHMgKiovXHJcbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0dXAgdGhlIHNvdW5kIG9iamVjdCwgd2hpY2ggZWFjaCBub2RlIGF0dGFjaGVkIHRvIGEgSG93bCBncm91cCBpcyBjb250YWluZWQgaW4uXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IGhvd2wgVGhlIEhvd2wgcGFyZW50IGdyb3VwLlxyXG4gICAqL1xyXG4gIHZhciBTb3VuZCA9IGZ1bmN0aW9uKGhvd2wpIHtcclxuICAgIHRoaXMuX3BhcmVudCA9IGhvd2w7XHJcbiAgICB0aGlzLmluaXQoKTtcclxuICB9O1xyXG4gIFNvdW5kLnByb3RvdHlwZSA9IHtcclxuICAgIC8qKlxyXG4gICAgICogSW5pdGlhbGl6ZSBhIG5ldyBTb3VuZCBvYmplY3QuXHJcbiAgICAgKiBAcmV0dXJuIHtTb3VuZH1cclxuICAgICAqL1xyXG4gICAgaW5pdDogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgdmFyIHBhcmVudCA9IHNlbGYuX3BhcmVudDtcclxuXHJcbiAgICAgIC8vIFNldHVwIHRoZSBkZWZhdWx0IHBhcmFtZXRlcnMuXHJcbiAgICAgIHNlbGYuX211dGVkID0gcGFyZW50Ll9tdXRlZDtcclxuICAgICAgc2VsZi5fbG9vcCA9IHBhcmVudC5fbG9vcDtcclxuICAgICAgc2VsZi5fdm9sdW1lID0gcGFyZW50Ll92b2x1bWU7XHJcbiAgICAgIHNlbGYuX3JhdGUgPSBwYXJlbnQuX3JhdGU7XHJcbiAgICAgIHNlbGYuX3NlZWsgPSAwO1xyXG4gICAgICBzZWxmLl9wYXVzZWQgPSB0cnVlO1xyXG4gICAgICBzZWxmLl9lbmRlZCA9IHRydWU7XHJcbiAgICAgIHNlbGYuX3Nwcml0ZSA9ICdfX2RlZmF1bHQnO1xyXG5cclxuICAgICAgLy8gR2VuZXJhdGUgYSB1bmlxdWUgSUQgZm9yIHRoaXMgc291bmQuXHJcbiAgICAgIHNlbGYuX2lkID0gKytIb3dsZXIuX2NvdW50ZXI7XHJcblxyXG4gICAgICAvLyBBZGQgaXRzZWxmIHRvIHRoZSBwYXJlbnQncyBwb29sLlxyXG4gICAgICBwYXJlbnQuX3NvdW5kcy5wdXNoKHNlbGYpO1xyXG5cclxuICAgICAgLy8gQ3JlYXRlIHRoZSBuZXcgbm9kZS5cclxuICAgICAgc2VsZi5jcmVhdGUoKTtcclxuXHJcbiAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBhbmQgc2V0dXAgYSBuZXcgc291bmQgb2JqZWN0LCB3aGV0aGVyIEhUTUw1IEF1ZGlvIG9yIFdlYiBBdWRpby5cclxuICAgICAqIEByZXR1cm4ge1NvdW5kfVxyXG4gICAgICovXHJcbiAgICBjcmVhdGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgIHZhciBwYXJlbnQgPSBzZWxmLl9wYXJlbnQ7XHJcbiAgICAgIHZhciB2b2x1bWUgPSAoSG93bGVyLl9tdXRlZCB8fCBzZWxmLl9tdXRlZCB8fCBzZWxmLl9wYXJlbnQuX211dGVkKSA/IDAgOiBzZWxmLl92b2x1bWU7XHJcblxyXG4gICAgICBpZiAocGFyZW50Ll93ZWJBdWRpbykge1xyXG4gICAgICAgIC8vIENyZWF0ZSB0aGUgZ2FpbiBub2RlIGZvciBjb250cm9sbGluZyB2b2x1bWUgKHRoZSBzb3VyY2Ugd2lsbCBjb25uZWN0IHRvIHRoaXMpLlxyXG4gICAgICAgIHNlbGYuX25vZGUgPSAodHlwZW9mIEhvd2xlci5jdHguY3JlYXRlR2FpbiA9PT0gJ3VuZGVmaW5lZCcpID8gSG93bGVyLmN0eC5jcmVhdGVHYWluTm9kZSgpIDogSG93bGVyLmN0eC5jcmVhdGVHYWluKCk7XHJcbiAgICAgICAgc2VsZi5fbm9kZS5nYWluLnNldFZhbHVlQXRUaW1lKHZvbHVtZSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XHJcbiAgICAgICAgc2VsZi5fbm9kZS5wYXVzZWQgPSB0cnVlO1xyXG4gICAgICAgIHNlbGYuX25vZGUuY29ubmVjdChIb3dsZXIubWFzdGVyR2Fpbik7XHJcbiAgICAgIH0gZWxzZSBpZiAoIUhvd2xlci5ub0F1ZGlvKSB7XHJcbiAgICAgICAgLy8gR2V0IGFuIHVubG9ja2VkIEF1ZGlvIG9iamVjdCBmcm9tIHRoZSBwb29sLlxyXG4gICAgICAgIHNlbGYuX25vZGUgPSBIb3dsZXIuX29idGFpbkh0bWw1QXVkaW8oKTtcclxuXHJcbiAgICAgICAgLy8gTGlzdGVuIGZvciBlcnJvcnMgKGh0dHA6Ly9kZXYudzMub3JnL2h0bWw1L3NwZWMtYXV0aG9yLXZpZXcvc3BlYy5odG1sI21lZGlhZXJyb3IpLlxyXG4gICAgICAgIHNlbGYuX2Vycm9yRm4gPSBzZWxmLl9lcnJvckxpc3RlbmVyLmJpbmQoc2VsZik7XHJcbiAgICAgICAgc2VsZi5fbm9kZS5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHNlbGYuX2Vycm9yRm4sIGZhbHNlKTtcclxuXHJcbiAgICAgICAgLy8gTGlzdGVuIGZvciAnY2FucGxheXRocm91Z2gnIGV2ZW50IHRvIGxldCB1cyBrbm93IHRoZSBzb3VuZCBpcyByZWFkeS5cclxuICAgICAgICBzZWxmLl9sb2FkRm4gPSBzZWxmLl9sb2FkTGlzdGVuZXIuYmluZChzZWxmKTtcclxuICAgICAgICBzZWxmLl9ub2RlLmFkZEV2ZW50TGlzdGVuZXIoSG93bGVyLl9jYW5QbGF5RXZlbnQsIHNlbGYuX2xvYWRGbiwgZmFsc2UpO1xyXG5cclxuICAgICAgICAvLyBMaXN0ZW4gZm9yIHRoZSAnZW5kZWQnIGV2ZW50IG9uIHRoZSBzb3VuZCB0byBhY2NvdW50IGZvciBlZGdlLWNhc2Ugd2hlcmVcclxuICAgICAgICAvLyBhIGZpbml0ZSBzb3VuZCBoYXMgYSBkdXJhdGlvbiBvZiBJbmZpbml0eS5cclxuICAgICAgICBzZWxmLl9lbmRGbiA9IHNlbGYuX2VuZExpc3RlbmVyLmJpbmQoc2VsZik7XHJcbiAgICAgICAgc2VsZi5fbm9kZS5hZGRFdmVudExpc3RlbmVyKCdlbmRlZCcsIHNlbGYuX2VuZEZuLCBmYWxzZSk7XHJcblxyXG4gICAgICAgIC8vIFNldHVwIHRoZSBuZXcgYXVkaW8gbm9kZS5cclxuICAgICAgICBzZWxmLl9ub2RlLnNyYyA9IHBhcmVudC5fc3JjO1xyXG4gICAgICAgIHNlbGYuX25vZGUucHJlbG9hZCA9IHBhcmVudC5fcHJlbG9hZCA9PT0gdHJ1ZSA/ICdhdXRvJyA6IHBhcmVudC5fcHJlbG9hZDtcclxuICAgICAgICBzZWxmLl9ub2RlLnZvbHVtZSA9IHZvbHVtZSAqIEhvd2xlci52b2x1bWUoKTtcclxuXHJcbiAgICAgICAgLy8gQmVnaW4gbG9hZGluZyB0aGUgc291cmNlLlxyXG4gICAgICAgIHNlbGYuX25vZGUubG9hZCgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gc2VsZjtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXNldCB0aGUgcGFyYW1ldGVycyBvZiB0aGlzIHNvdW5kIHRvIHRoZSBvcmlnaW5hbCBzdGF0ZSAoZm9yIHJlY3ljbGUpLlxyXG4gICAgICogQHJldHVybiB7U291bmR9XHJcbiAgICAgKi9cclxuICAgIHJlc2V0OiBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICB2YXIgcGFyZW50ID0gc2VsZi5fcGFyZW50O1xyXG5cclxuICAgICAgLy8gUmVzZXQgYWxsIG9mIHRoZSBwYXJhbWV0ZXJzIG9mIHRoaXMgc291bmQuXHJcbiAgICAgIHNlbGYuX211dGVkID0gcGFyZW50Ll9tdXRlZDtcclxuICAgICAgc2VsZi5fbG9vcCA9IHBhcmVudC5fbG9vcDtcclxuICAgICAgc2VsZi5fdm9sdW1lID0gcGFyZW50Ll92b2x1bWU7XHJcbiAgICAgIHNlbGYuX3JhdGUgPSBwYXJlbnQuX3JhdGU7XHJcbiAgICAgIHNlbGYuX3NlZWsgPSAwO1xyXG4gICAgICBzZWxmLl9yYXRlU2VlayA9IDA7XHJcbiAgICAgIHNlbGYuX3BhdXNlZCA9IHRydWU7XHJcbiAgICAgIHNlbGYuX2VuZGVkID0gdHJ1ZTtcclxuICAgICAgc2VsZi5fc3ByaXRlID0gJ19fZGVmYXVsdCc7XHJcblxyXG4gICAgICAvLyBHZW5lcmF0ZSBhIG5ldyBJRCBzbyB0aGF0IGl0IGlzbid0IGNvbmZ1c2VkIHdpdGggdGhlIHByZXZpb3VzIHNvdW5kLlxyXG4gICAgICBzZWxmLl9pZCA9ICsrSG93bGVyLl9jb3VudGVyO1xyXG5cclxuICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSFRNTDUgQXVkaW8gZXJyb3IgbGlzdGVuZXIgY2FsbGJhY2suXHJcbiAgICAgKi9cclxuICAgIF9lcnJvckxpc3RlbmVyOiBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgLy8gRmlyZSBhbiBlcnJvciBldmVudCBhbmQgcGFzcyBiYWNrIHRoZSBjb2RlLlxyXG4gICAgICBzZWxmLl9wYXJlbnQuX2VtaXQoJ2xvYWRlcnJvcicsIHNlbGYuX2lkLCBzZWxmLl9ub2RlLmVycm9yID8gc2VsZi5fbm9kZS5lcnJvci5jb2RlIDogMCk7XHJcblxyXG4gICAgICAvLyBDbGVhciB0aGUgZXZlbnQgbGlzdGVuZXIuXHJcbiAgICAgIHNlbGYuX25vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCBzZWxmLl9lcnJvckZuLCBmYWxzZSk7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSFRNTDUgQXVkaW8gY2FucGxheXRocm91Z2ggbGlzdGVuZXIgY2FsbGJhY2suXHJcbiAgICAgKi9cclxuICAgIF9sb2FkTGlzdGVuZXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgIHZhciBwYXJlbnQgPSBzZWxmLl9wYXJlbnQ7XHJcblxyXG4gICAgICAvLyBSb3VuZCB1cCB0aGUgZHVyYXRpb24gdG8gYWNjb3VudCBmb3IgdGhlIGxvd2VyIHByZWNpc2lvbiBpbiBIVE1MNSBBdWRpby5cclxuICAgICAgcGFyZW50Ll9kdXJhdGlvbiA9IE1hdGguY2VpbChzZWxmLl9ub2RlLmR1cmF0aW9uICogMTApIC8gMTA7XHJcblxyXG4gICAgICAvLyBTZXR1cCBhIHNwcml0ZSBpZiBub25lIGlzIGRlZmluZWQuXHJcbiAgICAgIGlmIChPYmplY3Qua2V5cyhwYXJlbnQuX3Nwcml0ZSkubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgcGFyZW50Ll9zcHJpdGUgPSB7X19kZWZhdWx0OiBbMCwgcGFyZW50Ll9kdXJhdGlvbiAqIDEwMDBdfTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHBhcmVudC5fc3RhdGUgIT09ICdsb2FkZWQnKSB7XHJcbiAgICAgICAgcGFyZW50Ll9zdGF0ZSA9ICdsb2FkZWQnO1xyXG4gICAgICAgIHBhcmVudC5fZW1pdCgnbG9hZCcpO1xyXG4gICAgICAgIHBhcmVudC5fbG9hZFF1ZXVlKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIENsZWFyIHRoZSBldmVudCBsaXN0ZW5lci5cclxuICAgICAgc2VsZi5fbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKEhvd2xlci5fY2FuUGxheUV2ZW50LCBzZWxmLl9sb2FkRm4sIGZhbHNlKTtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIVE1MNSBBdWRpbyBlbmRlZCBsaXN0ZW5lciBjYWxsYmFjay5cclxuICAgICAqL1xyXG4gICAgX2VuZExpc3RlbmVyOiBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICB2YXIgcGFyZW50ID0gc2VsZi5fcGFyZW50O1xyXG5cclxuICAgICAgLy8gT25seSBoYW5kbGUgdGhlIGBlbmRlZGBgIGV2ZW50IGlmIHRoZSBkdXJhdGlvbiBpcyBJbmZpbml0eS5cclxuICAgICAgaWYgKHBhcmVudC5fZHVyYXRpb24gPT09IEluZmluaXR5KSB7XHJcbiAgICAgICAgLy8gVXBkYXRlIHRoZSBwYXJlbnQgZHVyYXRpb24gdG8gbWF0Y2ggdGhlIHJlYWwgYXVkaW8gZHVyYXRpb24uXHJcbiAgICAgICAgLy8gUm91bmQgdXAgdGhlIGR1cmF0aW9uIHRvIGFjY291bnQgZm9yIHRoZSBsb3dlciBwcmVjaXNpb24gaW4gSFRNTDUgQXVkaW8uXHJcbiAgICAgICAgcGFyZW50Ll9kdXJhdGlvbiA9IE1hdGguY2VpbChzZWxmLl9ub2RlLmR1cmF0aW9uICogMTApIC8gMTA7XHJcblxyXG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgc3ByaXRlIHRoYXQgY29ycmVzcG9uZHMgdG8gdGhlIHJlYWwgZHVyYXRpb24uXHJcbiAgICAgICAgaWYgKHBhcmVudC5fc3ByaXRlLl9fZGVmYXVsdFsxXSA9PT0gSW5maW5pdHkpIHtcclxuICAgICAgICAgIHBhcmVudC5fc3ByaXRlLl9fZGVmYXVsdFsxXSA9IHBhcmVudC5fZHVyYXRpb24gKiAxMDAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUnVuIHRoZSByZWd1bGFyIGVuZGVkIG1ldGhvZC5cclxuICAgICAgICBwYXJlbnQuX2VuZGVkKHNlbGYpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBDbGVhciB0aGUgZXZlbnQgbGlzdGVuZXIgc2luY2UgdGhlIGR1cmF0aW9uIGlzIG5vdyBjb3JyZWN0LlxyXG4gICAgICBzZWxmLl9ub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgc2VsZi5fZW5kRm4sIGZhbHNlKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvKiogSGVscGVyIE1ldGhvZHMgKiovXHJcbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbiAgdmFyIGNhY2hlID0ge307XHJcblxyXG4gIC8qKlxyXG4gICAqIEJ1ZmZlciBhIHNvdW5kIGZyb20gVVJMLCBEYXRhIFVSSSBvciBjYWNoZSBhbmQgZGVjb2RlIHRvIGF1ZGlvIHNvdXJjZSAoV2ViIEF1ZGlvIEFQSSkuXHJcbiAgICogQHBhcmFtICB7SG93bH0gc2VsZlxyXG4gICAqL1xyXG4gIHZhciBsb2FkQnVmZmVyID0gZnVuY3Rpb24oc2VsZikge1xyXG4gICAgdmFyIHVybCA9IHNlbGYuX3NyYztcclxuXHJcbiAgICAvLyBDaGVjayBpZiB0aGUgYnVmZmVyIGhhcyBhbHJlYWR5IGJlZW4gY2FjaGVkIGFuZCB1c2UgaXQgaW5zdGVhZC5cclxuICAgIGlmIChjYWNoZVt1cmxdKSB7XHJcbiAgICAgIC8vIFNldCB0aGUgZHVyYXRpb24gZnJvbSB0aGUgY2FjaGUuXHJcbiAgICAgIHNlbGYuX2R1cmF0aW9uID0gY2FjaGVbdXJsXS5kdXJhdGlvbjtcclxuXHJcbiAgICAgIC8vIExvYWQgdGhlIHNvdW5kIGludG8gdGhpcyBIb3dsLlxyXG4gICAgICBsb2FkU291bmQoc2VsZik7XHJcblxyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKC9eZGF0YTpbXjtdKztiYXNlNjQsLy50ZXN0KHVybCkpIHtcclxuICAgICAgLy8gRGVjb2RlIHRoZSBiYXNlNjQgZGF0YSBVUkkgd2l0aG91dCBYSFIsIHNpbmNlIHNvbWUgYnJvd3NlcnMgZG9uJ3Qgc3VwcG9ydCBpdC5cclxuICAgICAgdmFyIGRhdGEgPSBhdG9iKHVybC5zcGxpdCgnLCcpWzFdKTtcclxuICAgICAgdmFyIGRhdGFWaWV3ID0gbmV3IFVpbnQ4QXJyYXkoZGF0YS5sZW5ndGgpO1xyXG4gICAgICBmb3IgKHZhciBpPTA7IGk8ZGF0YS5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgIGRhdGFWaWV3W2ldID0gZGF0YS5jaGFyQ29kZUF0KGkpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBkZWNvZGVBdWRpb0RhdGEoZGF0YVZpZXcuYnVmZmVyLCBzZWxmKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIExvYWQgdGhlIGJ1ZmZlciBmcm9tIHRoZSBVUkwuXHJcbiAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgICAgeGhyLm9wZW4oc2VsZi5feGhyLm1ldGhvZCwgdXJsLCB0cnVlKTtcclxuICAgICAgeGhyLndpdGhDcmVkZW50aWFscyA9IHNlbGYuX3hoci53aXRoQ3JlZGVudGlhbHM7XHJcbiAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAnYXJyYXlidWZmZXInO1xyXG5cclxuICAgICAgLy8gQXBwbHkgYW55IGN1c3RvbSBoZWFkZXJzIHRvIHRoZSByZXF1ZXN0LlxyXG4gICAgICBpZiAoc2VsZi5feGhyLmhlYWRlcnMpIHtcclxuICAgICAgICBPYmplY3Qua2V5cyhzZWxmLl94aHIuaGVhZGVycykuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcclxuICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKGtleSwgc2VsZi5feGhyLmhlYWRlcnNba2V5XSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAvLyBNYWtlIHN1cmUgd2UgZ2V0IGEgc3VjY2Vzc2Z1bCByZXNwb25zZSBiYWNrLlxyXG4gICAgICAgIHZhciBjb2RlID0gKHhoci5zdGF0dXMgKyAnJylbMF07XHJcbiAgICAgICAgaWYgKGNvZGUgIT09ICcwJyAmJiBjb2RlICE9PSAnMicgJiYgY29kZSAhPT0gJzMnKSB7XHJcbiAgICAgICAgICBzZWxmLl9lbWl0KCdsb2FkZXJyb3InLCBudWxsLCAnRmFpbGVkIGxvYWRpbmcgYXVkaW8gZmlsZSB3aXRoIHN0YXR1czogJyArIHhoci5zdGF0dXMgKyAnLicpO1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZGVjb2RlQXVkaW9EYXRhKHhoci5yZXNwb25zZSwgc2VsZik7XHJcbiAgICAgIH07XHJcbiAgICAgIHhoci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgYW4gZXJyb3IsIHN3aXRjaCB0byBIVE1MNSBBdWRpby5cclxuICAgICAgICBpZiAoc2VsZi5fd2ViQXVkaW8pIHtcclxuICAgICAgICAgIHNlbGYuX2h0bWw1ID0gdHJ1ZTtcclxuICAgICAgICAgIHNlbGYuX3dlYkF1ZGlvID0gZmFsc2U7XHJcbiAgICAgICAgICBzZWxmLl9zb3VuZHMgPSBbXTtcclxuICAgICAgICAgIGRlbGV0ZSBjYWNoZVt1cmxdO1xyXG4gICAgICAgICAgc2VsZi5sb2FkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG4gICAgICBzYWZlWGhyU2VuZCh4aHIpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIFNlbmQgdGhlIFhIUiByZXF1ZXN0IHdyYXBwZWQgaW4gYSB0cnkvY2F0Y2guXHJcbiAgICogQHBhcmFtICB7T2JqZWN0fSB4aHIgWEhSIHRvIHNlbmQuXHJcbiAgICovXHJcbiAgdmFyIHNhZmVYaHJTZW5kID0gZnVuY3Rpb24oeGhyKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICB4aHIuc2VuZCgpO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICB4aHIub25lcnJvcigpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIERlY29kZSBhdWRpbyBkYXRhIGZyb20gYW4gYXJyYXkgYnVmZmVyLlxyXG4gICAqIEBwYXJhbSAge0FycmF5QnVmZmVyfSBhcnJheWJ1ZmZlciBUaGUgYXVkaW8gZGF0YS5cclxuICAgKiBAcGFyYW0gIHtIb3dsfSAgICAgICAgc2VsZlxyXG4gICAqL1xyXG4gIHZhciBkZWNvZGVBdWRpb0RhdGEgPSBmdW5jdGlvbihhcnJheWJ1ZmZlciwgc2VsZikge1xyXG4gICAgLy8gRmlyZSBhIGxvYWQgZXJyb3IgaWYgc29tZXRoaW5nIGJyb2tlLlxyXG4gICAgdmFyIGVycm9yID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIHNlbGYuX2VtaXQoJ2xvYWRlcnJvcicsIG51bGwsICdEZWNvZGluZyBhdWRpbyBkYXRhIGZhaWxlZC4nKTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gTG9hZCB0aGUgc291bmQgb24gc3VjY2Vzcy5cclxuICAgIHZhciBzdWNjZXNzID0gZnVuY3Rpb24oYnVmZmVyKSB7XHJcbiAgICAgIGlmIChidWZmZXIgJiYgc2VsZi5fc291bmRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBjYWNoZVtzZWxmLl9zcmNdID0gYnVmZmVyO1xyXG4gICAgICAgIGxvYWRTb3VuZChzZWxmLCBidWZmZXIpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGVycm9yKCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gRGVjb2RlIHRoZSBidWZmZXIgaW50byBhbiBhdWRpbyBzb3VyY2UuXHJcbiAgICBpZiAodHlwZW9mIFByb21pc2UgIT09ICd1bmRlZmluZWQnICYmIEhvd2xlci5jdHguZGVjb2RlQXVkaW9EYXRhLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICBIb3dsZXIuY3R4LmRlY29kZUF1ZGlvRGF0YShhcnJheWJ1ZmZlcikudGhlbihzdWNjZXNzKS5jYXRjaChlcnJvcik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBIb3dsZXIuY3R4LmRlY29kZUF1ZGlvRGF0YShhcnJheWJ1ZmZlciwgc3VjY2VzcywgZXJyb3IpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU291bmQgaXMgbm93IGxvYWRlZCwgc28gZmluaXNoIHNldHRpbmcgZXZlcnl0aGluZyB1cCBhbmQgZmlyZSB0aGUgbG9hZGVkIGV2ZW50LlxyXG4gICAqIEBwYXJhbSAge0hvd2x9IHNlbGZcclxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGJ1ZmZlciBUaGUgZGVjb2RlZCBidWZmZXIgc291bmQgc291cmNlLlxyXG4gICAqL1xyXG4gIHZhciBsb2FkU291bmQgPSBmdW5jdGlvbihzZWxmLCBidWZmZXIpIHtcclxuICAgIC8vIFNldCB0aGUgZHVyYXRpb24uXHJcbiAgICBpZiAoYnVmZmVyICYmICFzZWxmLl9kdXJhdGlvbikge1xyXG4gICAgICBzZWxmLl9kdXJhdGlvbiA9IGJ1ZmZlci5kdXJhdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBTZXR1cCBhIHNwcml0ZSBpZiBub25lIGlzIGRlZmluZWQuXHJcbiAgICBpZiAoT2JqZWN0LmtleXMoc2VsZi5fc3ByaXRlKS5sZW5ndGggPT09IDApIHtcclxuICAgICAgc2VsZi5fc3ByaXRlID0ge19fZGVmYXVsdDogWzAsIHNlbGYuX2R1cmF0aW9uICogMTAwMF19O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEZpcmUgdGhlIGxvYWRlZCBldmVudC5cclxuICAgIGlmIChzZWxmLl9zdGF0ZSAhPT0gJ2xvYWRlZCcpIHtcclxuICAgICAgc2VsZi5fc3RhdGUgPSAnbG9hZGVkJztcclxuICAgICAgc2VsZi5fZW1pdCgnbG9hZCcpO1xyXG4gICAgICBzZWxmLl9sb2FkUXVldWUoKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBTZXR1cCB0aGUgYXVkaW8gY29udGV4dCB3aGVuIGF2YWlsYWJsZSwgb3Igc3dpdGNoIHRvIEhUTUw1IEF1ZGlvIG1vZGUuXHJcbiAgICovXHJcbiAgdmFyIHNldHVwQXVkaW9Db250ZXh0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAvLyBJZiB3ZSBoYXZlIGFscmVhZHkgZGV0ZWN0ZWQgdGhhdCBXZWIgQXVkaW8gaXNuJ3Qgc3VwcG9ydGVkLCBkb24ndCBydW4gdGhpcyBzdGVwIGFnYWluLlxyXG4gICAgaWYgKCFIb3dsZXIudXNpbmdXZWJBdWRpbykge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2hlY2sgaWYgd2UgYXJlIHVzaW5nIFdlYiBBdWRpbyBhbmQgc2V0dXAgdGhlIEF1ZGlvQ29udGV4dCBpZiB3ZSBhcmUuXHJcbiAgICB0cnkge1xyXG4gICAgICBpZiAodHlwZW9mIEF1ZGlvQ29udGV4dCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICBIb3dsZXIuY3R4ID0gbmV3IEF1ZGlvQ29udGV4dCgpO1xyXG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiB3ZWJraXRBdWRpb0NvbnRleHQgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgSG93bGVyLmN0eCA9IG5ldyB3ZWJraXRBdWRpb0NvbnRleHQoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBIb3dsZXIudXNpbmdXZWJBdWRpbyA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoKGUpIHtcclxuICAgICAgSG93bGVyLnVzaW5nV2ViQXVkaW8gPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBJZiB0aGUgYXVkaW8gY29udGV4dCBjcmVhdGlvbiBzdGlsbCBmYWlsZWQsIHNldCB1c2luZyB3ZWIgYXVkaW8gdG8gZmFsc2UuXHJcbiAgICBpZiAoIUhvd2xlci5jdHgpIHtcclxuICAgICAgSG93bGVyLnVzaW5nV2ViQXVkaW8gPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDaGVjayBpZiBhIHdlYnZpZXcgaXMgYmVpbmcgdXNlZCBvbiBpT1M4IG9yIGVhcmxpZXIgKHJhdGhlciB0aGFuIHRoZSBicm93c2VyKS5cclxuICAgIC8vIElmIGl0IGlzLCBkaXNhYmxlIFdlYiBBdWRpbyBhcyBpdCBjYXVzZXMgY3Jhc2hpbmcuXHJcbiAgICB2YXIgaU9TID0gKC9pUChob25lfG9kfGFkKS8udGVzdChIb3dsZXIuX25hdmlnYXRvciAmJiBIb3dsZXIuX25hdmlnYXRvci5wbGF0Zm9ybSkpO1xyXG4gICAgdmFyIGFwcFZlcnNpb24gPSBIb3dsZXIuX25hdmlnYXRvciAmJiBIb3dsZXIuX25hdmlnYXRvci5hcHBWZXJzaW9uLm1hdGNoKC9PUyAoXFxkKylfKFxcZCspXz8oXFxkKyk/Lyk7XHJcbiAgICB2YXIgdmVyc2lvbiA9IGFwcFZlcnNpb24gPyBwYXJzZUludChhcHBWZXJzaW9uWzFdLCAxMCkgOiBudWxsO1xyXG4gICAgaWYgKGlPUyAmJiB2ZXJzaW9uICYmIHZlcnNpb24gPCA5KSB7XHJcbiAgICAgIHZhciBzYWZhcmkgPSAvc2FmYXJpLy50ZXN0KEhvd2xlci5fbmF2aWdhdG9yICYmIEhvd2xlci5fbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpKTtcclxuICAgICAgaWYgKEhvd2xlci5fbmF2aWdhdG9yICYmICFzYWZhcmkpIHtcclxuICAgICAgICBIb3dsZXIudXNpbmdXZWJBdWRpbyA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ3JlYXRlIGFuZCBleHBvc2UgdGhlIG1hc3RlciBHYWluTm9kZSB3aGVuIHVzaW5nIFdlYiBBdWRpbyAodXNlZnVsIGZvciBwbHVnaW5zIG9yIGFkdmFuY2VkIHVzYWdlKS5cclxuICAgIGlmIChIb3dsZXIudXNpbmdXZWJBdWRpbykge1xyXG4gICAgICBIb3dsZXIubWFzdGVyR2FpbiA9ICh0eXBlb2YgSG93bGVyLmN0eC5jcmVhdGVHYWluID09PSAndW5kZWZpbmVkJykgPyBIb3dsZXIuY3R4LmNyZWF0ZUdhaW5Ob2RlKCkgOiBIb3dsZXIuY3R4LmNyZWF0ZUdhaW4oKTtcclxuICAgICAgSG93bGVyLm1hc3RlckdhaW4uZ2Fpbi5zZXRWYWx1ZUF0VGltZShIb3dsZXIuX211dGVkID8gMCA6IEhvd2xlci5fdm9sdW1lLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcclxuICAgICAgSG93bGVyLm1hc3RlckdhaW4uY29ubmVjdChIb3dsZXIuY3R4LmRlc3RpbmF0aW9uKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZS1ydW4gdGhlIHNldHVwIG9uIEhvd2xlci5cclxuICAgIEhvd2xlci5fc2V0dXAoKTtcclxuICB9O1xyXG5cclxuICAvLyBBZGQgc3VwcG9ydCBmb3IgQU1EIChBc3luY2hyb25vdXMgTW9kdWxlIERlZmluaXRpb24pIGxpYnJhcmllcyBzdWNoIGFzIHJlcXVpcmUuanMuXHJcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xyXG4gICAgZGVmaW5lKFtdLCBmdW5jdGlvbigpIHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBIb3dsZXI6IEhvd2xlcixcclxuICAgICAgICBIb3dsOiBIb3dsXHJcbiAgICAgIH07XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vIEFkZCBzdXBwb3J0IGZvciBDb21tb25KUyBsaWJyYXJpZXMgc3VjaCBhcyBicm93c2VyaWZ5LlxyXG4gIGlmICh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgIGV4cG9ydHMuSG93bGVyID0gSG93bGVyO1xyXG4gICAgZXhwb3J0cy5Ib3dsID0gSG93bDtcclxuICB9XHJcblxyXG4gIC8vIEFkZCB0byBnbG9iYWwgaW4gTm9kZS5qcyAoZm9yIHRlc3RpbmcsIGV0YykuXHJcbiAgaWYgKHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICBnbG9iYWwuSG93bGVyR2xvYmFsID0gSG93bGVyR2xvYmFsO1xyXG4gICAgZ2xvYmFsLkhvd2xlciA9IEhvd2xlcjtcclxuICAgIGdsb2JhbC5Ib3dsID0gSG93bDtcclxuICAgIGdsb2JhbC5Tb3VuZCA9IFNvdW5kO1xyXG4gIH0gZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHsgIC8vIERlZmluZSBnbG9iYWxseSBpbiBjYXNlIEFNRCBpcyBub3QgYXZhaWxhYmxlIG9yIHVudXNlZC5cclxuICAgIHdpbmRvdy5Ib3dsZXJHbG9iYWwgPSBIb3dsZXJHbG9iYWw7XHJcbiAgICB3aW5kb3cuSG93bGVyID0gSG93bGVyO1xyXG4gICAgd2luZG93Lkhvd2wgPSBIb3dsO1xyXG4gICAgd2luZG93LlNvdW5kID0gU291bmQ7XHJcbiAgfVxyXG59KSgpO1xyXG5cclxuXHJcbi8qIVxyXG4gKiAgU3BhdGlhbCBQbHVnaW4gLSBBZGRzIHN1cHBvcnQgZm9yIHN0ZXJlbyBhbmQgM0QgYXVkaW8gd2hlcmUgV2ViIEF1ZGlvIGlzIHN1cHBvcnRlZC5cclxuICogIFxyXG4gKiAgaG93bGVyLmpzIHYyLjIuNFxyXG4gKiAgaG93bGVyanMuY29tXHJcbiAqXHJcbiAqICAoYykgMjAxMy0yMDIwLCBKYW1lcyBTaW1wc29uIG9mIEdvbGRGaXJlIFN0dWRpb3NcclxuICogIGdvbGRmaXJlc3R1ZGlvcy5jb21cclxuICpcclxuICogIE1JVCBMaWNlbnNlXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uKCkge1xyXG5cclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIC8vIFNldHVwIGRlZmF1bHQgcHJvcGVydGllcy5cclxuICBIb3dsZXJHbG9iYWwucHJvdG90eXBlLl9wb3MgPSBbMCwgMCwgMF07XHJcbiAgSG93bGVyR2xvYmFsLnByb3RvdHlwZS5fb3JpZW50YXRpb24gPSBbMCwgMCwgLTEsIDAsIDEsIDBdO1xyXG5cclxuICAvKiogR2xvYmFsIE1ldGhvZHMgKiovXHJcbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbiAgLyoqXHJcbiAgICogSGVscGVyIG1ldGhvZCB0byB1cGRhdGUgdGhlIHN0ZXJlbyBwYW5uaW5nIHBvc2l0aW9uIG9mIGFsbCBjdXJyZW50IEhvd2xzLlxyXG4gICAqIEZ1dHVyZSBIb3dscyB3aWxsIG5vdCB1c2UgdGhpcyB2YWx1ZSB1bmxlc3MgZXhwbGljaXRseSBzZXQuXHJcbiAgICogQHBhcmFtICB7TnVtYmVyfSBwYW4gQSB2YWx1ZSBvZiAtMS4wIGlzIGFsbCB0aGUgd2F5IGxlZnQgYW5kIDEuMCBpcyBhbGwgdGhlIHdheSByaWdodC5cclxuICAgKiBAcmV0dXJuIHtIb3dsZXIvTnVtYmVyfSAgICAgU2VsZiBvciBjdXJyZW50IHN0ZXJlbyBwYW5uaW5nIHZhbHVlLlxyXG4gICAqL1xyXG4gIEhvd2xlckdsb2JhbC5wcm90b3R5cGUuc3RlcmVvID0gZnVuY3Rpb24ocGFuKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgLy8gU3RvcCByaWdodCBoZXJlIGlmIG5vdCB1c2luZyBXZWIgQXVkaW8uXHJcbiAgICBpZiAoIXNlbGYuY3R4IHx8ICFzZWxmLmN0eC5saXN0ZW5lcikge1xyXG4gICAgICByZXR1cm4gc2VsZjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBMb29wIHRocm91Z2ggYWxsIEhvd2xzIGFuZCB1cGRhdGUgdGhlaXIgc3RlcmVvIHBhbm5pbmcuXHJcbiAgICBmb3IgKHZhciBpPXNlbGYuX2hvd2xzLmxlbmd0aC0xOyBpPj0wOyBpLS0pIHtcclxuICAgICAgc2VsZi5faG93bHNbaV0uc3RlcmVvKHBhbik7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHNlbGY7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogR2V0L3NldCB0aGUgcG9zaXRpb24gb2YgdGhlIGxpc3RlbmVyIGluIDNEIGNhcnRlc2lhbiBzcGFjZS4gU291bmRzIHVzaW5nXHJcbiAgICogM0QgcG9zaXRpb24gd2lsbCBiZSByZWxhdGl2ZSB0byB0aGUgbGlzdGVuZXIncyBwb3NpdGlvbi5cclxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHggVGhlIHgtcG9zaXRpb24gb2YgdGhlIGxpc3RlbmVyLlxyXG4gICAqIEBwYXJhbSAge051bWJlcn0geSBUaGUgeS1wb3NpdGlvbiBvZiB0aGUgbGlzdGVuZXIuXHJcbiAgICogQHBhcmFtICB7TnVtYmVyfSB6IFRoZSB6LXBvc2l0aW9uIG9mIHRoZSBsaXN0ZW5lci5cclxuICAgKiBAcmV0dXJuIHtIb3dsZXIvQXJyYXl9ICAgU2VsZiBvciBjdXJyZW50IGxpc3RlbmVyIHBvc2l0aW9uLlxyXG4gICAqL1xyXG4gIEhvd2xlckdsb2JhbC5wcm90b3R5cGUucG9zID0gZnVuY3Rpb24oeCwgeSwgeikge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgIC8vIFN0b3AgcmlnaHQgaGVyZSBpZiBub3QgdXNpbmcgV2ViIEF1ZGlvLlxyXG4gICAgaWYgKCFzZWxmLmN0eCB8fCAhc2VsZi5jdHgubGlzdGVuZXIpIHtcclxuICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2V0IHRoZSBkZWZhdWx0cyBmb3Igb3B0aW9uYWwgJ3knICYgJ3onLlxyXG4gICAgeSA9ICh0eXBlb2YgeSAhPT0gJ251bWJlcicpID8gc2VsZi5fcG9zWzFdIDogeTtcclxuICAgIHogPSAodHlwZW9mIHogIT09ICdudW1iZXInKSA/IHNlbGYuX3Bvc1syXSA6IHo7XHJcblxyXG4gICAgaWYgKHR5cGVvZiB4ID09PSAnbnVtYmVyJykge1xyXG4gICAgICBzZWxmLl9wb3MgPSBbeCwgeSwgel07XHJcblxyXG4gICAgICBpZiAodHlwZW9mIHNlbGYuY3R4Lmxpc3RlbmVyLnBvc2l0aW9uWCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICBzZWxmLmN0eC5saXN0ZW5lci5wb3NpdGlvblguc2V0VGFyZ2V0QXRUaW1lKHNlbGYuX3Bvc1swXSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSwgMC4xKTtcclxuICAgICAgICBzZWxmLmN0eC5saXN0ZW5lci5wb3NpdGlvblkuc2V0VGFyZ2V0QXRUaW1lKHNlbGYuX3Bvc1sxXSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSwgMC4xKTtcclxuICAgICAgICBzZWxmLmN0eC5saXN0ZW5lci5wb3NpdGlvblouc2V0VGFyZ2V0QXRUaW1lKHNlbGYuX3Bvc1syXSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSwgMC4xKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzZWxmLmN0eC5saXN0ZW5lci5zZXRQb3NpdGlvbihzZWxmLl9wb3NbMF0sIHNlbGYuX3Bvc1sxXSwgc2VsZi5fcG9zWzJdKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIHNlbGYuX3BvcztcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gc2VsZjtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBHZXQvc2V0IHRoZSBkaXJlY3Rpb24gdGhlIGxpc3RlbmVyIGlzIHBvaW50aW5nIGluIHRoZSAzRCBjYXJ0ZXNpYW4gc3BhY2UuXHJcbiAgICogQSBmcm9udCBhbmQgdXAgdmVjdG9yIG11c3QgYmUgcHJvdmlkZWQuIFRoZSBmcm9udCBpcyB0aGUgZGlyZWN0aW9uIHRoZVxyXG4gICAqIGZhY2Ugb2YgdGhlIGxpc3RlbmVyIGlzIHBvaW50aW5nLCBhbmQgdXAgaXMgdGhlIGRpcmVjdGlvbiB0aGUgdG9wIG9mIHRoZVxyXG4gICAqIGxpc3RlbmVyIGlzIHBvaW50aW5nLiBUaHVzLCB0aGVzZSB2YWx1ZXMgYXJlIGV4cGVjdGVkIHRvIGJlIGF0IHJpZ2h0IGFuZ2xlc1xyXG4gICAqIGZyb20gZWFjaCBvdGhlci5cclxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHggICBUaGUgeC1vcmllbnRhdGlvbiBvZiB0aGUgbGlzdGVuZXIuXHJcbiAgICogQHBhcmFtICB7TnVtYmVyfSB5ICAgVGhlIHktb3JpZW50YXRpb24gb2YgdGhlIGxpc3RlbmVyLlxyXG4gICAqIEBwYXJhbSAge051bWJlcn0geiAgIFRoZSB6LW9yaWVudGF0aW9uIG9mIHRoZSBsaXN0ZW5lci5cclxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHhVcCBUaGUgeC1vcmllbnRhdGlvbiBvZiB0aGUgdG9wIG9mIHRoZSBsaXN0ZW5lci5cclxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHlVcCBUaGUgeS1vcmllbnRhdGlvbiBvZiB0aGUgdG9wIG9mIHRoZSBsaXN0ZW5lci5cclxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHpVcCBUaGUgei1vcmllbnRhdGlvbiBvZiB0aGUgdG9wIG9mIHRoZSBsaXN0ZW5lci5cclxuICAgKiBAcmV0dXJuIHtIb3dsZXIvQXJyYXl9ICAgICBSZXR1cm5zIHNlbGYgb3IgdGhlIGN1cnJlbnQgb3JpZW50YXRpb24gdmVjdG9ycy5cclxuICAgKi9cclxuICBIb3dsZXJHbG9iYWwucHJvdG90eXBlLm9yaWVudGF0aW9uID0gZnVuY3Rpb24oeCwgeSwgeiwgeFVwLCB5VXAsIHpVcCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgIC8vIFN0b3AgcmlnaHQgaGVyZSBpZiBub3QgdXNpbmcgV2ViIEF1ZGlvLlxyXG4gICAgaWYgKCFzZWxmLmN0eCB8fCAhc2VsZi5jdHgubGlzdGVuZXIpIHtcclxuICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2V0IHRoZSBkZWZhdWx0cyBmb3Igb3B0aW9uYWwgJ3knICYgJ3onLlxyXG4gICAgdmFyIG9yID0gc2VsZi5fb3JpZW50YXRpb247XHJcbiAgICB5ID0gKHR5cGVvZiB5ICE9PSAnbnVtYmVyJykgPyBvclsxXSA6IHk7XHJcbiAgICB6ID0gKHR5cGVvZiB6ICE9PSAnbnVtYmVyJykgPyBvclsyXSA6IHo7XHJcbiAgICB4VXAgPSAodHlwZW9mIHhVcCAhPT0gJ251bWJlcicpID8gb3JbM10gOiB4VXA7XHJcbiAgICB5VXAgPSAodHlwZW9mIHlVcCAhPT0gJ251bWJlcicpID8gb3JbNF0gOiB5VXA7XHJcbiAgICB6VXAgPSAodHlwZW9mIHpVcCAhPT0gJ251bWJlcicpID8gb3JbNV0gOiB6VXA7XHJcblxyXG4gICAgaWYgKHR5cGVvZiB4ID09PSAnbnVtYmVyJykge1xyXG4gICAgICBzZWxmLl9vcmllbnRhdGlvbiA9IFt4LCB5LCB6LCB4VXAsIHlVcCwgelVwXTtcclxuXHJcbiAgICAgIGlmICh0eXBlb2Ygc2VsZi5jdHgubGlzdGVuZXIuZm9yd2FyZFggIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgc2VsZi5jdHgubGlzdGVuZXIuZm9yd2FyZFguc2V0VGFyZ2V0QXRUaW1lKHgsIEhvd2xlci5jdHguY3VycmVudFRpbWUsIDAuMSk7XHJcbiAgICAgICAgc2VsZi5jdHgubGlzdGVuZXIuZm9yd2FyZFkuc2V0VGFyZ2V0QXRUaW1lKHksIEhvd2xlci5jdHguY3VycmVudFRpbWUsIDAuMSk7XHJcbiAgICAgICAgc2VsZi5jdHgubGlzdGVuZXIuZm9yd2FyZFouc2V0VGFyZ2V0QXRUaW1lKHosIEhvd2xlci5jdHguY3VycmVudFRpbWUsIDAuMSk7XHJcbiAgICAgICAgc2VsZi5jdHgubGlzdGVuZXIudXBYLnNldFRhcmdldEF0VGltZSh4VXAsIEhvd2xlci5jdHguY3VycmVudFRpbWUsIDAuMSk7XHJcbiAgICAgICAgc2VsZi5jdHgubGlzdGVuZXIudXBZLnNldFRhcmdldEF0VGltZSh5VXAsIEhvd2xlci5jdHguY3VycmVudFRpbWUsIDAuMSk7XHJcbiAgICAgICAgc2VsZi5jdHgubGlzdGVuZXIudXBaLnNldFRhcmdldEF0VGltZSh6VXAsIEhvd2xlci5jdHguY3VycmVudFRpbWUsIDAuMSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc2VsZi5jdHgubGlzdGVuZXIuc2V0T3JpZW50YXRpb24oeCwgeSwgeiwgeFVwLCB5VXAsIHpVcCk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBvcjtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gc2VsZjtcclxuICB9O1xyXG5cclxuICAvKiogR3JvdXAgTWV0aG9kcyAqKi9cclxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuICAvKipcclxuICAgKiBBZGQgbmV3IHByb3BlcnRpZXMgdG8gdGhlIGNvcmUgaW5pdC5cclxuICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gX3N1cGVyIENvcmUgaW5pdCBtZXRob2QuXHJcbiAgICogQHJldHVybiB7SG93bH1cclxuICAgKi9cclxuICBIb3dsLnByb3RvdHlwZS5pbml0ID0gKGZ1bmN0aW9uKF9zdXBlcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKG8pIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgLy8gU2V0dXAgdXNlci1kZWZpbmVkIGRlZmF1bHQgcHJvcGVydGllcy5cclxuICAgICAgc2VsZi5fb3JpZW50YXRpb24gPSBvLm9yaWVudGF0aW9uIHx8IFsxLCAwLCAwXTtcclxuICAgICAgc2VsZi5fc3RlcmVvID0gby5zdGVyZW8gfHwgbnVsbDtcclxuICAgICAgc2VsZi5fcG9zID0gby5wb3MgfHwgbnVsbDtcclxuICAgICAgc2VsZi5fcGFubmVyQXR0ciA9IHtcclxuICAgICAgICBjb25lSW5uZXJBbmdsZTogdHlwZW9mIG8uY29uZUlubmVyQW5nbGUgIT09ICd1bmRlZmluZWQnID8gby5jb25lSW5uZXJBbmdsZSA6IDM2MCxcclxuICAgICAgICBjb25lT3V0ZXJBbmdsZTogdHlwZW9mIG8uY29uZU91dGVyQW5nbGUgIT09ICd1bmRlZmluZWQnID8gby5jb25lT3V0ZXJBbmdsZSA6IDM2MCxcclxuICAgICAgICBjb25lT3V0ZXJHYWluOiB0eXBlb2Ygby5jb25lT3V0ZXJHYWluICE9PSAndW5kZWZpbmVkJyA/IG8uY29uZU91dGVyR2FpbiA6IDAsXHJcbiAgICAgICAgZGlzdGFuY2VNb2RlbDogdHlwZW9mIG8uZGlzdGFuY2VNb2RlbCAhPT0gJ3VuZGVmaW5lZCcgPyBvLmRpc3RhbmNlTW9kZWwgOiAnaW52ZXJzZScsXHJcbiAgICAgICAgbWF4RGlzdGFuY2U6IHR5cGVvZiBvLm1heERpc3RhbmNlICE9PSAndW5kZWZpbmVkJyA/IG8ubWF4RGlzdGFuY2UgOiAxMDAwMCxcclxuICAgICAgICBwYW5uaW5nTW9kZWw6IHR5cGVvZiBvLnBhbm5pbmdNb2RlbCAhPT0gJ3VuZGVmaW5lZCcgPyBvLnBhbm5pbmdNb2RlbCA6ICdIUlRGJyxcclxuICAgICAgICByZWZEaXN0YW5jZTogdHlwZW9mIG8ucmVmRGlzdGFuY2UgIT09ICd1bmRlZmluZWQnID8gby5yZWZEaXN0YW5jZSA6IDEsXHJcbiAgICAgICAgcm9sbG9mZkZhY3RvcjogdHlwZW9mIG8ucm9sbG9mZkZhY3RvciAhPT0gJ3VuZGVmaW5lZCcgPyBvLnJvbGxvZmZGYWN0b3IgOiAxXHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvLyBTZXR1cCBldmVudCBsaXN0ZW5lcnMuXHJcbiAgICAgIHNlbGYuX29uc3RlcmVvID0gby5vbnN0ZXJlbyA/IFt7Zm46IG8ub25zdGVyZW99XSA6IFtdO1xyXG4gICAgICBzZWxmLl9vbnBvcyA9IG8ub25wb3MgPyBbe2ZuOiBvLm9ucG9zfV0gOiBbXTtcclxuICAgICAgc2VsZi5fb25vcmllbnRhdGlvbiA9IG8ub25vcmllbnRhdGlvbiA/IFt7Zm46IG8ub25vcmllbnRhdGlvbn1dIDogW107XHJcblxyXG4gICAgICAvLyBDb21wbGV0ZSBpbml0aWxpemF0aW9uIHdpdGggaG93bGVyLmpzIGNvcmUncyBpbml0IGZ1bmN0aW9uLlxyXG4gICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgbyk7XHJcbiAgICB9O1xyXG4gIH0pKEhvd2wucHJvdG90eXBlLmluaXQpO1xyXG5cclxuICAvKipcclxuICAgKiBHZXQvc2V0IHRoZSBzdGVyZW8gcGFubmluZyBvZiB0aGUgYXVkaW8gc291cmNlIGZvciB0aGlzIHNvdW5kIG9yIGFsbCBpbiB0aGUgZ3JvdXAuXHJcbiAgICogQHBhcmFtICB7TnVtYmVyfSBwYW4gIEEgdmFsdWUgb2YgLTEuMCBpcyBhbGwgdGhlIHdheSBsZWZ0IGFuZCAxLjAgaXMgYWxsIHRoZSB3YXkgcmlnaHQuXHJcbiAgICogQHBhcmFtICB7TnVtYmVyfSBpZCAob3B0aW9uYWwpIFRoZSBzb3VuZCBJRC4gSWYgbm9uZSBpcyBwYXNzZWQsIGFsbCBpbiBncm91cCB3aWxsIGJlIHVwZGF0ZWQuXHJcbiAgICogQHJldHVybiB7SG93bC9OdW1iZXJ9ICAgIFJldHVybnMgc2VsZiBvciB0aGUgY3VycmVudCBzdGVyZW8gcGFubmluZyB2YWx1ZS5cclxuICAgKi9cclxuICBIb3dsLnByb3RvdHlwZS5zdGVyZW8gPSBmdW5jdGlvbihwYW4sIGlkKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgLy8gU3RvcCByaWdodCBoZXJlIGlmIG5vdCB1c2luZyBXZWIgQXVkaW8uXHJcbiAgICBpZiAoIXNlbGYuX3dlYkF1ZGlvKSB7XHJcbiAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIElmIHRoZSBzb3VuZCBoYXNuJ3QgbG9hZGVkLCBhZGQgaXQgdG8gdGhlIGxvYWQgcXVldWUgdG8gY2hhbmdlIHN0ZXJlbyBwYW4gd2hlbiBjYXBhYmxlLlxyXG4gICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJykge1xyXG4gICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcclxuICAgICAgICBldmVudDogJ3N0ZXJlbycsXHJcbiAgICAgICAgYWN0aW9uOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHNlbGYuc3RlcmVvKHBhbiwgaWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgICByZXR1cm4gc2VsZjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDaGVjayBmb3IgUGFubmVyU3RlcmVvTm9kZSBzdXBwb3J0IGFuZCBmYWxsYmFjayB0byBQYW5uZXJOb2RlIGlmIGl0IGRvZXNuJ3QgZXhpc3QuXHJcbiAgICB2YXIgcGFubmVyVHlwZSA9ICh0eXBlb2YgSG93bGVyLmN0eC5jcmVhdGVTdGVyZW9QYW5uZXIgPT09ICd1bmRlZmluZWQnKSA/ICdzcGF0aWFsJyA6ICdzdGVyZW8nO1xyXG5cclxuICAgIC8vIFNldHVwIHRoZSBncm91cCdzIHN0ZXJlbyBwYW5uaW5nIGlmIG5vIElEIGlzIHBhc3NlZC5cclxuICAgIGlmICh0eXBlb2YgaWQgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgIC8vIFJldHVybiB0aGUgZ3JvdXAncyBzdGVyZW8gcGFubmluZyBpZiBubyBwYXJhbWV0ZXJzIGFyZSBwYXNzZWQuXHJcbiAgICAgIGlmICh0eXBlb2YgcGFuID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgIHNlbGYuX3N0ZXJlbyA9IHBhbjtcclxuICAgICAgICBzZWxmLl9wb3MgPSBbcGFuLCAwLCAwXTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gc2VsZi5fc3RlcmVvO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2hhbmdlIHRoZSBzdHJlbyBwYW5uaW5nIG9mIG9uZSBvciBhbGwgc291bmRzIGluIGdyb3VwLlxyXG4gICAgdmFyIGlkcyA9IHNlbGYuX2dldFNvdW5kSWRzKGlkKTtcclxuICAgIGZvciAodmFyIGk9MDsgaTxpZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgLy8gR2V0IHRoZSBzb3VuZC5cclxuICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkc1tpXSk7XHJcblxyXG4gICAgICBpZiAoc291bmQpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHBhbiA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgIHNvdW5kLl9zdGVyZW8gPSBwYW47XHJcbiAgICAgICAgICBzb3VuZC5fcG9zID0gW3BhbiwgMCwgMF07XHJcblxyXG4gICAgICAgICAgaWYgKHNvdW5kLl9ub2RlKSB7XHJcbiAgICAgICAgICAgIC8vIElmIHdlIGFyZSBmYWxsaW5nIGJhY2ssIG1ha2Ugc3VyZSB0aGUgcGFubmluZ01vZGVsIGlzIGVxdWFscG93ZXIuXHJcbiAgICAgICAgICAgIHNvdW5kLl9wYW5uZXJBdHRyLnBhbm5pbmdNb2RlbCA9ICdlcXVhbHBvd2VyJztcclxuXHJcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZXJlIGlzIGEgcGFubmVyIHNldHVwIGFuZCBjcmVhdGUgYSBuZXcgb25lIGlmIG5vdC5cclxuICAgICAgICAgICAgaWYgKCFzb3VuZC5fcGFubmVyIHx8ICFzb3VuZC5fcGFubmVyLnBhbikge1xyXG4gICAgICAgICAgICAgIHNldHVwUGFubmVyKHNvdW5kLCBwYW5uZXJUeXBlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHBhbm5lclR5cGUgPT09ICdzcGF0aWFsJykge1xyXG4gICAgICAgICAgICAgIGlmICh0eXBlb2Ygc291bmQuX3Bhbm5lci5wb3NpdGlvblggIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgICBzb3VuZC5fcGFubmVyLnBvc2l0aW9uWC5zZXRWYWx1ZUF0VGltZShwYW4sIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xyXG4gICAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5wb3NpdGlvblkuc2V0VmFsdWVBdFRpbWUoMCwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XHJcbiAgICAgICAgICAgICAgICBzb3VuZC5fcGFubmVyLnBvc2l0aW9uWi5zZXRWYWx1ZUF0VGltZSgwLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5zZXRQb3NpdGlvbihwYW4sIDAsIDApO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBzb3VuZC5fcGFubmVyLnBhbi5zZXRWYWx1ZUF0VGltZShwYW4sIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgc2VsZi5fZW1pdCgnc3RlcmVvJywgc291bmQuX2lkKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmV0dXJuIHNvdW5kLl9zdGVyZW87XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHNlbGY7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogR2V0L3NldCB0aGUgM0Qgc3BhdGlhbCBwb3NpdGlvbiBvZiB0aGUgYXVkaW8gc291cmNlIGZvciB0aGlzIHNvdW5kIG9yIGdyb3VwIHJlbGF0aXZlIHRvIHRoZSBnbG9iYWwgbGlzdGVuZXIuXHJcbiAgICogQHBhcmFtICB7TnVtYmVyfSB4ICBUaGUgeC1wb3NpdGlvbiBvZiB0aGUgYXVkaW8gc291cmNlLlxyXG4gICAqIEBwYXJhbSAge051bWJlcn0geSAgVGhlIHktcG9zaXRpb24gb2YgdGhlIGF1ZGlvIHNvdXJjZS5cclxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHogIFRoZSB6LXBvc2l0aW9uIG9mIHRoZSBhdWRpbyBzb3VyY2UuXHJcbiAgICogQHBhcmFtICB7TnVtYmVyfSBpZCAob3B0aW9uYWwpIFRoZSBzb3VuZCBJRC4gSWYgbm9uZSBpcyBwYXNzZWQsIGFsbCBpbiBncm91cCB3aWxsIGJlIHVwZGF0ZWQuXHJcbiAgICogQHJldHVybiB7SG93bC9BcnJheX0gICAgUmV0dXJucyBzZWxmIG9yIHRoZSBjdXJyZW50IDNEIHNwYXRpYWwgcG9zaXRpb246IFt4LCB5LCB6XS5cclxuICAgKi9cclxuICBIb3dsLnByb3RvdHlwZS5wb3MgPSBmdW5jdGlvbih4LCB5LCB6LCBpZCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgIC8vIFN0b3AgcmlnaHQgaGVyZSBpZiBub3QgdXNpbmcgV2ViIEF1ZGlvLlxyXG4gICAgaWYgKCFzZWxmLl93ZWJBdWRpbykge1xyXG4gICAgICByZXR1cm4gc2VsZjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCwgYWRkIGl0IHRvIHRoZSBsb2FkIHF1ZXVlIHRvIGNoYW5nZSBwb3NpdGlvbiB3aGVuIGNhcGFibGUuXHJcbiAgICBpZiAoc2VsZi5fc3RhdGUgIT09ICdsb2FkZWQnKSB7XHJcbiAgICAgIHNlbGYuX3F1ZXVlLnB1c2goe1xyXG4gICAgICAgIGV2ZW50OiAncG9zJyxcclxuICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgc2VsZi5wb3MoeCwgeSwgeiwgaWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgICByZXR1cm4gc2VsZjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBTZXQgdGhlIGRlZmF1bHRzIGZvciBvcHRpb25hbCAneScgJiAneicuXHJcbiAgICB5ID0gKHR5cGVvZiB5ICE9PSAnbnVtYmVyJykgPyAwIDogeTtcclxuICAgIHogPSAodHlwZW9mIHogIT09ICdudW1iZXInKSA/IC0wLjUgOiB6O1xyXG5cclxuICAgIC8vIFNldHVwIHRoZSBncm91cCdzIHNwYXRpYWwgcG9zaXRpb24gaWYgbm8gSUQgaXMgcGFzc2VkLlxyXG4gICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgLy8gUmV0dXJuIHRoZSBncm91cCdzIHNwYXRpYWwgcG9zaXRpb24gaWYgbm8gcGFyYW1ldGVycyBhcmUgcGFzc2VkLlxyXG4gICAgICBpZiAodHlwZW9mIHggPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgc2VsZi5fcG9zID0gW3gsIHksIHpdO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBzZWxmLl9wb3M7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBDaGFuZ2UgdGhlIHNwYXRpYWwgcG9zaXRpb24gb2Ygb25lIG9yIGFsbCBzb3VuZHMgaW4gZ3JvdXAuXHJcbiAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoaWQpO1xyXG4gICAgZm9yICh2YXIgaT0wOyBpPGlkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAvLyBHZXQgdGhlIHNvdW5kLlxyXG4gICAgICB2YXIgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRzW2ldKTtcclxuXHJcbiAgICAgIGlmIChzb3VuZCkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgeCA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgIHNvdW5kLl9wb3MgPSBbeCwgeSwgel07XHJcblxyXG4gICAgICAgICAgaWYgKHNvdW5kLl9ub2RlKSB7XHJcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZXJlIGlzIGEgcGFubmVyIHNldHVwIGFuZCBjcmVhdGUgYSBuZXcgb25lIGlmIG5vdC5cclxuICAgICAgICAgICAgaWYgKCFzb3VuZC5fcGFubmVyIHx8IHNvdW5kLl9wYW5uZXIucGFuKSB7XHJcbiAgICAgICAgICAgICAgc2V0dXBQYW5uZXIoc291bmQsICdzcGF0aWFsJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc291bmQuX3Bhbm5lci5wb3NpdGlvblggIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5wb3NpdGlvblguc2V0VmFsdWVBdFRpbWUoeCwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XHJcbiAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5wb3NpdGlvblkuc2V0VmFsdWVBdFRpbWUoeSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XHJcbiAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5wb3NpdGlvblouc2V0VmFsdWVBdFRpbWUoeiwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5zZXRQb3NpdGlvbih4LCB5LCB6KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHNlbGYuX2VtaXQoJ3BvcycsIHNvdW5kLl9pZCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHJldHVybiBzb3VuZC5fcG9zO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBzZWxmO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldC9zZXQgdGhlIGRpcmVjdGlvbiB0aGUgYXVkaW8gc291cmNlIGlzIHBvaW50aW5nIGluIHRoZSAzRCBjYXJ0ZXNpYW4gY29vcmRpbmF0ZVxyXG4gICAqIHNwYWNlLiBEZXBlbmRpbmcgb24gaG93IGRpcmVjdGlvbiB0aGUgc291bmQgaXMsIGJhc2VkIG9uIHRoZSBgY29uZWAgYXR0cmlidXRlcyxcclxuICAgKiBhIHNvdW5kIHBvaW50aW5nIGF3YXkgZnJvbSB0aGUgbGlzdGVuZXIgY2FuIGJlIHF1aWV0IG9yIHNpbGVudC5cclxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHggIFRoZSB4LW9yaWVudGF0aW9uIG9mIHRoZSBzb3VyY2UuXHJcbiAgICogQHBhcmFtICB7TnVtYmVyfSB5ICBUaGUgeS1vcmllbnRhdGlvbiBvZiB0aGUgc291cmNlLlxyXG4gICAqIEBwYXJhbSAge051bWJlcn0geiAgVGhlIHotb3JpZW50YXRpb24gb2YgdGhlIHNvdXJjZS5cclxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkIChvcHRpb25hbCkgVGhlIHNvdW5kIElELiBJZiBub25lIGlzIHBhc3NlZCwgYWxsIGluIGdyb3VwIHdpbGwgYmUgdXBkYXRlZC5cclxuICAgKiBAcmV0dXJuIHtIb3dsL0FycmF5fSAgICBSZXR1cm5zIHNlbGYgb3IgdGhlIGN1cnJlbnQgM0Qgc3BhdGlhbCBvcmllbnRhdGlvbjogW3gsIHksIHpdLlxyXG4gICAqL1xyXG4gIEhvd2wucHJvdG90eXBlLm9yaWVudGF0aW9uID0gZnVuY3Rpb24oeCwgeSwgeiwgaWQpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAvLyBTdG9wIHJpZ2h0IGhlcmUgaWYgbm90IHVzaW5nIFdlYiBBdWRpby5cclxuICAgIGlmICghc2VsZi5fd2ViQXVkaW8pIHtcclxuICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSWYgdGhlIHNvdW5kIGhhc24ndCBsb2FkZWQsIGFkZCBpdCB0byB0aGUgbG9hZCBxdWV1ZSB0byBjaGFuZ2Ugb3JpZW50YXRpb24gd2hlbiBjYXBhYmxlLlxyXG4gICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJykge1xyXG4gICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcclxuICAgICAgICBldmVudDogJ29yaWVudGF0aW9uJyxcclxuICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgc2VsZi5vcmllbnRhdGlvbih4LCB5LCB6LCBpZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFNldCB0aGUgZGVmYXVsdHMgZm9yIG9wdGlvbmFsICd5JyAmICd6Jy5cclxuICAgIHkgPSAodHlwZW9mIHkgIT09ICdudW1iZXInKSA/IHNlbGYuX29yaWVudGF0aW9uWzFdIDogeTtcclxuICAgIHogPSAodHlwZW9mIHogIT09ICdudW1iZXInKSA/IHNlbGYuX29yaWVudGF0aW9uWzJdIDogejtcclxuXHJcbiAgICAvLyBTZXR1cCB0aGUgZ3JvdXAncyBzcGF0aWFsIG9yaWVudGF0aW9uIGlmIG5vIElEIGlzIHBhc3NlZC5cclxuICAgIGlmICh0eXBlb2YgaWQgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgIC8vIFJldHVybiB0aGUgZ3JvdXAncyBzcGF0aWFsIG9yaWVudGF0aW9uIGlmIG5vIHBhcmFtZXRlcnMgYXJlIHBhc3NlZC5cclxuICAgICAgaWYgKHR5cGVvZiB4ID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgIHNlbGYuX29yaWVudGF0aW9uID0gW3gsIHksIHpdO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBzZWxmLl9vcmllbnRhdGlvbjtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIENoYW5nZSB0aGUgc3BhdGlhbCBvcmllbnRhdGlvbiBvZiBvbmUgb3IgYWxsIHNvdW5kcyBpbiBncm91cC5cclxuICAgIHZhciBpZHMgPSBzZWxmLl9nZXRTb3VuZElkcyhpZCk7XHJcbiAgICBmb3IgKHZhciBpPTA7IGk8aWRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIC8vIEdldCB0aGUgc291bmQuXHJcbiAgICAgIHZhciBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZHNbaV0pO1xyXG5cclxuICAgICAgaWYgKHNvdW5kKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB4ID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgICAgc291bmQuX29yaWVudGF0aW9uID0gW3gsIHksIHpdO1xyXG5cclxuICAgICAgICAgIGlmIChzb3VuZC5fbm9kZSkge1xyXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGVyZSBpcyBhIHBhbm5lciBzZXR1cCBhbmQgY3JlYXRlIGEgbmV3IG9uZSBpZiBub3QuXHJcbiAgICAgICAgICAgIGlmICghc291bmQuX3Bhbm5lcikge1xyXG4gICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB3ZSBoYXZlIGEgcG9zaXRpb24gdG8gc2V0dXAgdGhlIG5vZGUgd2l0aC5cclxuICAgICAgICAgICAgICBpZiAoIXNvdW5kLl9wb3MpIHtcclxuICAgICAgICAgICAgICAgIHNvdW5kLl9wb3MgPSBzZWxmLl9wb3MgfHwgWzAsIDAsIC0wLjVdO1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgc2V0dXBQYW5uZXIoc291bmQsICdzcGF0aWFsJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc291bmQuX3Bhbm5lci5vcmllbnRhdGlvblggIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5vcmllbnRhdGlvblguc2V0VmFsdWVBdFRpbWUoeCwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XHJcbiAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5vcmllbnRhdGlvblkuc2V0VmFsdWVBdFRpbWUoeSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XHJcbiAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5vcmllbnRhdGlvblouc2V0VmFsdWVBdFRpbWUoeiwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5zZXRPcmllbnRhdGlvbih4LCB5LCB6KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHNlbGYuX2VtaXQoJ29yaWVudGF0aW9uJywgc291bmQuX2lkKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmV0dXJuIHNvdW5kLl9vcmllbnRhdGlvbjtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gc2VsZjtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBHZXQvc2V0IHRoZSBwYW5uZXIgbm9kZSdzIGF0dHJpYnV0ZXMgZm9yIGEgc291bmQgb3IgZ3JvdXAgb2Ygc291bmRzLlxyXG4gICAqIFRoaXMgbWV0aG9kIGNhbiBvcHRpb25hbGwgdGFrZSAwLCAxIG9yIDIgYXJndW1lbnRzLlxyXG4gICAqICAgcGFubmVyQXR0cigpIC0+IFJldHVybnMgdGhlIGdyb3VwJ3MgdmFsdWVzLlxyXG4gICAqICAgcGFubmVyQXR0cihpZCkgLT4gUmV0dXJucyB0aGUgc291bmQgaWQncyB2YWx1ZXMuXHJcbiAgICogICBwYW5uZXJBdHRyKG8pIC0+IFNldCdzIHRoZSB2YWx1ZXMgb2YgYWxsIHNvdW5kcyBpbiB0aGlzIEhvd2wgZ3JvdXAuXHJcbiAgICogICBwYW5uZXJBdHRyKG8sIGlkKSAtPiBTZXQncyB0aGUgdmFsdWVzIG9mIHBhc3NlZCBzb3VuZCBpZC5cclxuICAgKlxyXG4gICAqICAgQXR0cmlidXRlczpcclxuICAgKiAgICAgY29uZUlubmVyQW5nbGUgLSAoMzYwIGJ5IGRlZmF1bHQpIEEgcGFyYW1ldGVyIGZvciBkaXJlY3Rpb25hbCBhdWRpbyBzb3VyY2VzLCB0aGlzIGlzIGFuIGFuZ2xlLCBpbiBkZWdyZWVzLFxyXG4gICAqICAgICAgICAgICAgICAgICAgICAgIGluc2lkZSBvZiB3aGljaCB0aGVyZSB3aWxsIGJlIG5vIHZvbHVtZSByZWR1Y3Rpb24uXHJcbiAgICogICAgIGNvbmVPdXRlckFuZ2xlIC0gKDM2MCBieSBkZWZhdWx0KSBBIHBhcmFtZXRlciBmb3IgZGlyZWN0aW9uYWwgYXVkaW8gc291cmNlcywgdGhpcyBpcyBhbiBhbmdsZSwgaW4gZGVncmVlcyxcclxuICAgKiAgICAgICAgICAgICAgICAgICAgICBvdXRzaWRlIG9mIHdoaWNoIHRoZSB2b2x1bWUgd2lsbCBiZSByZWR1Y2VkIHRvIGEgY29uc3RhbnQgdmFsdWUgb2YgYGNvbmVPdXRlckdhaW5gLlxyXG4gICAqICAgICBjb25lT3V0ZXJHYWluIC0gKDAgYnkgZGVmYXVsdCkgQSBwYXJhbWV0ZXIgZm9yIGRpcmVjdGlvbmFsIGF1ZGlvIHNvdXJjZXMsIHRoaXMgaXMgdGhlIGdhaW4gb3V0c2lkZSBvZiB0aGVcclxuICAgKiAgICAgICAgICAgICAgICAgICAgIGBjb25lT3V0ZXJBbmdsZWAuIEl0IGlzIGEgbGluZWFyIHZhbHVlIGluIHRoZSByYW5nZSBgWzAsIDFdYC5cclxuICAgKiAgICAgZGlzdGFuY2VNb2RlbCAtICgnaW52ZXJzZScgYnkgZGVmYXVsdCkgRGV0ZXJtaW5lcyBhbGdvcml0aG0gdXNlZCB0byByZWR1Y2Ugdm9sdW1lIGFzIGF1ZGlvIG1vdmVzIGF3YXkgZnJvbVxyXG4gICAqICAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXIuIENhbiBiZSBgbGluZWFyYCwgYGludmVyc2VgIG9yIGBleHBvbmVudGlhbC5cclxuICAgKiAgICAgbWF4RGlzdGFuY2UgLSAoMTAwMDAgYnkgZGVmYXVsdCkgVGhlIG1heGltdW0gZGlzdGFuY2UgYmV0d2VlbiBzb3VyY2UgYW5kIGxpc3RlbmVyLCBhZnRlciB3aGljaCB0aGUgdm9sdW1lXHJcbiAgICogICAgICAgICAgICAgICAgICAgd2lsbCBub3QgYmUgcmVkdWNlZCBhbnkgZnVydGhlci5cclxuICAgKiAgICAgcmVmRGlzdGFuY2UgLSAoMSBieSBkZWZhdWx0KSBBIHJlZmVyZW5jZSBkaXN0YW5jZSBmb3IgcmVkdWNpbmcgdm9sdW1lIGFzIHNvdXJjZSBtb3ZlcyBmdXJ0aGVyIGZyb20gdGhlIGxpc3RlbmVyLlxyXG4gICAqICAgICAgICAgICAgICAgICAgIFRoaXMgaXMgc2ltcGx5IGEgdmFyaWFibGUgb2YgdGhlIGRpc3RhbmNlIG1vZGVsIGFuZCBoYXMgYSBkaWZmZXJlbnQgZWZmZWN0IGRlcGVuZGluZyBvbiB3aGljaCBtb2RlbFxyXG4gICAqICAgICAgICAgICAgICAgICAgIGlzIHVzZWQgYW5kIHRoZSBzY2FsZSBvZiB5b3VyIGNvb3JkaW5hdGVzLiBHZW5lcmFsbHksIHZvbHVtZSB3aWxsIGJlIGVxdWFsIHRvIDEgYXQgdGhpcyBkaXN0YW5jZS5cclxuICAgKiAgICAgcm9sbG9mZkZhY3RvciAtICgxIGJ5IGRlZmF1bHQpIEhvdyBxdWlja2x5IHRoZSB2b2x1bWUgcmVkdWNlcyBhcyBzb3VyY2UgbW92ZXMgZnJvbSBsaXN0ZW5lci4gVGhpcyBpcyBzaW1wbHkgYVxyXG4gICAqICAgICAgICAgICAgICAgICAgICAgdmFyaWFibGUgb2YgdGhlIGRpc3RhbmNlIG1vZGVsIGFuZCBjYW4gYmUgaW4gdGhlIHJhbmdlIG9mIGBbMCwgMV1gIHdpdGggYGxpbmVhcmAgYW5kIGBbMCwgXHUyMjFFXWBcclxuICAgKiAgICAgICAgICAgICAgICAgICAgIHdpdGggYGludmVyc2VgIGFuZCBgZXhwb25lbnRpYWxgLlxyXG4gICAqICAgICBwYW5uaW5nTW9kZWwgLSAoJ0hSVEYnIGJ5IGRlZmF1bHQpIERldGVybWluZXMgd2hpY2ggc3BhdGlhbGl6YXRpb24gYWxnb3JpdGhtIGlzIHVzZWQgdG8gcG9zaXRpb24gYXVkaW8uXHJcbiAgICogICAgICAgICAgICAgICAgICAgICBDYW4gYmUgYEhSVEZgIG9yIGBlcXVhbHBvd2VyYC5cclxuICAgKlxyXG4gICAqIEByZXR1cm4ge0hvd2wvT2JqZWN0fSBSZXR1cm5zIHNlbGYgb3IgY3VycmVudCBwYW5uZXIgYXR0cmlidXRlcy5cclxuICAgKi9cclxuICBIb3dsLnByb3RvdHlwZS5wYW5uZXJBdHRyID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcclxuICAgIHZhciBvLCBpZCwgc291bmQ7XHJcblxyXG4gICAgLy8gU3RvcCByaWdodCBoZXJlIGlmIG5vdCB1c2luZyBXZWIgQXVkaW8uXHJcbiAgICBpZiAoIXNlbGYuX3dlYkF1ZGlvKSB7XHJcbiAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIERldGVybWluZSB0aGUgdmFsdWVzIGJhc2VkIG9uIGFyZ3VtZW50cy5cclxuICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAvLyBSZXR1cm4gdGhlIGdyb3VwJ3MgcGFubmVyIGF0dHJpYnV0ZSB2YWx1ZXMuXHJcbiAgICAgIHJldHVybiBzZWxmLl9wYW5uZXJBdHRyO1xyXG4gICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICBpZiAodHlwZW9mIGFyZ3NbMF0gPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgbyA9IGFyZ3NbMF07XHJcblxyXG4gICAgICAgIC8vIFNldCB0aGUgZ3JvdSdzIHBhbm5lciBhdHRyaWJ1dGUgdmFsdWVzLlxyXG4gICAgICAgIGlmICh0eXBlb2YgaWQgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICBpZiAoIW8ucGFubmVyQXR0cikge1xyXG4gICAgICAgICAgICBvLnBhbm5lckF0dHIgPSB7XHJcbiAgICAgICAgICAgICAgY29uZUlubmVyQW5nbGU6IG8uY29uZUlubmVyQW5nbGUsXHJcbiAgICAgICAgICAgICAgY29uZU91dGVyQW5nbGU6IG8uY29uZU91dGVyQW5nbGUsXHJcbiAgICAgICAgICAgICAgY29uZU91dGVyR2Fpbjogby5jb25lT3V0ZXJHYWluLFxyXG4gICAgICAgICAgICAgIGRpc3RhbmNlTW9kZWw6IG8uZGlzdGFuY2VNb2RlbCxcclxuICAgICAgICAgICAgICBtYXhEaXN0YW5jZTogby5tYXhEaXN0YW5jZSxcclxuICAgICAgICAgICAgICByZWZEaXN0YW5jZTogby5yZWZEaXN0YW5jZSxcclxuICAgICAgICAgICAgICByb2xsb2ZmRmFjdG9yOiBvLnJvbGxvZmZGYWN0b3IsXHJcbiAgICAgICAgICAgICAgcGFubmluZ01vZGVsOiBvLnBhbm5pbmdNb2RlbFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHNlbGYuX3Bhbm5lckF0dHIgPSB7XHJcbiAgICAgICAgICAgIGNvbmVJbm5lckFuZ2xlOiB0eXBlb2Ygby5wYW5uZXJBdHRyLmNvbmVJbm5lckFuZ2xlICE9PSAndW5kZWZpbmVkJyA/IG8ucGFubmVyQXR0ci5jb25lSW5uZXJBbmdsZSA6IHNlbGYuX2NvbmVJbm5lckFuZ2xlLFxyXG4gICAgICAgICAgICBjb25lT3V0ZXJBbmdsZTogdHlwZW9mIG8ucGFubmVyQXR0ci5jb25lT3V0ZXJBbmdsZSAhPT0gJ3VuZGVmaW5lZCcgPyBvLnBhbm5lckF0dHIuY29uZU91dGVyQW5nbGUgOiBzZWxmLl9jb25lT3V0ZXJBbmdsZSxcclxuICAgICAgICAgICAgY29uZU91dGVyR2FpbjogdHlwZW9mIG8ucGFubmVyQXR0ci5jb25lT3V0ZXJHYWluICE9PSAndW5kZWZpbmVkJyA/IG8ucGFubmVyQXR0ci5jb25lT3V0ZXJHYWluIDogc2VsZi5fY29uZU91dGVyR2FpbixcclxuICAgICAgICAgICAgZGlzdGFuY2VNb2RlbDogdHlwZW9mIG8ucGFubmVyQXR0ci5kaXN0YW5jZU1vZGVsICE9PSAndW5kZWZpbmVkJyA/IG8ucGFubmVyQXR0ci5kaXN0YW5jZU1vZGVsIDogc2VsZi5fZGlzdGFuY2VNb2RlbCxcclxuICAgICAgICAgICAgbWF4RGlzdGFuY2U6IHR5cGVvZiBvLnBhbm5lckF0dHIubWF4RGlzdGFuY2UgIT09ICd1bmRlZmluZWQnID8gby5wYW5uZXJBdHRyLm1heERpc3RhbmNlIDogc2VsZi5fbWF4RGlzdGFuY2UsXHJcbiAgICAgICAgICAgIHJlZkRpc3RhbmNlOiB0eXBlb2Ygby5wYW5uZXJBdHRyLnJlZkRpc3RhbmNlICE9PSAndW5kZWZpbmVkJyA/IG8ucGFubmVyQXR0ci5yZWZEaXN0YW5jZSA6IHNlbGYuX3JlZkRpc3RhbmNlLFxyXG4gICAgICAgICAgICByb2xsb2ZmRmFjdG9yOiB0eXBlb2Ygby5wYW5uZXJBdHRyLnJvbGxvZmZGYWN0b3IgIT09ICd1bmRlZmluZWQnID8gby5wYW5uZXJBdHRyLnJvbGxvZmZGYWN0b3IgOiBzZWxmLl9yb2xsb2ZmRmFjdG9yLFxyXG4gICAgICAgICAgICBwYW5uaW5nTW9kZWw6IHR5cGVvZiBvLnBhbm5lckF0dHIucGFubmluZ01vZGVsICE9PSAndW5kZWZpbmVkJyA/IG8ucGFubmVyQXR0ci5wYW5uaW5nTW9kZWwgOiBzZWxmLl9wYW5uaW5nTW9kZWxcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIFJldHVybiB0aGlzIHNvdW5kJ3MgcGFubmVyIGF0dHJpYnV0ZSB2YWx1ZXMuXHJcbiAgICAgICAgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQocGFyc2VJbnQoYXJnc1swXSwgMTApKTtcclxuICAgICAgICByZXR1cm4gc291bmQgPyBzb3VuZC5fcGFubmVyQXR0ciA6IHNlbGYuX3Bhbm5lckF0dHI7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDIpIHtcclxuICAgICAgbyA9IGFyZ3NbMF07XHJcbiAgICAgIGlkID0gcGFyc2VJbnQoYXJnc1sxXSwgMTApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFVwZGF0ZSB0aGUgdmFsdWVzIG9mIHRoZSBzcGVjaWZpZWQgc291bmRzLlxyXG4gICAgdmFyIGlkcyA9IHNlbGYuX2dldFNvdW5kSWRzKGlkKTtcclxuICAgIGZvciAodmFyIGk9MDsgaTxpZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRzW2ldKTtcclxuXHJcbiAgICAgIGlmIChzb3VuZCkge1xyXG4gICAgICAgIC8vIE1lcmdlIHRoZSBuZXcgdmFsdWVzIGludG8gdGhlIHNvdW5kLlxyXG4gICAgICAgIHZhciBwYSA9IHNvdW5kLl9wYW5uZXJBdHRyO1xyXG4gICAgICAgIHBhID0ge1xyXG4gICAgICAgICAgY29uZUlubmVyQW5nbGU6IHR5cGVvZiBvLmNvbmVJbm5lckFuZ2xlICE9PSAndW5kZWZpbmVkJyA/IG8uY29uZUlubmVyQW5nbGUgOiBwYS5jb25lSW5uZXJBbmdsZSxcclxuICAgICAgICAgIGNvbmVPdXRlckFuZ2xlOiB0eXBlb2Ygby5jb25lT3V0ZXJBbmdsZSAhPT0gJ3VuZGVmaW5lZCcgPyBvLmNvbmVPdXRlckFuZ2xlIDogcGEuY29uZU91dGVyQW5nbGUsXHJcbiAgICAgICAgICBjb25lT3V0ZXJHYWluOiB0eXBlb2Ygby5jb25lT3V0ZXJHYWluICE9PSAndW5kZWZpbmVkJyA/IG8uY29uZU91dGVyR2FpbiA6IHBhLmNvbmVPdXRlckdhaW4sXHJcbiAgICAgICAgICBkaXN0YW5jZU1vZGVsOiB0eXBlb2Ygby5kaXN0YW5jZU1vZGVsICE9PSAndW5kZWZpbmVkJyA/IG8uZGlzdGFuY2VNb2RlbCA6IHBhLmRpc3RhbmNlTW9kZWwsXHJcbiAgICAgICAgICBtYXhEaXN0YW5jZTogdHlwZW9mIG8ubWF4RGlzdGFuY2UgIT09ICd1bmRlZmluZWQnID8gby5tYXhEaXN0YW5jZSA6IHBhLm1heERpc3RhbmNlLFxyXG4gICAgICAgICAgcmVmRGlzdGFuY2U6IHR5cGVvZiBvLnJlZkRpc3RhbmNlICE9PSAndW5kZWZpbmVkJyA/IG8ucmVmRGlzdGFuY2UgOiBwYS5yZWZEaXN0YW5jZSxcclxuICAgICAgICAgIHJvbGxvZmZGYWN0b3I6IHR5cGVvZiBvLnJvbGxvZmZGYWN0b3IgIT09ICd1bmRlZmluZWQnID8gby5yb2xsb2ZmRmFjdG9yIDogcGEucm9sbG9mZkZhY3RvcixcclxuICAgICAgICAgIHBhbm5pbmdNb2RlbDogdHlwZW9mIG8ucGFubmluZ01vZGVsICE9PSAndW5kZWZpbmVkJyA/IG8ucGFubmluZ01vZGVsIDogcGEucGFubmluZ01vZGVsXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IHBhbm5lciBub2RlIGlmIG9uZSBkb2Vzbid0IGFscmVhZHkgZXhpc3QuXHJcbiAgICAgICAgdmFyIHBhbm5lciA9IHNvdW5kLl9wYW5uZXI7XHJcbiAgICAgICAgaWYgKCFwYW5uZXIpIHtcclxuICAgICAgICAgIC8vIE1ha2Ugc3VyZSB3ZSBoYXZlIGEgcG9zaXRpb24gdG8gc2V0dXAgdGhlIG5vZGUgd2l0aC5cclxuICAgICAgICAgIGlmICghc291bmQuX3Bvcykge1xyXG4gICAgICAgICAgICBzb3VuZC5fcG9zID0gc2VsZi5fcG9zIHx8IFswLCAwLCAtMC41XTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBDcmVhdGUgYSBuZXcgcGFubmVyIG5vZGUuXHJcbiAgICAgICAgICBzZXR1cFBhbm5lcihzb3VuZCwgJ3NwYXRpYWwnKTtcclxuICAgICAgICAgIHBhbm5lciA9IHNvdW5kLl9wYW5uZXJcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgcGFubmVyIHZhbHVlcyBvciBjcmVhdGUgYSBuZXcgcGFubmVyIGlmIG5vbmUgZXhpc3RzLlxyXG4gICAgICAgIHBhbm5lci5jb25lSW5uZXJBbmdsZSA9IHBhLmNvbmVJbm5lckFuZ2xlO1xyXG4gICAgICAgIHBhbm5lci5jb25lT3V0ZXJBbmdsZSA9IHBhLmNvbmVPdXRlckFuZ2xlO1xyXG4gICAgICAgIHBhbm5lci5jb25lT3V0ZXJHYWluID0gcGEuY29uZU91dGVyR2FpbjtcclxuICAgICAgICBwYW5uZXIuZGlzdGFuY2VNb2RlbCA9IHBhLmRpc3RhbmNlTW9kZWw7XHJcbiAgICAgICAgcGFubmVyLm1heERpc3RhbmNlID0gcGEubWF4RGlzdGFuY2U7XHJcbiAgICAgICAgcGFubmVyLnJlZkRpc3RhbmNlID0gcGEucmVmRGlzdGFuY2U7XHJcbiAgICAgICAgcGFubmVyLnJvbGxvZmZGYWN0b3IgPSBwYS5yb2xsb2ZmRmFjdG9yO1xyXG4gICAgICAgIHBhbm5lci5wYW5uaW5nTW9kZWwgPSBwYS5wYW5uaW5nTW9kZWw7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gc2VsZjtcclxuICB9O1xyXG5cclxuICAvKiogU2luZ2xlIFNvdW5kIE1ldGhvZHMgKiovXHJcbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbiAgLyoqXHJcbiAgICogQWRkIG5ldyBwcm9wZXJ0aWVzIHRvIHRoZSBjb3JlIFNvdW5kIGluaXQuXHJcbiAgICogQHBhcmFtICB7RnVuY3Rpb259IF9zdXBlciBDb3JlIFNvdW5kIGluaXQgbWV0aG9kLlxyXG4gICAqIEByZXR1cm4ge1NvdW5kfVxyXG4gICAqL1xyXG4gIFNvdW5kLnByb3RvdHlwZS5pbml0ID0gKGZ1bmN0aW9uKF9zdXBlcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgIHZhciBwYXJlbnQgPSBzZWxmLl9wYXJlbnQ7XHJcblxyXG4gICAgICAvLyBTZXR1cCB1c2VyLWRlZmluZWQgZGVmYXVsdCBwcm9wZXJ0aWVzLlxyXG4gICAgICBzZWxmLl9vcmllbnRhdGlvbiA9IHBhcmVudC5fb3JpZW50YXRpb247XHJcbiAgICAgIHNlbGYuX3N0ZXJlbyA9IHBhcmVudC5fc3RlcmVvO1xyXG4gICAgICBzZWxmLl9wb3MgPSBwYXJlbnQuX3BvcztcclxuICAgICAgc2VsZi5fcGFubmVyQXR0ciA9IHBhcmVudC5fcGFubmVyQXR0cjtcclxuXHJcbiAgICAgIC8vIENvbXBsZXRlIGluaXRpbGl6YXRpb24gd2l0aCBob3dsZXIuanMgY29yZSBTb3VuZCdzIGluaXQgZnVuY3Rpb24uXHJcbiAgICAgIF9zdXBlci5jYWxsKHRoaXMpO1xyXG5cclxuICAgICAgLy8gSWYgYSBzdGVyZW8gb3IgcG9zaXRpb24gd2FzIHNwZWNpZmllZCwgc2V0IGl0IHVwLlxyXG4gICAgICBpZiAoc2VsZi5fc3RlcmVvKSB7XHJcbiAgICAgICAgcGFyZW50LnN0ZXJlbyhzZWxmLl9zdGVyZW8pO1xyXG4gICAgICB9IGVsc2UgaWYgKHNlbGYuX3Bvcykge1xyXG4gICAgICAgIHBhcmVudC5wb3Moc2VsZi5fcG9zWzBdLCBzZWxmLl9wb3NbMV0sIHNlbGYuX3Bvc1syXSwgc2VsZi5faWQpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH0pKFNvdW5kLnByb3RvdHlwZS5pbml0KTtcclxuXHJcbiAgLyoqXHJcbiAgICogT3ZlcnJpZGUgdGhlIFNvdW5kLnJlc2V0IG1ldGhvZCB0byBjbGVhbiB1cCBwcm9wZXJ0aWVzIGZyb20gdGhlIHNwYXRpYWwgcGx1Z2luLlxyXG4gICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBfc3VwZXIgU291bmQgcmVzZXQgbWV0aG9kLlxyXG4gICAqIEByZXR1cm4ge1NvdW5kfVxyXG4gICAqL1xyXG4gIFNvdW5kLnByb3RvdHlwZS5yZXNldCA9IChmdW5jdGlvbihfc3VwZXIpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICB2YXIgcGFyZW50ID0gc2VsZi5fcGFyZW50O1xyXG5cclxuICAgICAgLy8gUmVzZXQgYWxsIHNwYXRpYWwgcGx1Z2luIHByb3BlcnRpZXMgb24gdGhpcyBzb3VuZC5cclxuICAgICAgc2VsZi5fb3JpZW50YXRpb24gPSBwYXJlbnQuX29yaWVudGF0aW9uO1xyXG4gICAgICBzZWxmLl9zdGVyZW8gPSBwYXJlbnQuX3N0ZXJlbztcclxuICAgICAgc2VsZi5fcG9zID0gcGFyZW50Ll9wb3M7XHJcbiAgICAgIHNlbGYuX3Bhbm5lckF0dHIgPSBwYXJlbnQuX3Bhbm5lckF0dHI7XHJcblxyXG4gICAgICAvLyBJZiBhIHN0ZXJlbyBvciBwb3NpdGlvbiB3YXMgc3BlY2lmaWVkLCBzZXQgaXQgdXAuXHJcbiAgICAgIGlmIChzZWxmLl9zdGVyZW8pIHtcclxuICAgICAgICBwYXJlbnQuc3RlcmVvKHNlbGYuX3N0ZXJlbyk7XHJcbiAgICAgIH0gZWxzZSBpZiAoc2VsZi5fcG9zKSB7XHJcbiAgICAgICAgcGFyZW50LnBvcyhzZWxmLl9wb3NbMF0sIHNlbGYuX3Bvc1sxXSwgc2VsZi5fcG9zWzJdLCBzZWxmLl9pZCk7XHJcbiAgICAgIH0gZWxzZSBpZiAoc2VsZi5fcGFubmVyKSB7XHJcbiAgICAgICAgLy8gRGlzY29ubmVjdCB0aGUgcGFubmVyLlxyXG4gICAgICAgIHNlbGYuX3Bhbm5lci5kaXNjb25uZWN0KDApO1xyXG4gICAgICAgIHNlbGYuX3Bhbm5lciA9IHVuZGVmaW5lZDtcclxuICAgICAgICBwYXJlbnQuX3JlZnJlc2hCdWZmZXIoc2VsZik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIENvbXBsZXRlIHJlc2V0dGluZyBvZiB0aGUgc291bmQuXHJcbiAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzKTtcclxuICAgIH07XHJcbiAgfSkoU291bmQucHJvdG90eXBlLnJlc2V0KTtcclxuXHJcbiAgLyoqIEhlbHBlciBNZXRob2RzICoqL1xyXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4gIC8qKlxyXG4gICAqIENyZWF0ZSBhIG5ldyBwYW5uZXIgbm9kZSBhbmQgc2F2ZSBpdCBvbiB0aGUgc291bmQuXHJcbiAgICogQHBhcmFtICB7U291bmR9IHNvdW5kIFNwZWNpZmljIHNvdW5kIHRvIHNldHVwIHBhbm5pbmcgb24uXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgVHlwZSBvZiBwYW5uZXIgdG8gY3JlYXRlOiAnc3RlcmVvJyBvciAnc3BhdGlhbCcuXHJcbiAgICovXHJcbiAgdmFyIHNldHVwUGFubmVyID0gZnVuY3Rpb24oc291bmQsIHR5cGUpIHtcclxuICAgIHR5cGUgPSB0eXBlIHx8ICdzcGF0aWFsJztcclxuXHJcbiAgICAvLyBDcmVhdGUgdGhlIG5ldyBwYW5uZXIgbm9kZS5cclxuICAgIGlmICh0eXBlID09PSAnc3BhdGlhbCcpIHtcclxuICAgICAgc291bmQuX3Bhbm5lciA9IEhvd2xlci5jdHguY3JlYXRlUGFubmVyKCk7XHJcbiAgICAgIHNvdW5kLl9wYW5uZXIuY29uZUlubmVyQW5nbGUgPSBzb3VuZC5fcGFubmVyQXR0ci5jb25lSW5uZXJBbmdsZTtcclxuICAgICAgc291bmQuX3Bhbm5lci5jb25lT3V0ZXJBbmdsZSA9IHNvdW5kLl9wYW5uZXJBdHRyLmNvbmVPdXRlckFuZ2xlO1xyXG4gICAgICBzb3VuZC5fcGFubmVyLmNvbmVPdXRlckdhaW4gPSBzb3VuZC5fcGFubmVyQXR0ci5jb25lT3V0ZXJHYWluO1xyXG4gICAgICBzb3VuZC5fcGFubmVyLmRpc3RhbmNlTW9kZWwgPSBzb3VuZC5fcGFubmVyQXR0ci5kaXN0YW5jZU1vZGVsO1xyXG4gICAgICBzb3VuZC5fcGFubmVyLm1heERpc3RhbmNlID0gc291bmQuX3Bhbm5lckF0dHIubWF4RGlzdGFuY2U7XHJcbiAgICAgIHNvdW5kLl9wYW5uZXIucmVmRGlzdGFuY2UgPSBzb3VuZC5fcGFubmVyQXR0ci5yZWZEaXN0YW5jZTtcclxuICAgICAgc291bmQuX3Bhbm5lci5yb2xsb2ZmRmFjdG9yID0gc291bmQuX3Bhbm5lckF0dHIucm9sbG9mZkZhY3RvcjtcclxuICAgICAgc291bmQuX3Bhbm5lci5wYW5uaW5nTW9kZWwgPSBzb3VuZC5fcGFubmVyQXR0ci5wYW5uaW5nTW9kZWw7XHJcblxyXG4gICAgICBpZiAodHlwZW9mIHNvdW5kLl9wYW5uZXIucG9zaXRpb25YICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIHNvdW5kLl9wYW5uZXIucG9zaXRpb25YLnNldFZhbHVlQXRUaW1lKHNvdW5kLl9wb3NbMF0sIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xyXG4gICAgICAgIHNvdW5kLl9wYW5uZXIucG9zaXRpb25ZLnNldFZhbHVlQXRUaW1lKHNvdW5kLl9wb3NbMV0sIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xyXG4gICAgICAgIHNvdW5kLl9wYW5uZXIucG9zaXRpb25aLnNldFZhbHVlQXRUaW1lKHNvdW5kLl9wb3NbMl0sIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNvdW5kLl9wYW5uZXIuc2V0UG9zaXRpb24oc291bmQuX3Bvc1swXSwgc291bmQuX3Bvc1sxXSwgc291bmQuX3Bvc1syXSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh0eXBlb2Ygc291bmQuX3Bhbm5lci5vcmllbnRhdGlvblggIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgc291bmQuX3Bhbm5lci5vcmllbnRhdGlvblguc2V0VmFsdWVBdFRpbWUoc291bmQuX29yaWVudGF0aW9uWzBdLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcclxuICAgICAgICBzb3VuZC5fcGFubmVyLm9yaWVudGF0aW9uWS5zZXRWYWx1ZUF0VGltZShzb3VuZC5fb3JpZW50YXRpb25bMV0sIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xyXG4gICAgICAgIHNvdW5kLl9wYW5uZXIub3JpZW50YXRpb25aLnNldFZhbHVlQXRUaW1lKHNvdW5kLl9vcmllbnRhdGlvblsyXSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc291bmQuX3Bhbm5lci5zZXRPcmllbnRhdGlvbihzb3VuZC5fb3JpZW50YXRpb25bMF0sIHNvdW5kLl9vcmllbnRhdGlvblsxXSwgc291bmQuX29yaWVudGF0aW9uWzJdKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgc291bmQuX3Bhbm5lciA9IEhvd2xlci5jdHguY3JlYXRlU3RlcmVvUGFubmVyKCk7XHJcbiAgICAgIHNvdW5kLl9wYW5uZXIucGFuLnNldFZhbHVlQXRUaW1lKHNvdW5kLl9zdGVyZW8sIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHNvdW5kLl9wYW5uZXIuY29ubmVjdChzb3VuZC5fbm9kZSk7XHJcblxyXG4gICAgLy8gVXBkYXRlIHRoZSBjb25uZWN0aW9ucy5cclxuICAgIGlmICghc291bmQuX3BhdXNlZCkge1xyXG4gICAgICBzb3VuZC5fcGFyZW50LnBhdXNlKHNvdW5kLl9pZCwgdHJ1ZSkucGxheShzb3VuZC5faWQsIHRydWUpO1xyXG4gICAgfVxyXG4gIH07XHJcbn0pKCk7XHJcbiIsICIndXNlIHN0cmljdCc7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGVhcmN1dDtcclxubW9kdWxlLmV4cG9ydHMuZGVmYXVsdCA9IGVhcmN1dDtcclxuXHJcbmZ1bmN0aW9uIGVhcmN1dChkYXRhLCBob2xlSW5kaWNlcywgZGltKSB7XHJcblxyXG4gICAgZGltID0gZGltIHx8IDI7XHJcblxyXG4gICAgdmFyIGhhc0hvbGVzID0gaG9sZUluZGljZXMgJiYgaG9sZUluZGljZXMubGVuZ3RoLFxyXG4gICAgICAgIG91dGVyTGVuID0gaGFzSG9sZXMgPyBob2xlSW5kaWNlc1swXSAqIGRpbSA6IGRhdGEubGVuZ3RoLFxyXG4gICAgICAgIG91dGVyTm9kZSA9IGxpbmtlZExpc3QoZGF0YSwgMCwgb3V0ZXJMZW4sIGRpbSwgdHJ1ZSksXHJcbiAgICAgICAgdHJpYW5nbGVzID0gW107XHJcblxyXG4gICAgaWYgKCFvdXRlck5vZGUgfHwgb3V0ZXJOb2RlLm5leHQgPT09IG91dGVyTm9kZS5wcmV2KSByZXR1cm4gdHJpYW5nbGVzO1xyXG5cclxuICAgIHZhciBtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZLCB4LCB5LCBpbnZTaXplO1xyXG5cclxuICAgIGlmIChoYXNIb2xlcykgb3V0ZXJOb2RlID0gZWxpbWluYXRlSG9sZXMoZGF0YSwgaG9sZUluZGljZXMsIG91dGVyTm9kZSwgZGltKTtcclxuXHJcbiAgICAvLyBpZiB0aGUgc2hhcGUgaXMgbm90IHRvbyBzaW1wbGUsIHdlJ2xsIHVzZSB6LW9yZGVyIGN1cnZlIGhhc2ggbGF0ZXI7IGNhbGN1bGF0ZSBwb2x5Z29uIGJib3hcclxuICAgIGlmIChkYXRhLmxlbmd0aCA+IDgwICogZGltKSB7XHJcbiAgICAgICAgbWluWCA9IG1heFggPSBkYXRhWzBdO1xyXG4gICAgICAgIG1pblkgPSBtYXhZID0gZGF0YVsxXTtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IGRpbTsgaSA8IG91dGVyTGVuOyBpICs9IGRpbSkge1xyXG4gICAgICAgICAgICB4ID0gZGF0YVtpXTtcclxuICAgICAgICAgICAgeSA9IGRhdGFbaSArIDFdO1xyXG4gICAgICAgICAgICBpZiAoeCA8IG1pblgpIG1pblggPSB4O1xyXG4gICAgICAgICAgICBpZiAoeSA8IG1pblkpIG1pblkgPSB5O1xyXG4gICAgICAgICAgICBpZiAoeCA+IG1heFgpIG1heFggPSB4O1xyXG4gICAgICAgICAgICBpZiAoeSA+IG1heFkpIG1heFkgPSB5O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gbWluWCwgbWluWSBhbmQgaW52U2l6ZSBhcmUgbGF0ZXIgdXNlZCB0byB0cmFuc2Zvcm0gY29vcmRzIGludG8gaW50ZWdlcnMgZm9yIHotb3JkZXIgY2FsY3VsYXRpb25cclxuICAgICAgICBpbnZTaXplID0gTWF0aC5tYXgobWF4WCAtIG1pblgsIG1heFkgLSBtaW5ZKTtcclxuICAgICAgICBpbnZTaXplID0gaW52U2l6ZSAhPT0gMCA/IDMyNzY3IC8gaW52U2l6ZSA6IDA7XHJcbiAgICB9XHJcblxyXG4gICAgZWFyY3V0TGlua2VkKG91dGVyTm9kZSwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUsIDApO1xyXG5cclxuICAgIHJldHVybiB0cmlhbmdsZXM7XHJcbn1cclxuXHJcbi8vIGNyZWF0ZSBhIGNpcmN1bGFyIGRvdWJseSBsaW5rZWQgbGlzdCBmcm9tIHBvbHlnb24gcG9pbnRzIGluIHRoZSBzcGVjaWZpZWQgd2luZGluZyBvcmRlclxyXG5mdW5jdGlvbiBsaW5rZWRMaXN0KGRhdGEsIHN0YXJ0LCBlbmQsIGRpbSwgY2xvY2t3aXNlKSB7XHJcbiAgICB2YXIgaSwgbGFzdDtcclxuXHJcbiAgICBpZiAoY2xvY2t3aXNlID09PSAoc2lnbmVkQXJlYShkYXRhLCBzdGFydCwgZW5kLCBkaW0pID4gMCkpIHtcclxuICAgICAgICBmb3IgKGkgPSBzdGFydDsgaSA8IGVuZDsgaSArPSBkaW0pIGxhc3QgPSBpbnNlcnROb2RlKGksIGRhdGFbaV0sIGRhdGFbaSArIDFdLCBsYXN0KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZm9yIChpID0gZW5kIC0gZGltOyBpID49IHN0YXJ0OyBpIC09IGRpbSkgbGFzdCA9IGluc2VydE5vZGUoaSwgZGF0YVtpXSwgZGF0YVtpICsgMV0sIGxhc3QpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChsYXN0ICYmIGVxdWFscyhsYXN0LCBsYXN0Lm5leHQpKSB7XHJcbiAgICAgICAgcmVtb3ZlTm9kZShsYXN0KTtcclxuICAgICAgICBsYXN0ID0gbGFzdC5uZXh0O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBsYXN0O1xyXG59XHJcblxyXG4vLyBlbGltaW5hdGUgY29saW5lYXIgb3IgZHVwbGljYXRlIHBvaW50c1xyXG5mdW5jdGlvbiBmaWx0ZXJQb2ludHMoc3RhcnQsIGVuZCkge1xyXG4gICAgaWYgKCFzdGFydCkgcmV0dXJuIHN0YXJ0O1xyXG4gICAgaWYgKCFlbmQpIGVuZCA9IHN0YXJ0O1xyXG5cclxuICAgIHZhciBwID0gc3RhcnQsXHJcbiAgICAgICAgYWdhaW47XHJcbiAgICBkbyB7XHJcbiAgICAgICAgYWdhaW4gPSBmYWxzZTtcclxuXHJcbiAgICAgICAgaWYgKCFwLnN0ZWluZXIgJiYgKGVxdWFscyhwLCBwLm5leHQpIHx8IGFyZWEocC5wcmV2LCBwLCBwLm5leHQpID09PSAwKSkge1xyXG4gICAgICAgICAgICByZW1vdmVOb2RlKHApO1xyXG4gICAgICAgICAgICBwID0gZW5kID0gcC5wcmV2O1xyXG4gICAgICAgICAgICBpZiAocCA9PT0gcC5uZXh0KSBicmVhaztcclxuICAgICAgICAgICAgYWdhaW4gPSB0cnVlO1xyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBwID0gcC5uZXh0O1xyXG4gICAgICAgIH1cclxuICAgIH0gd2hpbGUgKGFnYWluIHx8IHAgIT09IGVuZCk7XHJcblxyXG4gICAgcmV0dXJuIGVuZDtcclxufVxyXG5cclxuLy8gbWFpbiBlYXIgc2xpY2luZyBsb29wIHdoaWNoIHRyaWFuZ3VsYXRlcyBhIHBvbHlnb24gKGdpdmVuIGFzIGEgbGlua2VkIGxpc3QpXHJcbmZ1bmN0aW9uIGVhcmN1dExpbmtlZChlYXIsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplLCBwYXNzKSB7XHJcbiAgICBpZiAoIWVhcikgcmV0dXJuO1xyXG5cclxuICAgIC8vIGludGVybGluayBwb2x5Z29uIG5vZGVzIGluIHotb3JkZXJcclxuICAgIGlmICghcGFzcyAmJiBpbnZTaXplKSBpbmRleEN1cnZlKGVhciwgbWluWCwgbWluWSwgaW52U2l6ZSk7XHJcblxyXG4gICAgdmFyIHN0b3AgPSBlYXIsXHJcbiAgICAgICAgcHJldiwgbmV4dDtcclxuXHJcbiAgICAvLyBpdGVyYXRlIHRocm91Z2ggZWFycywgc2xpY2luZyB0aGVtIG9uZSBieSBvbmVcclxuICAgIHdoaWxlIChlYXIucHJldiAhPT0gZWFyLm5leHQpIHtcclxuICAgICAgICBwcmV2ID0gZWFyLnByZXY7XHJcbiAgICAgICAgbmV4dCA9IGVhci5uZXh0O1xyXG5cclxuICAgICAgICBpZiAoaW52U2l6ZSA/IGlzRWFySGFzaGVkKGVhciwgbWluWCwgbWluWSwgaW52U2l6ZSkgOiBpc0VhcihlYXIpKSB7XHJcbiAgICAgICAgICAgIC8vIGN1dCBvZmYgdGhlIHRyaWFuZ2xlXHJcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKHByZXYuaSAvIGRpbSB8IDApO1xyXG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChlYXIuaSAvIGRpbSB8IDApO1xyXG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChuZXh0LmkgLyBkaW0gfCAwKTtcclxuXHJcbiAgICAgICAgICAgIHJlbW92ZU5vZGUoZWFyKTtcclxuXHJcbiAgICAgICAgICAgIC8vIHNraXBwaW5nIHRoZSBuZXh0IHZlcnRleCBsZWFkcyB0byBsZXNzIHNsaXZlciB0cmlhbmdsZXNcclxuICAgICAgICAgICAgZWFyID0gbmV4dC5uZXh0O1xyXG4gICAgICAgICAgICBzdG9wID0gbmV4dC5uZXh0O1xyXG5cclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBlYXIgPSBuZXh0O1xyXG5cclxuICAgICAgICAvLyBpZiB3ZSBsb29wZWQgdGhyb3VnaCB0aGUgd2hvbGUgcmVtYWluaW5nIHBvbHlnb24gYW5kIGNhbid0IGZpbmQgYW55IG1vcmUgZWFyc1xyXG4gICAgICAgIGlmIChlYXIgPT09IHN0b3ApIHtcclxuICAgICAgICAgICAgLy8gdHJ5IGZpbHRlcmluZyBwb2ludHMgYW5kIHNsaWNpbmcgYWdhaW5cclxuICAgICAgICAgICAgaWYgKCFwYXNzKSB7XHJcbiAgICAgICAgICAgICAgICBlYXJjdXRMaW5rZWQoZmlsdGVyUG9pbnRzKGVhciksIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplLCAxKTtcclxuXHJcbiAgICAgICAgICAgIC8vIGlmIHRoaXMgZGlkbid0IHdvcmssIHRyeSBjdXJpbmcgYWxsIHNtYWxsIHNlbGYtaW50ZXJzZWN0aW9ucyBsb2NhbGx5XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocGFzcyA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgZWFyID0gY3VyZUxvY2FsSW50ZXJzZWN0aW9ucyhmaWx0ZXJQb2ludHMoZWFyKSwgdHJpYW5nbGVzLCBkaW0pO1xyXG4gICAgICAgICAgICAgICAgZWFyY3V0TGlua2VkKGVhciwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUsIDIpO1xyXG5cclxuICAgICAgICAgICAgLy8gYXMgYSBsYXN0IHJlc29ydCwgdHJ5IHNwbGl0dGluZyB0aGUgcmVtYWluaW5nIHBvbHlnb24gaW50byB0d29cclxuICAgICAgICAgICAgfSBlbHNlIGlmIChwYXNzID09PSAyKSB7XHJcbiAgICAgICAgICAgICAgICBzcGxpdEVhcmN1dChlYXIsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG4vLyBjaGVjayB3aGV0aGVyIGEgcG9seWdvbiBub2RlIGZvcm1zIGEgdmFsaWQgZWFyIHdpdGggYWRqYWNlbnQgbm9kZXNcclxuZnVuY3Rpb24gaXNFYXIoZWFyKSB7XHJcbiAgICB2YXIgYSA9IGVhci5wcmV2LFxyXG4gICAgICAgIGIgPSBlYXIsXHJcbiAgICAgICAgYyA9IGVhci5uZXh0O1xyXG5cclxuICAgIGlmIChhcmVhKGEsIGIsIGMpID49IDApIHJldHVybiBmYWxzZTsgLy8gcmVmbGV4LCBjYW4ndCBiZSBhbiBlYXJcclxuXHJcbiAgICAvLyBub3cgbWFrZSBzdXJlIHdlIGRvbid0IGhhdmUgb3RoZXIgcG9pbnRzIGluc2lkZSB0aGUgcG90ZW50aWFsIGVhclxyXG4gICAgdmFyIGF4ID0gYS54LCBieCA9IGIueCwgY3ggPSBjLngsIGF5ID0gYS55LCBieSA9IGIueSwgY3kgPSBjLnk7XHJcblxyXG4gICAgLy8gdHJpYW5nbGUgYmJveDsgbWluICYgbWF4IGFyZSBjYWxjdWxhdGVkIGxpa2UgdGhpcyBmb3Igc3BlZWRcclxuICAgIHZhciB4MCA9IGF4IDwgYnggPyAoYXggPCBjeCA/IGF4IDogY3gpIDogKGJ4IDwgY3ggPyBieCA6IGN4KSxcclxuICAgICAgICB5MCA9IGF5IDwgYnkgPyAoYXkgPCBjeSA/IGF5IDogY3kpIDogKGJ5IDwgY3kgPyBieSA6IGN5KSxcclxuICAgICAgICB4MSA9IGF4ID4gYnggPyAoYXggPiBjeCA/IGF4IDogY3gpIDogKGJ4ID4gY3ggPyBieCA6IGN4KSxcclxuICAgICAgICB5MSA9IGF5ID4gYnkgPyAoYXkgPiBjeSA/IGF5IDogY3kpIDogKGJ5ID4gY3kgPyBieSA6IGN5KTtcclxuXHJcbiAgICB2YXIgcCA9IGMubmV4dDtcclxuICAgIHdoaWxlIChwICE9PSBhKSB7XHJcbiAgICAgICAgaWYgKHAueCA+PSB4MCAmJiBwLnggPD0geDEgJiYgcC55ID49IHkwICYmIHAueSA8PSB5MSAmJlxyXG4gICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoYXgsIGF5LCBieCwgYnksIGN4LCBjeSwgcC54LCBwLnkpICYmXHJcbiAgICAgICAgICAgIGFyZWEocC5wcmV2LCBwLCBwLm5leHQpID49IDApIHJldHVybiBmYWxzZTtcclxuICAgICAgICBwID0gcC5uZXh0O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0cnVlO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpc0Vhckhhc2hlZChlYXIsIG1pblgsIG1pblksIGludlNpemUpIHtcclxuICAgIHZhciBhID0gZWFyLnByZXYsXHJcbiAgICAgICAgYiA9IGVhcixcclxuICAgICAgICBjID0gZWFyLm5leHQ7XHJcblxyXG4gICAgaWYgKGFyZWEoYSwgYiwgYykgPj0gMCkgcmV0dXJuIGZhbHNlOyAvLyByZWZsZXgsIGNhbid0IGJlIGFuIGVhclxyXG5cclxuICAgIHZhciBheCA9IGEueCwgYnggPSBiLngsIGN4ID0gYy54LCBheSA9IGEueSwgYnkgPSBiLnksIGN5ID0gYy55O1xyXG5cclxuICAgIC8vIHRyaWFuZ2xlIGJib3g7IG1pbiAmIG1heCBhcmUgY2FsY3VsYXRlZCBsaWtlIHRoaXMgZm9yIHNwZWVkXHJcbiAgICB2YXIgeDAgPSBheCA8IGJ4ID8gKGF4IDwgY3ggPyBheCA6IGN4KSA6IChieCA8IGN4ID8gYnggOiBjeCksXHJcbiAgICAgICAgeTAgPSBheSA8IGJ5ID8gKGF5IDwgY3kgPyBheSA6IGN5KSA6IChieSA8IGN5ID8gYnkgOiBjeSksXHJcbiAgICAgICAgeDEgPSBheCA+IGJ4ID8gKGF4ID4gY3ggPyBheCA6IGN4KSA6IChieCA+IGN4ID8gYnggOiBjeCksXHJcbiAgICAgICAgeTEgPSBheSA+IGJ5ID8gKGF5ID4gY3kgPyBheSA6IGN5KSA6IChieSA+IGN5ID8gYnkgOiBjeSk7XHJcblxyXG4gICAgLy8gei1vcmRlciByYW5nZSBmb3IgdGhlIGN1cnJlbnQgdHJpYW5nbGUgYmJveDtcclxuICAgIHZhciBtaW5aID0gek9yZGVyKHgwLCB5MCwgbWluWCwgbWluWSwgaW52U2l6ZSksXHJcbiAgICAgICAgbWF4WiA9IHpPcmRlcih4MSwgeTEsIG1pblgsIG1pblksIGludlNpemUpO1xyXG5cclxuICAgIHZhciBwID0gZWFyLnByZXZaLFxyXG4gICAgICAgIG4gPSBlYXIubmV4dFo7XHJcblxyXG4gICAgLy8gbG9vayBmb3IgcG9pbnRzIGluc2lkZSB0aGUgdHJpYW5nbGUgaW4gYm90aCBkaXJlY3Rpb25zXHJcbiAgICB3aGlsZSAocCAmJiBwLnogPj0gbWluWiAmJiBuICYmIG4ueiA8PSBtYXhaKSB7XHJcbiAgICAgICAgaWYgKHAueCA+PSB4MCAmJiBwLnggPD0geDEgJiYgcC55ID49IHkwICYmIHAueSA8PSB5MSAmJiBwICE9PSBhICYmIHAgIT09IGMgJiZcclxuICAgICAgICAgICAgcG9pbnRJblRyaWFuZ2xlKGF4LCBheSwgYngsIGJ5LCBjeCwgY3ksIHAueCwgcC55KSAmJiBhcmVhKHAucHJldiwgcCwgcC5uZXh0KSA+PSAwKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgcCA9IHAucHJldlo7XHJcblxyXG4gICAgICAgIGlmIChuLnggPj0geDAgJiYgbi54IDw9IHgxICYmIG4ueSA+PSB5MCAmJiBuLnkgPD0geTEgJiYgbiAhPT0gYSAmJiBuICE9PSBjICYmXHJcbiAgICAgICAgICAgIHBvaW50SW5UcmlhbmdsZShheCwgYXksIGJ4LCBieSwgY3gsIGN5LCBuLngsIG4ueSkgJiYgYXJlYShuLnByZXYsIG4sIG4ubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIG4gPSBuLm5leHRaO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGxvb2sgZm9yIHJlbWFpbmluZyBwb2ludHMgaW4gZGVjcmVhc2luZyB6LW9yZGVyXHJcbiAgICB3aGlsZSAocCAmJiBwLnogPj0gbWluWikge1xyXG4gICAgICAgIGlmIChwLnggPj0geDAgJiYgcC54IDw9IHgxICYmIHAueSA+PSB5MCAmJiBwLnkgPD0geTEgJiYgcCAhPT0gYSAmJiBwICE9PSBjICYmXHJcbiAgICAgICAgICAgIHBvaW50SW5UcmlhbmdsZShheCwgYXksIGJ4LCBieSwgY3gsIGN5LCBwLngsIHAueSkgJiYgYXJlYShwLnByZXYsIHAsIHAubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIHAgPSBwLnByZXZaO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGxvb2sgZm9yIHJlbWFpbmluZyBwb2ludHMgaW4gaW5jcmVhc2luZyB6LW9yZGVyXHJcbiAgICB3aGlsZSAobiAmJiBuLnogPD0gbWF4Wikge1xyXG4gICAgICAgIGlmIChuLnggPj0geDAgJiYgbi54IDw9IHgxICYmIG4ueSA+PSB5MCAmJiBuLnkgPD0geTEgJiYgbiAhPT0gYSAmJiBuICE9PSBjICYmXHJcbiAgICAgICAgICAgIHBvaW50SW5UcmlhbmdsZShheCwgYXksIGJ4LCBieSwgY3gsIGN5LCBuLngsIG4ueSkgJiYgYXJlYShuLnByZXYsIG4sIG4ubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIG4gPSBuLm5leHRaO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0cnVlO1xyXG59XHJcblxyXG4vLyBnbyB0aHJvdWdoIGFsbCBwb2x5Z29uIG5vZGVzIGFuZCBjdXJlIHNtYWxsIGxvY2FsIHNlbGYtaW50ZXJzZWN0aW9uc1xyXG5mdW5jdGlvbiBjdXJlTG9jYWxJbnRlcnNlY3Rpb25zKHN0YXJ0LCB0cmlhbmdsZXMsIGRpbSkge1xyXG4gICAgdmFyIHAgPSBzdGFydDtcclxuICAgIGRvIHtcclxuICAgICAgICB2YXIgYSA9IHAucHJldixcclxuICAgICAgICAgICAgYiA9IHAubmV4dC5uZXh0O1xyXG5cclxuICAgICAgICBpZiAoIWVxdWFscyhhLCBiKSAmJiBpbnRlcnNlY3RzKGEsIHAsIHAubmV4dCwgYikgJiYgbG9jYWxseUluc2lkZShhLCBiKSAmJiBsb2NhbGx5SW5zaWRlKGIsIGEpKSB7XHJcblxyXG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChhLmkgLyBkaW0gfCAwKTtcclxuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2gocC5pIC8gZGltIHwgMCk7XHJcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKGIuaSAvIGRpbSB8IDApO1xyXG5cclxuICAgICAgICAgICAgLy8gcmVtb3ZlIHR3byBub2RlcyBpbnZvbHZlZFxyXG4gICAgICAgICAgICByZW1vdmVOb2RlKHApO1xyXG4gICAgICAgICAgICByZW1vdmVOb2RlKHAubmV4dCk7XHJcblxyXG4gICAgICAgICAgICBwID0gc3RhcnQgPSBiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBwID0gcC5uZXh0O1xyXG4gICAgfSB3aGlsZSAocCAhPT0gc3RhcnQpO1xyXG5cclxuICAgIHJldHVybiBmaWx0ZXJQb2ludHMocCk7XHJcbn1cclxuXHJcbi8vIHRyeSBzcGxpdHRpbmcgcG9seWdvbiBpbnRvIHR3byBhbmQgdHJpYW5ndWxhdGUgdGhlbSBpbmRlcGVuZGVudGx5XHJcbmZ1bmN0aW9uIHNwbGl0RWFyY3V0KHN0YXJ0LCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSkge1xyXG4gICAgLy8gbG9vayBmb3IgYSB2YWxpZCBkaWFnb25hbCB0aGF0IGRpdmlkZXMgdGhlIHBvbHlnb24gaW50byB0d29cclxuICAgIHZhciBhID0gc3RhcnQ7XHJcbiAgICBkbyB7XHJcbiAgICAgICAgdmFyIGIgPSBhLm5leHQubmV4dDtcclxuICAgICAgICB3aGlsZSAoYiAhPT0gYS5wcmV2KSB7XHJcbiAgICAgICAgICAgIGlmIChhLmkgIT09IGIuaSAmJiBpc1ZhbGlkRGlhZ29uYWwoYSwgYikpIHtcclxuICAgICAgICAgICAgICAgIC8vIHNwbGl0IHRoZSBwb2x5Z29uIGluIHR3byBieSB0aGUgZGlhZ29uYWxcclxuICAgICAgICAgICAgICAgIHZhciBjID0gc3BsaXRQb2x5Z29uKGEsIGIpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGZpbHRlciBjb2xpbmVhciBwb2ludHMgYXJvdW5kIHRoZSBjdXRzXHJcbiAgICAgICAgICAgICAgICBhID0gZmlsdGVyUG9pbnRzKGEsIGEubmV4dCk7XHJcbiAgICAgICAgICAgICAgICBjID0gZmlsdGVyUG9pbnRzKGMsIGMubmV4dCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gcnVuIGVhcmN1dCBvbiBlYWNoIGhhbGZcclxuICAgICAgICAgICAgICAgIGVhcmN1dExpbmtlZChhLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSwgMCk7XHJcbiAgICAgICAgICAgICAgICBlYXJjdXRMaW5rZWQoYywgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUsIDApO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGIgPSBiLm5leHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGEgPSBhLm5leHQ7XHJcbiAgICB9IHdoaWxlIChhICE9PSBzdGFydCk7XHJcbn1cclxuXHJcbi8vIGxpbmsgZXZlcnkgaG9sZSBpbnRvIHRoZSBvdXRlciBsb29wLCBwcm9kdWNpbmcgYSBzaW5nbGUtcmluZyBwb2x5Z29uIHdpdGhvdXQgaG9sZXNcclxuZnVuY3Rpb24gZWxpbWluYXRlSG9sZXMoZGF0YSwgaG9sZUluZGljZXMsIG91dGVyTm9kZSwgZGltKSB7XHJcbiAgICB2YXIgcXVldWUgPSBbXSxcclxuICAgICAgICBpLCBsZW4sIHN0YXJ0LCBlbmQsIGxpc3Q7XHJcblxyXG4gICAgZm9yIChpID0gMCwgbGVuID0gaG9sZUluZGljZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICBzdGFydCA9IGhvbGVJbmRpY2VzW2ldICogZGltO1xyXG4gICAgICAgIGVuZCA9IGkgPCBsZW4gLSAxID8gaG9sZUluZGljZXNbaSArIDFdICogZGltIDogZGF0YS5sZW5ndGg7XHJcbiAgICAgICAgbGlzdCA9IGxpbmtlZExpc3QoZGF0YSwgc3RhcnQsIGVuZCwgZGltLCBmYWxzZSk7XHJcbiAgICAgICAgaWYgKGxpc3QgPT09IGxpc3QubmV4dCkgbGlzdC5zdGVpbmVyID0gdHJ1ZTtcclxuICAgICAgICBxdWV1ZS5wdXNoKGdldExlZnRtb3N0KGxpc3QpKTtcclxuICAgIH1cclxuXHJcbiAgICBxdWV1ZS5zb3J0KGNvbXBhcmVYKTtcclxuXHJcbiAgICAvLyBwcm9jZXNzIGhvbGVzIGZyb20gbGVmdCB0byByaWdodFxyXG4gICAgZm9yIChpID0gMDsgaSA8IHF1ZXVlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgb3V0ZXJOb2RlID0gZWxpbWluYXRlSG9sZShxdWV1ZVtpXSwgb3V0ZXJOb2RlKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gb3V0ZXJOb2RlO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjb21wYXJlWChhLCBiKSB7XHJcbiAgICByZXR1cm4gYS54IC0gYi54O1xyXG59XHJcblxyXG4vLyBmaW5kIGEgYnJpZGdlIGJldHdlZW4gdmVydGljZXMgdGhhdCBjb25uZWN0cyBob2xlIHdpdGggYW4gb3V0ZXIgcmluZyBhbmQgYW5kIGxpbmsgaXRcclxuZnVuY3Rpb24gZWxpbWluYXRlSG9sZShob2xlLCBvdXRlck5vZGUpIHtcclxuICAgIHZhciBicmlkZ2UgPSBmaW5kSG9sZUJyaWRnZShob2xlLCBvdXRlck5vZGUpO1xyXG4gICAgaWYgKCFicmlkZ2UpIHtcclxuICAgICAgICByZXR1cm4gb3V0ZXJOb2RlO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBicmlkZ2VSZXZlcnNlID0gc3BsaXRQb2x5Z29uKGJyaWRnZSwgaG9sZSk7XHJcblxyXG4gICAgLy8gZmlsdGVyIGNvbGxpbmVhciBwb2ludHMgYXJvdW5kIHRoZSBjdXRzXHJcbiAgICBmaWx0ZXJQb2ludHMoYnJpZGdlUmV2ZXJzZSwgYnJpZGdlUmV2ZXJzZS5uZXh0KTtcclxuICAgIHJldHVybiBmaWx0ZXJQb2ludHMoYnJpZGdlLCBicmlkZ2UubmV4dCk7XHJcbn1cclxuXHJcbi8vIERhdmlkIEViZXJseSdzIGFsZ29yaXRobSBmb3IgZmluZGluZyBhIGJyaWRnZSBiZXR3ZWVuIGhvbGUgYW5kIG91dGVyIHBvbHlnb25cclxuZnVuY3Rpb24gZmluZEhvbGVCcmlkZ2UoaG9sZSwgb3V0ZXJOb2RlKSB7XHJcbiAgICB2YXIgcCA9IG91dGVyTm9kZSxcclxuICAgICAgICBoeCA9IGhvbGUueCxcclxuICAgICAgICBoeSA9IGhvbGUueSxcclxuICAgICAgICBxeCA9IC1JbmZpbml0eSxcclxuICAgICAgICBtO1xyXG5cclxuICAgIC8vIGZpbmQgYSBzZWdtZW50IGludGVyc2VjdGVkIGJ5IGEgcmF5IGZyb20gdGhlIGhvbGUncyBsZWZ0bW9zdCBwb2ludCB0byB0aGUgbGVmdDtcclxuICAgIC8vIHNlZ21lbnQncyBlbmRwb2ludCB3aXRoIGxlc3NlciB4IHdpbGwgYmUgcG90ZW50aWFsIGNvbm5lY3Rpb24gcG9pbnRcclxuICAgIGRvIHtcclxuICAgICAgICBpZiAoaHkgPD0gcC55ICYmIGh5ID49IHAubmV4dC55ICYmIHAubmV4dC55ICE9PSBwLnkpIHtcclxuICAgICAgICAgICAgdmFyIHggPSBwLnggKyAoaHkgLSBwLnkpICogKHAubmV4dC54IC0gcC54KSAvIChwLm5leHQueSAtIHAueSk7XHJcbiAgICAgICAgICAgIGlmICh4IDw9IGh4ICYmIHggPiBxeCkge1xyXG4gICAgICAgICAgICAgICAgcXggPSB4O1xyXG4gICAgICAgICAgICAgICAgbSA9IHAueCA8IHAubmV4dC54ID8gcCA6IHAubmV4dDtcclxuICAgICAgICAgICAgICAgIGlmICh4ID09PSBoeCkgcmV0dXJuIG07IC8vIGhvbGUgdG91Y2hlcyBvdXRlciBzZWdtZW50OyBwaWNrIGxlZnRtb3N0IGVuZHBvaW50XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcCA9IHAubmV4dDtcclxuICAgIH0gd2hpbGUgKHAgIT09IG91dGVyTm9kZSk7XHJcblxyXG4gICAgaWYgKCFtKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAvLyBsb29rIGZvciBwb2ludHMgaW5zaWRlIHRoZSB0cmlhbmdsZSBvZiBob2xlIHBvaW50LCBzZWdtZW50IGludGVyc2VjdGlvbiBhbmQgZW5kcG9pbnQ7XHJcbiAgICAvLyBpZiB0aGVyZSBhcmUgbm8gcG9pbnRzIGZvdW5kLCB3ZSBoYXZlIGEgdmFsaWQgY29ubmVjdGlvbjtcclxuICAgIC8vIG90aGVyd2lzZSBjaG9vc2UgdGhlIHBvaW50IG9mIHRoZSBtaW5pbXVtIGFuZ2xlIHdpdGggdGhlIHJheSBhcyBjb25uZWN0aW9uIHBvaW50XHJcblxyXG4gICAgdmFyIHN0b3AgPSBtLFxyXG4gICAgICAgIG14ID0gbS54LFxyXG4gICAgICAgIG15ID0gbS55LFxyXG4gICAgICAgIHRhbk1pbiA9IEluZmluaXR5LFxyXG4gICAgICAgIHRhbjtcclxuXHJcbiAgICBwID0gbTtcclxuXHJcbiAgICBkbyB7XHJcbiAgICAgICAgaWYgKGh4ID49IHAueCAmJiBwLnggPj0gbXggJiYgaHggIT09IHAueCAmJlxyXG4gICAgICAgICAgICAgICAgcG9pbnRJblRyaWFuZ2xlKGh5IDwgbXkgPyBoeCA6IHF4LCBoeSwgbXgsIG15LCBoeSA8IG15ID8gcXggOiBoeCwgaHksIHAueCwgcC55KSkge1xyXG5cclxuICAgICAgICAgICAgdGFuID0gTWF0aC5hYnMoaHkgLSBwLnkpIC8gKGh4IC0gcC54KTsgLy8gdGFuZ2VudGlhbFxyXG5cclxuICAgICAgICAgICAgaWYgKGxvY2FsbHlJbnNpZGUocCwgaG9sZSkgJiZcclxuICAgICAgICAgICAgICAgICh0YW4gPCB0YW5NaW4gfHwgKHRhbiA9PT0gdGFuTWluICYmIChwLnggPiBtLnggfHwgKHAueCA9PT0gbS54ICYmIHNlY3RvckNvbnRhaW5zU2VjdG9yKG0sIHApKSkpKSkge1xyXG4gICAgICAgICAgICAgICAgbSA9IHA7XHJcbiAgICAgICAgICAgICAgICB0YW5NaW4gPSB0YW47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHAgPSBwLm5leHQ7XHJcbiAgICB9IHdoaWxlIChwICE9PSBzdG9wKTtcclxuXHJcbiAgICByZXR1cm4gbTtcclxufVxyXG5cclxuLy8gd2hldGhlciBzZWN0b3IgaW4gdmVydGV4IG0gY29udGFpbnMgc2VjdG9yIGluIHZlcnRleCBwIGluIHRoZSBzYW1lIGNvb3JkaW5hdGVzXHJcbmZ1bmN0aW9uIHNlY3RvckNvbnRhaW5zU2VjdG9yKG0sIHApIHtcclxuICAgIHJldHVybiBhcmVhKG0ucHJldiwgbSwgcC5wcmV2KSA8IDAgJiYgYXJlYShwLm5leHQsIG0sIG0ubmV4dCkgPCAwO1xyXG59XHJcblxyXG4vLyBpbnRlcmxpbmsgcG9seWdvbiBub2RlcyBpbiB6LW9yZGVyXHJcbmZ1bmN0aW9uIGluZGV4Q3VydmUoc3RhcnQsIG1pblgsIG1pblksIGludlNpemUpIHtcclxuICAgIHZhciBwID0gc3RhcnQ7XHJcbiAgICBkbyB7XHJcbiAgICAgICAgaWYgKHAueiA9PT0gMCkgcC56ID0gek9yZGVyKHAueCwgcC55LCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcclxuICAgICAgICBwLnByZXZaID0gcC5wcmV2O1xyXG4gICAgICAgIHAubmV4dFogPSBwLm5leHQ7XHJcbiAgICAgICAgcCA9IHAubmV4dDtcclxuICAgIH0gd2hpbGUgKHAgIT09IHN0YXJ0KTtcclxuXHJcbiAgICBwLnByZXZaLm5leHRaID0gbnVsbDtcclxuICAgIHAucHJldlogPSBudWxsO1xyXG5cclxuICAgIHNvcnRMaW5rZWQocCk7XHJcbn1cclxuXHJcbi8vIFNpbW9uIFRhdGhhbSdzIGxpbmtlZCBsaXN0IG1lcmdlIHNvcnQgYWxnb3JpdGhtXHJcbi8vIGh0dHA6Ly93d3cuY2hpYXJrLmdyZWVuZW5kLm9yZy51ay9+c2d0YXRoYW0vYWxnb3JpdGhtcy9saXN0c29ydC5odG1sXHJcbmZ1bmN0aW9uIHNvcnRMaW5rZWQobGlzdCkge1xyXG4gICAgdmFyIGksIHAsIHEsIGUsIHRhaWwsIG51bU1lcmdlcywgcFNpemUsIHFTaXplLFxyXG4gICAgICAgIGluU2l6ZSA9IDE7XHJcblxyXG4gICAgZG8ge1xyXG4gICAgICAgIHAgPSBsaXN0O1xyXG4gICAgICAgIGxpc3QgPSBudWxsO1xyXG4gICAgICAgIHRhaWwgPSBudWxsO1xyXG4gICAgICAgIG51bU1lcmdlcyA9IDA7XHJcblxyXG4gICAgICAgIHdoaWxlIChwKSB7XHJcbiAgICAgICAgICAgIG51bU1lcmdlcysrO1xyXG4gICAgICAgICAgICBxID0gcDtcclxuICAgICAgICAgICAgcFNpemUgPSAwO1xyXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgaW5TaXplOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHBTaXplKys7XHJcbiAgICAgICAgICAgICAgICBxID0gcS5uZXh0WjtcclxuICAgICAgICAgICAgICAgIGlmICghcSkgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcVNpemUgPSBpblNpemU7XHJcblxyXG4gICAgICAgICAgICB3aGlsZSAocFNpemUgPiAwIHx8IChxU2l6ZSA+IDAgJiYgcSkpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocFNpemUgIT09IDAgJiYgKHFTaXplID09PSAwIHx8ICFxIHx8IHAueiA8PSBxLnopKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZSA9IHA7XHJcbiAgICAgICAgICAgICAgICAgICAgcCA9IHAubmV4dFo7XHJcbiAgICAgICAgICAgICAgICAgICAgcFNpemUtLTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZSA9IHE7XHJcbiAgICAgICAgICAgICAgICAgICAgcSA9IHEubmV4dFo7XHJcbiAgICAgICAgICAgICAgICAgICAgcVNpemUtLTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGFpbCkgdGFpbC5uZXh0WiA9IGU7XHJcbiAgICAgICAgICAgICAgICBlbHNlIGxpc3QgPSBlO1xyXG5cclxuICAgICAgICAgICAgICAgIGUucHJldlogPSB0YWlsO1xyXG4gICAgICAgICAgICAgICAgdGFpbCA9IGU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHAgPSBxO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGFpbC5uZXh0WiA9IG51bGw7XHJcbiAgICAgICAgaW5TaXplICo9IDI7XHJcblxyXG4gICAgfSB3aGlsZSAobnVtTWVyZ2VzID4gMSk7XHJcblxyXG4gICAgcmV0dXJuIGxpc3Q7XHJcbn1cclxuXHJcbi8vIHotb3JkZXIgb2YgYSBwb2ludCBnaXZlbiBjb29yZHMgYW5kIGludmVyc2Ugb2YgdGhlIGxvbmdlciBzaWRlIG9mIGRhdGEgYmJveFxyXG5mdW5jdGlvbiB6T3JkZXIoeCwgeSwgbWluWCwgbWluWSwgaW52U2l6ZSkge1xyXG4gICAgLy8gY29vcmRzIGFyZSB0cmFuc2Zvcm1lZCBpbnRvIG5vbi1uZWdhdGl2ZSAxNS1iaXQgaW50ZWdlciByYW5nZVxyXG4gICAgeCA9ICh4IC0gbWluWCkgKiBpbnZTaXplIHwgMDtcclxuICAgIHkgPSAoeSAtIG1pblkpICogaW52U2l6ZSB8IDA7XHJcblxyXG4gICAgeCA9ICh4IHwgKHggPDwgOCkpICYgMHgwMEZGMDBGRjtcclxuICAgIHggPSAoeCB8ICh4IDw8IDQpKSAmIDB4MEYwRjBGMEY7XHJcbiAgICB4ID0gKHggfCAoeCA8PCAyKSkgJiAweDMzMzMzMzMzO1xyXG4gICAgeCA9ICh4IHwgKHggPDwgMSkpICYgMHg1NTU1NTU1NTtcclxuXHJcbiAgICB5ID0gKHkgfCAoeSA8PCA4KSkgJiAweDAwRkYwMEZGO1xyXG4gICAgeSA9ICh5IHwgKHkgPDwgNCkpICYgMHgwRjBGMEYwRjtcclxuICAgIHkgPSAoeSB8ICh5IDw8IDIpKSAmIDB4MzMzMzMzMzM7XHJcbiAgICB5ID0gKHkgfCAoeSA8PCAxKSkgJiAweDU1NTU1NTU1O1xyXG5cclxuICAgIHJldHVybiB4IHwgKHkgPDwgMSk7XHJcbn1cclxuXHJcbi8vIGZpbmQgdGhlIGxlZnRtb3N0IG5vZGUgb2YgYSBwb2x5Z29uIHJpbmdcclxuZnVuY3Rpb24gZ2V0TGVmdG1vc3Qoc3RhcnQpIHtcclxuICAgIHZhciBwID0gc3RhcnQsXHJcbiAgICAgICAgbGVmdG1vc3QgPSBzdGFydDtcclxuICAgIGRvIHtcclxuICAgICAgICBpZiAocC54IDwgbGVmdG1vc3QueCB8fCAocC54ID09PSBsZWZ0bW9zdC54ICYmIHAueSA8IGxlZnRtb3N0LnkpKSBsZWZ0bW9zdCA9IHA7XHJcbiAgICAgICAgcCA9IHAubmV4dDtcclxuICAgIH0gd2hpbGUgKHAgIT09IHN0YXJ0KTtcclxuXHJcbiAgICByZXR1cm4gbGVmdG1vc3Q7XHJcbn1cclxuXHJcbi8vIGNoZWNrIGlmIGEgcG9pbnQgbGllcyB3aXRoaW4gYSBjb252ZXggdHJpYW5nbGVcclxuZnVuY3Rpb24gcG9pbnRJblRyaWFuZ2xlKGF4LCBheSwgYngsIGJ5LCBjeCwgY3ksIHB4LCBweSkge1xyXG4gICAgcmV0dXJuIChjeCAtIHB4KSAqIChheSAtIHB5KSA+PSAoYXggLSBweCkgKiAoY3kgLSBweSkgJiZcclxuICAgICAgICAgICAoYXggLSBweCkgKiAoYnkgLSBweSkgPj0gKGJ4IC0gcHgpICogKGF5IC0gcHkpICYmXHJcbiAgICAgICAgICAgKGJ4IC0gcHgpICogKGN5IC0gcHkpID49IChjeCAtIHB4KSAqIChieSAtIHB5KTtcclxufVxyXG5cclxuLy8gY2hlY2sgaWYgYSBkaWFnb25hbCBiZXR3ZWVuIHR3byBwb2x5Z29uIG5vZGVzIGlzIHZhbGlkIChsaWVzIGluIHBvbHlnb24gaW50ZXJpb3IpXHJcbmZ1bmN0aW9uIGlzVmFsaWREaWFnb25hbChhLCBiKSB7XHJcbiAgICByZXR1cm4gYS5uZXh0LmkgIT09IGIuaSAmJiBhLnByZXYuaSAhPT0gYi5pICYmICFpbnRlcnNlY3RzUG9seWdvbihhLCBiKSAmJiAvLyBkb25lcyd0IGludGVyc2VjdCBvdGhlciBlZGdlc1xyXG4gICAgICAgICAgIChsb2NhbGx5SW5zaWRlKGEsIGIpICYmIGxvY2FsbHlJbnNpZGUoYiwgYSkgJiYgbWlkZGxlSW5zaWRlKGEsIGIpICYmIC8vIGxvY2FsbHkgdmlzaWJsZVxyXG4gICAgICAgICAgICAoYXJlYShhLnByZXYsIGEsIGIucHJldikgfHwgYXJlYShhLCBiLnByZXYsIGIpKSB8fCAvLyBkb2VzIG5vdCBjcmVhdGUgb3Bwb3NpdGUtZmFjaW5nIHNlY3RvcnNcclxuICAgICAgICAgICAgZXF1YWxzKGEsIGIpICYmIGFyZWEoYS5wcmV2LCBhLCBhLm5leHQpID4gMCAmJiBhcmVhKGIucHJldiwgYiwgYi5uZXh0KSA+IDApOyAvLyBzcGVjaWFsIHplcm8tbGVuZ3RoIGNhc2VcclxufVxyXG5cclxuLy8gc2lnbmVkIGFyZWEgb2YgYSB0cmlhbmdsZVxyXG5mdW5jdGlvbiBhcmVhKHAsIHEsIHIpIHtcclxuICAgIHJldHVybiAocS55IC0gcC55KSAqIChyLnggLSBxLngpIC0gKHEueCAtIHAueCkgKiAoci55IC0gcS55KTtcclxufVxyXG5cclxuLy8gY2hlY2sgaWYgdHdvIHBvaW50cyBhcmUgZXF1YWxcclxuZnVuY3Rpb24gZXF1YWxzKHAxLCBwMikge1xyXG4gICAgcmV0dXJuIHAxLnggPT09IHAyLnggJiYgcDEueSA9PT0gcDIueTtcclxufVxyXG5cclxuLy8gY2hlY2sgaWYgdHdvIHNlZ21lbnRzIGludGVyc2VjdFxyXG5mdW5jdGlvbiBpbnRlcnNlY3RzKHAxLCBxMSwgcDIsIHEyKSB7XHJcbiAgICB2YXIgbzEgPSBzaWduKGFyZWEocDEsIHExLCBwMikpO1xyXG4gICAgdmFyIG8yID0gc2lnbihhcmVhKHAxLCBxMSwgcTIpKTtcclxuICAgIHZhciBvMyA9IHNpZ24oYXJlYShwMiwgcTIsIHAxKSk7XHJcbiAgICB2YXIgbzQgPSBzaWduKGFyZWEocDIsIHEyLCBxMSkpO1xyXG5cclxuICAgIGlmIChvMSAhPT0gbzIgJiYgbzMgIT09IG80KSByZXR1cm4gdHJ1ZTsgLy8gZ2VuZXJhbCBjYXNlXHJcblxyXG4gICAgaWYgKG8xID09PSAwICYmIG9uU2VnbWVudChwMSwgcDIsIHExKSkgcmV0dXJuIHRydWU7IC8vIHAxLCBxMSBhbmQgcDIgYXJlIGNvbGxpbmVhciBhbmQgcDIgbGllcyBvbiBwMXExXHJcbiAgICBpZiAobzIgPT09IDAgJiYgb25TZWdtZW50KHAxLCBxMiwgcTEpKSByZXR1cm4gdHJ1ZTsgLy8gcDEsIHExIGFuZCBxMiBhcmUgY29sbGluZWFyIGFuZCBxMiBsaWVzIG9uIHAxcTFcclxuICAgIGlmIChvMyA9PT0gMCAmJiBvblNlZ21lbnQocDIsIHAxLCBxMikpIHJldHVybiB0cnVlOyAvLyBwMiwgcTIgYW5kIHAxIGFyZSBjb2xsaW5lYXIgYW5kIHAxIGxpZXMgb24gcDJxMlxyXG4gICAgaWYgKG80ID09PSAwICYmIG9uU2VnbWVudChwMiwgcTEsIHEyKSkgcmV0dXJuIHRydWU7IC8vIHAyLCBxMiBhbmQgcTEgYXJlIGNvbGxpbmVhciBhbmQgcTEgbGllcyBvbiBwMnEyXHJcblxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcblxyXG4vLyBmb3IgY29sbGluZWFyIHBvaW50cyBwLCBxLCByLCBjaGVjayBpZiBwb2ludCBxIGxpZXMgb24gc2VnbWVudCBwclxyXG5mdW5jdGlvbiBvblNlZ21lbnQocCwgcSwgcikge1xyXG4gICAgcmV0dXJuIHEueCA8PSBNYXRoLm1heChwLngsIHIueCkgJiYgcS54ID49IE1hdGgubWluKHAueCwgci54KSAmJiBxLnkgPD0gTWF0aC5tYXgocC55LCByLnkpICYmIHEueSA+PSBNYXRoLm1pbihwLnksIHIueSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNpZ24obnVtKSB7XHJcbiAgICByZXR1cm4gbnVtID4gMCA/IDEgOiBudW0gPCAwID8gLTEgOiAwO1xyXG59XHJcblxyXG4vLyBjaGVjayBpZiBhIHBvbHlnb24gZGlhZ29uYWwgaW50ZXJzZWN0cyBhbnkgcG9seWdvbiBzZWdtZW50c1xyXG5mdW5jdGlvbiBpbnRlcnNlY3RzUG9seWdvbihhLCBiKSB7XHJcbiAgICB2YXIgcCA9IGE7XHJcbiAgICBkbyB7XHJcbiAgICAgICAgaWYgKHAuaSAhPT0gYS5pICYmIHAubmV4dC5pICE9PSBhLmkgJiYgcC5pICE9PSBiLmkgJiYgcC5uZXh0LmkgIT09IGIuaSAmJlxyXG4gICAgICAgICAgICAgICAgaW50ZXJzZWN0cyhwLCBwLm5leHQsIGEsIGIpKSByZXR1cm4gdHJ1ZTtcclxuICAgICAgICBwID0gcC5uZXh0O1xyXG4gICAgfSB3aGlsZSAocCAhPT0gYSk7XHJcblxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcblxyXG4vLyBjaGVjayBpZiBhIHBvbHlnb24gZGlhZ29uYWwgaXMgbG9jYWxseSBpbnNpZGUgdGhlIHBvbHlnb25cclxuZnVuY3Rpb24gbG9jYWxseUluc2lkZShhLCBiKSB7XHJcbiAgICByZXR1cm4gYXJlYShhLnByZXYsIGEsIGEubmV4dCkgPCAwID9cclxuICAgICAgICBhcmVhKGEsIGIsIGEubmV4dCkgPj0gMCAmJiBhcmVhKGEsIGEucHJldiwgYikgPj0gMCA6XHJcbiAgICAgICAgYXJlYShhLCBiLCBhLnByZXYpIDwgMCB8fCBhcmVhKGEsIGEubmV4dCwgYikgPCAwO1xyXG59XHJcblxyXG4vLyBjaGVjayBpZiB0aGUgbWlkZGxlIHBvaW50IG9mIGEgcG9seWdvbiBkaWFnb25hbCBpcyBpbnNpZGUgdGhlIHBvbHlnb25cclxuZnVuY3Rpb24gbWlkZGxlSW5zaWRlKGEsIGIpIHtcclxuICAgIHZhciBwID0gYSxcclxuICAgICAgICBpbnNpZGUgPSBmYWxzZSxcclxuICAgICAgICBweCA9IChhLnggKyBiLngpIC8gMixcclxuICAgICAgICBweSA9IChhLnkgKyBiLnkpIC8gMjtcclxuICAgIGRvIHtcclxuICAgICAgICBpZiAoKChwLnkgPiBweSkgIT09IChwLm5leHQueSA+IHB5KSkgJiYgcC5uZXh0LnkgIT09IHAueSAmJlxyXG4gICAgICAgICAgICAgICAgKHB4IDwgKHAubmV4dC54IC0gcC54KSAqIChweSAtIHAueSkgLyAocC5uZXh0LnkgLSBwLnkpICsgcC54KSlcclxuICAgICAgICAgICAgaW5zaWRlID0gIWluc2lkZTtcclxuICAgICAgICBwID0gcC5uZXh0O1xyXG4gICAgfSB3aGlsZSAocCAhPT0gYSk7XHJcblxyXG4gICAgcmV0dXJuIGluc2lkZTtcclxufVxyXG5cclxuLy8gbGluayB0d28gcG9seWdvbiB2ZXJ0aWNlcyB3aXRoIGEgYnJpZGdlOyBpZiB0aGUgdmVydGljZXMgYmVsb25nIHRvIHRoZSBzYW1lIHJpbmcsIGl0IHNwbGl0cyBwb2x5Z29uIGludG8gdHdvO1xyXG4vLyBpZiBvbmUgYmVsb25ncyB0byB0aGUgb3V0ZXIgcmluZyBhbmQgYW5vdGhlciB0byBhIGhvbGUsIGl0IG1lcmdlcyBpdCBpbnRvIGEgc2luZ2xlIHJpbmdcclxuZnVuY3Rpb24gc3BsaXRQb2x5Z29uKGEsIGIpIHtcclxuICAgIHZhciBhMiA9IG5ldyBOb2RlKGEuaSwgYS54LCBhLnkpLFxyXG4gICAgICAgIGIyID0gbmV3IE5vZGUoYi5pLCBiLngsIGIueSksXHJcbiAgICAgICAgYW4gPSBhLm5leHQsXHJcbiAgICAgICAgYnAgPSBiLnByZXY7XHJcblxyXG4gICAgYS5uZXh0ID0gYjtcclxuICAgIGIucHJldiA9IGE7XHJcblxyXG4gICAgYTIubmV4dCA9IGFuO1xyXG4gICAgYW4ucHJldiA9IGEyO1xyXG5cclxuICAgIGIyLm5leHQgPSBhMjtcclxuICAgIGEyLnByZXYgPSBiMjtcclxuXHJcbiAgICBicC5uZXh0ID0gYjI7XHJcbiAgICBiMi5wcmV2ID0gYnA7XHJcblxyXG4gICAgcmV0dXJuIGIyO1xyXG59XHJcblxyXG4vLyBjcmVhdGUgYSBub2RlIGFuZCBvcHRpb25hbGx5IGxpbmsgaXQgd2l0aCBwcmV2aW91cyBvbmUgKGluIGEgY2lyY3VsYXIgZG91Ymx5IGxpbmtlZCBsaXN0KVxyXG5mdW5jdGlvbiBpbnNlcnROb2RlKGksIHgsIHksIGxhc3QpIHtcclxuICAgIHZhciBwID0gbmV3IE5vZGUoaSwgeCwgeSk7XHJcblxyXG4gICAgaWYgKCFsYXN0KSB7XHJcbiAgICAgICAgcC5wcmV2ID0gcDtcclxuICAgICAgICBwLm5leHQgPSBwO1xyXG5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcC5uZXh0ID0gbGFzdC5uZXh0O1xyXG4gICAgICAgIHAucHJldiA9IGxhc3Q7XHJcbiAgICAgICAgbGFzdC5uZXh0LnByZXYgPSBwO1xyXG4gICAgICAgIGxhc3QubmV4dCA9IHA7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcDtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVtb3ZlTm9kZShwKSB7XHJcbiAgICBwLm5leHQucHJldiA9IHAucHJldjtcclxuICAgIHAucHJldi5uZXh0ID0gcC5uZXh0O1xyXG5cclxuICAgIGlmIChwLnByZXZaKSBwLnByZXZaLm5leHRaID0gcC5uZXh0WjtcclxuICAgIGlmIChwLm5leHRaKSBwLm5leHRaLnByZXZaID0gcC5wcmV2WjtcclxufVxyXG5cclxuZnVuY3Rpb24gTm9kZShpLCB4LCB5KSB7XHJcbiAgICAvLyB2ZXJ0ZXggaW5kZXggaW4gY29vcmRpbmF0ZXMgYXJyYXlcclxuICAgIHRoaXMuaSA9IGk7XHJcblxyXG4gICAgLy8gdmVydGV4IGNvb3JkaW5hdGVzXHJcbiAgICB0aGlzLnggPSB4O1xyXG4gICAgdGhpcy55ID0geTtcclxuXHJcbiAgICAvLyBwcmV2aW91cyBhbmQgbmV4dCB2ZXJ0ZXggbm9kZXMgaW4gYSBwb2x5Z29uIHJpbmdcclxuICAgIHRoaXMucHJldiA9IG51bGw7XHJcbiAgICB0aGlzLm5leHQgPSBudWxsO1xyXG5cclxuICAgIC8vIHotb3JkZXIgY3VydmUgdmFsdWVcclxuICAgIHRoaXMueiA9IDA7XHJcblxyXG4gICAgLy8gcHJldmlvdXMgYW5kIG5leHQgbm9kZXMgaW4gei1vcmRlclxyXG4gICAgdGhpcy5wcmV2WiA9IG51bGw7XHJcbiAgICB0aGlzLm5leHRaID0gbnVsbDtcclxuXHJcbiAgICAvLyBpbmRpY2F0ZXMgd2hldGhlciB0aGlzIGlzIGEgc3RlaW5lciBwb2ludFxyXG4gICAgdGhpcy5zdGVpbmVyID0gZmFsc2U7XHJcbn1cclxuXHJcbi8vIHJldHVybiBhIHBlcmNlbnRhZ2UgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSBwb2x5Z29uIGFyZWEgYW5kIGl0cyB0cmlhbmd1bGF0aW9uIGFyZWE7XHJcbi8vIHVzZWQgdG8gdmVyaWZ5IGNvcnJlY3RuZXNzIG9mIHRyaWFuZ3VsYXRpb25cclxuZWFyY3V0LmRldmlhdGlvbiA9IGZ1bmN0aW9uIChkYXRhLCBob2xlSW5kaWNlcywgZGltLCB0cmlhbmdsZXMpIHtcclxuICAgIHZhciBoYXNIb2xlcyA9IGhvbGVJbmRpY2VzICYmIGhvbGVJbmRpY2VzLmxlbmd0aDtcclxuICAgIHZhciBvdXRlckxlbiA9IGhhc0hvbGVzID8gaG9sZUluZGljZXNbMF0gKiBkaW0gOiBkYXRhLmxlbmd0aDtcclxuXHJcbiAgICB2YXIgcG9seWdvbkFyZWEgPSBNYXRoLmFicyhzaWduZWRBcmVhKGRhdGEsIDAsIG91dGVyTGVuLCBkaW0pKTtcclxuICAgIGlmIChoYXNIb2xlcykge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBob2xlSW5kaWNlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgc3RhcnQgPSBob2xlSW5kaWNlc1tpXSAqIGRpbTtcclxuICAgICAgICAgICAgdmFyIGVuZCA9IGkgPCBsZW4gLSAxID8gaG9sZUluZGljZXNbaSArIDFdICogZGltIDogZGF0YS5sZW5ndGg7XHJcbiAgICAgICAgICAgIHBvbHlnb25BcmVhIC09IE1hdGguYWJzKHNpZ25lZEFyZWEoZGF0YSwgc3RhcnQsIGVuZCwgZGltKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHZhciB0cmlhbmdsZXNBcmVhID0gMDtcclxuICAgIGZvciAoaSA9IDA7IGkgPCB0cmlhbmdsZXMubGVuZ3RoOyBpICs9IDMpIHtcclxuICAgICAgICB2YXIgYSA9IHRyaWFuZ2xlc1tpXSAqIGRpbTtcclxuICAgICAgICB2YXIgYiA9IHRyaWFuZ2xlc1tpICsgMV0gKiBkaW07XHJcbiAgICAgICAgdmFyIGMgPSB0cmlhbmdsZXNbaSArIDJdICogZGltO1xyXG4gICAgICAgIHRyaWFuZ2xlc0FyZWEgKz0gTWF0aC5hYnMoXHJcbiAgICAgICAgICAgIChkYXRhW2FdIC0gZGF0YVtjXSkgKiAoZGF0YVtiICsgMV0gLSBkYXRhW2EgKyAxXSkgLVxyXG4gICAgICAgICAgICAoZGF0YVthXSAtIGRhdGFbYl0pICogKGRhdGFbYyArIDFdIC0gZGF0YVthICsgMV0pKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcG9seWdvbkFyZWEgPT09IDAgJiYgdHJpYW5nbGVzQXJlYSA9PT0gMCA/IDAgOlxyXG4gICAgICAgIE1hdGguYWJzKCh0cmlhbmdsZXNBcmVhIC0gcG9seWdvbkFyZWEpIC8gcG9seWdvbkFyZWEpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gc2lnbmVkQXJlYShkYXRhLCBzdGFydCwgZW5kLCBkaW0pIHtcclxuICAgIHZhciBzdW0gPSAwO1xyXG4gICAgZm9yICh2YXIgaSA9IHN0YXJ0LCBqID0gZW5kIC0gZGltOyBpIDwgZW5kOyBpICs9IGRpbSkge1xyXG4gICAgICAgIHN1bSArPSAoZGF0YVtqXSAtIGRhdGFbaV0pICogKGRhdGFbaSArIDFdICsgZGF0YVtqICsgMV0pO1xyXG4gICAgICAgIGogPSBpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHN1bTtcclxufVxyXG5cclxuLy8gdHVybiBhIHBvbHlnb24gaW4gYSBtdWx0aS1kaW1lbnNpb25hbCBhcnJheSBmb3JtIChlLmcuIGFzIGluIEdlb0pTT04pIGludG8gYSBmb3JtIEVhcmN1dCBhY2NlcHRzXHJcbmVhcmN1dC5mbGF0dGVuID0gZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgIHZhciBkaW0gPSBkYXRhWzBdWzBdLmxlbmd0aCxcclxuICAgICAgICByZXN1bHQgPSB7dmVydGljZXM6IFtdLCBob2xlczogW10sIGRpbWVuc2lvbnM6IGRpbX0sXHJcbiAgICAgICAgaG9sZUluZGV4ID0gMDtcclxuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGRhdGFbaV0ubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgZCA9IDA7IGQgPCBkaW07IGQrKykgcmVzdWx0LnZlcnRpY2VzLnB1c2goZGF0YVtpXVtqXVtkXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpID4gMCkge1xyXG4gICAgICAgICAgICBob2xlSW5kZXggKz0gZGF0YVtpIC0gMV0ubGVuZ3RoO1xyXG4gICAgICAgICAgICByZXN1bHQuaG9sZXMucHVzaChob2xlSW5kZXgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn07XHJcbiIsICJleHBvcnQgKiBmcm9tICcuLzh0aHdhbGwtY2FtZXJhLmpzJztcclxuZXhwb3J0ICogZnJvbSAnLi9hbmNob3IuanMnO1xyXG5leHBvcnQgKiBmcm9tICcuL2N1cnNvci10YXJnZXQuanMnO1xyXG5leHBvcnQgKiBmcm9tICcuL2N1cnNvci5qcyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vZGVidWctb2JqZWN0LmpzJztcclxuZXhwb3J0ICogZnJvbSAnLi9kZXZpY2Utb3JpZW50YXRpb24tbG9vay5qcyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vZmluZ2VyLWN1cnNvci5qcyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vZml4ZWQtZm92ZWF0aW9uLmpzJztcclxuZXhwb3J0ICogZnJvbSAnLi9oYW5kLXRyYWNraW5nLmpzJztcclxuZXhwb3J0ICogZnJvbSAnLi9oaXQtdGVzdC1sb2NhdGlvbi5qcyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vaG93bGVyLWF1ZGlvLWxpc3RlbmVyLmpzJztcclxuZXhwb3J0ICogZnJvbSAnLi9ob3dsZXItYXVkaW8tc291cmNlLmpzJztcclxuZXhwb3J0ICogZnJvbSAnLi9pbWFnZS10ZXh0dXJlLmpzJztcclxuZXhwb3J0ICogZnJvbSAnLi9tb3VzZS1sb29rLmpzJztcclxuZXhwb3J0ICogZnJvbSAnLi9wbGF5ZXItaGVpZ2h0LmpzJztcclxuZXhwb3J0ICogZnJvbSAnLi90YXJnZXQtZnJhbWVyYXRlLmpzJztcclxuZXhwb3J0ICogZnJvbSAnLi90ZWxlcG9ydC5qcyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vdHJhaWwuanMnO1xyXG5leHBvcnQgKiBmcm9tICcuL3R3by1qb2ludC1pay1zb2x2ZXIuanMnO1xyXG5leHBvcnQgKiBmcm9tICcuL3ZpZGVvLXRleHR1cmUuanMnO1xyXG5leHBvcnQgKiBmcm9tICcuL3ZyLW1vZGUtYWN0aXZlLXN3aXRjaC5qcyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vcGxhbmUtZGV0ZWN0aW9uLmpzJztcclxuZXhwb3J0ICogZnJvbSAnLi92cm0uanMnO1xyXG5leHBvcnQgKiBmcm9tICcuL3dhc2QtY29udHJvbHMuanMnO1xyXG4iLCAiLyoqXHJcbiAqIENvbXBvbmVudCBwcm9wZXJ0eSB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IHZhciBUeXBlO1xyXG4oZnVuY3Rpb24gKFR5cGUpIHtcclxuICAgIC8qKlxyXG4gICAgICogKipOYXRpdmUqKlxyXG4gICAgICpcclxuICAgICAqIFByb3BlcnR5IG9mIGEgbmF0aXZlIGNvbXBvbmVudC4gTXVzdCBub3QgYmUgdXNlZCBpbiBjdXN0b20gY29tcG9uZW50cy5cclxuICAgICAqXHJcbiAgICAgKiBAaGlkZGVuXHJcbiAgICAgKi9cclxuICAgIFR5cGVbVHlwZVtcIk5hdGl2ZVwiXSA9IDFdID0gXCJOYXRpdmVcIjtcclxuICAgIC8qKlxyXG4gICAgICogKipCb29sKio6XHJcbiAgICAgKlxyXG4gICAgICogQXBwZWFycyBpbiB0aGUgZWRpdG9yIGFzIGEgY2hlY2tib3guXHJcbiAgICAgKlxyXG4gICAgICogSW5pdGlhbCB2YWx1ZSBpcyBgZmFsc2VgLCB1bmxlc3Mgb3ZlcnJpZGRlbiBieSB0aGUgYGRlZmF1bHRgIHByb3BlcnR5LlxyXG4gICAgICovXHJcbiAgICBUeXBlW1R5cGVbXCJCb29sXCJdID0gMl0gPSBcIkJvb2xcIjtcclxuICAgIC8qKlxyXG4gICAgICogKipJbnQqKjpcclxuICAgICAqXHJcbiAgICAgKiBBcHBlYXJzIGluIHRoZSBlZGl0b3IgYXMgYW4gaW50ZWdlciBpbnB1dCBmaWVsZC5cclxuICAgICAqXHJcbiAgICAgKiBJbml0aWFsIHZhbHVlIGlzIGAwYCwgdW5sZXNzIG92ZXJyaWRkZW4gYnkgdGhlIGBkZWZhdWx0YCBwcm9wZXJ0eS5cclxuICAgICAqL1xyXG4gICAgVHlwZVtUeXBlW1wiSW50XCJdID0gNF0gPSBcIkludFwiO1xyXG4gICAgLyoqXHJcbiAgICAgKiAqKkZsb2F0Kio6XHJcbiAgICAgKlxyXG4gICAgICogQXBwZWFycyBpbiB0aGUgZWRpdG9yIGFzIGEgZmxvYXRpbmcgcG9pbnQgaW5wdXQgZmllbGQuXHJcbiAgICAgKlxyXG4gICAgICogSW5pdGlhbCB2YWx1ZSBpcyBgMC4wYCwgdW5sZXNzIG92ZXJyaWRkZW4gYnkgdGhlIGBkZWZhdWx0YCBwcm9wZXJ0eS5cclxuICAgICAqL1xyXG4gICAgVHlwZVtUeXBlW1wiRmxvYXRcIl0gPSA4XSA9IFwiRmxvYXRcIjtcclxuICAgIC8qKlxyXG4gICAgICogKipTdHJpbmcgLyBUZXh0Kio6XHJcbiAgICAgKlxyXG4gICAgICogQXBwZWFycyBpbiB0aGUgZWRpdG9yIGFzIGEgc2luZ2xlLWxpbmUgdGV4dCBpbnB1dCBmaWVsZC5cclxuICAgICAqXHJcbiAgICAgKiBJbml0aWFsIHZhbHVlIGlzIGFuIGVtcHR5IHN0cmluZywgdW5sZXNzIG92ZXJyaWRkZW4gYnkgdGhlIGBkZWZhdWx0YFxyXG4gICAgICogcHJvcGVydHkuXHJcbiAgICAgKi9cclxuICAgIFR5cGVbVHlwZVtcIlN0cmluZ1wiXSA9IDE2XSA9IFwiU3RyaW5nXCI7XHJcbiAgICAvKipcclxuICAgICAqICoqRW51bWVyYXRpb24qKjpcclxuICAgICAqXHJcbiAgICAgKiBBcHBlYXJzIGluIHRoZSBlZGl0b3IgYXMgYSBkcm9wZG93biB3aXRoIGdpdmVuIHZhbHVlcy4gVGhlIGFkZGl0aW9uYWxcclxuICAgICAqIGB2YWx1ZXNgIHBhcmFtZXRlciB3aXRoIHNlbGVjdGlvbiBvcHRpb25zIGlzIG1hbmRhdG9yeS5cclxuICAgICAqXHJcbiAgICAgKiBUaGUgcHJvcGVydHkgdmFsdWUgaXMgcmVzb2x2ZWQgdG8gYW4gKippbmRleCoqIGludG8gdGhlIGB2YWx1ZXNgIGFycmF5LlxyXG4gICAgICpcclxuICAgICAqIEluaXRpYWwgdmFsdWUgaXMgdGhlIGZpcnN0IGVsZW1lbnQgaW4gYHZhbHVlc2AsIHVubGVzcyBvdmVycmlkZGVuIGJ5XHJcbiAgICAgKiB0aGUgYGRlZmF1bHRgIHByb3BlcnR5LiBUaGUgYGRlZmF1bHRgIHZhbHVlIGNhbiBiZSBhIHN0cmluZyBvciBhbiBpbmRleFxyXG4gICAgICogaW50byBgdmFsdWVzYC5cclxuICAgICAqXHJcbiAgICAgKiBAZXhhbXBsZVxyXG4gICAgICpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiAgICAgY2FtZXJhOiB7dHlwZTogVHlwZS5FbnVtLCB2YWx1ZXM6IFsnYXV0bycsICdiYWNrJywgJ2Zyb250J10sIGRlZmF1bHQ6ICdhdXRvJ30sXHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgVHlwZVtUeXBlW1wiRW51bVwiXSA9IDMyXSA9IFwiRW51bVwiO1xyXG4gICAgLyoqXHJcbiAgICAgKiAqKk9iamVjdCByZWZlcmVuY2UqKjpcclxuICAgICAqXHJcbiAgICAgKiBBcHBlYXJzIGluIHRoZSBlZGl0b3IgYXMgYW4gb2JqZWN0IHJlc291cmNlIHNlbGVjdGlvbiBkcm9wZG93blxyXG4gICAgICogd2l0aCBvYmplY3QgcGlja2VyLlxyXG4gICAgICpcclxuICAgICAqIEluaXRpYWwgdmFsdWUgaXMgYG51bGxgLlxyXG4gICAgICovXHJcbiAgICBUeXBlW1R5cGVbXCJPYmplY3RcIl0gPSA2NF0gPSBcIk9iamVjdFwiO1xyXG4gICAgLyoqXHJcbiAgICAgKiAqKk1lc2ggcmVmZXJlbmNlKio6XHJcbiAgICAgKlxyXG4gICAgICogQXBwZWFycyBpbiB0aGUgZWRpdG9yIGFzIGEgbWVzaCByZXNvdXJjZSBzZWxlY3Rpb24gZHJvcGRvd24uXHJcbiAgICAgKlxyXG4gICAgICogSW5pdGlhbCB2YWx1ZSBpcyBgbnVsbGAuXHJcbiAgICAgKi9cclxuICAgIFR5cGVbVHlwZVtcIk1lc2hcIl0gPSAxMjhdID0gXCJNZXNoXCI7XHJcbiAgICAvKipcclxuICAgICAqICoqVGV4dHVyZSByZWZlcmVuY2UqKjpcclxuICAgICAqXHJcbiAgICAgKiBBcHBlYXJzIGluIHRoZSBlZGl0b3IgYXMgYSB0ZXh0dXJlIHJlc291cmNlIHNlbGVjdGlvbiBkcm9wZG93bi5cclxuICAgICAqXHJcbiAgICAgKiBJbml0aWFsIHZhbHVlIGlzIGBudWxsYC5cclxuICAgICAqL1xyXG4gICAgVHlwZVtUeXBlW1wiVGV4dHVyZVwiXSA9IDI1Nl0gPSBcIlRleHR1cmVcIjtcclxuICAgIC8qKlxyXG4gICAgICogKipNYXRlcmlhbCByZWZlcmVuY2UqKjpcclxuICAgICAqXHJcbiAgICAgKiBBcHBlYXJzIGluIHRoZSBlZGl0b3IgYXMgYSBtYXRlcmlhbCByZXNvdXJjZSBzZWxlY3Rpb24gZHJvcGRvd24uXHJcbiAgICAgKlxyXG4gICAgICogSW5pdGlhbCB2YWx1ZSBpcyBgbnVsbGAuXHJcbiAgICAgKi9cclxuICAgIFR5cGVbVHlwZVtcIk1hdGVyaWFsXCJdID0gNTEyXSA9IFwiTWF0ZXJpYWxcIjtcclxuICAgIC8qKlxyXG4gICAgICogKipBbmltYXRpb24gcmVmZXJlbmNlKio6XHJcbiAgICAgKlxyXG4gICAgICogQXBwZWFycyBpbiB0aGUgZWRpdG9yIGFzIGFuIGFuaW1hdGlvbiByZXNvdXJjZSBzZWxlY3Rpb24gZHJvcGRvd24uXHJcbiAgICAgKlxyXG4gICAgICogSW5pdGlhbCB2YWx1ZSBpcyBgbnVsbGAuXHJcbiAgICAgKi9cclxuICAgIFR5cGVbVHlwZVtcIkFuaW1hdGlvblwiXSA9IDEwMjRdID0gXCJBbmltYXRpb25cIjtcclxuICAgIC8qKlxyXG4gICAgICogKipTa2luIHJlZmVyZW5jZSoqOlxyXG4gICAgICpcclxuICAgICAqIEFwcGVhcnMgaW4gdGhlIGVkaXRvciBhcyBhIHNraW4gcmVzb3VyY2Ugc2VsZWN0aW9uIGRyb3Bkb3duLlxyXG4gICAgICpcclxuICAgICAqIEluaXRpYWwgdmFsdWUgaXMgYG51bGxgLlxyXG4gICAgICovXHJcbiAgICBUeXBlW1R5cGVbXCJTa2luXCJdID0gMjA0OF0gPSBcIlNraW5cIjtcclxuICAgIC8qKlxyXG4gICAgICogKipDb2xvcioqOlxyXG4gICAgICpcclxuICAgICAqIEFwcGVhcnMgaW4gdGhlIGVkaXRvciBhcyBhIGNvbG9yIHdpZGdldC5cclxuICAgICAqXHJcbiAgICAgKiBJbml0aWFsIHZhbHVlIGlzIGBbMC4wLCAwLjAsIDAuMCwgMS4wXWAsIHVubGVzcyBvdmVycmlkZGVuIGJ5IHRoZVxyXG4gICAgICogYGRlZmF1bHRgIHByb3BlcnR5LlxyXG4gICAgICovXHJcbiAgICBUeXBlW1R5cGVbXCJDb2xvclwiXSA9IDQwOTZdID0gXCJDb2xvclwiO1xyXG59KShUeXBlIHx8IChUeXBlID0ge30pKTtcclxuLyoqXHJcbiAqIENvbXBvbmVudCBwcm9wZXJ0eSBuYW1lc3BhY2UuXHJcbiAqXHJcbiAqIFVzYWdlOlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiBpbXBvcnQge0NvbXBvbmVudCwgUHJvcGVydHl9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbiAqXHJcbiAqIGNsYXNzIE15Q29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICogICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge1xyXG4gKiAgICAgICAgIG15Qm9vbDogUHJvcGVydHkuYm9vbCh0cnVlKSxcclxuICogICAgICAgICBteUludDogUHJvcGVydHkuaW50KDQyKSxcclxuICogICAgICAgICBteVN0cmluZzogUHJvcGVydHkuc3RyaW5nKCdIZWxsbyBXb3JsZCEnKSxcclxuICogICAgICAgICBteU1lc2g6IFByb3BlcnR5Lm1lc2goKSxcclxuICogICAgIH1cclxuICogfVxyXG4gKiBgYGBcclxuICpcclxuICogRm9yIFR5cGVTY3JpcHQgdXNlcnMsIHlvdSBjYW4gdXNlIHRoZSBkZWNvcmF0b3JzIGluc3RlYWQuXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgUHJvcGVydHkgPSB7XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBhbiBib29sZWFuIHByb3BlcnR5LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBkZWZhdWx0VmFsdWUgVGhlIGRlZmF1bHQgdmFsdWUuIElmIG5vdCBwcm92aWRlZCwgZGVmYXVsdHMgdG8gYGZhbHNlYC5cclxuICAgICAqL1xyXG4gICAgYm9vbChkZWZhdWx0VmFsdWUgPSBmYWxzZSkge1xyXG4gICAgICAgIHJldHVybiB7IHR5cGU6IFR5cGUuQm9vbCwgZGVmYXVsdDogZGVmYXVsdFZhbHVlIH07XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgYW4gaW50ZWdlciBwcm9wZXJ0eS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gZGVmYXVsdFZhbHVlIFRoZSBkZWZhdWx0IHZhbHVlLiBJZiBub3QgcHJvdmlkZWQsIGRlZmF1bHRzIHRvIGAwYC5cclxuICAgICAqL1xyXG4gICAgaW50KGRlZmF1bHRWYWx1ZSA9IDApIHtcclxuICAgICAgICByZXR1cm4geyB0eXBlOiBUeXBlLkludCwgZGVmYXVsdDogZGVmYXVsdFZhbHVlIH07XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgYW4gZmxvYXQgcHJvcGVydHkuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGRlZmF1bHRWYWx1ZSBUaGUgZGVmYXVsdCB2YWx1ZS4gSWYgbm90IHByb3ZpZGVkLCBkZWZhdWx0cyB0byBgMC4wYC5cclxuICAgICAqL1xyXG4gICAgZmxvYXQoZGVmYXVsdFZhbHVlID0gMC4wKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogVHlwZS5GbG9hdCwgZGVmYXVsdDogZGVmYXVsdFZhbHVlIH07XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgYW4gc3RyaW5nIHByb3BlcnR5LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBkZWZhdWx0VmFsdWUgVGhlIGRlZmF1bHQgdmFsdWUuIElmIG5vdCBwcm92aWRlZCwgZGVmYXVsdHMgdG8gYCcnYC5cclxuICAgICAqL1xyXG4gICAgc3RyaW5nKGRlZmF1bHRWYWx1ZSA9ICcnKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogVHlwZS5TdHJpbmcsIGRlZmF1bHQ6IGRlZmF1bHRWYWx1ZSB9O1xyXG4gICAgfSxcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGFuIGVudW1lcmF0aW9uIHByb3BlcnR5LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB2YWx1ZXMgVGhlIGxpc3Qgb2YgdmFsdWVzLlxyXG4gICAgICogQHBhcmFtIGRlZmF1bHRWYWx1ZSBUaGUgZGVmYXVsdCB2YWx1ZS4gQ2FuIGJlIGEgc3RyaW5nIG9yIGFuIGluZGV4IGludG9cclxuICAgICAqICAgICBgdmFsdWVzYC4gSWYgbm90IHByb3ZpZGVkLCBkZWZhdWx0cyB0byB0aGUgZmlyc3QgZWxlbWVudC5cclxuICAgICAqL1xyXG4gICAgZW51bSh2YWx1ZXMsIGRlZmF1bHRWYWx1ZSkge1xyXG4gICAgICAgIHJldHVybiB7IHR5cGU6IFR5cGUuRW51bSwgdmFsdWVzLCBkZWZhdWx0OiBkZWZhdWx0VmFsdWUgfTtcclxuICAgIH0sXHJcbiAgICAvKiogQ3JlYXRlIGFuIHtAbGluayBPYmplY3QzRH0gcmVmZXJlbmNlIHByb3BlcnR5LiAqL1xyXG4gICAgb2JqZWN0KG9wdHMpIHtcclxuICAgICAgICByZXR1cm4geyB0eXBlOiBUeXBlLk9iamVjdCwgZGVmYXVsdDogbnVsbCwgcmVxdWlyZWQ6IG9wdHM/LnJlcXVpcmVkID8/IGZhbHNlIH07XHJcbiAgICB9LFxyXG4gICAgLyoqIENyZWF0ZSBhIHtAbGluayBNZXNofSByZWZlcmVuY2UgcHJvcGVydHkuICovXHJcbiAgICBtZXNoKG9wdHMpIHtcclxuICAgICAgICByZXR1cm4geyB0eXBlOiBUeXBlLk1lc2gsIGRlZmF1bHQ6IG51bGwsIHJlcXVpcmVkOiBvcHRzPy5yZXF1aXJlZCA/PyBmYWxzZSB9O1xyXG4gICAgfSxcclxuICAgIC8qKiBDcmVhdGUgYSB7QGxpbmsgVGV4dHVyZX0gcmVmZXJlbmNlIHByb3BlcnR5LiAqL1xyXG4gICAgdGV4dHVyZShvcHRzKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogVHlwZS5UZXh0dXJlLCBkZWZhdWx0OiBudWxsLCByZXF1aXJlZDogb3B0cz8ucmVxdWlyZWQgPz8gZmFsc2UgfTtcclxuICAgIH0sXHJcbiAgICAvKiogQ3JlYXRlIGEge0BsaW5rIE1hdGVyaWFsfSByZWZlcmVuY2UgcHJvcGVydHkuICovXHJcbiAgICBtYXRlcmlhbChvcHRzKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogVHlwZS5NYXRlcmlhbCwgZGVmYXVsdDogbnVsbCwgcmVxdWlyZWQ6IG9wdHM/LnJlcXVpcmVkID8/IGZhbHNlIH07XHJcbiAgICB9LFxyXG4gICAgLyoqIENyZWF0ZSBhbiB7QGxpbmsgQW5pbWF0aW9ufSByZWZlcmVuY2UgcHJvcGVydHkuICovXHJcbiAgICBhbmltYXRpb24ob3B0cykge1xyXG4gICAgICAgIHJldHVybiB7IHR5cGU6IFR5cGUuQW5pbWF0aW9uLCBkZWZhdWx0OiBudWxsLCByZXF1aXJlZDogb3B0cz8ucmVxdWlyZWQgPz8gZmFsc2UgfTtcclxuICAgIH0sXHJcbiAgICAvKiogQ3JlYXRlIGEge0BsaW5rIFNraW59IHJlZmVyZW5jZSBwcm9wZXJ0eS4gKi9cclxuICAgIHNraW4ob3B0cykge1xyXG4gICAgICAgIHJldHVybiB7IHR5cGU6IFR5cGUuU2tpbiwgZGVmYXVsdDogbnVsbCwgcmVxdWlyZWQ6IG9wdHM/LnJlcXVpcmVkID8/IGZhbHNlIH07XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgYSBjb2xvciBwcm9wZXJ0eS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gciBUaGUgcmVkIGNvbXBvbmVudCwgaW4gdGhlIHJhbmdlIFswOyAxXS5cclxuICAgICAqIEBwYXJhbSBnIFRoZSBncmVlbiBjb21wb25lbnQsIGluIHRoZSByYW5nZSBbMDsgMV0uXHJcbiAgICAgKiBAcGFyYW0gYiBUaGUgYmx1ZSBjb21wb25lbnQsIGluIHRoZSByYW5nZSBbMDsgMV0uXHJcbiAgICAgKiBAcGFyYW0gYSBUaGUgYWxwaGEgY29tcG9uZW50LCBpbiB0aGUgcmFuZ2UgWzA7IDFdLlxyXG4gICAgICovXHJcbiAgICBjb2xvcihyID0gMC4wLCBnID0gMC4wLCBiID0gMC4wLCBhID0gMS4wKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogVHlwZS5Db2xvciwgZGVmYXVsdDogW3IsIGcsIGIsIGFdIH07XHJcbiAgICB9LFxyXG59O1xyXG4iLCAiaW1wb3J0IHsgUHJvcGVydHksIFR5cGUgfSBmcm9tICcuL3Byb3BlcnR5LmpzJztcclxuLyoqXHJcbiAqIERlY29yYXRvciBmb3IgSlMgY29tcG9uZW50IHByb3BlcnRpZXMuXHJcbiAqXHJcbiAqIEBwYXJhbSBkYXRhIFRoZSBwcm9wZXJ0eSBkZXNjcmlwdGlvbiBhcyBhbiBvYmplY3QgbGl0ZXJhbFxyXG4gKiBAcmV0dXJucyBBIGRlY29yYXRvciBmdW5jdGlvbiBtb2RpZnlpbmcgdGhlIGBQcm9wZXJ0aWVzYCBzdGF0aWNcclxuICogICAgIGF0dHJpYnV0ZVxyXG4gKi9cclxuZnVuY3Rpb24gcHJvcGVydHlEZWNvcmF0b3IoZGF0YSkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIHByb3BlcnR5S2V5KSB7XHJcbiAgICAgICAgY29uc3QgY3RvciA9IHRhcmdldC5jb25zdHJ1Y3RvcjtcclxuICAgICAgICBjdG9yLlByb3BlcnRpZXMgPSBjdG9yLmhhc093blByb3BlcnR5KCdQcm9wZXJ0aWVzJykgPyBjdG9yLlByb3BlcnRpZXMgOiB7fTtcclxuICAgICAgICBjdG9yLlByb3BlcnRpZXNbcHJvcGVydHlLZXldID0gZGF0YTtcclxuICAgIH07XHJcbn1cclxuLyoqXHJcbiAqIERlY29yYXRvciBmb3IgbWFraW5nIGEgZ2V0dGVyIGVudW1lcmFibGUuXHJcbiAqXHJcbiAqIFVzYWdlOlxyXG4gKlxyXG4gKiBgYGB0c1xyXG4gKiBjbGFzcyBNeUNsYXNzIHtcclxuICogICAgIEBlbnVtZXJhYmxlKClcclxuICogICAgIGdldCBwcm9qZWN0aW9uTWF0cml4KCk6IEZsb2F0MzJBcnJheSB7IC4uLiB9XHJcbiAqIH1cclxuICogYGBgXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZW51bWVyYWJsZSgpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoXywgX18sIGRlc2NyaXB0b3IpIHtcclxuICAgICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSB0cnVlO1xyXG4gICAgfTtcclxufVxyXG4vKipcclxuICogRGVjb3JhdG9yIGZvciBuYXRpdmUgcHJvcGVydGllcy5cclxuICpcclxuICogVXNhZ2U6XHJcbiAqXHJcbiAqIGBgYHRzXHJcbiAqIGNsYXNzIE15Q2xhc3Mge1xyXG4gKiAgICAgQG5hdGl2ZVByb3BlcnR5KClcclxuICogICAgIGdldCBwcm9qZWN0aW9uTWF0cml4KCk6IEZsb2F0MzJBcnJheSB7IC4uLiB9XHJcbiAqIH1cclxuICogYGBgXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gbmF0aXZlUHJvcGVydHkoKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwgcHJvcGVydHlLZXksIGRlc2NyaXB0b3IpIHtcclxuICAgICAgICBlbnVtZXJhYmxlKCkodGFyZ2V0LCBwcm9wZXJ0eUtleSwgZGVzY3JpcHRvcik7XHJcbiAgICAgICAgcHJvcGVydHlEZWNvcmF0b3IoeyB0eXBlOiBUeXBlLk5hdGl2ZSB9KSh0YXJnZXQsIHByb3BlcnR5S2V5KTtcclxuICAgIH07XHJcbn1cclxuLyoqXHJcbiAqIFByb3BlcnR5IGRlY29yYXRvcnMgbmFtZXNwYWNlLlxyXG4gKlxyXG4gKiBZb3UgY2FuIHVzZSB0aGUgZGVjb3JhdG9ycyB0byBtYXJrIGEgY2xhc3MgYXR0cmlidXRlIGFzXHJcbiAqIGEgV29uZGVybGFuZCBFbmdpbmUgcHJvcGVydHkuXHJcbiAqXHJcbiAqIFVzYWdlOlxyXG4gKlxyXG4gKiBgYGB0c1xyXG4gKiBpbXBvcnQge01lc2h9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbiAqIGltcG9ydCB7cHJvcGVydHl9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaS9kZWNvcmF0b3JzLmpzJztcclxuICpcclxuICogY2xhc3MgTXlDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gKiAgICAgQHByb3BlcnR5LmJvb2wodHJ1ZSlcclxuICogICAgIG15Qm9vbCE6IGJvb2xlYW47XHJcbiAqXHJcbiAqICAgICBAcHJvcGVydHkuaW50KDQyKVxyXG4gKiAgICAgbXlJbnQhOiBudW1iZXI7XHJcbiAqXHJcbiAqICAgICBAcHJvcGVydHkuc3RyaW5nKCdIZWxsbyBXb3JsZCEnKVxyXG4gKiAgICAgbXlTdHJpbmchOiBzdHJpbmc7XHJcbiAqXHJcbiAqICAgICBAcHJvcGVydHkubWVzaCgpXHJcbiAqICAgICBteU1lc2ghOiBNZXNoO1xyXG4gKiB9XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBGb3IgSmF2YVNjcmlwdCB1c2VycywgcGxlYXNlIGRlY2xhcmUgdGhlIHByb3BlcnRpZXMgc3RhdGljYWxseS5cclxuICovXHJcbmV4cG9ydCBjb25zdCBwcm9wZXJ0eSA9IHt9O1xyXG5mb3IgKGNvbnN0IG5hbWUgaW4gUHJvcGVydHkpIHtcclxuICAgIC8qIEFzc2lnbiBlYWNoIHByb3BlcnR5IGZ1bmN0b3IgdG8gYSBUeXBlU2NyaXB0IGRlY29yYXRvci5cclxuICAgICAqIFRoaXMgY29kZSBleHRyYWN0cyBwYXJhbWV0ZXJzIGFuZCByZXR1cm4gdHlwZSB0byBwcm92aWRlIHByb3BlclxyXG4gICAgICogdHlwaW5ncyB0byB0aGUgdXNlci4gKi9cclxuICAgIHByb3BlcnR5W25hbWVdID0gKC4uLmFyZ3MpID0+IHtcclxuICAgICAgICBjb25zdCBmdW5jdG9yID0gUHJvcGVydHlbbmFtZV07XHJcbiAgICAgICAgcmV0dXJuIHByb3BlcnR5RGVjb3JhdG9yKGZ1bmN0b3IoLi4uYXJncykpO1xyXG4gICAgfTtcclxufVxyXG4iLCAiLyoqXHJcbiAqIENoZWNrIGlmIGEgZ2l2ZW4gdmFsdWUgaXMgYSBuYXRpdmUgc3RyaW5nIG9yIGEgYFN0cmluZ2AgaW5zdGFuY2UuXHJcbiAqXHJcbiAqIEBwYXJhbSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXHJcbiAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgYHZhbHVlYCBoYXMgdHlwZSBzdHJpbmcgbGl0ZXJhbCBvciBgU3RyaW5nYCwgYGZhbHNlYCBvdGhlcndpc2UuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNTdHJpbmcodmFsdWUpIHtcclxuICAgIGlmICh2YWx1ZSA9PT0gJycpXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICByZXR1cm4gdmFsdWUgJiYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgfHwgdmFsdWUuY29uc3RydWN0b3IgPT09IFN0cmluZyk7XHJcbn1cclxuLyoqXHJcbiAqIENoZWNrIGlmIGEgZ2l2ZW4gdmFsdWUgaXMgYSBuYXRpdmUgbnVtYmVyIG9yIGEgYE51bWJlcmAgaW5zdGFuY2UuXHJcbiAqXHJcbiAqIEBwYXJhbSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXHJcbiAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgYHZhbHVlYCBoYXMgdHlwZSBudW1iZXIgbGl0ZXJhbCBvciBgTnVtYmVyYCwgYGZhbHNlYCBvdGhlcndpc2UuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNOdW1iZXIodmFsdWUpIHtcclxuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkKVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInIHx8IHZhbHVlLmNvbnN0cnVjdG9yID09PSBOdW1iZXI7XHJcbn1cclxuIiwgIi8qKlxyXG4gKiBFdmVudCBlbWl0dGVyLlxyXG4gKlxyXG4gKiBUaGlzIGNsYXNzIGFsbG93cyB0byByZWdpc3RlciBsaXN0ZW5lcnMgdGhhdCB3aWxsIGdldCBub3RpZmllZCBieSB0aGUgZW1pdHRlci5cclxuICpcclxuICogVXNhZ2UgZXhhbXBsZVxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiAvLyBgb25QcmVSZW5kZXJgIGlzIGFuIGBFbWl0dGVyYCBpbnN0YW5jZS5cclxuICogc2NlbmUub25QcmVSZW5kZXIuYWRkKCgpID0+IGNvbnNvbGUubG9nKCdiZWZvcmUgcmVuZGVyaW5nJykpO1xyXG4gKiAvLyBgb25Qb3N0UmVuZGVyYCBpcyBhbiBgRW1pdHRlcmAgaW5zdGFuY2UuXHJcbiAqIHNjZW5lLm9uUG9zdFJlbmRlci5hZGQoKCkgPT4gY29uc29sZS5sb2coJ2FmdGVyIHJlbmRlcmluZycpKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIFlvdSBjYW4gY3JlYXRlIHlvdXIgb3duIGVtaXR0ZXJzOlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiBpbXBvcnQge0VtaXR0ZXJ9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbiAqXHJcbiAqIGNvbnN0IGVtaXR0ZXIgPSBuZXcgRW1pdHRlcigpO1xyXG4gKiBgYGBcclxuICpcclxuICogWW91IGNhbiBub3RpZnkgbGlzdGVuZXJzIGluIHRvIHlvdXIgZW1pdHRlciB1c2luZyB7QGxpbmsgRW1pdHRlci5ub3RpZnl9OlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiAvLyBOb3RpZmllcyBhbGwgdGhlIGxpc3RlbmVycy5cclxuICogZW1pdHRlci5ub3RpZnkoKTtcclxuICogLy8gTm90aWZpZXMgYWxsIHRoZSBsaXN0ZW5lcnMgd2l0aCBzb21lIGRhdGEuXHJcbiAqIGVtaXR0ZXIubm90aWZ5KHsgbXlJbnQ6IDQyLCBteVN0cjogJ0hlbGxvIFdvcmxkIScgfSk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAY2F0ZWdvcnkgZXZlbnRcclxuICovXHJcbmV4cG9ydCBjbGFzcyBFbWl0dGVyIHtcclxuICAgIC8qKlxyXG4gICAgICogTGlzdCBvZiBsaXN0ZW5lcnMgdG8gdHJpZ2dlciB3aGVuIGBub3RpZnlgIGlzIGNhbGxlZC5cclxuICAgICAqXHJcbiAgICAgKiBAaGlkZGVuXHJcbiAgICAgKi9cclxuICAgIF9saXN0ZW5lcnMgPSBbXTtcclxuICAgIC8qKlxyXG4gICAgICogUmVnaXN0ZXIgYSBuZXcgbGlzdGVuZXIgdG8gYmUgdHJpZ2dlcmVkIG9uIHtAbGluayBFbWl0dGVyLm5vdGlmeX0uXHJcbiAgICAgKlxyXG4gICAgICogQmFzaWMgdXNhZ2U6XHJcbiAgICAgKlxyXG4gICAgICogYGBganNcclxuICAgICAqIGVtaXR0ZXIuYWRkKChkYXRhKSA9PiB7XHJcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ2V2ZW50IHJlY2VpdmVkIScpO1xyXG4gICAgICogICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICogfSk7XHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBBdXRvbWF0aWNhbGx5IHJlbW92ZSB0aGUgbGlzdGVuZXIgd2hlbiBhbiBldmVudCBpcyByZWNlaXZlZDpcclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogZW1pdHRlci5hZGQoKGRhdGEpID0+IHtcclxuICAgICAqICAgICBjb25zb2xlLmxvZygnZXZlbnQgcmVjZWl2ZWQhJyk7XHJcbiAgICAgKiAgICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgKiB9LCB7b25jZTogdHJ1ZX0pO1xyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGxpc3RlbmVyIFRoZSBjYWxsYmFjayB0byByZWdpc3Rlci5cclxuICAgICAqIEBwYXJhbSBvcHRzIFRoZSBsaXN0ZW5lciBvcHRpb25zLiBGb3IgbW9yZSBpbmZvcm1hdGlvbiwgcGxlYXNlIGhhdmUgYSBsb29rXHJcbiAgICAgKiAgICAgYXQgdGhlIHtAbGluayBMaXN0ZW5lck9wdGlvbnN9IGludGVyZmFjZS5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZylcclxuICAgICAqL1xyXG4gICAgYWRkKGxpc3RlbmVyLCBvcHRzID0ge30pIHtcclxuICAgICAgICBjb25zdCB7IG9uY2UgPSBmYWxzZSwgaWQgPSB1bmRlZmluZWQgfSA9IG9wdHM7XHJcbiAgICAgICAgdGhpcy5fbGlzdGVuZXJzLnB1c2goeyBpZCwgb25jZSwgY2FsbGJhY2s6IGxpc3RlbmVyIH0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBFcXVpdmFsZW50IHRvIHtAbGluayBFbWl0dGVyLmFkZH0uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGxpc3RlbmVycyBUaGUgY2FsbGJhY2socykgdG8gcmVnaXN0ZXIuXHJcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXHJcbiAgICAgKlxyXG4gICAgICogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSB7QGxpbmsgRW1pdHRlci5hZGR9IGluc3RlYWQuXHJcbiAgICAgKi9cclxuICAgIHB1c2goLi4ubGlzdGVuZXJzKSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBjYiBvZiBsaXN0ZW5lcnMpXHJcbiAgICAgICAgICAgIHRoaXMuYWRkKGNiKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmVnaXN0ZXIgYSBuZXcgbGlzdGVuZXIgdG8gYmUgdHJpZ2dlcmVkIG9uIHtAbGluayBFbWl0dGVyLm5vdGlmeX0uXHJcbiAgICAgKlxyXG4gICAgICogT25jZSBub3RpZmllZCwgdGhlIGxpc3RlbmVyIHdpbGwgYmUgYXV0b21hdGljYWxseSByZW1vdmVkLlxyXG4gICAgICpcclxuICAgICAqIFRoZSBtZXRob2QgaXMgZXF1aXZhbGVudCB0byBjYWxsaW5nIHtAbGluayBFbWl0dGVyLmFkZH0gd2l0aDpcclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogZW1pdHRlci5hZGQobGlzdGVuZXIsIHtvbmNlOiB0cnVlfSk7XHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gbGlzdGVuZXIgVGhlIGNhbGxiYWNrIHRvIHJlZ2lzdGVyLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cclxuICAgICAqL1xyXG4gICAgb25jZShsaXN0ZW5lcikge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmFkZChsaXN0ZW5lciwgeyBvbmNlOiB0cnVlIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmUgYSByZWdpc3RlcmVkIGxpc3RlbmVyLlxyXG4gICAgICpcclxuICAgICAqIFVzYWdlIHdpdGggYSBjYWxsYmFjazpcclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogY29uc3QgbGlzdGVuZXIgPSAoZGF0YSkgPT4gY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgKiBlbWl0dGVyLmFkZChsaXN0ZW5lcik7XHJcbiAgICAgKlxyXG4gICAgICogLy8gUmVtb3ZlIHVzaW5nIHRoZSBjYWxsYmFjayByZWZlcmVuY2U6XHJcbiAgICAgKiBlbWl0dGVyLnJlbW92ZShsaXN0ZW5lcik7XHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBVc2FnZSB3aXRoIGFuIGlkOlxyXG4gICAgICpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiBlbWl0dGVyLmFkZCgoZGF0YSkgPT4gY29uc29sZS5sb2coZGF0YSksIHtpZDogJ215LWNhbGxiYWNrJ30pO1xyXG4gICAgICpcclxuICAgICAqIC8vIFJlbW92ZSB1c2luZyB0aGUgaWQ6XHJcbiAgICAgKiBlbWl0dGVyLnJlbW92ZSgnbXktY2FsbGJhY2snKTtcclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIFVzaW5nIGlkZW50aWZpZXJzLCB5b3Ugd2lsbCBuZWVkIHRvIGVuc3VyZSB5b3VyIHZhbHVlIGlzIHVuaXF1ZSB0byBhdm9pZFxyXG4gICAgICogcmVtb3ZpbmcgbGlzdGVuZXJzIGZyb20gb3RoZXIgbGlicmFyaWVzLCBlLmcuLDpcclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogZW1pdHRlci5hZGQoKGRhdGEpID0+IGNvbnNvbGUubG9nKGRhdGEpLCB7aWQ6ICdub24tdW5pcXVlJ30pO1xyXG4gICAgICogLy8gVGhpcyBzZWNvbmQgbGlzdGVuZXIgY291bGQgYmUgYWRkZWQgYnkgYSB0aGlyZC1wYXJ0eSBsaWJyYXJ5LlxyXG4gICAgICogZW1pdHRlci5hZGQoKGRhdGEpID0+IGNvbnNvbGUubG9nKCdIZWxsbyBGcm9tIExpYnJhcnkhJyksIHtpZDogJ25vbi11bmlxdWUnfSk7XHJcbiAgICAgKlxyXG4gICAgICogLy8gSG8gU25hcCEgVGhpcyBhbHNvIHJlbW92ZWQgdGhlIGxpYnJhcnkgbGlzdGVuZXIhXHJcbiAgICAgKiBlbWl0dGVyLnJlbW92ZSgnbm9uLXVuaXF1ZScpO1xyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogVGhlIGlkZW50aWZpZXIgY2FuIGJlIGFueSB0eXBlLiBIb3dldmVyLCByZW1lbWJlciB0aGF0IHRoZSBjb21wYXJpc29uIHdpbGwgYmVcclxuICAgICAqIGJ5LXZhbHVlIGZvciBwcmltaXRpdmUgdHlwZXMgKHN0cmluZywgbnVtYmVyKSwgYnV0IGJ5IHJlZmVyZW5jZSBmb3Igb2JqZWN0cy5cclxuICAgICAqXHJcbiAgICAgKiBFeGFtcGxlOlxyXG4gICAgICpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiBlbWl0dGVyLmFkZCgoKSA9PiBjb25zb2xlLmxvZygnSGVsbG8nKSwge2lkOiB7dmFsdWU6IDQyfX0pO1xyXG4gICAgICogZW1pdHRlci5hZGQoKCkgPT4gY29uc29sZS5sb2coJ1dvcmxkIScpLCB7aWQ6IHt2YWx1ZTogNDJ9fSk7XHJcbiAgICAgKiBlbWl0dGVyLnJlbW92ZSh7dmFsdWU6IDQyfSk7IC8vIE5vbmUgb2YgdGhlIGFib3ZlIGxpc3RlbmVycyBtYXRjaCFcclxuICAgICAqIGVtaXR0ZXIubm90aWZ5KCk7IC8vIFByaW50cyAnSGVsbG8nIGFuZCAnV29ybGQhJy5cclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIEhlcmUsIGJvdGggZW1pdHRlcnMgaGF2ZSBpZCBge3ZhbHVlOiA0Mn1gLCBidXQgdGhlIGNvbXBhcmlzb24gaXMgbWFkZSBieSByZWZlcmVuY2UuIFRodXMsXHJcbiAgICAgKiB0aGUgYHJlbW92ZSgpYCBjYWxsIGhhcyBubyBlZmZlY3QuIFdlIGNhbiBtYWtlIGl0IHdvcmsgYnkgZG9pbmc6XHJcbiAgICAgKlxyXG4gICAgICogYGBganNcclxuICAgICAqIGNvbnN0IGlkID0ge3ZhbHVlOiA0Mn07XHJcbiAgICAgKiBlbWl0dGVyLmFkZCgoKSA9PiBjb25zb2xlLmxvZygnSGVsbG8nKSwge2lkfSk7XHJcbiAgICAgKiBlbWl0dGVyLmFkZCgoKSA9PiBjb25zb2xlLmxvZygnV29ybGQhJyksIHtpZH0pO1xyXG4gICAgICogZW1pdHRlci5yZW1vdmUoaWQpOyAvLyBTYW1lIHJlZmVyZW5jZSwgaXQgd29ya3MhXHJcbiAgICAgKiBlbWl0dGVyLm5vdGlmeSgpOyAvLyBEb2Vzbid0IHByaW50LlxyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGxpc3RlbmVyIFRoZSByZWdpc3RlcmVkIGNhbGxiYWNrIG9yIGEgdmFsdWUgcmVwcmVzZW50aW5nIHRoZSBgaWRgLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKVxyXG4gICAgICovXHJcbiAgICByZW1vdmUobGlzdGVuZXIpIHtcclxuICAgICAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9saXN0ZW5lcnM7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gbGlzdGVuZXJzW2ldO1xyXG4gICAgICAgICAgICBpZiAodGFyZ2V0LmNhbGxiYWNrID09PSBsaXN0ZW5lciB8fCB0YXJnZXQuaWQgPT09IGxpc3RlbmVyKSB7XHJcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGktLSwgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENoZWNrIHdoZXRoZXIgdGhlIGxpc3RlbmVyIGlzIHJlZ2lzdGVyZWQuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgVGhpcyBtZXRob2QgcGVyZm9ybXMgYSBsaW5lYXIgc2VhcmNoLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBsaXN0ZW5lciBUaGUgcmVnaXN0ZXJlZCBjYWxsYmFjayBvciBhIHZhbHVlIHJlcHJlc2VudGluZyB0aGUgYGlkYC5cclxuICAgICAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgaGFuZGxlIGlzIGZvdW5kLCBgZmFsc2VgIG90aGVyd2lzZS5cclxuICAgICAqL1xyXG4gICAgaGFzKGxpc3RlbmVyKSB7XHJcbiAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGxpc3RlbmVyc1tpXTtcclxuICAgICAgICAgICAgaWYgKHRhcmdldC5jYWxsYmFjayA9PT0gbGlzdGVuZXIgfHwgdGFyZ2V0LmlkID09PSBsaXN0ZW5lcilcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIE5vdGlmeSBsaXN0ZW5lcnMgd2l0aCB0aGUgZ2l2ZW4gZGF0YSBvYmplY3QuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgVGhpcyBtZXRob2QgZW5zdXJlcyBhbGwgbGlzdGVuZXJzIGFyZSBjYWxsZWQgZXZlbiBpZlxyXG4gICAgICogYW4gZXhjZXB0aW9uIGlzIHRocm93bi4gRm9yIChwb3NzaWJseSkgZmFzdGVyIG5vdGlmaWNhdGlvbixcclxuICAgICAqIHBsZWFzZSB1c2Uge0BsaW5rIEVtaXR0ZXIubm90aWZ5VW5zYWZlfS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gZGF0YSBUaGUgZGF0YSB0byBwYXNzIHRvIGxpc3RlbmVyIHdoZW4gaW52b2tlZC5cclxuICAgICAqL1xyXG4gICAgbm90aWZ5KC4uLmRhdGEpIHtcclxuICAgICAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9saXN0ZW5lcnM7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgY29uc3QgbGlzdGVuZXIgPSBsaXN0ZW5lcnNbaV07XHJcbiAgICAgICAgICAgIGlmIChsaXN0ZW5lci5vbmNlKVxyXG4gICAgICAgICAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpLS0sIDEpO1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgbGlzdGVuZXIuY2FsbGJhY2soLi4uZGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIE5vdGlmeSBsaXN0ZW5lcnMgd2l0aCB0aGUgZ2l2ZW4gZGF0YSBvYmplY3QuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgQmVjYXVzZSB0aGlzIG1ldGhvZCBkb2Vzbid0IGNhdGNoIGV4Y2VwdGlvbnMsIHNvbWUgbGlzdGVuZXJzXHJcbiAgICAgKiB3aWxsIGJlIHNraXBwZWQgb24gYSB0aHJvdy4gUGxlYXNlIHVzZSB7QGxpbmsgRW1pdHRlci5ub3RpZnl9IGZvciBzYWZlXHJcbiAgICAgKiBub3RpZmljYXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGRhdGEgVGhlIGRhdGEgdG8gcGFzcyB0byBsaXN0ZW5lciB3aGVuIGludm9rZWQuXHJcbiAgICAgKi9cclxuICAgIG5vdGlmeVVuc2FmZSguLi5kYXRhKSB7XHJcbiAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxpc3RlbmVyID0gbGlzdGVuZXJzW2ldO1xyXG4gICAgICAgICAgICBpZiAobGlzdGVuZXIub25jZSlcclxuICAgICAgICAgICAgICAgIGxpc3RlbmVycy5zcGxpY2UoaS0tLCAxKTtcclxuICAgICAgICAgICAgbGlzdGVuZXIuY2FsbGJhY2soLi4uZGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm4gYSBwcm9taXNlIHRoYXQgd2lsbCByZXNvbHZlIG9uIHRoZSBuZXh0IGV2ZW50LlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFRoZSBwcm9taXNlIG1pZ2h0IG5ldmVyIHJlc29sdmUgaWYgbm8gZXZlbnQgaXMgc2VudC5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSBkYXRhIHBhc3NlZCB0b1xyXG4gICAgICogICAgIHtAbGluayBFbWl0dGVyLm5vdGlmeX0uXHJcbiAgICAgKi9cclxuICAgIHByb21pc2UoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXMsIF8pID0+IHtcclxuICAgICAgICAgICAgdGhpcy5vbmNlKCguLi5hcmdzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXJncy5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzKGFyZ3MpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzKGFyZ3NbMF0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKiBOdW1iZXIgb2YgbGlzdGVuZXJzLiAqL1xyXG4gICAgZ2V0IGxpc3RlbmVyQ291bnQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xpc3RlbmVycy5sZW5ndGg7XHJcbiAgICB9XHJcbiAgICAvKiogYHRydWVgIGlmIGl0IGhhcyBubyBsaXN0ZW5lcnMsIGBmYWxzZWAgb3RoZXJ3aXNlLiAqL1xyXG4gICAgZ2V0IGlzRW1wdHkoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubGlzdGVuZXJDb3VudCA9PT0gMDtcclxuICAgIH1cclxufVxyXG4vKiBEdW1teSB2YWx1ZSB1c2VkIHdpdGggUmV0YWluRW1pdHRlci4gKi9cclxuY29uc3QgUmV0YWluRW1pdHRlclVuZGVmaW5lZCA9IHt9O1xyXG4vKipcclxuICogRXZlbnQgZW1pdHRlciB0aGF0IHJldGFpbnMgZXZlbnQgZGF0YSB3aGVuIG5vdGlmaWVkLlxyXG4gKlxyXG4gKiBBZnRlciBhIG5vdGlmaWNhdGlvbiBoYXBwZW5zLCBzdWJzZXF1ZW50IGNhbGxzIHRvIHtAbGluayBSZXRhaW5FbWl0dGVyLmFkZH0gd2lsbCBnZXRcclxuICogYXV0b21hdGljYWxseSBub3RpZmllZC5cclxuICpcclxuICogWW91IGNhbiB1c2UgYW5vdGhlciBlbWl0dGVyIGluIG9yZGVyIHRvIGNhbmNlbCB0aGUgbGFzdCByZXRhaW5lZCBldmVudDpcclxuICpcclxuICogYGBganNcclxuICogaW1wb3J0IHtFbWl0dGVyLCBSZXRhaW5lZEVtaXR0ZXJ9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbiAqXHJcbiAqIGNvbnN0IG9uU3RhcnQgPSBuZXcgUmV0YWluZWRFbWl0dGVyKCk7XHJcbiAqXHJcbiAqIG9uU3RhcnQubm90aWZ5KDQyKTtcclxuICogb25TdGFydC5hZGQoKGRhdGEpID0+IGNvbnNvbGUubG9nKGRhdGEpKSAvLyBQcmludHMgJzQyJy5cclxuICogYGBgXHJcbiAqXHJcbiAqIFlvdSBjYW4gcmVzZXQgdGhlIHN0YXRlIG9mIHRoZSBlbWl0dGVyLCBpLmUuLCBtYWtpbmcgaXQgZm9yZ2V0IGFib3V0IHRoZVxyXG4gKiBsYXN0IGV2ZW50IHVzaW5nOlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiBpbXBvcnQge0VtaXR0ZXIsIFJldGFpbmVkRW1pdHRlcn0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuICpcclxuICogY29uc3Qgb25TdGFydCA9IG5ldyBSZXRhaW5lZEVtaXR0ZXIoKTtcclxuICogb25TdGFydC5ub3RpZnkoNDIpO1xyXG4gKiBvblN0YXJ0LmFkZCgoZGF0YSkgPT4gY29uc29sZS5sb2coZGF0YSkpIC8vIFByaW50cyAnNDInLlxyXG4gKlxyXG4gKiAvLyBSZXNldCB0aGUgc3RhdGUgb2YgdGhlIGVtaXR0ZXIuXHJcbiAqIG9uU3RhcnQucmVzZXQoKTtcclxuICogb25TdGFydC5hZGQoKGRhdGEpID0+IGNvbnNvbGUubG9nKGRhdGEpKSAvLyBEb2Vzbid0IHByaW50IGFueXRoaW5nLlxyXG4gKiBgYGBcclxuICpcclxuICogRm9yIG1vcmUgaW5mb3JtYXRpb24gYWJvdXQgZW1pdHRlcnMsIHBsZWFzZSBoYXZlIGEgbG9vayBhdCB0aGUgYmFzZSB7QGxpbmsgRW1pdHRlcn0gY2xhc3MuXHJcbiAqXHJcbiAqIEBjYXRlZ29yeSBldmVudFxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFJldGFpbkVtaXR0ZXIgZXh0ZW5kcyBFbWl0dGVyIHtcclxuICAgIC8qKiBQcmUtcmVzb2x2ZWQgZGF0YS4gQGhpZGRlbiAqL1xyXG4gICAgX2V2ZW50ID0gUmV0YWluRW1pdHRlclVuZGVmaW5lZDtcclxuICAgIC8qKlxyXG4gICAgICogRW1pdHRlciB0YXJnZXQgdXNlZCB0byByZXNldCB0aGUgc3RhdGUgb2YgdGhpcyBlbWl0dGVyLlxyXG4gICAgICpcclxuICAgICAqIEBoaWRkZW5cclxuICAgICAqL1xyXG4gICAgX3Jlc2V0O1xyXG4gICAgLyoqIEBvdmVycmlkZSAqL1xyXG4gICAgYWRkKGxpc3RlbmVyLCBvcHRzKSB7XHJcbiAgICAgICAgY29uc3QgaW1tZWRpYXRlID0gb3B0cz8uaW1tZWRpYXRlID8/IHRydWU7XHJcbiAgICAgICAgaWYgKHRoaXMuX2V2ZW50ICE9PSBSZXRhaW5FbWl0dGVyVW5kZWZpbmVkICYmIGltbWVkaWF0ZSkge1xyXG4gICAgICAgICAgICBsaXN0ZW5lciguLi50aGlzLl9ldmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN1cGVyLmFkZChsaXN0ZW5lciwgb3B0cyk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBvdmVycmlkZVxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBsaXN0ZW5lciBUaGUgY2FsbGJhY2sgdG8gcmVnaXN0ZXIuXHJcbiAgICAgKiBAcGFyYW0gaW1tZWRpYXRlIElmIGB0cnVlYCwgZGlyZWN0bHkgcmVzb2x2ZXMgaWYgdGhlIGVtaXR0ZXIgcmV0YWlucyBhIHZhbHVlLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cclxuICAgICAqL1xyXG4gICAgb25jZShsaXN0ZW5lciwgaW1tZWRpYXRlKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkKGxpc3RlbmVyLCB7IG9uY2U6IHRydWUsIGltbWVkaWF0ZSB9KTtcclxuICAgIH1cclxuICAgIC8qKiBAb3ZlcnJpZGUgKi9cclxuICAgIG5vdGlmeSguLi5kYXRhKSB7XHJcbiAgICAgICAgdGhpcy5fZXZlbnQgPSBkYXRhO1xyXG4gICAgICAgIHN1cGVyLm5vdGlmeSguLi5kYXRhKTtcclxuICAgIH1cclxuICAgIC8qKiBAb3ZlcnJpZGUgKi9cclxuICAgIG5vdGlmeVVuc2FmZSguLi5kYXRhKSB7XHJcbiAgICAgICAgdGhpcy5fZXZlbnQgPSBkYXRhO1xyXG4gICAgICAgIHN1cGVyLm5vdGlmeVVuc2FmZSguLi5kYXRhKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmVzZXQgdGhlIHN0YXRlIG9mIHRoZSBlbWl0dGVyLlxyXG4gICAgICpcclxuICAgICAqIEZ1cnRoZXIgY2FsbCB0byB7QGxpbmsgRW1pdHRlci5hZGR9IHdpbGwgbm90IGF1dG9tYXRpY2FsbHkgcmVzb2x2ZSxcclxuICAgICAqIHVudGlsIGEgbmV3IGNhbGwgdG8ge0BsaW5rIEVtaXR0ZXIubm90aWZ5fSBpcyBwZXJmb3JtZWQuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpXHJcbiAgICAgKi9cclxuICAgIHJlc2V0KCkge1xyXG4gICAgICAgIHRoaXMuX2V2ZW50ID0gUmV0YWluRW1pdHRlclVuZGVmaW5lZDtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIC8qKiBSZXR1cm5zIHRoZSByZXRhaW5lZCBkYXRhLCBvciBgdW5kZWZpbmVkYCBpZiBubyBkYXRhIHdhcyByZXRhaW5lZC4gKi9cclxuICAgIGdldCBkYXRhKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmlzRGF0YVJldGFpbmVkID8gdGhpcy5fZXZlbnQgOiB1bmRlZmluZWQ7XHJcbiAgICB9XHJcbiAgICAvKiogYHRydWVgIGlmIGRhdGEgaXMgcmV0YWluZWQgZnJvbSB0aGUgbGFzdCBldmVudCwgYGZhbHNlYCBvdGhlcndpc2UuICovXHJcbiAgICBnZXQgaXNEYXRhUmV0YWluZWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2V2ZW50ICE9PSBSZXRhaW5FbWl0dGVyVW5kZWZpbmVkO1xyXG4gICAgfVxyXG59XHJcbiIsICIvKipcclxuICogVHlwZXNcclxuICovXHJcbnZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn07XHJcbmltcG9ydCB7IG5hdGl2ZVByb3BlcnR5LCBlbnVtZXJhYmxlIH0gZnJvbSAnLi9kZWNvcmF0b3JzLmpzJztcclxuaW1wb3J0IHsgaXNOdW1iZXIsIGlzU3RyaW5nIH0gZnJvbSAnLi91dGlscy9vYmplY3QuanMnO1xyXG5pbXBvcnQgeyBFbWl0dGVyIH0gZnJvbSAnLi91dGlscy9ldmVudC5qcyc7XHJcbi8qKlxyXG4gKiBXb25kZXJsYW5kIEVuZ2luZSBBUElcclxuICogQG5hbWVzcGFjZSBXTFxyXG4gKi9cclxuLyoqXHJcbiAqIENvbGxpZGVyIHR5cGUgZW51bSBmb3Ige0BsaW5rIENvbGxpc2lvbkNvbXBvbmVudH0uXHJcbiAqL1xyXG5leHBvcnQgdmFyIENvbGxpZGVyO1xyXG4oZnVuY3Rpb24gKENvbGxpZGVyKSB7XHJcbiAgICAvKipcclxuICAgICAqICoqU3BoZXJlIENvbGxpZGVyKio6XHJcbiAgICAgKlxyXG4gICAgICogU2ltcGxlc3QgYW5kIG1vc3QgcGVyZm9ybWFudCBjb2xsaXNpb24gc2hhcGUuIElmIHRoaXMgdHlwZSBpcyBzZXQgb24gYVxyXG4gICAgICoge0BsaW5rIENvbGxpc2lvbkNvbXBvbmVudH0sIG9ubHkgdGhlIGZpcnN0IGNvbXBvbmVudCBvZlxyXG4gICAgICoge0BsaW5rIENvbGxpc2lvbkNvbXBvbmVudCNleHRlbnRzfSB3aWxsIGJlIHVzZWQgdG8gZGV0ZXJtaW5lIHRoZSByYWRpdXMuXHJcbiAgICAgKi9cclxuICAgIENvbGxpZGVyW0NvbGxpZGVyW1wiU3BoZXJlXCJdID0gMF0gPSBcIlNwaGVyZVwiO1xyXG4gICAgLyoqXHJcbiAgICAgKiAqKkF4aXMgQWxpZ25lZCBCb3VuZGluZyBCb3ggQ29sbGlkZXIqKjpcclxuICAgICAqXHJcbiAgICAgKiBCb3ggdGhhdCBpcyBhbHdheXMgYWxpZ25lZCB0byBYWVogYXhpcy4gSXQgY2Fubm90IGJlIHJvdGF0ZWQgYnV0IGlzIG1vcmVcclxuICAgICAqIGVmZmljaWVudCB0aGFuIHtAbGluayBDb2xsaWRlci5Cb3h9LlxyXG4gICAgICovXHJcbiAgICBDb2xsaWRlcltDb2xsaWRlcltcIkF4aXNBbGlnbmVkQm94XCJdID0gMV0gPSBcIkF4aXNBbGlnbmVkQm94XCI7XHJcbiAgICAvKipcclxuICAgICAqICoqQWxpZ25lZCBCb3VuZGluZyBCb3ggQ29sbGlkZXIqKjpcclxuICAgICAqXHJcbiAgICAgKiBCb3ggdGhhdCBtYXRjaGVzIHRoZSBvYmplY3QncyByb3RhdGlvbiBhbmQgdHJhbnNsYXRpb24gY29ycmVjdGx5LiBUaGlzXHJcbiAgICAgKiBpcyB0aGUgbGVhc3QgZWZmaWNpZW50IGNvbGxpZGVyIGFuZCBzaG91bGQgb25seSBiZSBjaG9zZW4gb3ZlclxyXG4gICAgICoge0BsaW5rIENvbGxpZGVyLlNwaGVyZX0gYW5kIHtAbGluayBDb2xsaWRlci5BeGlzQWxpZ25lZEJveH0gaWYgcmVhbGx5XHJcbiAgICAgKiBuZWNlc3NhcnkuXHJcbiAgICAgKi9cclxuICAgIENvbGxpZGVyW0NvbGxpZGVyW1wiQm94XCJdID0gMl0gPSBcIkJveFwiO1xyXG59KShDb2xsaWRlciB8fCAoQ29sbGlkZXIgPSB7fSkpO1xyXG4vKipcclxuICogQWxpZ25tZW50IHR5cGUgZW51bSBmb3Ige0BsaW5rIFRleHRDb21wb25lbnR9LlxyXG4gKi9cclxuZXhwb3J0IHZhciBBbGlnbm1lbnQ7XHJcbihmdW5jdGlvbiAoQWxpZ25tZW50KSB7XHJcbiAgICAvKiogVGV4dCBzdGFydCBpcyBhdCBvYmplY3Qgb3JpZ2luICovXHJcbiAgICBBbGlnbm1lbnRbQWxpZ25tZW50W1wiTGVmdFwiXSA9IDBdID0gXCJMZWZ0XCI7XHJcbiAgICAvKiogVGV4dCBjZW50ZXIgaXMgYXQgb2JqZWN0IG9yaWdpbiAqL1xyXG4gICAgQWxpZ25tZW50W0FsaWdubWVudFtcIkNlbnRlclwiXSA9IDFdID0gXCJDZW50ZXJcIjtcclxuICAgIC8qKiBUZXh0IGVuZCBpcyBhdCBvYmplY3Qgb3JpZ2luICovXHJcbiAgICBBbGlnbm1lbnRbQWxpZ25tZW50W1wiUmlnaHRcIl0gPSAyXSA9IFwiUmlnaHRcIjtcclxufSkoQWxpZ25tZW50IHx8IChBbGlnbm1lbnQgPSB7fSkpO1xyXG4vKipcclxuICogSnVzdGlmaWNhdGlvbiB0eXBlIGVudW0gZm9yIHtAbGluayBUZXh0Q29tcG9uZW50fS5cclxuICovXHJcbmV4cG9ydCB2YXIgSnVzdGlmaWNhdGlvbjtcclxuKGZ1bmN0aW9uIChKdXN0aWZpY2F0aW9uKSB7XHJcbiAgICAvKiogVGV4dCBsaW5lIGlzIGF0IG9iamVjdCBvcmlnaW4gKi9cclxuICAgIEp1c3RpZmljYXRpb25bSnVzdGlmaWNhdGlvbltcIkxpbmVcIl0gPSAwXSA9IFwiTGluZVwiO1xyXG4gICAgLyoqIFRleHQgbWlkZGxlIGlzIGF0IG9iamVjdCBvcmlnaW4gKi9cclxuICAgIEp1c3RpZmljYXRpb25bSnVzdGlmaWNhdGlvbltcIk1pZGRsZVwiXSA9IDFdID0gXCJNaWRkbGVcIjtcclxuICAgIC8qKiBUZXh0IHRvcCBpcyBhdCBvYmplY3Qgb3JpZ2luICovXHJcbiAgICBKdXN0aWZpY2F0aW9uW0p1c3RpZmljYXRpb25bXCJUb3BcIl0gPSAyXSA9IFwiVG9wXCI7XHJcbiAgICAvKiogVGV4dCBib3R0b20gaXMgYXQgb2JqZWN0IG9yaWdpbiAqL1xyXG4gICAgSnVzdGlmaWNhdGlvbltKdXN0aWZpY2F0aW9uW1wiQm90dG9tXCJdID0gM10gPSBcIkJvdHRvbVwiO1xyXG59KShKdXN0aWZpY2F0aW9uIHx8IChKdXN0aWZpY2F0aW9uID0ge30pKTtcclxuLyoqXHJcbiAqIEVmZmVjdCB0eXBlIGVudW0gZm9yIHtAbGluayBUZXh0Q29tcG9uZW50fS5cclxuICovXHJcbmV4cG9ydCB2YXIgVGV4dEVmZmVjdDtcclxuKGZ1bmN0aW9uIChUZXh0RWZmZWN0KSB7XHJcbiAgICAvKiogVGV4dCBpcyByZW5kZXJlZCBub3JtYWxseSAqL1xyXG4gICAgVGV4dEVmZmVjdFtUZXh0RWZmZWN0W1wiTm9uZVwiXSA9IDBdID0gXCJOb25lXCI7XHJcbiAgICAvKiogVGV4dCBpcyByZW5kZXJlZCB3aXRoIGFuIG91dGxpbmUgKi9cclxuICAgIFRleHRFZmZlY3RbVGV4dEVmZmVjdFtcIk91dGxpbmVcIl0gPSAxXSA9IFwiT3V0bGluZVwiO1xyXG59KShUZXh0RWZmZWN0IHx8IChUZXh0RWZmZWN0ID0ge30pKTtcclxuLyoqXHJcbiAqIElucHV0IHR5cGUgZW51bSBmb3Ige0BsaW5rIElucHV0Q29tcG9uZW50fS5cclxuICovXHJcbmV4cG9ydCB2YXIgSW5wdXRUeXBlO1xyXG4oZnVuY3Rpb24gKElucHV0VHlwZSkge1xyXG4gICAgLyoqIEhlYWQgaW5wdXQgKi9cclxuICAgIElucHV0VHlwZVtJbnB1dFR5cGVbXCJIZWFkXCJdID0gMF0gPSBcIkhlYWRcIjtcclxuICAgIC8qKiBMZWZ0IGV5ZSBpbnB1dCAqL1xyXG4gICAgSW5wdXRUeXBlW0lucHV0VHlwZVtcIkV5ZUxlZnRcIl0gPSAxXSA9IFwiRXllTGVmdFwiO1xyXG4gICAgLyoqIFJpZ2h0IGV5ZSBpbnB1dCAqL1xyXG4gICAgSW5wdXRUeXBlW0lucHV0VHlwZVtcIkV5ZVJpZ2h0XCJdID0gMl0gPSBcIkV5ZVJpZ2h0XCI7XHJcbiAgICAvKiogTGVmdCBjb250cm9sbGVyIGlucHV0ICovXHJcbiAgICBJbnB1dFR5cGVbSW5wdXRUeXBlW1wiQ29udHJvbGxlckxlZnRcIl0gPSAzXSA9IFwiQ29udHJvbGxlckxlZnRcIjtcclxuICAgIC8qKiBSaWdodCBjb250cm9sbGVyIGlucHV0ICovXHJcbiAgICBJbnB1dFR5cGVbSW5wdXRUeXBlW1wiQ29udHJvbGxlclJpZ2h0XCJdID0gNF0gPSBcIkNvbnRyb2xsZXJSaWdodFwiO1xyXG4gICAgLyoqIExlZnQgcmF5IGlucHV0ICovXHJcbiAgICBJbnB1dFR5cGVbSW5wdXRUeXBlW1wiUmF5TGVmdFwiXSA9IDVdID0gXCJSYXlMZWZ0XCI7XHJcbiAgICAvKiogUmlnaHQgcmF5IGlucHV0ICovXHJcbiAgICBJbnB1dFR5cGVbSW5wdXRUeXBlW1wiUmF5UmlnaHRcIl0gPSA2XSA9IFwiUmF5UmlnaHRcIjtcclxufSkoSW5wdXRUeXBlIHx8IChJbnB1dFR5cGUgPSB7fSkpO1xyXG4vKipcclxuICogTGlnaHQgdHlwZSBlbnVtIGZvciB7QGxpbmsgTGlnaHRDb21wb25lbnR9LlxyXG4gKi9cclxuZXhwb3J0IHZhciBMaWdodFR5cGU7XHJcbihmdW5jdGlvbiAoTGlnaHRUeXBlKSB7XHJcbiAgICAvKiogUG9pbnQgbGlnaHQgKi9cclxuICAgIExpZ2h0VHlwZVtMaWdodFR5cGVbXCJQb2ludFwiXSA9IDBdID0gXCJQb2ludFwiO1xyXG4gICAgLyoqIFNwb3QgbGlnaHQgKi9cclxuICAgIExpZ2h0VHlwZVtMaWdodFR5cGVbXCJTcG90XCJdID0gMV0gPSBcIlNwb3RcIjtcclxuICAgIC8qKiBTdW4gbGlnaHQgLyBEaXJlY3Rpb25hbCBsaWdodCAqL1xyXG4gICAgTGlnaHRUeXBlW0xpZ2h0VHlwZVtcIlN1blwiXSA9IDJdID0gXCJTdW5cIjtcclxufSkoTGlnaHRUeXBlIHx8IChMaWdodFR5cGUgPSB7fSkpO1xyXG4vKipcclxuICogQW5pbWF0aW9uIHN0YXRlIG9mIHtAbGluayBBbmltYXRpb25Db21wb25lbnR9LlxyXG4gKi9cclxuZXhwb3J0IHZhciBBbmltYXRpb25TdGF0ZTtcclxuKGZ1bmN0aW9uIChBbmltYXRpb25TdGF0ZSkge1xyXG4gICAgLyoqIEFuaW1hdGlvbiBpcyBjdXJyZW50bHkgcGxheWluZyAqL1xyXG4gICAgQW5pbWF0aW9uU3RhdGVbQW5pbWF0aW9uU3RhdGVbXCJQbGF5aW5nXCJdID0gMF0gPSBcIlBsYXlpbmdcIjtcclxuICAgIC8qKiBBbmltYXRpb24gaXMgcGF1c2VkIGFuZCB3aWxsIGNvbnRpbnVlIGF0IGN1cnJlbnQgcGxheWJhY2tcclxuICAgICAqIHRpbWUgb24ge0BsaW5rIEFuaW1hdGlvbkNvbXBvbmVudCNwbGF5fSAqL1xyXG4gICAgQW5pbWF0aW9uU3RhdGVbQW5pbWF0aW9uU3RhdGVbXCJQYXVzZWRcIl0gPSAxXSA9IFwiUGF1c2VkXCI7XHJcbiAgICAvKiogQW5pbWF0aW9uIGlzIHN0b3BwZWQgKi9cclxuICAgIEFuaW1hdGlvblN0YXRlW0FuaW1hdGlvblN0YXRlW1wiU3RvcHBlZFwiXSA9IDJdID0gXCJTdG9wcGVkXCI7XHJcbn0pKEFuaW1hdGlvblN0YXRlIHx8IChBbmltYXRpb25TdGF0ZSA9IHt9KSk7XHJcbi8qKlxyXG4gKiBSaWdpZCBib2R5IGZvcmNlIG1vZGUgZm9yIHtAbGluayBQaHlzWENvbXBvbmVudCNhZGRGb3JjZX0gYW5kIHtAbGluayBQaHlzWENvbXBvbmVudCNhZGRUb3JxdWV9LlxyXG4gKlxyXG4gKiBbUGh5c1ggQVBJIFJlZmVyZW5jZV0oaHR0cHM6Ly9nYW1ld29ya3Nkb2NzLm52aWRpYS5jb20vUGh5c1gvNC4xL2RvY3VtZW50YXRpb24vcGh5c3hhcGkvZmlsZXMvc3RydWN0UHhGb3JjZU1vZGUuaHRtbClcclxuICovXHJcbmV4cG9ydCB2YXIgRm9yY2VNb2RlO1xyXG4oZnVuY3Rpb24gKEZvcmNlTW9kZSkge1xyXG4gICAgLyoqIEFwcGx5IGFzIGZvcmNlICovXHJcbiAgICBGb3JjZU1vZGVbRm9yY2VNb2RlW1wiRm9yY2VcIl0gPSAwXSA9IFwiRm9yY2VcIjtcclxuICAgIC8qKiBBcHBseSBhcyBpbXB1bHNlICovXHJcbiAgICBGb3JjZU1vZGVbRm9yY2VNb2RlW1wiSW1wdWxzZVwiXSA9IDFdID0gXCJJbXB1bHNlXCI7XHJcbiAgICAvKiogQXBwbHkgYXMgdmVsb2NpdHkgY2hhbmdlLCBtYXNzIGRlcGVuZGVudCAqL1xyXG4gICAgRm9yY2VNb2RlW0ZvcmNlTW9kZVtcIlZlbG9jaXR5Q2hhbmdlXCJdID0gMl0gPSBcIlZlbG9jaXR5Q2hhbmdlXCI7XHJcbiAgICAvKiogQXBwbHkgYXMgbWFzcyBkZXBlbmRlbnQgZm9yY2UgKi9cclxuICAgIEZvcmNlTW9kZVtGb3JjZU1vZGVbXCJBY2NlbGVyYXRpb25cIl0gPSAzXSA9IFwiQWNjZWxlcmF0aW9uXCI7XHJcbn0pKEZvcmNlTW9kZSB8fCAoRm9yY2VNb2RlID0ge30pKTtcclxuLyoqXHJcbiAqIENvbGxpc2lvbiBjYWxsYmFjayBldmVudCB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IHZhciBDb2xsaXNpb25FdmVudFR5cGU7XHJcbihmdW5jdGlvbiAoQ29sbGlzaW9uRXZlbnRUeXBlKSB7XHJcbiAgICAvKiogVG91Y2gvY29udGFjdCBkZXRlY3RlZCwgY29sbGlzaW9uICovXHJcbiAgICBDb2xsaXNpb25FdmVudFR5cGVbQ29sbGlzaW9uRXZlbnRUeXBlW1wiVG91Y2hcIl0gPSAwXSA9IFwiVG91Y2hcIjtcclxuICAgIC8qKiBUb3VjaC9jb250YWN0IGxvc3QsIHVuY29sbGlkZSAqL1xyXG4gICAgQ29sbGlzaW9uRXZlbnRUeXBlW0NvbGxpc2lvbkV2ZW50VHlwZVtcIlRvdWNoTG9zdFwiXSA9IDFdID0gXCJUb3VjaExvc3RcIjtcclxuICAgIC8qKiBUb3VjaC9jb250YWN0IHdpdGggdHJpZ2dlciBkZXRlY3RlZCAqL1xyXG4gICAgQ29sbGlzaW9uRXZlbnRUeXBlW0NvbGxpc2lvbkV2ZW50VHlwZVtcIlRyaWdnZXJUb3VjaFwiXSA9IDJdID0gXCJUcmlnZ2VyVG91Y2hcIjtcclxuICAgIC8qKiBUb3VjaC9jb250YWN0IHdpdGggdHJpZ2dlciBsb3N0ICovXHJcbiAgICBDb2xsaXNpb25FdmVudFR5cGVbQ29sbGlzaW9uRXZlbnRUeXBlW1wiVHJpZ2dlclRvdWNoTG9zdFwiXSA9IDNdID0gXCJUcmlnZ2VyVG91Y2hMb3N0XCI7XHJcbn0pKENvbGxpc2lvbkV2ZW50VHlwZSB8fCAoQ29sbGlzaW9uRXZlbnRUeXBlID0ge30pKTtcclxuLyoqXHJcbiAqIFJpZ2lkIGJvZHkge0BsaW5rIFBoeXNYQ29tcG9uZW50I3NoYXBlfS5cclxuICpcclxuICogW1BoeXNYIFNESyBHdWlkZV0oaHR0cHM6Ly9nYW1ld29ya3Nkb2NzLm52aWRpYS5jb20vUGh5c1gvNC4xL2RvY3VtZW50YXRpb24vcGh5c3hndWlkZS9NYW51YWwvR2VvbWV0cnkuaHRtbCNnZW9tZXRyeS10eXBlcykuXHJcbiAqL1xyXG5leHBvcnQgdmFyIFNoYXBlO1xyXG4oZnVuY3Rpb24gKFNoYXBlKSB7XHJcbiAgICAvKiogTm8gc2hhcGUuICovXHJcbiAgICBTaGFwZVtTaGFwZVtcIk5vbmVcIl0gPSAwXSA9IFwiTm9uZVwiO1xyXG4gICAgLyoqIFNwaGVyZSBzaGFwZS4gKi9cclxuICAgIFNoYXBlW1NoYXBlW1wiU3BoZXJlXCJdID0gMV0gPSBcIlNwaGVyZVwiO1xyXG4gICAgLyoqIENhcHN1bGUgc2hhcGUuICovXHJcbiAgICBTaGFwZVtTaGFwZVtcIkNhcHN1bGVcIl0gPSAyXSA9IFwiQ2Fwc3VsZVwiO1xyXG4gICAgLyoqIEJveCBzaGFwZS4gKi9cclxuICAgIFNoYXBlW1NoYXBlW1wiQm94XCJdID0gM10gPSBcIkJveFwiO1xyXG4gICAgLyoqIFBsYW5lIHNoYXBlLiAqL1xyXG4gICAgU2hhcGVbU2hhcGVbXCJQbGFuZVwiXSA9IDRdID0gXCJQbGFuZVwiO1xyXG4gICAgLyoqIENvbnZleCBtZXNoIHNoYXBlLiAqL1xyXG4gICAgU2hhcGVbU2hhcGVbXCJDb252ZXhNZXNoXCJdID0gNV0gPSBcIkNvbnZleE1lc2hcIjtcclxuICAgIC8qKiBUcmlhbmdsZSBtZXNoIHNoYXBlLiAqL1xyXG4gICAgU2hhcGVbU2hhcGVbXCJUcmlhbmdsZU1lc2hcIl0gPSA2XSA9IFwiVHJpYW5nbGVNZXNoXCI7XHJcbn0pKFNoYXBlIHx8IChTaGFwZSA9IHt9KSk7XHJcbi8qKlxyXG4gKiBNZXNoIGF0dHJpYnV0ZSBlbnVtLlxyXG4gKiBAc2luY2UgMC45LjBcclxuICovXHJcbmV4cG9ydCB2YXIgTWVzaEF0dHJpYnV0ZTtcclxuKGZ1bmN0aW9uIChNZXNoQXR0cmlidXRlKSB7XHJcbiAgICAvKiogUG9zaXRpb24gYXR0cmlidXRlLCAzIGZsb2F0cyAqL1xyXG4gICAgTWVzaEF0dHJpYnV0ZVtNZXNoQXR0cmlidXRlW1wiUG9zaXRpb25cIl0gPSAwXSA9IFwiUG9zaXRpb25cIjtcclxuICAgIC8qKiBUYW5nZW50IGF0dHJpYnV0ZSwgNCBmbG9hdHMgKi9cclxuICAgIE1lc2hBdHRyaWJ1dGVbTWVzaEF0dHJpYnV0ZVtcIlRhbmdlbnRcIl0gPSAxXSA9IFwiVGFuZ2VudFwiO1xyXG4gICAgLyoqIE5vcm1hbCBhdHRyaWJ1dGUsIDMgZmxvYXRzICovXHJcbiAgICBNZXNoQXR0cmlidXRlW01lc2hBdHRyaWJ1dGVbXCJOb3JtYWxcIl0gPSAyXSA9IFwiTm9ybWFsXCI7XHJcbiAgICAvKiogVGV4dHVyZSBjb29yZGluYXRlIGF0dHJpYnV0ZSwgMiBmbG9hdHMgKi9cclxuICAgIE1lc2hBdHRyaWJ1dGVbTWVzaEF0dHJpYnV0ZVtcIlRleHR1cmVDb29yZGluYXRlXCJdID0gM10gPSBcIlRleHR1cmVDb29yZGluYXRlXCI7XHJcbiAgICAvKiogQ29sb3IgYXR0cmlidXRlLCA0IGZsb2F0cywgUkdCQSwgcmFuZ2UgYDBgIHRvIGAxYCAqL1xyXG4gICAgTWVzaEF0dHJpYnV0ZVtNZXNoQXR0cmlidXRlW1wiQ29sb3JcIl0gPSA0XSA9IFwiQ29sb3JcIjtcclxuICAgIC8qKiBKb2ludCBpZCBhdHRyaWJ1dGUsIDggdW5zaWduZWQgaW50cyAqL1xyXG4gICAgTWVzaEF0dHJpYnV0ZVtNZXNoQXR0cmlidXRlW1wiSm9pbnRJZFwiXSA9IDVdID0gXCJKb2ludElkXCI7XHJcbiAgICAvKiogSm9pbnQgd2VpZ2h0cyBhdHRyaWJ1dGUsIDggZmxvYXRzICovXHJcbiAgICBNZXNoQXR0cmlidXRlW01lc2hBdHRyaWJ1dGVbXCJKb2ludFdlaWdodFwiXSA9IDZdID0gXCJKb2ludFdlaWdodFwiO1xyXG59KShNZXNoQXR0cmlidXRlIHx8IChNZXNoQXR0cmlidXRlID0ge30pKTtcclxuLyoqXHJcbiAqIE1hdGVyaWFsIHBhcmFtZXRlciB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IHZhciBNYXRlcmlhbFBhcmFtVHlwZTtcclxuKGZ1bmN0aW9uIChNYXRlcmlhbFBhcmFtVHlwZSkge1xyXG4gICAgLyoqIFVuc2lnbmVkIGludGVnZXIgcGFyYW1ldGVyIHR5cGUuICovXHJcbiAgICBNYXRlcmlhbFBhcmFtVHlwZVtNYXRlcmlhbFBhcmFtVHlwZVtcIlVuc2lnbmVkSW50XCJdID0gMF0gPSBcIlVuc2lnbmVkSW50XCI7XHJcbiAgICAvKiogSW50ZWdlciBwYXJhbWV0ZXIgdHlwZS4gKi9cclxuICAgIE1hdGVyaWFsUGFyYW1UeXBlW01hdGVyaWFsUGFyYW1UeXBlW1wiSW50XCJdID0gMV0gPSBcIkludFwiO1xyXG4gICAgLyoqIEZsb2F0IHBhcmFtZXRlciB0eXBlLiAqL1xyXG4gICAgTWF0ZXJpYWxQYXJhbVR5cGVbTWF0ZXJpYWxQYXJhbVR5cGVbXCJGbG9hdFwiXSA9IDJdID0gXCJGbG9hdFwiO1xyXG4gICAgLyoqIFNhbXBsZXIgcmVzb3VyY2UgcGFyYW1ldGVyIHR5cGUsIGkuZS4sIGEge0BsaW5rIFRleHR1cmV9LiAqL1xyXG4gICAgTWF0ZXJpYWxQYXJhbVR5cGVbTWF0ZXJpYWxQYXJhbVR5cGVbXCJTYW1wbGVyXCJdID0gM10gPSBcIlNhbXBsZXJcIjtcclxuICAgIC8qKlxyXG4gICAgICogRm9udCByZXNvdXJjZSBwYXJhbWV0ZXIgdHlwZS5cclxuICAgICAqXHJcbiAgICAgKiAqKk5vdGUqKjogQ2hhbmdpbmcgZm9udCBpc24ndCBleHBvc2VkIHlldCBhbmQgd2lsbCByYWlzZSBhbiBlcnJvci5cclxuICAgICAqL1xyXG4gICAgTWF0ZXJpYWxQYXJhbVR5cGVbTWF0ZXJpYWxQYXJhbVR5cGVbXCJGb250XCJdID0gNF0gPSBcIkZvbnRcIjtcclxufSkoTWF0ZXJpYWxQYXJhbVR5cGUgfHwgKE1hdGVyaWFsUGFyYW1UeXBlID0ge30pKTtcclxuLyoqXHJcbiAqIENyZWF0ZSBhIHByb3h5IHRocm93aW5nIGRlc3Ryb3llZCBlcnJvcnMgdXBvbiBhY2Nlc3MuXHJcbiAqXHJcbiAqIEBwYXJhbSB0eXBlIFRoZSB0eXBlIHRvIGRpc3BsYXkgdXBvbiBlcnJvclxyXG4gKiBAcmV0dXJucyBUaGUgcHJveHkgaW5zdGFuY2VcclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZURlc3Ryb3llZFByb3h5KHR5cGUpIHtcclxuICAgIHJldHVybiBuZXcgUHJveHkoe30sIHtcclxuICAgICAgICBnZXQoXywgcGFyYW0pIHtcclxuICAgICAgICAgICAgaWYgKHBhcmFtID09PSAnaXNEZXN0cm95ZWQnKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm8ndCByZWFkICcke3BhcmFtfScgb2YgZGVzdHJveWVkICR7dHlwZX1gKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldChfLCBwYXJhbSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vJ3Qgd3JpdGUgJyR7cGFyYW19JyBvZiBkZXN0cm95ZWQgJHt0eXBlfWApO1xyXG4gICAgICAgIH0sXHJcbiAgICB9KTtcclxufVxyXG4vKiogUHJveHkgdXNlZCB0byBvdmVycmlkZSBwcm90b3R5cGVzIG9mIGRlc3Ryb3llZCBvYmplY3RzLiAqL1xyXG5leHBvcnQgY29uc3QgRGVzdHJveWVkT2JqZWN0SW5zdGFuY2UgPSBjcmVhdGVEZXN0cm95ZWRQcm94eSgnb2JqZWN0Jyk7XHJcbi8qKiBQcm94eSB1c2VkIHRvIG92ZXJyaWRlIHByb3RvdHlwZXMgb2YgZGVzdHJveWVkIGNvbXBvbmVudHMuICovXHJcbmV4cG9ydCBjb25zdCBEZXN0cm95ZWRDb21wb25lbnRJbnN0YW5jZSA9IGNyZWF0ZURlc3Ryb3llZFByb3h5KCdjb21wb25lbnQnKTtcclxuLyoqIFByb3h5IHVzZWQgdG8gb3ZlcnJpZGUgcHJvdG90eXBlcyBvZiBkZXN0cm95ZWQgdGV4dHVyZXMuICovXHJcbmV4cG9ydCBjb25zdCBEZXN0cm95ZWRUZXh0dXJlSW5zdGFuY2UgPSBjcmVhdGVEZXN0cm95ZWRQcm94eSgndGV4dHVyZScpO1xyXG4vKipcclxuICogQ2hlY2sgd2hldGhlciBhIGdpdmVuIHNoYXBlIGlzIGEgbWVzaCBvciBub3QuXHJcbiAqXHJcbiAqIEBwYXJhbSBzaGFwZSBUaGUgc2hhcGUgdG8gY2hlY2suXHJcbiAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgc2hhcGUgaXMgYSBtZXNoLCBgZmFsc2VgIGlmIGl0J3MgYSBwcmltaXRpdmUuXHJcbiAqL1xyXG5mdW5jdGlvbiBpc01lc2hTaGFwZShzaGFwZSkge1xyXG4gICAgcmV0dXJuIHNoYXBlID09PSBTaGFwZS5Db252ZXhNZXNoIHx8IHNoYXBlID09PSBTaGFwZS5UcmlhbmdsZU1lc2g7XHJcbn1cclxuLyoqXHJcbiAqIENoZWNrIHdoZXRoZXIgYW4gb2JqZWN0IGlzIHRoZSB7QGxpbmsgQ29tcG9uZW50fSBjbGFzcyBvciBub3QsXHJcbiAqXHJcbiAqIEBub3RlIFRoaXMgbWV0aG9kIGlmIGZvb2xwcm9vZiB0byBkZXZlbG9wZXJzIGluYWR2ZXJ0ZW50bHkgdXNpbmdcclxuICogbXVsdGlwbGUgV29uZGVybGFuZCBFbmdpbmUgQVBJIGluIGEgYnVuZGxlLlxyXG4gKlxyXG4gKiBAcGFyYW0gdmFsdWUgVGhlIG9iamVjdCB0byBjaGVjay5cclxuICogQHJldHVybnMgYHRydWVgIGlmIHRoZSBvYmplY3QgaXMgYSB7QGxpbmsgQ29tcG9uZW50fSBjbGFzcywgYGZhbHNlYCBvdGhlcndpc2UuXHJcbiAqL1xyXG5mdW5jdGlvbiBpc0Jhc2VDb21wb25lbnRDbGFzcyh2YWx1ZSkge1xyXG4gICAgcmV0dXJuICghIXZhbHVlICYmXHJcbiAgICAgICAgdmFsdWUuaGFzT3duUHJvcGVydHkoJ19pc0Jhc2VDb21wb25lbnQnKSAmJlxyXG4gICAgICAgIHZhbHVlLl9pc0Jhc2VDb21wb25lbnQpO1xyXG59XHJcbi8qKlxyXG4gKiBDb25zdGFudHMuXHJcbiAqL1xyXG4vKipcclxuICogRGVmYXVsdCB3b3JsZCB1cCB2ZWN0b3IuXHJcbiAqL1xyXG5jb25zdCBVUF9WRUNUT1IgPSBbMCwgMSwgMF07XHJcbmNvbnN0IFNRUlRfMyA9IE1hdGguc3FydCgzKTtcclxuLyoqXHJcbiAqIFByb3ZpZGVzIGFjY2VzcyB0byBhIGNvbXBvbmVudCBpbnN0YW5jZSBvZiBhIHNwZWNpZmllZCBjb21wb25lbnQgdHlwZS5cclxuICpcclxuICogQGV4YW1wbGVcclxuICpcclxuICogVGhpcyBpcyBob3cgeW91IGltcGxlbWVudCBleHRlbmQgdGhpcyBjbGFzcyB0byBjcmVhdGUgeW91ciBvd24gY3VzdG9tXHJcbiAqIGNvbXBvbmVudDpcclxuICpcclxuICogYGBganNcclxuICogaW1wb3J0IHsgQ29tcG9uZW50LCBUeXBlIH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuICpcclxuICogZXhwb3J0IGNsYXNzIE15Q29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICogICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdteS1jb21wb25lbnQnO1xyXG4gKiAgICAgc3RhdGljIFByb3BlcnRpZXMgPSB7XHJcbiAqICAgICAgICAgbXlCb29sZWFuOiB7IHR5cGU6IFR5cGUuQm9vbGVhbiwgZGVmYXVsdDogZmFsc2UgfSxcclxuICogICAgIH07XHJcbiAqICAgICBzdGFydCgpIHt9XHJcbiAqICAgICBvbkFjdGl2YXRlKCkge31cclxuICogICAgIG9uRGVhY3RpdmF0ZSgpIHt9XHJcbiAqICAgICB1cGRhdGUoZHQpIHt9XHJcbiAqIH1cclxuICogYGBgXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ29tcG9uZW50IHtcclxuICAgIC8qKlxyXG4gICAgICogYHRydWVgIGZvciBldmVyeSBjbGFzcyBpbmhlcml0aW5nIGZyb20gdGhpcyBjbGFzcy5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBUaGlzIGlzIGEgd29ya2Fyb3VuZCBmb3IgYGluc3RhbmNlb2ZgIHRvIHByZXZlbnQgaXNzdWVzXHJcbiAgICAgKiB0aGF0IGNvdWxkIGFyaXNlIHdoZW4gYW4gYXBwbGljYXRpb24gZW5kcyB1cCB1c2luZyBtdWx0aXBsZSBBUEkgdmVyc2lvbnMuXHJcbiAgICAgKlxyXG4gICAgICogQGhpZGRlblxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgX2lzQmFzZUNvbXBvbmVudCA9IHRydWU7XHJcbiAgICAvKipcclxuICAgICAqIFVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGlzIGNvbXBvbmVudCBjbGFzcy5cclxuICAgICAqXHJcbiAgICAgKiBUaGlzIGlzIHVzZWQgdG8gcmVnaXN0ZXIsIGFkZCwgYW5kIHJldHJpZXZlIGNvbXBvbmVudHMgb2YgYSBnaXZlbiB0eXBlLlxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgVHlwZU5hbWU7XHJcbiAgICAvKipcclxuICAgICAqIFByb3BlcnRpZXMgb2YgdGhpcyBjb21wb25lbnQgY2xhc3MuXHJcbiAgICAgKlxyXG4gICAgICogUHJvcGVydGllcyBhcmUgcHVibGljIGF0dHJpYnV0ZXMgdGhhdCBjYW4gYmUgY29uZmlndXJlZCB2aWEgdGhlXHJcbiAgICAgKiBXb25kZXJsYW5kIEVkaXRvci5cclxuICAgICAqXHJcbiAgICAgKiBFeGFtcGxlOlxyXG4gICAgICpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiBpbXBvcnQgeyBDb21wb25lbnQsIFR5cGUgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xyXG4gICAgICogY2xhc3MgTXlDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgICogICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdteS1jb21wb25lbnQnO1xyXG4gICAgICogICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge1xyXG4gICAgICogICAgICAgICBteUJvb2xlYW46IHsgdHlwZTogVHlwZS5Cb29sZWFuLCBkZWZhdWx0OiBmYWxzZSB9LFxyXG4gICAgICogICAgICAgICBteUZsb2F0OiB7IHR5cGU6IFR5cGUuRmxvYXQsIGRlZmF1bHQ6IGZhbHNlIH0sXHJcbiAgICAgKiAgICAgICAgIG15VGV4dHVyZTogeyB0eXBlOiBUeXBlLlRleHR1cmUsIGRlZmF1bHQ6IG51bGwgfSxcclxuICAgICAqICAgICB9O1xyXG4gICAgICogfVxyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogUHJvcGVydGllcyBhcmUgYXV0b21hdGljYWxseSBhZGRlZCB0byBlYWNoIGNvbXBvbmVudCBpbnN0YW5jZSwgYW5kIGFyZVxyXG4gICAgICogYWNjZXNzaWJsZSBsaWtlIGFueSBKUyBhdHRyaWJ1dGU6XHJcbiAgICAgKlxyXG4gICAgICogYGBganNcclxuICAgICAqIC8vIENyZWF0ZXMgYSBuZXcgY29tcG9uZW50IGFuZCBzZXQgZWFjaCBwcm9wZXJ0aWVzIHZhbHVlOlxyXG4gICAgICogY29uc3QgbXlDb21wb25lbnQgPSBvYmplY3QuYWRkQ29tcG9uZW50KE15Q29tcG9uZW50LCB7XHJcbiAgICAgKiAgICAgbXlCb29sZWFuOiB0cnVlLFxyXG4gICAgICogICAgIG15RmxvYXQ6IDQyLjAsXHJcbiAgICAgKiAgICAgbXlUZXh0dXJlOiBudWxsXHJcbiAgICAgKiB9KTtcclxuICAgICAqXHJcbiAgICAgKiAvLyBZb3UgY2FuIGFsc28gb3ZlcnJpZGUgdGhlIHByb3BlcnRpZXMgb24gdGhlIGluc3RhbmNlOlxyXG4gICAgICogbXlDb21wb25lbnQubXlCb29sZWFuID0gZmFsc2U7XHJcbiAgICAgKiBteUNvbXBvbmVudC5teUZsb2F0ID0gLTQyLjA7XHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiAjIyMjIFJlZmVyZW5jZXNcclxuICAgICAqXHJcbiAgICAgKiBSZWZlcmVuY2UgdHlwZXMgKGkuZS4sIG1lc2gsIG9iamVjdCwgZXRjLi4uKSBjYW4gYWxzbyBiZSBsaXN0ZWQgYXMgKipyZXF1aXJlZCoqOlxyXG4gICAgICpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiBpbXBvcnQge0NvbXBvbmVudCwgUHJvcGVydHl9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbiAgICAgKlxyXG4gICAgICogY2xhc3MgTXlDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgICogICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge1xyXG4gICAgICogICAgICAgICBteU9iamVjdDogUHJvcGVydHkub2JqZWN0KHtyZXF1aXJlZDogdHJ1ZX0pLFxyXG4gICAgICogICAgICAgICBteUFuaW1hdGlvbjogUHJvcGVydHkuYW5pbWF0aW9uKHtyZXF1aXJlZDogdHJ1ZX0pLFxyXG4gICAgICogICAgICAgICBteVRleHR1cmU6IFByb3BlcnR5LnRleHR1cmUoe3JlcXVpcmVkOiB0cnVlfSksXHJcbiAgICAgKiAgICAgICAgIG15TWVzaDogUHJvcGVydHkubWVzaCh7cmVxdWlyZWQ6IHRydWV9KSxcclxuICAgICAqICAgICB9XHJcbiAgICAgKiB9XHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBQbGVhc2Ugbm90ZSB0aGF0IHJlZmVyZW5jZXMgYXJlIHZhbGlkYXRlZCAqKm9uY2UqKiBiZWZvcmUgdGhlIGNhbGwgdG8ge0BsaW5rIENvbXBvbmVudC5zdGFydH0gb25seSxcclxuICAgICAqIHZpYSB0aGUge0BsaW5rIENvbXBvbmVudC52YWxpZGF0ZVByb3BlcnRpZXN9IG1ldGhvZC5cclxuICAgICAqL1xyXG4gICAgc3RhdGljIFByb3BlcnRpZXM7XHJcbiAgICAvKipcclxuICAgICAqIFdoZW4gc2V0IHRvIGB0cnVlYCwgdGhlIGNoaWxkIGNsYXNzIGluaGVyaXRzIGZyb20gdGhlIHBhcmVudFxyXG4gICAgICogcHJvcGVydGllcywgYXMgc2hvd24gaW4gdGhlIGZvbGxvd2luZyBleGFtcGxlOlxyXG4gICAgICpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiBpbXBvcnQge0NvbXBvbmVudCwgUHJvcGVydHl9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbiAgICAgKlxyXG4gICAgICogY2xhc3MgUGFyZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgICAqICAgICBzdGF0aWMgVHlwZU5hbWUgPSAncGFyZW50JztcclxuICAgICAqICAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtwYXJlbnROYW1lOiBQcm9wZXJ0eS5zdHJpbmcoJ3BhcmVudCcpfVxyXG4gICAgICogfVxyXG4gICAgICpcclxuICAgICAqIGNsYXNzIENoaWxkIGV4dGVuZHMgUGFyZW50IHtcclxuICAgICAqICAgICBzdGF0aWMgVHlwZU5hbWUgPSAnY2hpbGQnO1xyXG4gICAgICogICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge25hbWU6IFByb3BlcnR5LnN0cmluZygnY2hpbGQnKX1cclxuICAgICAqICAgICBzdGF0aWMgSW5oZXJpdFByb3BlcnRpZXMgPSB0cnVlO1xyXG4gICAgICpcclxuICAgICAqICAgICBzdGFydCgpIHtcclxuICAgICAqICAgICAgICAgLy8gV29ya3MgYmVjYXVzZSBgSW5oZXJpdFByb3BlcnRpZXNgIGlzIGB0cnVlYC5cclxuICAgICAqICAgICAgICAgY29uc29sZS5sb2coYCR7dGhpcy5uYW1lfSBpbmhlcml0cyBmcm9tICR7dGhpcy5wYXJlbnROYW1lfWApO1xyXG4gICAgICogICAgIH1cclxuICAgICAqIH1cclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFByb3BlcnRpZXMgZGVmaW5lZCBpbiBkZXNjZW5kYW50IGNsYXNzZXMgd2lsbCBvdmVycmlkZSBwcm9wZXJ0aWVzXHJcbiAgICAgKiB3aXRoIHRoZSBzYW1lIG5hbWUgZGVmaW5lZCBpbiBhbmNlc3RvciBjbGFzc2VzLlxyXG4gICAgICpcclxuICAgICAqIERlZmF1bHRzIHRvIGB0cnVlYC5cclxuICAgICAqL1xyXG4gICAgc3RhdGljIEluaGVyaXRQcm9wZXJ0aWVzO1xyXG4gICAgLyoqXHJcbiAgICAgKiBDYWxsZWQgd2hlbiB0aGlzIGNvbXBvbmVudCBjbGFzcyBpcyByZWdpc3RlcmVkLlxyXG4gICAgICpcclxuICAgICAqIEBleGFtcGxlXHJcbiAgICAgKlxyXG4gICAgICogVGhpcyBjYWxsYmFjayBjYW4gYmUgdXNlZCB0byByZWdpc3RlciBkZXBlbmRlbmNpZXMgb2YgYSBjb21wb25lbnQsXHJcbiAgICAgKiBlLmcuLCBjb21wb25lbnQgY2xhc3NlcyB0aGF0IG5lZWQgdG8gYmUgcmVnaXN0ZXJlZCBpbiBvcmRlciB0byBhZGRcclxuICAgICAqIHRoZW0gYXQgcnVudGltZSB3aXRoIHtAbGluayBPYmplY3QzRC5hZGRDb21wb25lbnR9LCBpbmRlcGVuZGVudCBvZiB3aGV0aGVyXHJcbiAgICAgKiB0aGV5IGFyZSB1c2VkIGluIHRoZSBlZGl0b3IuXHJcbiAgICAgKlxyXG4gICAgICogYGBganNcclxuICAgICAqIGNsYXNzIFNwYXduZXIgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgICogICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdzcGF3bmVyJztcclxuICAgICAqXHJcbiAgICAgKiAgICAgc3RhdGljIG9uUmVnaXN0ZXIoZW5naW5lKSB7XHJcbiAgICAgKiAgICAgICAgIGVuZ2luZS5yZWdpc3RlckNvbXBvbmVudChTcGF3bmVkQ29tcG9uZW50KTtcclxuICAgICAqICAgICB9XHJcbiAgICAgKlxyXG4gICAgICogICAgIC8vIFlvdSBjYW4gbm93IHVzZSBhZGRDb21wb25lbnQgd2l0aCBTcGF3bmVkQ29tcG9uZW50XHJcbiAgICAgKiB9XHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBAZXhhbXBsZVxyXG4gICAgICpcclxuICAgICAqIFRoaXMgY2FsbGJhY2sgY2FuIGJlIHVzZWQgdG8gcmVnaXN0ZXIgZGlmZmVyZW50IGltcGxlbWVudGF0aW9ucyBvZiBhXHJcbiAgICAgKiBjb21wb25lbnQgZGVwZW5kaW5nIG9uIGNsaWVudCBmZWF0dXJlcyBvciBBUEkgdmVyc2lvbnMuXHJcbiAgICAgKlxyXG4gICAgICogYGBganNcclxuICAgICAqIC8vIFByb3BlcnRpZXMgbmVlZCB0byBiZSB0aGUgc2FtZSBmb3IgYWxsIGltcGxlbWVudGF0aW9ucyFcclxuICAgICAqIGNvbnN0IFNoYXJlZFByb3BlcnRpZXMgPSB7fTtcclxuICAgICAqXHJcbiAgICAgKiBjbGFzcyBBbmNob3IgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgICogICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdzcGF3bmVyJztcclxuICAgICAqICAgICBzdGF0aWMgUHJvcGVydGllcyA9IFNoYXJlZFByb3BlcnRpZXM7XHJcbiAgICAgKlxyXG4gICAgICogICAgIHN0YXRpYyBvblJlZ2lzdGVyKGVuZ2luZSkge1xyXG4gICAgICogICAgICAgICBpZihuYXZpZ2F0b3IueHIgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICogICAgICAgICAgICAgLyogV2ViWFIgdW5zdXBwb3J0ZWQsIGtlZXAgdGhpcyBkdW1teSBjb21wb25lbnQgKlxcL1xyXG4gICAgICogICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICogICAgICAgICB9XHJcbiAgICAgKiAgICAgICAgIC8qIFdlYlhSIHN1cHBvcnRlZCEgT3ZlcnJpZGUgYWxyZWFkeSByZWdpc3RlcmVkIGR1bW15IGltcGxlbWVudGF0aW9uXHJcbiAgICAgKiAgICAgICAgICAqIHdpdGggb25lIGRlcGVuZGluZyBvbiBoaXQtdGVzdCBBUEkgc3VwcG9ydCAqXFwvXHJcbiAgICAgKiAgICAgICAgIGVuZ2luZS5yZWdpc3RlckNvbXBvbmVudCh3aW5kb3cuSGl0VGVzdFNvdXJjZSA9PT0gdW5kZWZpbmVkID9cclxuICAgICAqICAgICAgICAgICAgIEFuY2hvcldpdGhvdXRIaXRUZXN0IDogQW5jaG9yV2l0aEhpdFRlc3QpO1xyXG4gICAgICogICAgIH1cclxuICAgICAqXHJcbiAgICAgKiAgICAgLy8gVGhpcyBvbmUgaW1wbGVtZW50cyBubyBmdW5jdGlvbnNcclxuICAgICAqIH1cclxuICAgICAqIGBgYFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgb25SZWdpc3RlcjtcclxuICAgIC8qKlxyXG4gICAgICogQWxsb3dzIHRvIGluaGVyaXQgcHJvcGVydGllcyBkaXJlY3RseSBpbnNpZGUgdGhlIGVkaXRvci5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBEbyBub3QgdXNlIGRpcmVjdGx5LCBwcmVmZXIgdXNpbmcge0BsaW5rIGluaGVyaXRQcm9wZXJ0aWVzfS5cclxuICAgICAqXHJcbiAgICAgKiBAaGlkZGVuXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBfaW5oZXJpdFByb3BlcnRpZXMoKSB7XHJcbiAgICAgICAgaW5oZXJpdFByb3BlcnRpZXModGhpcyk7XHJcbiAgICB9XHJcbiAgICAvKiogTWFuYWdlciBpbmRleC4gQGhpZGRlbiAqL1xyXG4gICAgX21hbmFnZXI7XHJcbiAgICAvKiogSW5zdGFuY2UgaW5kZXguIEBoaWRkZW4gKi9cclxuICAgIF9pZDtcclxuICAgIC8qKlxyXG4gICAgICogT2JqZWN0IGNvbnRhaW5pbmcgdGhpcyBvYmplY3QuXHJcbiAgICAgKlxyXG4gICAgICogKipOb3RlKio6IFRoaXMgaXMgY2FjaGVkIGZvciBmYXN0ZXIgcmV0cmlldmFsLlxyXG4gICAgICpcclxuICAgICAqIEBoaWRkZW5cclxuICAgICAqL1xyXG4gICAgX29iamVjdDtcclxuICAgIC8qKiBXb25kZXJsYW5kIEVuZ2luZSBpbnN0YW5jZS4gQGhpZGRlbiAqL1xyXG4gICAgX2VuZ2luZTtcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGEgbmV3IGluc3RhbmNlXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGVuZ2luZSBUaGUgZW5naW5lIGluc3RhbmNlLlxyXG4gICAgICogQHBhcmFtIG1hbmFnZXIgSW5kZXggb2YgdGhlIG1hbmFnZXIuXHJcbiAgICAgKiBAcGFyYW0gaWQgV0FTTSBjb21wb25lbnQgaW5zdGFuY2UgaW5kZXguXHJcbiAgICAgKlxyXG4gICAgICogQGhpZGRlblxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihlbmdpbmUsIG1hbmFnZXIgPSAtMSwgaWQgPSAtMSkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZSA9IGVuZ2luZTtcclxuICAgICAgICB0aGlzLl9tYW5hZ2VyID0gbWFuYWdlcjtcclxuICAgICAgICB0aGlzLl9pZCA9IGlkO1xyXG4gICAgICAgIHRoaXMuX29iamVjdCA9IG51bGw7XHJcbiAgICB9XHJcbiAgICAvKiogSG9zdGluZyBlbmdpbmUgaW5zdGFuY2UuICovXHJcbiAgICBnZXQgZW5naW5lKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmU7XHJcbiAgICB9XHJcbiAgICAvKiogVGhlIG5hbWUgb2YgdGhpcyBjb21wb25lbnQncyB0eXBlICovXHJcbiAgICBnZXQgdHlwZSgpIHtcclxuICAgICAgICBjb25zdCBjdG9yID0gdGhpcy5jb25zdHJ1Y3RvcjtcclxuICAgICAgICByZXR1cm4gY3Rvci5UeXBlTmFtZSA/PyB0aGlzLl9lbmdpbmUud2FzbS5fdHlwZU5hbWVGb3IodGhpcy5fbWFuYWdlcik7XHJcbiAgICB9XHJcbiAgICAvKiogVGhlIG9iamVjdCB0aGlzIGNvbXBvbmVudCBpcyBhdHRhY2hlZCB0by4gKi9cclxuICAgIGdldCBvYmplY3QoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9vYmplY3QpIHtcclxuICAgICAgICAgICAgY29uc3Qgb2JqZWN0SWQgPSB0aGlzLl9lbmdpbmUud2FzbS5fd2xfY29tcG9uZW50X2dldF9vYmplY3QodGhpcy5fbWFuYWdlciwgdGhpcy5faWQpO1xyXG4gICAgICAgICAgICB0aGlzLl9vYmplY3QgPSB0aGlzLl9lbmdpbmUud3JhcE9iamVjdChvYmplY3RJZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLl9vYmplY3Q7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCB3aGV0aGVyIHRoaXMgY29tcG9uZW50IGlzIGFjdGl2ZS5cclxuICAgICAqXHJcbiAgICAgKiBBY3RpdmF0aW5nL2RlYWN0aXZhdGluZyBhIGNvbXBvbmVudCBjb21lcyBhdCBhIHNtYWxsIGNvc3Qgb2YgcmVvcmRlcmluZ1xyXG4gICAgICogY29tcG9uZW50cyBpbiB0aGUgcmVzcGVjdGl2ZSBjb21wb25lbnQgbWFuYWdlci4gVGhpcyBmdW5jdGlvbiB0aGVyZWZvcmVcclxuICAgICAqIGlzIG5vdCBhIHRyaXZpYWwgYXNzaWdubWVudC5cclxuICAgICAqXHJcbiAgICAgKiBEb2VzIG5vdGhpbmcgaWYgdGhlIGNvbXBvbmVudCBpcyBhbHJlYWR5IGFjdGl2YXRlZC9kZWFjdGl2YXRlZC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gYWN0aXZlIE5ldyBhY3RpdmUgc3RhdGUuXHJcbiAgICAgKi9cclxuICAgIHNldCBhY3RpdmUoYWN0aXZlKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX2NvbXBvbmVudF9zZXRBY3RpdmUodGhpcy5fbWFuYWdlciwgdGhpcy5faWQsIGFjdGl2ZSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFdoZXRoZXIgdGhpcyBjb21wb25lbnQgaXMgYWN0aXZlXHJcbiAgICAgKi9cclxuICAgIGdldCBhY3RpdmUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9jb21wb25lbnRfaXNBY3RpdmUodGhpcy5fbWFuYWdlciwgdGhpcy5faWQpICE9IDA7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZSB0aGlzIGNvbXBvbmVudCBmcm9tIGl0cyBvYmplY3RzIGFuZCBkZXN0cm95IGl0LlxyXG4gICAgICpcclxuICAgICAqIEl0IGlzIGJlc3QgcHJhY3RpY2UgdG8gc2V0IHRoZSBjb21wb25lbnQgdG8gYG51bGxgIGFmdGVyLFxyXG4gICAgICogdG8gZW5zdXJlIGl0IGRvZXMgbm90IGdldCB1c2VkIGxhdGVyLlxyXG4gICAgICpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiAgICBjLmRlc3Ryb3koKTtcclxuICAgICAqICAgIGMgPSBudWxsO1xyXG4gICAgICogYGBgXHJcbiAgICAgKiBAc2luY2UgMC45LjBcclxuICAgICAqL1xyXG4gICAgZGVzdHJveSgpIHtcclxuICAgICAgICBjb25zdCBtYW5hZ2VyID0gdGhpcy5fbWFuYWdlcjtcclxuICAgICAgICBpZiAobWFuYWdlciA8IDAgfHwgdGhpcy5faWQgPCAwKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgLyogTXVzdCBiZSBzdG9yZWQgYmVmb3JlIGRlc3RydWN0aW9uLiAqL1xyXG4gICAgICAgIGNvbnN0IGpzTWFuYWdlciA9IHRoaXMuZW5naW5lLndhc20uX2pzTWFuYWdlckluZGV4O1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9jb21wb25lbnRfcmVtb3ZlKG1hbmFnZXIsIHRoaXMuX2lkKTtcclxuICAgICAgICAvKiogQHRvZG86IFJlbW92ZSBhdCAxLjIuMCB3aGVuIGEgZ2VuZXJpYyBkZXN0cm95IGlzIGltcGxlbWVudGVkXHJcbiAgICAgICAgICogZm9yIGV2ZXJ5IG1hbmFnZXIuICovXHJcbiAgICAgICAgaWYgKG1hbmFnZXIgIT09IGpzTWFuYWdlcilcclxuICAgICAgICAgICAgdGhpcy5fdHJpZ2dlck9uRGVzdHJveSgpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3MgZXF1YWxpdHkgYnkgY29tcGFyaW5nIHdoZXRoZXIgdGhlIHdyYXBwZWQgbmF0aXZlIGNvbXBvbmVudCBpZHNcclxuICAgICAqIGFuZCBjb21wb25lbnQgbWFuYWdlciB0eXBlcyBhcmUgZXF1YWwuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG90aGVyQ29tcG9uZW50IENvbXBvbmVudCB0byBjaGVjayBlcXVhbGl0eSB3aXRoLlxyXG4gICAgICogQHJldHVybnMgV2hldGhlciB0aGlzIGNvbXBvbmVudCBlcXVhbHMgdGhlIGdpdmVuIGNvbXBvbmVudC5cclxuICAgICAqL1xyXG4gICAgZXF1YWxzKG90aGVyQ29tcG9uZW50KSB7XHJcbiAgICAgICAgaWYgKCFvdGhlckNvbXBvbmVudClcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9tYW5hZ2VyID09IG90aGVyQ29tcG9uZW50Ll9tYW5hZ2VyICYmIHRoaXMuX2lkID09IG90aGVyQ29tcG9uZW50Ll9pZDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmVzZXQgdGhlIGNvbXBvbmVudCBwcm9wZXJ0aWVzIHRvIGRlZmF1bHQuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgVGhpcyBpcyBhdXRvbWF0aWNhbGx5IGNhbGxlZCBkdXJpbmcgdGhlIGNvbXBvbmVudCBpbnN0YW50aWF0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cclxuICAgICAqL1xyXG4gICAgcmVzZXRQcm9wZXJ0aWVzKCkge1xyXG4gICAgICAgIGNvbnN0IGN0b3IgPSB0aGlzLmNvbnN0cnVjdG9yO1xyXG4gICAgICAgIGNvbnN0IHByb3BlcnRpZXMgPSBjdG9yLlByb3BlcnRpZXM7XHJcbiAgICAgICAgaWYgKCFwcm9wZXJ0aWVzKVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICBmb3IgKGNvbnN0IG5hbWUgaW4gcHJvcGVydGllcykge1xyXG4gICAgICAgICAgICB0aGlzW25hbWVdID0gcHJvcGVydGllc1tuYW1lXS5kZWZhdWx0O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIC8qKiBAZGVwcmVjYXRlZCBVc2Uge0BsaW5rIENvbXBvbmVudC5yZXNldFByb3BlcnRpZXN9IGluc3RlYWQuICovXHJcbiAgICByZXNldCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yZXNldFByb3BlcnRpZXMoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVmFsaWRhdGUgdGhlIHByb3BlcnRpZXMgb24gdGhpcyBpbnN0YW5jZS5cclxuICAgICAqXHJcbiAgICAgKiBAdGhyb3dzIElmIGFueSBvZiB0aGUgcmVxdWlyZWQgcHJvcGVydGllcyBpc24ndCBpbml0aWFsaXplZFxyXG4gICAgICogb24gdGhpcyBpbnN0YW5jZS5cclxuICAgICAqL1xyXG4gICAgdmFsaWRhdGVQcm9wZXJ0aWVzKCkge1xyXG4gICAgICAgIGNvbnN0IGN0b3IgPSB0aGlzLmNvbnN0cnVjdG9yO1xyXG4gICAgICAgIGlmICghY3Rvci5Qcm9wZXJ0aWVzKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgZm9yIChjb25zdCBuYW1lIGluIGN0b3IuUHJvcGVydGllcykge1xyXG4gICAgICAgICAgICBpZiAoIWN0b3IuUHJvcGVydGllc1tuYW1lXS5yZXF1aXJlZClcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXNbbmFtZV0pIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgUHJvcGVydHkgJyR7bmFtZX0nIGlzIHJlcXVpcmVkIGJ1dCB3YXMgbm90IGluaXRpYWxpemVkYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIGB0cnVlYCBpZiB0aGUgY29tcG9uZW50IGlzIGRlc3Ryb3llZCwgYGZhbHNlYCBvdGhlcndpc2UuXHJcbiAgICAgKlxyXG4gICAgICogSWYge0BsaW5rIFdvbmRlcmxhbmRFbmdpbmUuZXJhc2VQcm90b3R5cGVPbkRlc3Ryb3l9IGlzIGB0cnVlYCxcclxuICAgICAqIHJlYWRpbmcgYSBjdXN0b20gcHJvcGVydHkgd2lsbCBub3Qgd29yazpcclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogZW5naW5lLmVyYXNlUHJvdG90eXBlT25EZXN0cm95ID0gdHJ1ZTtcclxuICAgICAqXHJcbiAgICAgKiBjb25zdCBjb21wID0gb2JqLmFkZENvbXBvbmVudCgnbWVzaCcpO1xyXG4gICAgICogY29tcC5jdXN0b21QYXJhbSA9ICdIZWxsbyBXb3JsZCEnO1xyXG4gICAgICpcclxuICAgICAqIGNvbnNvbGUubG9nKGNvbXAuaXNEZXN0cm95ZWQpOyAvLyBQcmludHMgYGZhbHNlYFxyXG4gICAgICogY29tcC5kZXN0cm95KCk7XHJcbiAgICAgKiBjb25zb2xlLmxvZyhjb21wLmlzRGVzdHJveWVkKTsgLy8gUHJpbnRzIGB0cnVlYFxyXG4gICAgICogY29uc29sZS5sb2coY29tcC5jdXN0b21QYXJhbSk7IC8vIFRocm93cyBhbiBlcnJvclxyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogQHNpbmNlIDEuMS4xXHJcbiAgICAgKi9cclxuICAgIGdldCBpc0Rlc3Ryb3llZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faWQgPCAwO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUcmlnZ2VyIHRoZSBjb21wb25lbnQge0BsaW5rIENvbXBvbmVudC5pbml0fSBtZXRob2QuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgVXNlIHRoaXMgbWV0aG9kIGluc3RlYWQgb2YgZGlyZWN0bHkgY2FsbGluZyB7QGxpbmsgQ29tcG9uZW50LmluaXR9LFxyXG4gICAgICogYmVjYXVzZSB0aGlzIG1ldGhvZCBjcmVhdGVzIGFuIGhhbmRsZXIgZm9yIHRoZSB7QGxpbmsgQ29tcG9uZW50LnN0YXJ0fS5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBUaGlzIGFwaSBpcyBtZWFudCB0byBiZSB1c2VkIGludGVybmFsbHkuXHJcbiAgICAgKlxyXG4gICAgICogQGhpZGRlblxyXG4gICAgICovXHJcbiAgICBfdHJpZ2dlckluaXQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaW5pdCkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbml0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEV4Y2VwdGlvbiBkdXJpbmcgJHt0aGlzLnR5cGV9IGluaXQoKSBvbiBvYmplY3QgJHt0aGlzLm9iamVjdC5uYW1lfWApO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvKiBBcm0gb25BY3RpdmF0ZSgpIHdpdGggdGhlIGluaXRpYWwgc3RhcnQoKSBjYWxsICovXHJcbiAgICAgICAgY29uc3Qgb2xkQWN0aXZhdGUgPSB0aGlzLm9uQWN0aXZhdGU7XHJcbiAgICAgICAgdGhpcy5vbkFjdGl2YXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLm9uQWN0aXZhdGUgPSBvbGRBY3RpdmF0ZTtcclxuICAgICAgICAgICAgbGV0IGZhaWxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy52YWxpZGF0ZVByb3BlcnRpZXMoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXhjZXB0aW9uIGR1cmluZyAke3RoaXMudHlwZX0gdmFsaWRhdGVQcm9wZXJ0aWVzKCkgb24gb2JqZWN0ICR7dGhpcy5vYmplY3QubmFtZX1gKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgICAgICAgICAgICBmYWlsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0Py4oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXhjZXB0aW9uIGR1cmluZyAke3RoaXMudHlwZX0gc3RhcnQoKSBvbiBvYmplY3QgJHt0aGlzLm9iamVjdC5uYW1lfWApO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgICAgICAgICAgICAgIGZhaWxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGZhaWxlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIXRoaXMub25BY3RpdmF0ZSlcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHRoaXMub25BY3RpdmF0ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFeGNlcHRpb24gZHVyaW5nICR7dGhpcy50eXBlfSBvbkFjdGl2YXRlKCkgb24gb2JqZWN0ICR7dGhpcy5vYmplY3QubmFtZX1gKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUcmlnZ2VyIHRoZSBjb21wb25lbnQge0BsaW5rIENvbXBvbmVudC51cGRhdGV9IG1ldGhvZC5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBUaGlzIGFwaSBpcyBtZWFudCB0byBiZSB1c2VkIGludGVybmFsbHkuXHJcbiAgICAgKlxyXG4gICAgICogQGhpZGRlblxyXG4gICAgICovXHJcbiAgICBfdHJpZ2dlclVwZGF0ZShkdCkge1xyXG4gICAgICAgIGlmICghdGhpcy51cGRhdGUpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZShkdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEV4Y2VwdGlvbiBkdXJpbmcgJHt0aGlzLnR5cGV9IHVwZGF0ZSgpIG9uIG9iamVjdCAke3RoaXMub2JqZWN0Lm5hbWV9YCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9lbmdpbmUud2FzbS5fZGVhY3RpdmF0ZV9jb21wb25lbnRfb25fZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFRyaWdnZXIgdGhlIGNvbXBvbmVudCB7QGxpbmsgQ29tcG9uZW50Lm9uQWN0aXZhdGV9IG1ldGhvZC5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBUaGlzIGFwaSBpcyBtZWFudCB0byBiZSB1c2VkIGludGVybmFsbHkuXHJcbiAgICAgKlxyXG4gICAgICogQGhpZGRlblxyXG4gICAgICovXHJcbiAgICBfdHJpZ2dlck9uQWN0aXZhdGUoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLm9uQWN0aXZhdGUpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB0aGlzLm9uQWN0aXZhdGUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXhjZXB0aW9uIGR1cmluZyAke3RoaXMudHlwZX0gb25BY3RpdmF0ZSgpIG9uIG9iamVjdCAke3RoaXMub2JqZWN0Lm5hbWV9YCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUcmlnZ2VyIHRoZSBjb21wb25lbnQge0BsaW5rIENvbXBvbmVudC5vbkRlYWN0aXZhdGV9IG1ldGhvZC5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBUaGlzIGFwaSBpcyBtZWFudCB0byBiZSB1c2VkIGludGVybmFsbHkuXHJcbiAgICAgKlxyXG4gICAgICogQGhpZGRlblxyXG4gICAgICovXHJcbiAgICBfdHJpZ2dlck9uRGVhY3RpdmF0ZSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMub25EZWFjdGl2YXRlKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGhpcy5vbkRlYWN0aXZhdGUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXhjZXB0aW9uIGR1cmluZyAke3RoaXMudHlwZX0gb25EZWFjdGl2YXRlKCkgb24gb2JqZWN0ICR7dGhpcy5vYmplY3QubmFtZX1gKTtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFRyaWdnZXIgdGhlIGNvbXBvbmVudCB7QGxpbmsgQ29tcG9uZW50Lm9uRGVzdHJveX0gbWV0aG9kLlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFRoaXMgYXBpIGlzIG1lYW50IHRvIGJlIHVzZWQgaW50ZXJuYWxseS5cclxuICAgICAqXHJcbiAgICAgKiBAaGlkZGVuXHJcbiAgICAgKi9cclxuICAgIF90cmlnZ2VyT25EZXN0cm95KCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm9uRGVzdHJveSlcclxuICAgICAgICAgICAgICAgIHRoaXMub25EZXN0cm95KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEV4Y2VwdGlvbiBkdXJpbmcgJHt0aGlzLnR5cGV9IG9uRGVzdHJveSgpIG9uIG9iamVjdCAke3RoaXMub2JqZWN0Lm5hbWV9YCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2VuZ2luZS5fZGVzdHJveUNvbXBvbmVudCh0aGlzKTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogQ29tcG9uZW50cyBtdXN0IGJlIHJlZ2lzdGVyZWQgYmVmb3JlIGxvYWRpbmcgLyBhcHBlbmRpbmcgYSBzY2VuZS5cclxuICpcclxuICogSXQncyBwb3NzaWJsZSB0byBlbmQgdXAgd2l0aCBhIGJyb2tlbiBjb21wb25lbnQgaW4gdGhlIGZvbGxvd2luZyBjYXNlczpcclxuICpcclxuICogLSBDb21wb25lbnQgd2Fzbid0IHJlZ2lzdGVyZWQgd2hlbiB0aGUgc2NlbmUgd2FzIGxvYWRlZFxyXG4gKiAtIENvbXBvbmVudCBpbnN0YW50aWF0aW9uIGZhaWxlZFxyXG4gKlxyXG4gKiBUaGlzIGR1bW15IGNvbXBvbmVudCBpcyB0aHVzIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBieSB0aGUgZW5naW5lLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEJyb2tlbkNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnX19icm9rZW4tY29tcG9uZW50X18nO1xyXG59XHJcbi8qKlxyXG4gKiBNZXJnZSB0aGUgYXNjZW5kYW50IHByb3BlcnRpZXMgb2YgY2xhc3NcclxuICpcclxuICogVGhpcyBtZXRob2Qgd2Fsa3MgdGhlIHByb3RvdHlwZSBjaGFpbiwgYW5kIG1lcmdlc1xyXG4gKiBhbGwgdGhlIHByb3BlcnRpZXMgZm91bmQgaW4gcGFyZW50IGNvbXBvbmVudHMuXHJcbiAqXHJcbiAqIEV4YW1wbGU6XHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIGltcG9ydCB7UHJvcGVydHksIGluaGVyaXRQcm9wZXJ0aWVzfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xyXG4gKlxyXG4gKiBjbGFzcyBQYXJlbnQge1xyXG4gKiAgICAgc3RhdGljIFByb3BlcnRpZXMgPSB7IHBhcmVudFByb3A6IFByb3BlcnR5LnN0cmluZygncGFyZW50JykgfTtcclxuICogfVxyXG4gKlxyXG4gKiBjbGFzcyBDaGlsZCBleHRlbmRzIFBhcmVudCB7XHJcbiAqICAgICBzdGF0aWMgUHJvcGVydGllcyA9IHsgY2hpbGRQcm9wOiBQcm9wZXJ0eS5zdHJpbmcoJ2NoaWxkJykgfTtcclxuICogfVxyXG4gKiBpbmhlcml0UHJvcGVydGllcyhDaGlsZCk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAcGFyYW0gdGFyZ2V0IFRoZSBjbGFzcyBpbiB3aGljaCBwcm9wZXJ0aWVzIHNob3VsZCBiZSBtZXJnZWRcclxuICpcclxuICogQGhpZGRlblxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGluaGVyaXRQcm9wZXJ0aWVzKHRhcmdldCkge1xyXG4gICAgaWYgKCF0YXJnZXQuVHlwZU5hbWUpXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgY29uc3QgY2hhaW4gPSBbXTtcclxuICAgIGxldCBjdXJyID0gdGFyZ2V0O1xyXG4gICAgd2hpbGUgKGN1cnIgJiYgIWlzQmFzZUNvbXBvbmVudENsYXNzKGN1cnIpKSB7XHJcbiAgICAgICAgY29uc3QgY29tcCA9IGN1cnI7XHJcbiAgICAgICAgLyogU3RvcCBhdCB0aGUgZmlyc3QgY2xhc3MgdGhhdCBkb2Vzbid0IHJlcXVpcmUgcHJvcGVydGllcyBtZXJnaW5nICovXHJcbiAgICAgICAgY29uc3QgbmVlZHNNZXJnZSA9IGNvbXAuaGFzT3duUHJvcGVydHkoJ0luaGVyaXRQcm9wZXJ0aWVzJylcclxuICAgICAgICAgICAgPyBjb21wLkluaGVyaXRQcm9wZXJ0aWVzXHJcbiAgICAgICAgICAgIDogdHJ1ZTtcclxuICAgICAgICBpZiAoIW5lZWRzTWVyZ2UpXHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGlmIChjb21wLlR5cGVOYW1lICYmIGNvbXAuaGFzT3duUHJvcGVydHkoJ1Byb3BlcnRpZXMnKSkge1xyXG4gICAgICAgICAgICBjaGFpbi5wdXNoKGNvbXAuUHJvcGVydGllcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGN1cnIgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoY3Vycik7XHJcbiAgICB9XHJcbiAgICAvKiBObyBwcm90b3R5cGUgbWVyZ2UgaXMgbmVlZGVkLiAqL1xyXG4gICAgaWYgKGNoYWluLmxlbmd0aCA8PSAxKVxyXG4gICAgICAgIHJldHVybjtcclxuICAgIGNvbnN0IG1lcmdlZCA9IHt9O1xyXG4gICAgZm9yIChsZXQgaSA9IGNoYWluLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XHJcbiAgICAgICAgT2JqZWN0LmFzc2lnbihtZXJnZWQsIGNoYWluW2ldKTtcclxuICAgIH1cclxuICAgIHRhcmdldC5Qcm9wZXJ0aWVzID0gbWVyZ2VkO1xyXG59XHJcbi8qKlxyXG4gKiBOYXRpdmUgY29sbGlzaW9uIGNvbXBvbmVudC5cclxuICpcclxuICogUHJvdmlkZXMgYWNjZXNzIHRvIGEgbmF0aXZlIGNvbGxpc2lvbiBjb21wb25lbnQgaW5zdGFuY2UuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ29sbGlzaW9uQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIC8qKiBAb3ZlcnJpZGUgKi9cclxuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdjb2xsaXNpb24nO1xyXG4gICAgLyoqIENvbGxpc2lvbiBjb21wb25lbnQgY29sbGlkZXIgKi9cclxuICAgIGdldCBjb2xsaWRlcigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX2NvbGxpc2lvbl9jb21wb25lbnRfZ2V0X2NvbGxpZGVyKHRoaXMuX2lkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IGNvbGxpc2lvbiBjb21wb25lbnQgY29sbGlkZXIuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGNvbGxpZGVyIENvbGxpZGVyIG9mIHRoZSBjb2xsaXNpb24gY29tcG9uZW50LlxyXG4gICAgICovXHJcbiAgICBzZXQgY29sbGlkZXIoY29sbGlkZXIpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfY29sbGlzaW9uX2NvbXBvbmVudF9zZXRfY29sbGlkZXIodGhpcy5faWQsIGNvbGxpZGVyKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ29sbGlzaW9uIGNvbXBvbmVudCBleHRlbnRzLlxyXG4gICAgICpcclxuICAgICAqIElmIHtAbGluayBjb2xsaWRlcn0gcmV0dXJucyB7QGxpbmsgQ29sbGlkZXIuU3BoZXJlfSwgb25seSB0aGUgZmlyc3RcclxuICAgICAqIGNvbXBvbmVudCBvZiB0aGUgcmV0dXJuZWQgdmVjdG9yIGlzIHVzZWQuXHJcbiAgICAgKi9cclxuICAgIGdldCBleHRlbnRzKCkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSh3YXNtLkhFQVBGMzIuYnVmZmVyLCB3YXNtLl93bF9jb2xsaXNpb25fY29tcG9uZW50X2dldF9leHRlbnRzKHRoaXMuX2lkKSwgMyk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCBjb2xsaXNpb24gY29tcG9uZW50IGV4dGVudHMuXHJcbiAgICAgKlxyXG4gICAgICogSWYge0BsaW5rIGNvbGxpZGVyfSByZXR1cm5zIHtAbGluayBDb2xsaWRlci5TcGhlcmV9LCBvbmx5IHRoZSBmaXJzdFxyXG4gICAgICogY29tcG9uZW50IG9mIHRoZSBwYXNzZWQgdmVjdG9yIGlzIHVzZWQuXHJcbiAgICAgKlxyXG4gICAgICogRXhhbXBsZTpcclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogLy8gU3BhbnMgMSB1bml0IG9uIHRoZSB4LWF4aXMsIDIgb24gdGhlIHktYXhpcywgMyBvbiB0aGUgei1heGlzLlxyXG4gICAgICogY29sbGlzaW9uLmV4dGVudCA9IFsxLCAyLCAzXTtcclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBleHRlbnRzIEV4dGVudHMgb2YgdGhlIGNvbGxpc2lvbiBjb21wb25lbnQsIGV4cGVjdHMgYVxyXG4gICAgICogICAgICAzIGNvbXBvbmVudCBhcnJheS5cclxuICAgICAqL1xyXG4gICAgc2V0IGV4dGVudHMoZXh0ZW50cykge1xyXG4gICAgICAgIHRoaXMuZXh0ZW50cy5zZXQoZXh0ZW50cyk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdldCBjb2xsaXNpb24gY29tcG9uZW50IHJhZGl1cy5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBJZiB7QGxpbmsgY29sbGlkZXJ9IGlzIG5vdCB7QGxpbmsgQ29sbGlkZXIuU3BoZXJlfSwgdGhlIHJldHVybmVkIHZhbHVlXHJcbiAgICAgKiBjb3JyZXNwb25kcyB0byB0aGUgcmFkaXVzIG9mIGEgc3BoZXJlIGVuY2xvc2luZyB0aGUgc2hhcGUuXHJcbiAgICAgKlxyXG4gICAgICogRXhhbXBsZTpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiBzcGhlcmUucmFkaXVzID0gMy4wO1xyXG4gICAgICogY29uc29sZS5sb2coc3BoZXJlLnJhZGl1cyk7IC8vIDMuMFxyXG4gICAgICpcclxuICAgICAqIGJveC5leHRlbnRzID0gWzIuMCwgMi4wLCAyLjBdO1xyXG4gICAgICogY29uc29sZS5sb2coYm94LnJhZGl1cyk7IC8vIDEuNzMyLi4uXHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKi9cclxuICAgIGdldCByYWRpdXMoKSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIGlmICh0aGlzLmNvbGxpZGVyID09PSBDb2xsaWRlci5TcGhlcmUpXHJcbiAgICAgICAgICAgIHJldHVybiB3YXNtLkhFQVBGMzJbd2FzbS5fd2xfY29sbGlzaW9uX2NvbXBvbmVudF9nZXRfZXh0ZW50cyh0aGlzLl9pZCkgPj4gMl07XHJcbiAgICAgICAgY29uc3QgZXh0ZW50cyA9IG5ldyBGbG9hdDMyQXJyYXkod2FzbS5IRUFQRjMyLmJ1ZmZlciwgd2FzbS5fd2xfY29sbGlzaW9uX2NvbXBvbmVudF9nZXRfZXh0ZW50cyh0aGlzLl9pZCksIDMpO1xyXG4gICAgICAgIGNvbnN0IHgyID0gZXh0ZW50c1swXSAqIGV4dGVudHNbMF07XHJcbiAgICAgICAgY29uc3QgeTIgPSBleHRlbnRzWzFdICogZXh0ZW50c1sxXTtcclxuICAgICAgICBjb25zdCB6MiA9IGV4dGVudHNbMl0gKiBleHRlbnRzWzJdO1xyXG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQoeDIgKyB5MiArIHoyKSAvIDI7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCBjb2xsaXNpb24gY29tcG9uZW50IHJhZGl1cy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gcmFkaXVzIFJhZGl1cyBvZiB0aGUgY29sbGlzaW9uIGNvbXBvbmVudFxyXG4gICAgICpcclxuICAgICAqIEBub3RlIElmIHtAbGluayBjb2xsaWRlcn0gaXMgbm90IHtAbGluayBDb2xsaWRlci5TcGhlcmV9LFxyXG4gICAgICogdGhlIGV4dGVudHMgYXJlIHNldCB0byBmb3JtIGEgc3F1YXJlIHRoYXQgZml0cyBhIHNwaGVyZSB3aXRoIHRoZSBwcm92aWRlZCByYWRpdXMuXHJcbiAgICAgKlxyXG4gICAgICogRXhhbXBsZTpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiBhYWJiQ29sbGlzaW9uLnJhZGl1cyA9IDIuMDsgLy8gQUFCQiBmaXRzIGEgc3BoZXJlIG9mIHJhZGl1cyAyLjBcclxuICAgICAqIGJveENvbGxpc2lvbi5yYWRpdXMgPSAzLjA7IC8vIEJveCBub3cgZml0cyBhIHNwaGVyZSBvZiByYWRpdXMgMy4wLCBrZWVwaW5nIG9yaWVudGF0aW9uXHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKi9cclxuICAgIHNldCByYWRpdXMocmFkaXVzKSB7XHJcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gdGhpcy5jb2xsaWRlciA9PT0gQ29sbGlkZXIuU3BoZXJlID8gcmFkaXVzIDogKDIgKiByYWRpdXMpIC8gU1FSVF8zO1xyXG4gICAgICAgIHRoaXMuZXh0ZW50cy5zZXQoW2xlbmd0aCwgbGVuZ3RoLCBsZW5ndGhdKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ29sbGlzaW9uIGNvbXBvbmVudCBncm91cC5cclxuICAgICAqXHJcbiAgICAgKiBUaGUgZ3JvdXBzIGlzIGEgYml0bWFzayB0aGF0IGlzIGNvbXBhcmVkIHRvIG90aGVyIGNvbXBvbmVudHMgaW4ge0BsaW5rIENvbGxpc2lvbkNvbXBvbmVudCNxdWVyeU92ZXJsYXBzfVxyXG4gICAgICogb3IgdGhlIGdyb3VwIGluIHtAbGluayBTY2VuZSNyYXlDYXN0fS5cclxuICAgICAqXHJcbiAgICAgKiBDb2xsaWRlcnMgdGhhdCBoYXZlIG5vIGNvbW1vbiBncm91cHMgd2lsbCBub3Qgb3ZlcmxhcCB3aXRoIGVhY2ggb3RoZXIuIElmIGEgY29sbGlkZXJcclxuICAgICAqIGhhcyBub25lIG9mIHRoZSBncm91cHMgc2V0IGZvciB7QGxpbmsgU2NlbmUjcmF5Q2FzdH0sIHRoZSByYXkgd2lsbCBub3QgaGl0IGl0LlxyXG4gICAgICpcclxuICAgICAqIEVhY2ggYml0IHJlcHJlc2VudHMgYmVsb25naW5nIHRvIGEgZ3JvdXAsIHNlZSBleGFtcGxlLlxyXG4gICAgICpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiAgICAvLyBjIGJlbG9uZ3MgdG8gZ3JvdXAgMlxyXG4gICAgICogICAgYy5ncm91cCA9ICgxIDw8IDIpO1xyXG4gICAgICpcclxuICAgICAqICAgIC8vIGMgYmVsb25ncyB0byBncm91cCAwXHJcbiAgICAgKiAgICBjLmdyb3VwID0gKDEgPDwgMCk7XHJcbiAgICAgKlxyXG4gICAgICogICAgLy8gYyBiZWxvbmdzIHRvIGdyb3VwIDAgKmFuZCogMlxyXG4gICAgICogICAgYy5ncm91cCA9ICgxIDw8IDApIHwgKDEgPDwgMik7XHJcbiAgICAgKlxyXG4gICAgICogICAgKGMuZ3JvdXAgJiAoMSA8PCAyKSkgIT0gMDsgLy8gdHJ1ZVxyXG4gICAgICogICAgKGMuZ3JvdXAgJiAoMSA8PCA3KSkgIT0gMDsgLy8gZmFsc2VcclxuICAgICAqIGBgYFxyXG4gICAgICovXHJcbiAgICBnZXQgZ3JvdXAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9jb2xsaXNpb25fY29tcG9uZW50X2dldF9ncm91cCh0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCBjb2xsaXNpb24gY29tcG9uZW50IGdyb3VwLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBncm91cCBHcm91cCBtYXNrIG9mIHRoZSBjb2xsaXNpb24gY29tcG9uZW50LlxyXG4gICAgICovXHJcbiAgICBzZXQgZ3JvdXAoZ3JvdXApIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfY29sbGlzaW9uX2NvbXBvbmVudF9zZXRfZ3JvdXAodGhpcy5faWQsIGdyb3VwKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUXVlcnkgb3ZlcmxhcHBpbmcgb2JqZWN0cy5cclxuICAgICAqXHJcbiAgICAgKiBVc2FnZTpcclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogY29uc3QgY29sbGlzaW9uID0gb2JqZWN0LmdldENvbXBvbmVudCgnY29sbGlzaW9uJyk7XHJcbiAgICAgKiBjb25zdCBvdmVybGFwcyA9IGNvbGxpc2lvbi5xdWVyeU92ZXJsYXBzKCk7XHJcbiAgICAgKiBmb3IoY29uc3Qgb3RoZXJDb2xsaXNpb24gb2Ygb3ZlcmxhcHMpIHtcclxuICAgICAqICAgICBjb25zdCBvdGhlck9iamVjdCA9IG90aGVyQ29sbGlzaW9uLm9iamVjdDtcclxuICAgICAqICAgICBjb25zb2xlLmxvZyhgQ29sbGlzaW9uIHdpdGggb2JqZWN0ICR7b3RoZXJPYmplY3Qub2JqZWN0SWR9YCk7XHJcbiAgICAgKiB9XHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBDb2xsaXNpb24gY29tcG9uZW50cyBvdmVybGFwcGluZyB0aGlzIGNvbGxpZGVyLlxyXG4gICAgICovXHJcbiAgICBxdWVyeU92ZXJsYXBzKCkge1xyXG4gICAgICAgIGNvbnN0IGNvdW50ID0gdGhpcy5fZW5naW5lLndhc20uX3dsX2NvbGxpc2lvbl9jb21wb25lbnRfcXVlcnlfb3ZlcmxhcHModGhpcy5faWQsIHRoaXMuX2VuZ2luZS53YXNtLl90ZW1wTWVtLCB0aGlzLl9lbmdpbmUud2FzbS5fdGVtcE1lbVNpemUgPj4gMSk7XHJcbiAgICAgICAgY29uc3Qgb3ZlcmxhcHMgPSBuZXcgQXJyYXkoY291bnQpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7ICsraSkge1xyXG4gICAgICAgICAgICBvdmVybGFwc1tpXSA9IG5ldyBDb2xsaXNpb25Db21wb25lbnQodGhpcy5fZW5naW5lLCB0aGlzLl9tYW5hZ2VyLCB0aGlzLl9lbmdpbmUud2FzbS5fdGVtcE1lbVVpbnQxNltpXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBvdmVybGFwcztcclxuICAgIH1cclxufVxyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgQ29sbGlzaW9uQ29tcG9uZW50LnByb3RvdHlwZSwgXCJjb2xsaWRlclwiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIENvbGxpc2lvbkNvbXBvbmVudC5wcm90b3R5cGUsIFwiZXh0ZW50c1wiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIENvbGxpc2lvbkNvbXBvbmVudC5wcm90b3R5cGUsIFwiZ3JvdXBcIiwgbnVsbCk7XHJcbi8qKlxyXG4gKiBOYXRpdmUgdGV4dCBjb21wb25lbnRcclxuICpcclxuICogUHJvdmlkZXMgYWNjZXNzIHRvIGEgbmF0aXZlIHRleHQgY29tcG9uZW50IGluc3RhbmNlXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgVGV4dENvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICAvKiogQG92ZXJyaWRlICovXHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAndGV4dCc7XHJcbiAgICAvKiogVGV4dCBjb21wb25lbnQgYWxpZ25tZW50LiAqL1xyXG4gICAgZ2V0IGFsaWdubWVudCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX3RleHRfY29tcG9uZW50X2dldF9ob3Jpem9udGFsX2FsaWdubWVudCh0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCB0ZXh0IGNvbXBvbmVudCBhbGlnbm1lbnQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGFsaWdubWVudCBBbGlnbm1lbnQgZm9yIHRoZSB0ZXh0IGNvbXBvbmVudC5cclxuICAgICAqL1xyXG4gICAgc2V0IGFsaWdubWVudChhbGlnbm1lbnQpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfdGV4dF9jb21wb25lbnRfc2V0X2hvcml6b250YWxfYWxpZ25tZW50KHRoaXMuX2lkLCBhbGlnbm1lbnQpO1xyXG4gICAgfVxyXG4gICAgLyoqIFRleHQgY29tcG9uZW50IGp1c3RpZmljYXRpb24uICovXHJcbiAgICBnZXQganVzdGlmaWNhdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX3RleHRfY29tcG9uZW50X2dldF92ZXJ0aWNhbF9hbGlnbm1lbnQodGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgdGV4dCBjb21wb25lbnQganVzdGlmaWNhdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ganVzdGlmaWNhdGlvbiBKdXN0aWZpY2F0aW9uIGZvciB0aGUgdGV4dCBjb21wb25lbnQuXHJcbiAgICAgKi9cclxuICAgIHNldCBqdXN0aWZpY2F0aW9uKGp1c3RpZmljYXRpb24pIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfdGV4dF9jb21wb25lbnRfc2V0X3ZlcnRpY2FsX2FsaWdubWVudCh0aGlzLl9pZCwganVzdGlmaWNhdGlvbik7XHJcbiAgICB9XHJcbiAgICAvKiogVGV4dCBjb21wb25lbnQgY2hhcmFjdGVyIHNwYWNpbmcuICovXHJcbiAgICBnZXQgY2hhcmFjdGVyU3BhY2luZygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX3RleHRfY29tcG9uZW50X2dldF9jaGFyYWN0ZXJfc3BhY2luZyh0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCB0ZXh0IGNvbXBvbmVudCBjaGFyYWN0ZXIgc3BhY2luZy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gc3BhY2luZyBDaGFyYWN0ZXIgc3BhY2luZyBmb3IgdGhlIHRleHQgY29tcG9uZW50LlxyXG4gICAgICovXHJcbiAgICBzZXQgY2hhcmFjdGVyU3BhY2luZyhzcGFjaW5nKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3RleHRfY29tcG9uZW50X3NldF9jaGFyYWN0ZXJfc3BhY2luZyh0aGlzLl9pZCwgc3BhY2luZyk7XHJcbiAgICB9XHJcbiAgICAvKiogVGV4dCBjb21wb25lbnQgbGluZSBzcGFjaW5nLiAqL1xyXG4gICAgZ2V0IGxpbmVTcGFjaW5nKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfdGV4dF9jb21wb25lbnRfZ2V0X2xpbmVfc3BhY2luZyh0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCB0ZXh0IGNvbXBvbmVudCBsaW5lIHNwYWNpbmdcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gc3BhY2luZyBMaW5lIHNwYWNpbmcgZm9yIHRoZSB0ZXh0IGNvbXBvbmVudFxyXG4gICAgICovXHJcbiAgICBzZXQgbGluZVNwYWNpbmcoc3BhY2luZykge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF90ZXh0X2NvbXBvbmVudF9zZXRfbGluZV9zcGFjaW5nKHRoaXMuX2lkLCBzcGFjaW5nKTtcclxuICAgIH1cclxuICAgIC8qKiBUZXh0IGNvbXBvbmVudCBlZmZlY3QuICovXHJcbiAgICBnZXQgZWZmZWN0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfdGV4dF9jb21wb25lbnRfZ2V0X2VmZmVjdCh0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCB0ZXh0IGNvbXBvbmVudCBlZmZlY3RcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gZWZmZWN0IEVmZmVjdCBmb3IgdGhlIHRleHQgY29tcG9uZW50XHJcbiAgICAgKi9cclxuICAgIHNldCBlZmZlY3QoZWZmZWN0KSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3RleHRfY29tcG9uZW50X3NldF9lZmZlY3QodGhpcy5faWQsIGVmZmVjdCk7XHJcbiAgICB9XHJcbiAgICAvKiogVGV4dCBjb21wb25lbnQgdGV4dC4gKi9cclxuICAgIGdldCB0ZXh0KCkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICBjb25zdCBwdHIgPSB3YXNtLl93bF90ZXh0X2NvbXBvbmVudF9nZXRfdGV4dCh0aGlzLl9pZCk7XHJcbiAgICAgICAgcmV0dXJuIHdhc20uVVRGOFRvU3RyaW5nKHB0cik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCB0ZXh0IGNvbXBvbmVudCB0ZXh0LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB0ZXh0IFRleHQgb2YgdGhlIHRleHQgY29tcG9uZW50LlxyXG4gICAgICovXHJcbiAgICBzZXQgdGV4dCh0ZXh0KSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIHdhc20uX3dsX3RleHRfY29tcG9uZW50X3NldF90ZXh0KHRoaXMuX2lkLCB3YXNtLnRlbXBVVEY4KHRleHQudG9TdHJpbmcoKSkpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgbWF0ZXJpYWwgdG8gcmVuZGVyIHRoZSB0ZXh0IHdpdGguXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG1hdGVyaWFsIE5ldyBtYXRlcmlhbC5cclxuICAgICAqL1xyXG4gICAgc2V0IG1hdGVyaWFsKG1hdGVyaWFsKSB7XHJcbiAgICAgICAgY29uc3QgbWF0SW5kZXggPSBtYXRlcmlhbCA/IG1hdGVyaWFsLl9pbmRleCA6IDA7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3RleHRfY29tcG9uZW50X3NldF9tYXRlcmlhbCh0aGlzLl9pZCwgbWF0SW5kZXgpO1xyXG4gICAgfVxyXG4gICAgLyoqIE1hdGVyaWFsIHVzZWQgdG8gcmVuZGVyIHRoZSB0ZXh0LiAqL1xyXG4gICAgZ2V0IG1hdGVyaWFsKCkge1xyXG4gICAgICAgIGNvbnN0IGlkID0gdGhpcy5fZW5naW5lLndhc20uX3dsX3RleHRfY29tcG9uZW50X2dldF9tYXRlcmlhbCh0aGlzLl9pZCk7XHJcbiAgICAgICAgcmV0dXJuIGlkID4gMCA/IG5ldyBNYXRlcmlhbCh0aGlzLl9lbmdpbmUsIGlkKSA6IG51bGw7XHJcbiAgICB9XHJcbn1cclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIFRleHRDb21wb25lbnQucHJvdG90eXBlLCBcImFsaWdubWVudFwiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIFRleHRDb21wb25lbnQucHJvdG90eXBlLCBcImp1c3RpZmljYXRpb25cIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBUZXh0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJjaGFyYWN0ZXJTcGFjaW5nXCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgVGV4dENvbXBvbmVudC5wcm90b3R5cGUsIFwibGluZVNwYWNpbmdcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBUZXh0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJlZmZlY3RcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBUZXh0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJ0ZXh0XCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgVGV4dENvbXBvbmVudC5wcm90b3R5cGUsIFwibWF0ZXJpYWxcIiwgbnVsbCk7XHJcbi8qKlxyXG4gKiBOYXRpdmUgdmlldyBjb21wb25lbnQuXHJcbiAqXHJcbiAqIFByb3ZpZGVzIGFjY2VzcyB0byBhIG5hdGl2ZSB2aWV3IGNvbXBvbmVudCBpbnN0YW5jZS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBWaWV3Q29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIC8qKiBAb3ZlcnJpZGUgKi9cclxuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICd2aWV3JztcclxuICAgIC8qKiBQcm9qZWN0aW9uIG1hdHJpeC4gKi9cclxuICAgIGdldCBwcm9qZWN0aW9uTWF0cml4KCkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSh3YXNtLkhFQVBGMzIuYnVmZmVyLCB3YXNtLl93bF92aWV3X2NvbXBvbmVudF9nZXRfcHJvamVjdGlvbl9tYXRyaXgodGhpcy5faWQpLCAxNik7XHJcbiAgICB9XHJcbiAgICAvKiogVmlld0NvbXBvbmVudCBuZWFyIGNsaXBwaW5nIHBsYW5lIHZhbHVlLiAqL1xyXG4gICAgZ2V0IG5lYXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF92aWV3X2NvbXBvbmVudF9nZXRfbmVhcih0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCBuZWFyIGNsaXBwaW5nIHBsYW5lIGRpc3RhbmNlIGZvciB0aGUgdmlldy5cclxuICAgICAqXHJcbiAgICAgKiBJZiBhbiBYUiBzZXNzaW9uIGlzIGFjdGl2ZSwgdGhlIGNoYW5nZSB3aWxsIGFwcGx5IGluIHRoZVxyXG4gICAgICogZm9sbG93aW5nIGZyYW1lLCBvdGhlcndpc2UgdGhlIGNoYW5nZSBpcyBpbW1lZGlhdGUuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG5lYXIgTmVhciBkZXB0aCB2YWx1ZS5cclxuICAgICAqL1xyXG4gICAgc2V0IG5lYXIobmVhcikge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF92aWV3X2NvbXBvbmVudF9zZXRfbmVhcih0aGlzLl9pZCwgbmVhcik7XHJcbiAgICB9XHJcbiAgICAvKiogRmFyIGNsaXBwaW5nIHBsYW5lIHZhbHVlLiAqL1xyXG4gICAgZ2V0IGZhcigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX3ZpZXdfY29tcG9uZW50X2dldF9mYXIodGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgZmFyIGNsaXBwaW5nIHBsYW5lIGRpc3RhbmNlIGZvciB0aGUgdmlldy5cclxuICAgICAqXHJcbiAgICAgKiBJZiBhbiBYUiBzZXNzaW9uIGlzIGFjdGl2ZSwgdGhlIGNoYW5nZSB3aWxsIGFwcGx5IGluIHRoZVxyXG4gICAgICogZm9sbG93aW5nIGZyYW1lLCBvdGhlcndpc2UgdGhlIGNoYW5nZSBpcyBpbW1lZGlhdGUuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGZhciBOZWFyIGRlcHRoIHZhbHVlLlxyXG4gICAgICovXHJcbiAgICBzZXQgZmFyKGZhcikge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF92aWV3X2NvbXBvbmVudF9zZXRfZmFyKHRoaXMuX2lkLCBmYXIpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIGhvcml6b250YWwgZmllbGQgb2YgdmlldyBmb3IgdGhlIHZpZXcsICoqaW4gZGVncmVlcyoqLlxyXG4gICAgICpcclxuICAgICAqIElmIGFuIFhSIHNlc3Npb24gaXMgYWN0aXZlLCB0aGlzIHJldHVybnMgdGhlIGZpZWxkIG9mIHZpZXcgcmVwb3J0ZWQgYnlcclxuICAgICAqIHRoZSBkZXZpY2UsIHJlZ2FyZGxlc3Mgb2YgdGhlIGZvdiB0aGF0IHdhcyBzZXQuXHJcbiAgICAgKi9cclxuICAgIGdldCBmb3YoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF92aWV3X2NvbXBvbmVudF9nZXRfZm92KHRoaXMuX2lkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHRoZSBob3Jpem9udGFsIGZpZWxkIG9mIHZpZXcgZm9yIHRoZSB2aWV3LCAqKmluIGRlZ3JlZXMqKi5cclxuICAgICAqXHJcbiAgICAgKiBJZiBhbiBYUiBzZXNzaW9uIGlzIGFjdGl2ZSwgdGhlIGZpZWxkIG9mIHZpZXcgcmVwb3J0ZWQgYnkgdGhlIGRldmljZSBpc1xyXG4gICAgICogdXNlZCBhbmQgdGhpcyB2YWx1ZSBpcyBpZ25vcmVkLiBBZnRlciB0aGUgWFIgc2Vzc2lvbiBlbmRzLCB0aGUgbmV3IHZhbHVlXHJcbiAgICAgKiBpcyBhcHBsaWVkLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBmb3YgSG9yaXpvbnRhbCBmaWVsZCBvZiB2aWV3LCAqKmluIGRlZ3JlZXMqKi5cclxuICAgICAqL1xyXG4gICAgc2V0IGZvdihmb3YpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfdmlld19jb21wb25lbnRfc2V0X2Zvdih0aGlzLl9pZCwgZm92KTtcclxuICAgIH1cclxufVxyXG5fX2RlY29yYXRlKFtcclxuICAgIGVudW1lcmFibGUoKVxyXG5dLCBWaWV3Q29tcG9uZW50LnByb3RvdHlwZSwgXCJwcm9qZWN0aW9uTWF0cml4XCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgVmlld0NvbXBvbmVudC5wcm90b3R5cGUsIFwibmVhclwiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIFZpZXdDb21wb25lbnQucHJvdG90eXBlLCBcImZhclwiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIFZpZXdDb21wb25lbnQucHJvdG90eXBlLCBcImZvdlwiLCBudWxsKTtcclxuLyoqXHJcbiAqIE5hdGl2ZSBpbnB1dCBjb21wb25lbnQuXHJcbiAqXHJcbiAqIFByb3ZpZGVzIGFjY2VzcyB0byBhIG5hdGl2ZSBpbnB1dCBjb21wb25lbnQgaW5zdGFuY2UuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgSW5wdXRDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgLyoqIEBvdmVycmlkZSAqL1xyXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ2lucHV0JztcclxuICAgIC8qKiBJbnB1dCBjb21wb25lbnQgdHlwZSAqL1xyXG4gICAgZ2V0IGlucHV0VHlwZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX2lucHV0X2NvbXBvbmVudF9nZXRfdHlwZSh0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCBpbnB1dCBjb21wb25lbnQgdHlwZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW1zIE5ldyBpbnB1dCBjb21wb25lbnQgdHlwZS5cclxuICAgICAqL1xyXG4gICAgc2V0IGlucHV0VHlwZSh0eXBlKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX2lucHV0X2NvbXBvbmVudF9zZXRfdHlwZSh0aGlzLl9pZCwgdHlwZSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFdlYlhSIERldmljZSBBUEkgaW5wdXQgc291cmNlIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGlucHV0IGNvbXBvbmVudCxcclxuICAgICAqIGlmIHR5cGUge0BsaW5rIElucHV0VHlwZS5Db250cm9sbGVyTGVmdH0gb3Ige0BsaW5rIElucHV0VHlwZS5Db250cm9sbGVyUmlnaHR9LlxyXG4gICAgICovXHJcbiAgICBnZXQgeHJJbnB1dFNvdXJjZSgpIHtcclxuICAgICAgICBjb25zdCB4clNlc3Npb24gPSB0aGlzLl9lbmdpbmUueHJTZXNzaW9uO1xyXG4gICAgICAgIGlmICh4clNlc3Npb24pIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaW5wdXRTb3VyY2Ugb2YgeHJTZXNzaW9uLmlucHV0U291cmNlcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGlucHV0U291cmNlLmhhbmRlZG5lc3MgPT0gdGhpcy5oYW5kZWRuZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlucHV0U291cmNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiAnbGVmdCcsICdyaWdodCcgb3IgYG51bGxgIGRlcGVuZGluZyBvbiB0aGUge0BsaW5rIElucHV0Q29tcG9uZW50I2lucHV0VHlwZX0uXHJcbiAgICAgKi9cclxuICAgIGdldCBoYW5kZWRuZXNzKCkge1xyXG4gICAgICAgIGNvbnN0IGlucHV0VHlwZSA9IHRoaXMuaW5wdXRUeXBlO1xyXG4gICAgICAgIGlmIChpbnB1dFR5cGUgPT0gSW5wdXRUeXBlLkNvbnRyb2xsZXJSaWdodCB8fFxyXG4gICAgICAgICAgICBpbnB1dFR5cGUgPT0gSW5wdXRUeXBlLlJheVJpZ2h0IHx8XHJcbiAgICAgICAgICAgIGlucHV0VHlwZSA9PSBJbnB1dFR5cGUuRXllUmlnaHQpXHJcbiAgICAgICAgICAgIHJldHVybiAncmlnaHQnO1xyXG4gICAgICAgIGlmIChpbnB1dFR5cGUgPT0gSW5wdXRUeXBlLkNvbnRyb2xsZXJMZWZ0IHx8XHJcbiAgICAgICAgICAgIGlucHV0VHlwZSA9PSBJbnB1dFR5cGUuUmF5TGVmdCB8fFxyXG4gICAgICAgICAgICBpbnB1dFR5cGUgPT0gSW5wdXRUeXBlLkV5ZUxlZnQpXHJcbiAgICAgICAgICAgIHJldHVybiAnbGVmdCc7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbn1cclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIElucHV0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJpbnB1dFR5cGVcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgZW51bWVyYWJsZSgpXHJcbl0sIElucHV0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJ4cklucHV0U291cmNlXCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIGVudW1lcmFibGUoKVxyXG5dLCBJbnB1dENvbXBvbmVudC5wcm90b3R5cGUsIFwiaGFuZGVkbmVzc1wiLCBudWxsKTtcclxuLyoqXHJcbiAqIE5hdGl2ZSBsaWdodCBjb21wb25lbnQuXHJcbiAqXHJcbiAqIFByb3ZpZGVzIGFjY2VzcyB0byBhIG5hdGl2ZSBsaWdodCBjb21wb25lbnQgaW5zdGFuY2UuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTGlnaHRDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgLyoqIEBvdmVycmlkZSAqL1xyXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ2xpZ2h0JztcclxuICAgIGdldENvbG9yKG91dCA9IG5ldyBGbG9hdDMyQXJyYXkoMykpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgY29uc3QgcHRyID0gd2FzbS5fd2xfbGlnaHRfY29tcG9uZW50X2dldF9jb2xvcih0aGlzLl9pZCkgLyA0OyAvKiBBbGlnbiBGMzIgKi9cclxuICAgICAgICBvdXRbMF0gPSB3YXNtLkhFQVBGMzJbcHRyXTtcclxuICAgICAgICBvdXRbMV0gPSB3YXNtLkhFQVBGMzJbcHRyICsgMV07XHJcbiAgICAgICAgb3V0WzJdID0gd2FzbS5IRUFQRjMyW3B0ciArIDJdO1xyXG4gICAgICAgIHJldHVybiBvdXQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCBsaWdodCBjb2xvci5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gYyBOZXcgY29sb3IgYXJyYXkvdmVjdG9yLCBleHBlY3RlZCB0byBoYXZlIGF0IGxlYXN0IDMgZWxlbWVudHMuXHJcbiAgICAgKiBAc2luY2UgMS4wLjBcclxuICAgICAqL1xyXG4gICAgc2V0Q29sb3IoYykge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICBjb25zdCBwdHIgPSB3YXNtLl93bF9saWdodF9jb21wb25lbnRfZ2V0X2NvbG9yKHRoaXMuX2lkKSAvIDQ7IC8qIEFsaWduIEYzMiAqL1xyXG4gICAgICAgIHdhc20uSEVBUEYzMltwdHJdID0gY1swXTtcclxuICAgICAgICB3YXNtLkhFQVBGMzJbcHRyICsgMV0gPSBjWzFdO1xyXG4gICAgICAgIHdhc20uSEVBUEYzMltwdHIgKyAyXSA9IGNbMl07XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFZpZXcgb24gdGhlIGxpZ2h0IGNvbG9yLlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFByZWZlciB0byB1c2Uge0BsaW5rIGdldENvbG9yfSBpbiBwZXJmb3JtYW5jZS1jcml0aWNhbCBjb2RlLlxyXG4gICAgICovXHJcbiAgICBnZXQgY29sb3IoKSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KHdhc20uSEVBUEYzMi5idWZmZXIsIHdhc20uX3dsX2xpZ2h0X2NvbXBvbmVudF9nZXRfY29sb3IodGhpcy5faWQpLCAzKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IGxpZ2h0IGNvbG9yLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBjIENvbG9yIG9mIHRoZSBsaWdodCBjb21wb25lbnQuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgUHJlZmVyIHRvIHVzZSB7QGxpbmsgc2V0Q29sb3J9IGluIHBlcmZvcm1hbmNlLWNyaXRpY2FsIGNvZGUuXHJcbiAgICAgKi9cclxuICAgIHNldCBjb2xvcihjKSB7XHJcbiAgICAgICAgdGhpcy5jb2xvci5zZXQoYyk7XHJcbiAgICB9XHJcbiAgICAvKiogTGlnaHQgdHlwZS4gKi9cclxuICAgIGdldCBsaWdodFR5cGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9saWdodF9jb21wb25lbnRfZ2V0X3R5cGUodGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgbGlnaHQgdHlwZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gbGlnaHRUeXBlIFR5cGUgb2YgdGhlIGxpZ2h0IGNvbXBvbmVudC5cclxuICAgICAqL1xyXG4gICAgc2V0IGxpZ2h0VHlwZSh0KSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX2xpZ2h0X2NvbXBvbmVudF9zZXRfdHlwZSh0aGlzLl9pZCwgdCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIExpZ2h0IGludGVuc2l0eS5cclxuICAgICAqIEBzaW5jZSAxLjAuMFxyXG4gICAgICovXHJcbiAgICBnZXQgaW50ZW5zaXR5KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbGlnaHRfY29tcG9uZW50X2dldF9pbnRlbnNpdHkodGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgbGlnaHQgaW50ZW5zaXR5LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBpbnRlbnNpdHkgSW50ZW5zaXR5IG9mIHRoZSBsaWdodCBjb21wb25lbnQuXHJcbiAgICAgKiBAc2luY2UgMS4wLjBcclxuICAgICAqL1xyXG4gICAgc2V0IGludGVuc2l0eShpbnRlbnNpdHkpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbGlnaHRfY29tcG9uZW50X3NldF9pbnRlbnNpdHkodGhpcy5faWQsIGludGVuc2l0eSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIE91dGVyIGFuZ2xlIGZvciBzcG90IGxpZ2h0cywgaW4gZGVncmVlcy5cclxuICAgICAqIEBzaW5jZSAxLjAuMFxyXG4gICAgICovXHJcbiAgICBnZXQgb3V0ZXJBbmdsZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX2xpZ2h0X2NvbXBvbmVudF9nZXRfb3V0ZXJBbmdsZSh0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCBvdXRlciBhbmdsZSBmb3Igc3BvdCBsaWdodHMuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGFuZ2xlIE91dGVyIGFuZ2xlLCBpbiBkZWdyZWVzLlxyXG4gICAgICogQHNpbmNlIDEuMC4wXHJcbiAgICAgKi9cclxuICAgIHNldCBvdXRlckFuZ2xlKGFuZ2xlKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX2xpZ2h0X2NvbXBvbmVudF9zZXRfb3V0ZXJBbmdsZSh0aGlzLl9pZCwgYW5nbGUpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBJbm5lciBhbmdsZSBmb3Igc3BvdCBsaWdodHMsIGluIGRlZ3JlZXMuXHJcbiAgICAgKiBAc2luY2UgMS4wLjBcclxuICAgICAqL1xyXG4gICAgZ2V0IGlubmVyQW5nbGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9saWdodF9jb21wb25lbnRfZ2V0X2lubmVyQW5nbGUodGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgaW5uZXIgYW5nbGUgZm9yIHNwb3QgbGlnaHRzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBhbmdsZSBJbm5lciBhbmdsZSwgaW4gZGVncmVlcy5cclxuICAgICAqIEBzaW5jZSAxLjAuMFxyXG4gICAgICovXHJcbiAgICBzZXQgaW5uZXJBbmdsZShhbmdsZSkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9saWdodF9jb21wb25lbnRfc2V0X2lubmVyQW5nbGUodGhpcy5faWQsIGFuZ2xlKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogV2hldGhlciB0aGUgbGlnaHQgY2FzdHMgc2hhZG93cy5cclxuICAgICAqIEBzaW5jZSAxLjAuMFxyXG4gICAgICovXHJcbiAgICBnZXQgc2hhZG93cygpIHtcclxuICAgICAgICByZXR1cm4gISF0aGlzLl9lbmdpbmUud2FzbS5fd2xfbGlnaHRfY29tcG9uZW50X2dldF9zaGFkb3dzKHRoaXMuX2lkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHdoZXRoZXIgdGhlIGxpZ2h0IGNhc3RzIHNoYWRvd3MuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGIgV2hldGhlciB0aGUgbGlnaHQgY2FzdHMgc2hhZG93cy5cclxuICAgICAqIEBzaW5jZSAxLjAuMFxyXG4gICAgICovXHJcbiAgICBzZXQgc2hhZG93cyhiKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX2xpZ2h0X2NvbXBvbmVudF9zZXRfc2hhZG93cyh0aGlzLl9pZCwgYik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJhbmdlIGZvciBzaGFkb3dzLlxyXG4gICAgICogQHNpbmNlIDEuMC4wXHJcbiAgICAgKi9cclxuICAgIGdldCBzaGFkb3dSYW5nZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX2xpZ2h0X2NvbXBvbmVudF9nZXRfc2hhZG93UmFuZ2UodGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgcmFuZ2UgZm9yIHNoYWRvd3MuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHJhbmdlIFJhbmdlIGZvciBzaGFkb3dzLlxyXG4gICAgICogQHNpbmNlIDEuMC4wXHJcbiAgICAgKi9cclxuICAgIHNldCBzaGFkb3dSYW5nZShyYW5nZSkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9saWdodF9jb21wb25lbnRfc2V0X3NoYWRvd1JhbmdlKHRoaXMuX2lkLCByYW5nZSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEJpYXMgdmFsdWUgZm9yIHNoYWRvd3MuXHJcbiAgICAgKiBAc2luY2UgMS4wLjBcclxuICAgICAqL1xyXG4gICAgZ2V0IHNoYWRvd0JpYXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9saWdodF9jb21wb25lbnRfZ2V0X3NoYWRvd0JpYXModGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgYmlhcyB2YWx1ZSBmb3Igc2hhZG93cy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gYmlhcyBCaWFzIGZvciBzaGFkb3dzLlxyXG4gICAgICogQHNpbmNlIDEuMC4wXHJcbiAgICAgKi9cclxuICAgIHNldCBzaGFkb3dCaWFzKGJpYXMpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbGlnaHRfY29tcG9uZW50X3NldF9zaGFkb3dCaWFzKHRoaXMuX2lkLCBiaWFzKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogTm9ybWFsIGJpYXMgdmFsdWUgZm9yIHNoYWRvd3MuXHJcbiAgICAgKiBAc2luY2UgMS4wLjBcclxuICAgICAqL1xyXG4gICAgZ2V0IHNoYWRvd05vcm1hbEJpYXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9saWdodF9jb21wb25lbnRfZ2V0X3NoYWRvd05vcm1hbEJpYXModGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgbm9ybWFsIGJpYXMgdmFsdWUgZm9yIHNoYWRvd3MuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGJpYXMgTm9ybWFsIGJpYXMgZm9yIHNoYWRvd3MuXHJcbiAgICAgKiBAc2luY2UgMS4wLjBcclxuICAgICAqL1xyXG4gICAgc2V0IHNoYWRvd05vcm1hbEJpYXMoYmlhcykge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9saWdodF9jb21wb25lbnRfc2V0X3NoYWRvd05vcm1hbEJpYXModGhpcy5faWQsIGJpYXMpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUZXhlbCBzaXplIGZvciBzaGFkb3dzLlxyXG4gICAgICogQHNpbmNlIDEuMC4wXHJcbiAgICAgKi9cclxuICAgIGdldCBzaGFkb3dUZXhlbFNpemUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9saWdodF9jb21wb25lbnRfZ2V0X3NoYWRvd1RleGVsU2l6ZSh0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCB0ZXhlbCBzaXplIGZvciBzaGFkb3dzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBzaXplIFRleGVsIHNpemUgZm9yIHNoYWRvd3MuXHJcbiAgICAgKiBAc2luY2UgMS4wLjBcclxuICAgICAqL1xyXG4gICAgc2V0IHNoYWRvd1RleGVsU2l6ZShzaXplKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX2xpZ2h0X2NvbXBvbmVudF9zZXRfc2hhZG93VGV4ZWxTaXplKHRoaXMuX2lkLCBzaXplKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ2FzY2FkZSBjb3VudCBmb3Ige0BsaW5rIExpZ2h0VHlwZS5TdW59IHNoYWRvd3MuXHJcbiAgICAgKiBAc2luY2UgMS4wLjBcclxuICAgICAqL1xyXG4gICAgZ2V0IGNhc2NhZGVDb3VudCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX2xpZ2h0X2NvbXBvbmVudF9nZXRfY2FzY2FkZUNvdW50KHRoaXMuX2lkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IGNhc2NhZGUgY291bnQgZm9yIHtAbGluayBMaWdodFR5cGUuU3VufSBzaGFkb3dzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBjb3VudCBDYXNjYWRlIGNvdW50LlxyXG4gICAgICogQHNpbmNlIDEuMC4wXHJcbiAgICAgKi9cclxuICAgIHNldCBjYXNjYWRlQ291bnQoY291bnQpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbGlnaHRfY29tcG9uZW50X3NldF9jYXNjYWRlQ291bnQodGhpcy5faWQsIGNvdW50KTtcclxuICAgIH1cclxufVxyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgTGlnaHRDb21wb25lbnQucHJvdG90eXBlLCBcImNvbG9yXCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgTGlnaHRDb21wb25lbnQucHJvdG90eXBlLCBcImxpZ2h0VHlwZVwiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIExpZ2h0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJpbnRlbnNpdHlcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBMaWdodENvbXBvbmVudC5wcm90b3R5cGUsIFwib3V0ZXJBbmdsZVwiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIExpZ2h0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJpbm5lckFuZ2xlXCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgTGlnaHRDb21wb25lbnQucHJvdG90eXBlLCBcInNoYWRvd3NcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBMaWdodENvbXBvbmVudC5wcm90b3R5cGUsIFwic2hhZG93UmFuZ2VcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBMaWdodENvbXBvbmVudC5wcm90b3R5cGUsIFwic2hhZG93Qmlhc1wiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIExpZ2h0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJzaGFkb3dOb3JtYWxCaWFzXCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgTGlnaHRDb21wb25lbnQucHJvdG90eXBlLCBcInNoYWRvd1RleGVsU2l6ZVwiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIExpZ2h0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJjYXNjYWRlQ291bnRcIiwgbnVsbCk7XHJcbi8qKlxyXG4gKiBOYXRpdmUgYW5pbWF0aW9uIGNvbXBvbmVudC5cclxuICpcclxuICogUHJvdmlkZXMgYWNjZXNzIHRvIGEgbmF0aXZlIGFuaW1hdGlvbiBjb21wb25lbnQgaW5zdGFuY2UuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQW5pbWF0aW9uQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIC8qKiBAb3ZlcnJpZGUgKi9cclxuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdhbmltYXRpb24nO1xyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgYW5pbWF0aW9uIHRvIHBsYXkuXHJcbiAgICAgKlxyXG4gICAgICogTWFrZSBzdXJlIHRvIHtAbGluayBBbmltYXRpb24jcmV0YXJnZXR9IHRoZSBhbmltYXRpb24gdG8gYWZmZWN0IHRoZVxyXG4gICAgICogcmlnaHQgb2JqZWN0cy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gYW5pbSBBbmltYXRpb24gdG8gcGxheS5cclxuICAgICAqL1xyXG4gICAgc2V0IGFuaW1hdGlvbihhbmltKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX2FuaW1hdGlvbl9jb21wb25lbnRfc2V0X2FuaW1hdGlvbih0aGlzLl9pZCwgYW5pbSA/IGFuaW0uX2luZGV4IDogMCk7XHJcbiAgICB9XHJcbiAgICAvKiogQW5pbWF0aW9uIHNldCBmb3IgdGhpcyBjb21wb25lbnQgKi9cclxuICAgIGdldCBhbmltYXRpb24oKSB7XHJcbiAgICAgICAgY29uc3QgaWQgPSB0aGlzLl9lbmdpbmUud2FzbS5fd2xfYW5pbWF0aW9uX2NvbXBvbmVudF9nZXRfYW5pbWF0aW9uKHRoaXMuX2lkKTtcclxuICAgICAgICByZXR1cm4gaWQgPiAwID8gbmV3IEFuaW1hdGlvbih0aGlzLl9lbmdpbmUsIGlkKSA6IG51bGw7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCBwbGF5IGNvdW50LiBTZXQgdG8gYDBgIHRvIGxvb3AgaW5kZWZpbml0ZWx5LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBwbGF5Q291bnQgTnVtYmVyIG9mIHRpbWVzIHRvIHJlcGVhdCB0aGUgYW5pbWF0aW9uLlxyXG4gICAgICovXHJcbiAgICBzZXQgcGxheUNvdW50KHBsYXlDb3VudCkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9hbmltYXRpb25fY29tcG9uZW50X3NldF9wbGF5Q291bnQodGhpcy5faWQsIHBsYXlDb3VudCk7XHJcbiAgICB9XHJcbiAgICAvKiogTnVtYmVyIG9mIHRpbWVzIHRoZSBhbmltYXRpb24gaXMgcGxheWVkLiAqL1xyXG4gICAgZ2V0IHBsYXlDb3VudCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX2FuaW1hdGlvbl9jb21wb25lbnRfZ2V0X3BsYXlDb3VudCh0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCBzcGVlZC4gU2V0IHRvIG5lZ2F0aXZlIHZhbHVlcyB0byBydW4gdGhlIGFuaW1hdGlvbiBiYWNrd2FyZHMuXHJcbiAgICAgKlxyXG4gICAgICogU2V0dGluZyBzcGVlZCBoYXMgYW4gaW1tZWRpYXRlIGVmZmVjdCBmb3IgdGhlIGN1cnJlbnQgZnJhbWUncyB1cGRhdGVcclxuICAgICAqIGFuZCB3aWxsIGNvbnRpbnVlIHdpdGggdGhlIHNwZWVkIGZyb20gdGhlIGN1cnJlbnQgcG9pbnQgaW4gdGhlIGFuaW1hdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gc3BlZWQgTmV3IHNwZWVkIGF0IHdoaWNoIHRvIHBsYXkgdGhlIGFuaW1hdGlvbi5cclxuICAgICAqIEBzaW5jZSAwLjguMTBcclxuICAgICAqL1xyXG4gICAgc2V0IHNwZWVkKHNwZWVkKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX2FuaW1hdGlvbl9jb21wb25lbnRfc2V0X3NwZWVkKHRoaXMuX2lkLCBzcGVlZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNwZWVkIGZhY3RvciBhdCB3aGljaCB0aGUgYW5pbWF0aW9uIGlzIHBsYXllZC5cclxuICAgICAqXHJcbiAgICAgKiBAc2luY2UgMC44LjEwXHJcbiAgICAgKi9cclxuICAgIGdldCBzcGVlZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX2FuaW1hdGlvbl9jb21wb25lbnRfZ2V0X3NwZWVkKHRoaXMuX2lkKTtcclxuICAgIH1cclxuICAgIC8qKiBDdXJyZW50IHBsYXlpbmcgc3RhdGUgb2YgdGhlIGFuaW1hdGlvbiAqL1xyXG4gICAgZ2V0IHN0YXRlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfYW5pbWF0aW9uX2NvbXBvbmVudF9zdGF0ZSh0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFBsYXkgYW5pbWF0aW9uLlxyXG4gICAgICpcclxuICAgICAqIElmIHRoZSBhbmltYXRpb24gaXMgY3VycmVudGx5IHBhdXNlZCwgcmVzdW1lcyBmcm9tIHRoYXQgcG9zaXRpb24uIElmIHRoZVxyXG4gICAgICogYW5pbWF0aW9uIGlzIGFscmVhZHkgcGxheWluZywgZG9lcyBub3RoaW5nLlxyXG4gICAgICpcclxuICAgICAqIFRvIHJlc3RhcnQgdGhlIGFuaW1hdGlvbiwge0BsaW5rIEFuaW1hdGlvbkNvbXBvbmVudCNzdG9wfSBpdCBmaXJzdC5cclxuICAgICAqL1xyXG4gICAgcGxheSgpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfYW5pbWF0aW9uX2NvbXBvbmVudF9wbGF5KHRoaXMuX2lkKTtcclxuICAgIH1cclxuICAgIC8qKiBTdG9wIGFuaW1hdGlvbi4gKi9cclxuICAgIHN0b3AoKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX2FuaW1hdGlvbl9jb21wb25lbnRfc3RvcCh0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKiogUGF1c2UgYW5pbWF0aW9uLiAqL1xyXG4gICAgcGF1c2UoKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX2FuaW1hdGlvbl9jb21wb25lbnRfcGF1c2UodGhpcy5faWQpO1xyXG4gICAgfVxyXG59XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBBbmltYXRpb25Db21wb25lbnQucHJvdG90eXBlLCBcImFuaW1hdGlvblwiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIEFuaW1hdGlvbkNvbXBvbmVudC5wcm90b3R5cGUsIFwicGxheUNvdW50XCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgQW5pbWF0aW9uQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzcGVlZFwiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBlbnVtZXJhYmxlKClcclxuXSwgQW5pbWF0aW9uQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzdGF0ZVwiLCBudWxsKTtcclxuLyoqXHJcbiAqIE5hdGl2ZSBtZXNoIGNvbXBvbmVudC5cclxuICpcclxuICogUHJvdmlkZXMgYWNjZXNzIHRvIGEgbmF0aXZlIG1lc2ggY29tcG9uZW50IGluc3RhbmNlLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIE1lc2hDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgLyoqIEBvdmVycmlkZSAqL1xyXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ21lc2gnO1xyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgbWF0ZXJpYWwgdG8gcmVuZGVyIHRoZSBtZXNoIHdpdGguXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG1hdGVyaWFsIE1hdGVyaWFsIHRvIHJlbmRlciB0aGUgbWVzaCB3aXRoLlxyXG4gICAgICovXHJcbiAgICBzZXQgbWF0ZXJpYWwobWF0ZXJpYWwpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbWVzaF9jb21wb25lbnRfc2V0X21hdGVyaWFsKHRoaXMuX2lkLCBtYXRlcmlhbCA/IG1hdGVyaWFsLl9pbmRleCA6IDApO1xyXG4gICAgfVxyXG4gICAgLyoqIE1hdGVyaWFsIHVzZWQgdG8gcmVuZGVyIHRoZSBtZXNoLiAqL1xyXG4gICAgZ2V0IG1hdGVyaWFsKCkge1xyXG4gICAgICAgIGNvbnN0IGlkID0gdGhpcy5fZW5naW5lLndhc20uX3dsX21lc2hfY29tcG9uZW50X2dldF9tYXRlcmlhbCh0aGlzLl9pZCk7XHJcbiAgICAgICAgcmV0dXJuIGlkID4gMCA/IG5ldyBNYXRlcmlhbCh0aGlzLl9lbmdpbmUsIGlkKSA6IG51bGw7XHJcbiAgICB9XHJcbiAgICAvKiogTWVzaCByZW5kZXJlZCBieSB0aGlzIGNvbXBvbmVudC4gKi9cclxuICAgIGdldCBtZXNoKCkge1xyXG4gICAgICAgIGNvbnN0IGlkID0gdGhpcy5fZW5naW5lLndhc20uX3dsX21lc2hfY29tcG9uZW50X2dldF9tZXNoKHRoaXMuX2lkKTtcclxuICAgICAgICByZXR1cm4gaWQgPiAwID8gbmV3IE1lc2godGhpcy5fZW5naW5lLCBpZCkgOiBudWxsO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgbWVzaCB0byByZW5kZXJlZCB3aXRoIHRoaXMgY29tcG9uZW50LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBtZXNoIE1lc2ggcmVuZGVyZWQgYnkgdGhpcyBjb21wb25lbnQuXHJcbiAgICAgKi9cclxuICAgIHNldCBtZXNoKG1lc2gpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbWVzaF9jb21wb25lbnRfc2V0X21lc2godGhpcy5faWQsIG1lc2ggPyBtZXNoLl9pbmRleCA6IDApO1xyXG4gICAgfVxyXG4gICAgLyoqIFNraW4gZm9yIHRoaXMgbWVzaCBjb21wb25lbnQuICovXHJcbiAgICBnZXQgc2tpbigpIHtcclxuICAgICAgICBjb25zdCBpZCA9IHRoaXMuX2VuZ2luZS53YXNtLl93bF9tZXNoX2NvbXBvbmVudF9nZXRfc2tpbih0aGlzLl9pZCk7XHJcbiAgICAgICAgcmV0dXJuIGlkID4gMCA/IG5ldyBTa2luKHRoaXMuX2VuZ2luZSwgaWQpIDogbnVsbDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHNraW4gdG8gdHJhbnNmb3JtIHRoaXMgbWVzaCBjb21wb25lbnQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHNraW4gU2tpbiB0byB1c2UgZm9yIHJlbmRlcmluZyBza2lubmVkIG1lc2hlcy5cclxuICAgICAqL1xyXG4gICAgc2V0IHNraW4oc2tpbikge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9tZXNoX2NvbXBvbmVudF9zZXRfc2tpbih0aGlzLl9pZCwgc2tpbiA/IHNraW4uX2luZGV4IDogMCk7XHJcbiAgICB9XHJcbn1cclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIE1lc2hDb21wb25lbnQucHJvdG90eXBlLCBcIm1hdGVyaWFsXCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgTWVzaENvbXBvbmVudC5wcm90b3R5cGUsIFwibWVzaFwiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIE1lc2hDb21wb25lbnQucHJvdG90eXBlLCBcInNraW5cIiwgbnVsbCk7XHJcbi8qKlxyXG4gKiBFbnVtIGZvciBQaHlzaWNzIGF4ZXMgbG9ja2luZ1xyXG4gKlxyXG4gKiBTZWUge0BsaW5rIFBoeXNYQ29tcG9uZW50LmFuZ3VsYXJMb2NrQXhpc30gYW5kIHtAbGluayBQaHlzWENvbXBvbmVudC5saW5lYXJMb2NrQXhpc30uXHJcbiAqL1xyXG5leHBvcnQgdmFyIExvY2tBeGlzO1xyXG4oZnVuY3Rpb24gKExvY2tBeGlzKSB7XHJcbiAgICAvKipcclxuICAgICAqIE5vIGF4aXMgc2VsZWN0ZWQuXHJcbiAgICAgKi9cclxuICAgIExvY2tBeGlzW0xvY2tBeGlzW1wiTm9uZVwiXSA9IDBdID0gXCJOb25lXCI7XHJcbiAgICAvKipcclxuICAgICAqICoqWCBheGlzKio6XHJcbiAgICAgKi9cclxuICAgIExvY2tBeGlzW0xvY2tBeGlzW1wiWFwiXSA9IDFdID0gXCJYXCI7XHJcbiAgICAvKipcclxuICAgICAqICoqWSBheGlzKio6XHJcbiAgICAgKi9cclxuICAgIExvY2tBeGlzW0xvY2tBeGlzW1wiWVwiXSA9IDJdID0gXCJZXCI7XHJcbiAgICAvKipcclxuICAgICAqICoqWiBheGlzKio6XHJcbiAgICAgKi9cclxuICAgIExvY2tBeGlzW0xvY2tBeGlzW1wiWlwiXSA9IDRdID0gXCJaXCI7XHJcbn0pKExvY2tBeGlzIHx8IChMb2NrQXhpcyA9IHt9KSk7XHJcbi8qKlxyXG4gKiBOYXRpdmUgcGh5c3ggcmlnaWQgYm9keSBjb21wb25lbnQuXHJcbiAqXHJcbiAqIFByb3ZpZGVzIGFjY2VzcyB0byBhIG5hdGl2ZSBtZXNoIGNvbXBvbmVudCBpbnN0YW5jZS5cclxuICogT25seSBhdmFpbGFibGUgd2hlbiB1c2luZyBwaHlzeCBlbmFibGVkIHJ1bnRpbWUsIHNlZSBcIlByb2plY3QgU2V0dGluZ3MgPiBSdW50aW1lXCIuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgUGh5c1hDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgLyoqIEBvdmVycmlkZSAqL1xyXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ3BoeXN4JztcclxuICAgIGdldFRyYW5zbGF0aW9uT2Zmc2V0KG91dCA9IG5ldyBGbG9hdDMyQXJyYXkoMykpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgd2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2dldF9vZmZzZXRUcmFuc2xhdGlvbih0aGlzLl9pZCwgd2FzbS5fdGVtcE1lbSk7XHJcbiAgICAgICAgb3V0WzBdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzBdO1xyXG4gICAgICAgIG91dFsxXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsxXTtcclxuICAgICAgICBvdXRbMl0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMl07XHJcbiAgICAgICAgcmV0dXJuIG91dDtcclxuICAgIH1cclxuICAgIGdldFJvdGF0aW9uT2Zmc2V0KG91dCA9IG5ldyBGbG9hdDMyQXJyYXkoNCkpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgY29uc3QgcHRyID0gd2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2dldF9vZmZzZXRUcmFuc2Zvcm0odGhpcy5faWQpID4+IDI7IC8qIEFsaWduIEYzMiAqL1xyXG4gICAgICAgIG91dFswXSA9IHdhc20uSEVBUEYzMltwdHJdO1xyXG4gICAgICAgIG91dFsxXSA9IHdhc20uSEVBUEYzMltwdHIgKyAxXTtcclxuICAgICAgICBvdXRbMl0gPSB3YXNtLkhFQVBGMzJbcHRyICsgMl07XHJcbiAgICAgICAgb3V0WzNdID0gd2FzbS5IRUFQRjMyW3B0ciArIDNdO1xyXG4gICAgICAgIHJldHVybiBvdXQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCB3aGV0aGVyIHRoaXMgcmlnaWQgYm9keSBpcyBzdGF0aWMuXHJcbiAgICAgKlxyXG4gICAgICogU2V0dGluZyB0aGlzIHByb3BlcnR5IG9ubHkgdGFrZXMgZWZmZWN0IG9uY2UgdGhlIGNvbXBvbmVudFxyXG4gICAgICogc3dpdGNoZXMgZnJvbSBpbmFjdGl2ZSB0byBhY3RpdmUuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGIgV2hldGhlciB0aGUgcmlnaWQgYm9keSBzaG91bGQgYmUgc3RhdGljLlxyXG4gICAgICovXHJcbiAgICBzZXQgc3RhdGljKGIpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X3NldF9zdGF0aWModGhpcy5faWQsIGIpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBXaGV0aGVyIHRoaXMgcmlnaWQgYm9keSBpcyBzdGF0aWMuXHJcbiAgICAgKlxyXG4gICAgICogVGhpcyBwcm9wZXJ0eSByZXR1cm5zIHdoZXRoZXIgdGhlIHJpZ2lkIGJvZHkgaXMgKmVmZmVjdGl2ZWx5KlxyXG4gICAgICogc3RhdGljLiBJZiBzdGF0aWMgcHJvcGVydHkgd2FzIHNldCB3aGlsZSB0aGUgcmlnaWQgYm9keSB3YXNcclxuICAgICAqIGFjdGl2ZSwgaXQgd2lsbCBub3QgdGFrZSBlZmZlY3QgdW50aWwgdGhlIHJpZ2lkIGJvZHkgaXMgc2V0XHJcbiAgICAgKiBpbmFjdGl2ZSBhbmQgYWN0aXZlIGFnYWluLiBVbnRpbCB0aGUgY29tcG9uZW50IGlzIHNldCBpbmFjdGl2ZSxcclxuICAgICAqIHRoaXMgZ2V0dGVyIHdpbGwgcmV0dXJuIHdoZXRoZXIgdGhlIHJpZ2lkIGJvZHkgaXMgYWN0dWFsbHlcclxuICAgICAqIHN0YXRpYy5cclxuICAgICAqL1xyXG4gICAgZ2V0IHN0YXRpYygpIHtcclxuICAgICAgICByZXR1cm4gISF0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2dldF9zdGF0aWModGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBFcXVpdmFsZW50IHRvIHtAbGluayBQaHlzWENvbXBvbmVudC5nZXRUcmFuc2xhdGlvbk9mZnNldH0uXHJcbiAgICAgKlxyXG4gICAgICogR2l2ZXMgYSBxdWljayB2aWV3IG9mIHRoZSBvZmZzZXQgaW4gYSBkZWJ1Z2dlci5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBQcmVmZXIgdG8gdXNlIHtAbGluayBQaHlzWENvbXBvbmVudC5nZXRUcmFuc2xhdGlvbk9mZnNldH0gZm9yIHBlcmZvcm1hbmNlLlxyXG4gICAgICpcclxuICAgICAqIEBzaW5jZSAxLjEuMVxyXG4gICAgICovXHJcbiAgICBnZXQgdHJhbnNsYXRpb25PZmZzZXQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VHJhbnNsYXRpb25PZmZzZXQoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHRoZSBvZmZzZXQgdHJhbnNsYXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogVGhlIGFycmF5IG11c3QgYmUgYSB2ZWN0b3Igb2YgYXQgbGVhc3QgKiozKiogZWxlbWVudHMuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgVGhlIGNvbXBvbmVudCBtdXN0IGJlIHJlLWFjdGl2YXRlZCB0byBhcHBseSB0aGUgY2hhbmdlLlxyXG4gICAgICpcclxuICAgICAqIEBzaW5jZSAxLjEuMVxyXG4gICAgICovXHJcbiAgICBzZXQgdHJhbnNsYXRpb25PZmZzZXQob2Zmc2V0KSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIHdhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfb2Zmc2V0VHJhbnNsYXRpb24odGhpcy5faWQsIG9mZnNldFswXSwgb2Zmc2V0WzFdLCBvZmZzZXRbMl0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBFcXVpdmFsZW50IHRvIHtAbGluayBQaHlzWENvbXBvbmVudC5nZXRSb3RhdGlvbk9mZnNldH0uXHJcbiAgICAgKlxyXG4gICAgICogR2l2ZXMgYSBxdWljayB2aWV3IG9mIHRoZSBvZmZzZXQgaW4gYSBkZWJ1Z2dlci5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBQcmVmZXIgdG8gdXNlIHtAbGluayBQaHlzWENvbXBvbmVudC5nZXRSb3RhdGlvbk9mZnNldH0gZm9yIHBlcmZvcm1hbmNlLlxyXG4gICAgICpcclxuICAgICAqIEBzaW5jZSAxLjEuMVxyXG4gICAgICovXHJcbiAgICBnZXQgcm90YXRpb25PZmZzZXQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Um90YXRpb25PZmZzZXQoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHRoZSBvZmZzZXQgcm90YXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogVGhlIGFycmF5IG11c3QgYmUgYSBxdWF0ZXJuaW9uIG9mIGF0IGxlYXN0ICoqNCoqIGVsZW1lbnRzLlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFRoZSBjb21wb25lbnQgbXVzdCBiZSByZS1hY3RpdmF0ZWQgdG8gYXBwbHkgdGhlIGNoYW5nZS5cclxuICAgICAqXHJcbiAgICAgKiBAc2luY2UgMS4xLjFcclxuICAgICAqL1xyXG4gICAgc2V0IHJvdGF0aW9uT2Zmc2V0KG9mZnNldCkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICB3YXNtLl93bF9waHlzeF9jb21wb25lbnRfc2V0X29mZnNldFJvdGF0aW9uKHRoaXMuX2lkLCBvZmZzZXRbMF0sIG9mZnNldFsxXSwgb2Zmc2V0WzJdLCBvZmZzZXRbM10pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgd2hldGhlciB0aGlzIHJpZ2lkIGJvZHkgaXMga2luZW1hdGljLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBiIFdoZXRoZXIgdGhlIHJpZ2lkIGJvZHkgc2hvdWxkIGJlIGtpbmVtYXRpYy5cclxuICAgICAqL1xyXG4gICAgc2V0IGtpbmVtYXRpYyhiKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfa2luZW1hdGljKHRoaXMuX2lkLCBiKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogV2hldGhlciB0aGlzIHJpZ2lkIGJvZHkgaXMga2luZW1hdGljLlxyXG4gICAgICovXHJcbiAgICBnZXQga2luZW1hdGljKCkge1xyXG4gICAgICAgIHJldHVybiAhIXRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfZ2V0X2tpbmVtYXRpYyh0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCB3aGV0aGVyIHRoaXMgcmlnaWQgYm9keSdzIGdyYXZpdHkgaXMgZW5hYmxlZC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gYiBXaGV0aGVyIHRoZSByaWdpZCBib2R5J3MgZ3Jhdml0eSBzaG91bGQgYmUgZW5hYmxlZC5cclxuICAgICAqL1xyXG4gICAgc2V0IGdyYXZpdHkoYikge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfc2V0X2dyYXZpdHkodGhpcy5faWQsIGIpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBXaGV0aGVyIHRoaXMgcmlnaWQgYm9keSdzIGdyYXZpdHkgZmxhZyBpcyBlbmFibGVkLlxyXG4gICAgICovXHJcbiAgICBnZXQgZ3Jhdml0eSgpIHtcclxuICAgICAgICByZXR1cm4gISF0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2dldF9ncmF2aXR5KHRoaXMuX2lkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHdoZXRoZXIgdGhpcyByaWdpZCBib2R5J3Mgc2ltdWxhdGUgZmxhZyBpcyBlbmFibGVkLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBiIFdoZXRoZXIgdGhlIHJpZ2lkIGJvZHkncyBzaW11bGF0ZSBmbGFnIHNob3VsZCBiZSBlbmFibGVkLlxyXG4gICAgICovXHJcbiAgICBzZXQgc2ltdWxhdGUoYikge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfc2V0X3NpbXVsYXRlKHRoaXMuX2lkLCBiKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogV2hldGhlciB0aGlzIHJpZ2lkIGJvZHkncyBzaW11bGF0ZSBmbGFnIGlzIGVuYWJsZWQuXHJcbiAgICAgKi9cclxuICAgIGdldCBzaW11bGF0ZSgpIHtcclxuICAgICAgICByZXR1cm4gISF0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2dldF9zaW11bGF0ZSh0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCB3aGV0aGVyIHRvIGFsbG93IHNpbXVsYXRpb24gb2YgdGhpcyByaWdpZCBib2R5LlxyXG4gICAgICpcclxuICAgICAqIHtAbGluayBhbGxvd1NpbXVsYXRpb259IGFuZCB7QGxpbmsgdHJpZ2dlcn0gY2FuIG5vdCBiZSBlbmFibGVkIGF0IHRoZVxyXG4gICAgICogc2FtZSB0aW1lLiBFbmFibGluZyB7QGxpbmsgYWxsb3dTaW11bGF0aW9ufSB3aGlsZSB7QGxpbmsgdHJpZ2dlcn0gaXMgZW5hYmxlZFxyXG4gICAgICogd2lsbCBkaXNhYmxlIHtAbGluayB0cmlnZ2VyfS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gYiBXaGV0aGVyIHRvIGFsbG93IHNpbXVsYXRpb24gb2YgdGhpcyByaWdpZCBib2R5LlxyXG4gICAgICovXHJcbiAgICBzZXQgYWxsb3dTaW11bGF0aW9uKGIpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X3NldF9hbGxvd1NpbXVsYXRpb24odGhpcy5faWQsIGIpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBXaGV0aGVyIHRvIGFsbG93IHNpbXVsYXRpb24gb2YgdGhpcyByaWdpZCBib2R5LlxyXG4gICAgICovXHJcbiAgICBnZXQgYWxsb3dTaW11bGF0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiAhIXRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfZ2V0X2FsbG93U2ltdWxhdGlvbih0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCB3aGV0aGVyIHRoaXMgcmlnaWQgYm9keSBtYXkgYmUgcXVlcmllZCBpbiByYXkgY2FzdHMuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGIgV2hldGhlciB0aGlzIHJpZ2lkIGJvZHkgbWF5IGJlIHF1ZXJpZWQgaW4gcmF5IGNhc3RzLlxyXG4gICAgICovXHJcbiAgICBzZXQgYWxsb3dRdWVyeShiKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfYWxsb3dRdWVyeSh0aGlzLl9pZCwgYik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFdoZXRoZXIgdGhpcyByaWdpZCBib2R5IG1heSBiZSBxdWVyaWVkIGluIHJheSBjYXN0cy5cclxuICAgICAqL1xyXG4gICAgZ2V0IGFsbG93UXVlcnkoKSB7XHJcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfYWxsb3dRdWVyeSh0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCB3aGV0aGVyIHRoaXMgcGh5c2ljcyBib2R5IGlzIGEgdHJpZ2dlci5cclxuICAgICAqXHJcbiAgICAgKiB7QGxpbmsgYWxsb3dTaW11bGF0aW9ufSBhbmQge0BsaW5rIHRyaWdnZXJ9IGNhbiBub3QgYmUgZW5hYmxlZCBhdCB0aGVcclxuICAgICAqIHNhbWUgdGltZS4gRW5hYmxpbmcgdHJpZ2dlciB3aGlsZSB7QGxpbmsgYWxsb3dTaW11bGF0aW9ufSBpcyBlbmFibGVkLFxyXG4gICAgICogd2lsbCBkaXNhYmxlIHtAbGluayBhbGxvd1NpbXVsYXRpb259LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBiIFdoZXRoZXIgdGhpcyBwaHlzaWNzIGJvZHkgaXMgYSB0cmlnZ2VyLlxyXG4gICAgICovXHJcbiAgICBzZXQgdHJpZ2dlcihiKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfdHJpZ2dlcih0aGlzLl9pZCwgYik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFdoZXRoZXIgdGhpcyBwaHlzaWNzIGJvZHkgaXMgYSB0cmlnZ2VyLlxyXG4gICAgICovXHJcbiAgICBnZXQgdHJpZ2dlcigpIHtcclxuICAgICAgICByZXR1cm4gISF0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2dldF90cmlnZ2VyKHRoaXMuX2lkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHRoZSBzaGFwZSBmb3IgY29sbGlzaW9uIGRldGVjdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gcyBOZXcgc2hhcGUuXHJcbiAgICAgKiBAc2luY2UgMC44LjVcclxuICAgICAqL1xyXG4gICAgc2V0IHNoYXBlKHMpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X3NldF9zaGFwZSh0aGlzLl9pZCwgcyk7XHJcbiAgICB9XHJcbiAgICAvKiogVGhlIHNoYXBlIGZvciBjb2xsaXNpb24gZGV0ZWN0aW9uLiAqL1xyXG4gICAgZ2V0IHNoYXBlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2dldF9zaGFwZSh0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCBhZGRpdGlvbmFsIGRhdGEgZm9yIHRoZSBzaGFwZS5cclxuICAgICAqXHJcbiAgICAgKiBSZXRyaWV2ZWQgb25seSBmcm9tIHtAbGluayBQaHlzWENvbXBvbmVudCNzaGFwZURhdGF9LlxyXG4gICAgICogQHNpbmNlIDAuOC4xMFxyXG4gICAgICovXHJcbiAgICBzZXQgc2hhcGVEYXRhKGQpIHtcclxuICAgICAgICBpZiAoZCA9PSBudWxsIHx8ICFpc01lc2hTaGFwZSh0aGlzLnNoYXBlKSlcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfc2V0X3NoYXBlX2RhdGEodGhpcy5faWQsIGQuaW5kZXgpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGRpdGlvbmFsIGRhdGEgZm9yIHRoZSBzaGFwZS5cclxuICAgICAqXHJcbiAgICAgKiBgbnVsbGAgZm9yIHtAbGluayBTaGFwZX0gdmFsdWVzOiBgTm9uZWAsIGBTcGhlcmVgLCBgQ2Fwc3VsZWAsIGBCb3hgLCBgUGxhbmVgLlxyXG4gICAgICogYHtpbmRleDogbn1gIGZvciBgVHJpYW5nbGVNZXNoYCBhbmQgYENvbnZleEh1bGxgLlxyXG4gICAgICpcclxuICAgICAqIFRoaXMgZGF0YSBpcyBjdXJyZW50bHkgb25seSBmb3IgcGFzc2luZyBvbnRvIG9yIGNyZWF0aW5nIG90aGVyIHtAbGluayBQaHlzWENvbXBvbmVudH0uXHJcbiAgICAgKiBAc2luY2UgMC44LjEwXHJcbiAgICAgKi9cclxuICAgIGdldCBzaGFwZURhdGEoKSB7XHJcbiAgICAgICAgaWYgKCFpc01lc2hTaGFwZSh0aGlzLnNoYXBlKSlcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgaW5kZXg6IHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfZ2V0X3NoYXBlX2RhdGEodGhpcy5faWQpLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCB0aGUgc2hhcGUgZXh0ZW50cyBmb3IgY29sbGlzaW9uIGRldGVjdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gZSBOZXcgZXh0ZW50cyBmb3IgdGhlIHNoYXBlLlxyXG4gICAgICogQHNpbmNlIDAuOC41XHJcbiAgICAgKi9cclxuICAgIHNldCBleHRlbnRzKGUpIHtcclxuICAgICAgICB0aGlzLmV4dGVudHMuc2V0KGUpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgc2hhcGUgZXh0ZW50cyBmb3IgY29sbGlzaW9uIGRldGVjdGlvbi5cclxuICAgICAqL1xyXG4gICAgZ2V0IGV4dGVudHMoKSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIGNvbnN0IHB0ciA9IHdhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfZXh0ZW50cyh0aGlzLl9pZCk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkod2FzbS5IRUFQRjMyLmJ1ZmZlciwgcHRyLCAzKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHN0YXRpY0ZyaWN0aW9uLlxyXG4gICAgICovXHJcbiAgICBnZXQgc3RhdGljRnJpY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfZ2V0X3N0YXRpY0ZyaWN0aW9uKHRoaXMuX2lkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHN0YXRpY0ZyaWN0aW9uLlxyXG4gICAgICogQHBhcmFtIHYgTmV3IHN0YXRpY0ZyaWN0aW9uLlxyXG4gICAgICovXHJcbiAgICBzZXQgc3RhdGljRnJpY3Rpb24odikge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfc2V0X3N0YXRpY0ZyaWN0aW9uKHRoaXMuX2lkLCB2KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2V0IGR5bmFtaWNGcmljdGlvbi5cclxuICAgICAqL1xyXG4gICAgZ2V0IGR5bmFtaWNGcmljdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfZHluYW1pY0ZyaWN0aW9uKHRoaXMuX2lkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IGR5bmFtaWNGcmljdGlvblxyXG4gICAgICogQHBhcmFtIHYgTmV3IGR5bmFtaWNEYW1waW5nLlxyXG4gICAgICovXHJcbiAgICBzZXQgZHluYW1pY0ZyaWN0aW9uKHYpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X3NldF9keW5hbWljRnJpY3Rpb24odGhpcy5faWQsIHYpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgYm91bmNpbmVzcy5cclxuICAgICAqIEBzaW5jZSAwLjkuMFxyXG4gICAgICovXHJcbiAgICBnZXQgYm91bmNpbmVzcygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfYm91bmNpbmVzcyh0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCBib3VuY2luZXNzLlxyXG4gICAgICogQHBhcmFtIHYgTmV3IGJvdW5jaW5lc3MuXHJcbiAgICAgKiBAc2luY2UgMC45LjBcclxuICAgICAqL1xyXG4gICAgc2V0IGJvdW5jaW5lc3Modikge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfc2V0X2JvdW5jaW5lc3ModGhpcy5faWQsIHYpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgbGluZWFyRGFtcGluZy9cclxuICAgICAqL1xyXG4gICAgZ2V0IGxpbmVhckRhbXBpbmcoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfZ2V0X2xpbmVhckRhbXBpbmcodGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgbGluZWFyRGFtcGluZy5cclxuICAgICAqIEBwYXJhbSB2IE5ldyBsaW5lYXJEYW1waW5nLlxyXG4gICAgICovXHJcbiAgICBzZXQgbGluZWFyRGFtcGluZyh2KSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfbGluZWFyRGFtcGluZyh0aGlzLl9pZCwgdik7XHJcbiAgICB9XHJcbiAgICAvKiogR2V0IGFuZ3VsYXJEYW1waW5nLiAqL1xyXG4gICAgZ2V0IGFuZ3VsYXJEYW1waW5nKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2dldF9hbmd1bGFyRGFtcGluZyh0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCBhbmd1bGFyRGFtcGluZy5cclxuICAgICAqIEBwYXJhbSB2IE5ldyBhbmd1bGFyRGFtcGluZy5cclxuICAgICAqL1xyXG4gICAgc2V0IGFuZ3VsYXJEYW1waW5nKHYpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X3NldF9hbmd1bGFyRGFtcGluZyh0aGlzLl9pZCwgdik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCBsaW5lYXIgdmVsb2NpdHkuXHJcbiAgICAgKlxyXG4gICAgICogW1BoeXNYIE1hbnVhbCAtIFwiVmVsb2NpdHlcIl0oaHR0cHM6Ly9nYW1ld29ya3Nkb2NzLm52aWRpYS5jb20vUGh5c1gvNC4xL2RvY3VtZW50YXRpb24vcGh5c3hndWlkZS9NYW51YWwvUmlnaWRCb2R5RHluYW1pY3MuaHRtbCN2ZWxvY2l0eSlcclxuICAgICAqXHJcbiAgICAgKiBIYXMgbm8gZWZmZWN0LCBpZiB0aGUgY29tcG9uZW50IGlzIG5vdCBhY3RpdmUuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHYgTmV3IGxpbmVhciB2ZWxvY2l0eS5cclxuICAgICAqL1xyXG4gICAgc2V0IGxpbmVhclZlbG9jaXR5KHYpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X3NldF9saW5lYXJWZWxvY2l0eSh0aGlzLl9pZCwgdlswXSwgdlsxXSwgdlsyXSk7XHJcbiAgICB9XHJcbiAgICAvKiogTGluZWFyIHZlbG9jaXR5IG9yIGBbMCwgMCwgMF1gIGlmIHRoZSBjb21wb25lbnQgaXMgbm90IGFjdGl2ZS4gKi9cclxuICAgIGdldCBsaW5lYXJWZWxvY2l0eSgpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgd2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2dldF9saW5lYXJWZWxvY2l0eSh0aGlzLl9pZCwgd2FzbS5fdGVtcE1lbSk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkod2FzbS5IRUFQRjMyLmJ1ZmZlciwgd2FzbS5fdGVtcE1lbSwgMyk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCBhbmd1bGFyIHZlbG9jaXR5XHJcbiAgICAgKlxyXG4gICAgICogW1BoeXNYIE1hbnVhbCAtIFwiVmVsb2NpdHlcIl0oaHR0cHM6Ly9nYW1ld29ya3Nkb2NzLm52aWRpYS5jb20vUGh5c1gvNC4xL2RvY3VtZW50YXRpb24vcGh5c3hndWlkZS9NYW51YWwvUmlnaWRCb2R5RHluYW1pY3MuaHRtbCN2ZWxvY2l0eSlcclxuICAgICAqXHJcbiAgICAgKiBIYXMgbm8gZWZmZWN0LCBpZiB0aGUgY29tcG9uZW50IGlzIG5vdCBhY3RpdmUuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHYgTmV3IGFuZ3VsYXIgdmVsb2NpdHlcclxuICAgICAqL1xyXG4gICAgc2V0IGFuZ3VsYXJWZWxvY2l0eSh2KSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfYW5ndWxhclZlbG9jaXR5KHRoaXMuX2lkLCB2WzBdLCB2WzFdLCB2WzJdKTtcclxuICAgIH1cclxuICAgIC8qKiBBbmd1bGFyIHZlbG9jaXR5IG9yIGBbMCwgMCwgMF1gIGlmIHRoZSBjb21wb25lbnQgaXMgbm90IGFjdGl2ZS4gKi9cclxuICAgIGdldCBhbmd1bGFyVmVsb2NpdHkoKSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIHdhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfYW5ndWxhclZlbG9jaXR5KHRoaXMuX2lkLCB3YXNtLl90ZW1wTWVtKTtcclxuICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSh3YXNtLkhFQVBGMzIuYnVmZmVyLCB3YXNtLl90ZW1wTWVtLCAzKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHRoZSBjb21wb25lbnRzIGdyb3VwcyBtYXNrLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBmbGFncyBOZXcgZmxhZ3MgdGhhdCBuZWVkIHRvIGJlIHNldC5cclxuICAgICAqL1xyXG4gICAgc2V0IGdyb3Vwc01hc2soZmxhZ3MpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X3NldF9ncm91cHNNYXNrKHRoaXMuX2lkLCBmbGFncyk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgY29tcG9uZW50cyBncm91cHMgbWFzayBmbGFncy5cclxuICAgICAqXHJcbiAgICAgKiBFYWNoIGJpdCByZXByZXNlbnRzIG1lbWJlcnNoaXAgdG8gZ3JvdXAsIHNlZSBleGFtcGxlLlxyXG4gICAgICpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiAvLyBBc3NpZ24gYyB0byBncm91cCAyXHJcbiAgICAgKiBjLmdyb3Vwc01hc2sgPSAoMSA8PCAyKTtcclxuICAgICAqXHJcbiAgICAgKiAvLyBBc3NpZ24gYyB0byBncm91cCAwXHJcbiAgICAgKiBjLmdyb3Vwc01hc2sgID0gKDEgPDwgMCk7XHJcbiAgICAgKlxyXG4gICAgICogLy8gQXNzaWduIGMgdG8gZ3JvdXAgMCBhbmQgMlxyXG4gICAgICogYy5ncm91cHNNYXNrID0gKDEgPDwgMCkgfCAoMSA8PCAyKTtcclxuICAgICAqXHJcbiAgICAgKiAoYy5ncm91cHNNYXNrICYgKDEgPDwgMikpICE9IDA7IC8vIHRydWVcclxuICAgICAqIChjLmdyb3Vwc01hc2sgJiAoMSA8PCA3KSkgIT0gMDsgLy8gZmFsc2VcclxuICAgICAqIGBgYFxyXG4gICAgICovXHJcbiAgICBnZXQgZ3JvdXBzTWFzaygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfZ3JvdXBzTWFzayh0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCB0aGUgY29tcG9uZW50cyBibG9ja3MgbWFzay5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gZmxhZ3MgTmV3IGZsYWdzIHRoYXQgbmVlZCB0byBiZSBzZXQuXHJcbiAgICAgKi9cclxuICAgIHNldCBibG9ja3NNYXNrKGZsYWdzKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfYmxvY2tzTWFzayh0aGlzLl9pZCwgZmxhZ3MpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIGNvbXBvbmVudHMgYmxvY2tzIG1hc2sgZmxhZ3MuXHJcbiAgICAgKlxyXG4gICAgICogRWFjaCBiaXQgcmVwcmVzZW50cyBtZW1iZXJzaGlwIHRvIHRoZSBibG9jaywgc2VlIGV4YW1wbGUuXHJcbiAgICAgKlxyXG4gICAgICogYGBganNcclxuICAgICAqIC8vIEJsb2NrIG92ZXJsYXAgd2l0aCBhbnkgb2JqZWN0cyBpbiBncm91cCAyXHJcbiAgICAgKiBjLmJsb2Nrc01hc2sgPSAoMSA8PCAyKTtcclxuICAgICAqXHJcbiAgICAgKiAvLyBCbG9jayBvdmVybGFwIHdpdGggYW55IG9iamVjdHMgaW4gZ3JvdXAgMFxyXG4gICAgICogYy5ibG9ja3NNYXNrICA9ICgxIDw8IDApXHJcbiAgICAgKlxyXG4gICAgICogLy8gQmxvY2sgb3ZlcmxhcCB3aXRoIGFueSBvYmplY3RzIGluIGdyb3VwIDAgYW5kIDJcclxuICAgICAqIGMuYmxvY2tzTWFzayA9ICgxIDw8IDApIHwgKDEgPDwgMik7XHJcbiAgICAgKlxyXG4gICAgICogKGMuYmxvY2tzTWFzayAmICgxIDw8IDIpKSAhPSAwOyAvLyB0cnVlXHJcbiAgICAgKiAoYy5ibG9ja3NNYXNrICYgKDEgPDwgNykpICE9IDA7IC8vIGZhbHNlXHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgZ2V0IGJsb2Nrc01hc2soKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfZ2V0X2Jsb2Nrc01hc2sodGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgYXhlcyB0byBsb2NrIGZvciBsaW5lYXIgdmVsb2NpdHkuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGxvY2sgVGhlIEF4aXMgdGhhdCBuZWVkcyB0byBiZSBzZXQuXHJcbiAgICAgKlxyXG4gICAgICogQ29tYmluZSBmbGFncyB3aXRoIEJpdHdpc2UgT1IuXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogYm9keS5saW5lYXJMb2NrQXhpcyA9IExvY2tBeGlzLlggfCBMb2NrQXhpcy5ZOyAvLyB4IGFuZCB5IHNldFxyXG4gICAgICogYm9keS5saW5lYXJMb2NrQXhpcyA9IExvY2tBeGlzLlg7IC8vIHkgdW5zZXRcclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFRoaXMgaGFzIG5vIGVmZmVjdCBpZiB0aGUgY29tcG9uZW50IGlzIHN0YXRpYy5cclxuICAgICAqL1xyXG4gICAgc2V0IGxpbmVhckxvY2tBeGlzKGxvY2spIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X3NldF9saW5lYXJMb2NrQXhpcyh0aGlzLl9pZCwgbG9jayk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgbGluZWFyIGxvY2sgYXhlcyBmbGFncy5cclxuICAgICAqXHJcbiAgICAgKiBUbyBnZXQgdGhlIHN0YXRlIG9mIGEgc3BlY2lmaWMgZmxhZywgQml0d2lzZSBBTkQgd2l0aCB0aGUgTG9ja0F4aXMgbmVlZGVkLlxyXG4gICAgICpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiBpZihib2R5LmxpbmVhckxvY2tBeGlzICYgTG9ja0F4aXMuWSkge1xyXG4gICAgICogICAgIGNvbnNvbGUubG9nKFwiVGhlIFkgZmxhZyB3YXMgc2V0IVwiKTtcclxuICAgICAqIH1cclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4gYXhlcyB0aGF0IGFyZSBjdXJyZW50bHkgbG9ja2VkIGZvciBsaW5lYXIgbW92ZW1lbnQuXHJcbiAgICAgKi9cclxuICAgIGdldCBsaW5lYXJMb2NrQXhpcygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfbGluZWFyTG9ja0F4aXModGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgYXhlcyB0byBsb2NrIGZvciBhbmd1bGFyIHZlbG9jaXR5LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBsb2NrIFRoZSBBeGlzIHRoYXQgbmVlZHMgdG8gYmUgc2V0LlxyXG4gICAgICpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiBib2R5LmFuZ3VsYXJMb2NrQXhpcyA9IExvY2tBeGlzLlggfCBMb2NrQXhpcy5ZOyAvLyB4IGFuZCB5IHNldFxyXG4gICAgICogYm9keS5hbmd1bGFyTG9ja0F4aXMgPSBMb2NrQXhpcy5YOyAvLyB5IHVuc2V0XHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBUaGlzIGhhcyBubyBlZmZlY3QgaWYgdGhlIGNvbXBvbmVudCBpcyBzdGF0aWMuXHJcbiAgICAgKi9cclxuICAgIHNldCBhbmd1bGFyTG9ja0F4aXMobG9jaykge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfc2V0X2FuZ3VsYXJMb2NrQXhpcyh0aGlzLl9pZCwgbG9jayk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgYW5ndWxhciBsb2NrIGF4ZXMgZmxhZ3MuXHJcbiAgICAgKlxyXG4gICAgICogVG8gZ2V0IHRoZSBzdGF0ZSBvZiBhIHNwZWNpZmljIGZsYWcsIEJpdHdpc2UgQU5EIHdpdGggdGhlIExvY2tBeGlzIG5lZWRlZC5cclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogaWYoYm9keS5hbmd1bGFyTG9ja0F4aXMgJiBMb2NrQXhpcy5ZKSB7XHJcbiAgICAgKiAgICAgY29uc29sZS5sb2coXCJUaGUgWSBmbGFnIHdhcyBzZXQhXCIpO1xyXG4gICAgICogfVxyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiBheGVzIHRoYXQgYXJlIGN1cnJlbnRseSBsb2NrZWQgZm9yIGFuZ3VsYXIgbW92ZW1lbnQuXHJcbiAgICAgKi9cclxuICAgIGdldCBhbmd1bGFyTG9ja0F4aXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfZ2V0X2FuZ3VsYXJMb2NrQXhpcyh0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCBtYXNzLlxyXG4gICAgICpcclxuICAgICAqIFtQaHlzWCBNYW51YWwgLSBcIk1hc3MgUHJvcGVydGllc1wiXShodHRwczovL2dhbWV3b3Jrc2RvY3MubnZpZGlhLmNvbS9QaHlzWC80LjEvZG9jdW1lbnRhdGlvbi9waHlzeGd1aWRlL01hbnVhbC9SaWdpZEJvZHlEeW5hbWljcy5odG1sI21hc3MtcHJvcGVydGllcylcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gbSBOZXcgbWFzcy5cclxuICAgICAqL1xyXG4gICAgc2V0IG1hc3MobSkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfc2V0X21hc3ModGhpcy5faWQsIG0pO1xyXG4gICAgfVxyXG4gICAgLyoqIE1hc3MgKi9cclxuICAgIGdldCBtYXNzKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2dldF9tYXNzKHRoaXMuX2lkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IG1hc3Mgc3BhY2UgaW50ZXJpYSB0ZW5zb3IuXHJcbiAgICAgKlxyXG4gICAgICogW1BoeXNYIE1hbnVhbCAtIFwiTWFzcyBQcm9wZXJ0aWVzXCJdKGh0dHBzOi8vZ2FtZXdvcmtzZG9jcy5udmlkaWEuY29tL1BoeXNYLzQuMS9kb2N1bWVudGF0aW9uL3BoeXN4Z3VpZGUvTWFudWFsL1JpZ2lkQm9keUR5bmFtaWNzLmh0bWwjbWFzcy1wcm9wZXJ0aWVzKVxyXG4gICAgICpcclxuICAgICAqIEhhcyBubyBlZmZlY3QsIGlmIHRoZSBjb21wb25lbnQgaXMgbm90IGFjdGl2ZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdiBOZXcgbWFzcyBzcGFjZSBpbnRlcmF0aWEgdGVuc29yLlxyXG4gICAgICovXHJcbiAgICBzZXQgbWFzc1NwYWNlSW50ZXJpYVRlbnNvcih2KSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfbWFzc1NwYWNlSW5lcnRpYVRlbnNvcih0aGlzLl9pZCwgdlswXSwgdlsxXSwgdlsyXSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEFwcGx5IGEgZm9yY2UuXHJcbiAgICAgKlxyXG4gICAgICogW1BoeXNYIE1hbnVhbCAtIFwiQXBwbHlpbmcgRm9yY2VzIGFuZCBUb3JxdWVzXCJdKGh0dHBzOi8vZ2FtZXdvcmtzZG9jcy5udmlkaWEuY29tL1BoeXNYLzQuMS9kb2N1bWVudGF0aW9uL3BoeXN4Z3VpZGUvTWFudWFsL1JpZ2lkQm9keUR5bmFtaWNzLmh0bWwjYXBwbHlpbmctZm9yY2VzLWFuZC10b3JxdWVzKVxyXG4gICAgICpcclxuICAgICAqIEhhcyBubyBlZmZlY3QsIGlmIHRoZSBjb21wb25lbnQgaXMgbm90IGFjdGl2ZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gZiBGb3JjZSB2ZWN0b3IuXHJcbiAgICAgKiBAcGFyYW0gbSBGb3JjZSBtb2RlLCBzZWUge0BsaW5rIEZvcmNlTW9kZX0sIGRlZmF1bHQgYEZvcmNlYC5cclxuICAgICAqIEBwYXJhbSBsb2NhbEZvcmNlIFdoZXRoZXIgdGhlIGZvcmNlIHZlY3RvciBpcyBpbiBsb2NhbCBzcGFjZSwgZGVmYXVsdCBgZmFsc2VgLlxyXG4gICAgICogQHBhcmFtIHAgUG9zaXRpb24gdG8gYXBwbHkgZm9yY2UgYXQsIGRlZmF1bHQgaXMgY2VudGVyIG9mIG1hc3MuXHJcbiAgICAgKiBAcGFyYW0gbG9jYWwgV2hldGhlciBwb3NpdGlvbiBpcyBpbiBsb2NhbCBzcGFjZSwgZGVmYXVsdCBgZmFsc2VgLlxyXG4gICAgICovXHJcbiAgICBhZGRGb3JjZShmLCBtID0gRm9yY2VNb2RlLkZvcmNlLCBsb2NhbEZvcmNlID0gZmFsc2UsIHAsIGxvY2FsID0gZmFsc2UpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgaWYgKCFwKSB7XHJcbiAgICAgICAgICAgIHdhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9hZGRGb3JjZSh0aGlzLl9pZCwgZlswXSwgZlsxXSwgZlsyXSwgbSwgbG9jYWxGb3JjZSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgd2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2FkZEZvcmNlQXQodGhpcy5faWQsIGZbMF0sIGZbMV0sIGZbMl0sIG0sIGxvY2FsRm9yY2UsIHBbMF0sIHBbMV0sIHBbMl0sIGxvY2FsKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQXBwbHkgdG9ycXVlLlxyXG4gICAgICpcclxuICAgICAqIFtQaHlzWCBNYW51YWwgLSBcIkFwcGx5aW5nIEZvcmNlcyBhbmQgVG9ycXVlc1wiXShodHRwczovL2dhbWV3b3Jrc2RvY3MubnZpZGlhLmNvbS9QaHlzWC80LjEvZG9jdW1lbnRhdGlvbi9waHlzeGd1aWRlL01hbnVhbC9SaWdpZEJvZHlEeW5hbWljcy5odG1sI2FwcGx5aW5nLWZvcmNlcy1hbmQtdG9ycXVlcylcclxuICAgICAqXHJcbiAgICAgKiBIYXMgbm8gZWZmZWN0LCBpZiB0aGUgY29tcG9uZW50IGlzIG5vdCBhY3RpdmUuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGYgRm9yY2UgdmVjdG9yLlxyXG4gICAgICogQHBhcmFtIG0gRm9yY2UgbW9kZSwgc2VlIHtAbGluayBGb3JjZU1vZGV9LCBkZWZhdWx0IGBGb3JjZWAuXHJcbiAgICAgKi9cclxuICAgIGFkZFRvcnF1ZShmLCBtID0gRm9yY2VNb2RlLkZvcmNlKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9hZGRUb3JxdWUodGhpcy5faWQsIGZbMF0sIGZbMV0sIGZbMl0sIG0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGQgb24gY29sbGlzaW9uIGNhbGxiYWNrLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBjYWxsYmFjayBGdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhpcyByaWdpZCBib2R5ICh1biljb2xsaWRlcyB3aXRoIGFueSBvdGhlci5cclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogIGxldCByaWdpZEJvZHkgPSB0aGlzLm9iamVjdC5nZXRDb21wb25lbnQoJ3BoeXN4Jyk7XHJcbiAgICAgKiAgcmlnaWRCb2R5Lm9uQ29sbGlzaW9uKGZ1bmN0aW9uKHR5cGUsIG90aGVyKSB7XHJcbiAgICAgKiAgICAgIC8vIElnbm9yZSB1bmNvbGxpZGVzXHJcbiAgICAgKiAgICAgIGlmKHR5cGUgPT0gQ29sbGlzaW9uRXZlbnRUeXBlLlRvdWNoTG9zdCkgcmV0dXJuO1xyXG4gICAgICpcclxuICAgICAqICAgICAgLy8gVGFrZSBkYW1hZ2Ugb24gY29sbGlzaW9uIHdpdGggZW5lbWllc1xyXG4gICAgICogICAgICBpZihvdGhlci5vYmplY3QubmFtZS5zdGFydHNXaXRoKFwiZW5lbXktXCIpKSB7XHJcbiAgICAgKiAgICAgICAgICB0aGlzLmFwcGx5RGFtYWdlKDEwKTtcclxuICAgICAqICAgICAgfVxyXG4gICAgICogIH0uYmluZCh0aGlzKSk7XHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBJZCBvZiB0aGUgbmV3IGNhbGxiYWNrIGZvciB1c2Ugd2l0aCB7QGxpbmsgUGh5c1hDb21wb25lbnQjcmVtb3ZlQ29sbGlzaW9uQ2FsbGJhY2t9LlxyXG4gICAgICovXHJcbiAgICBvbkNvbGxpc2lvbihjYWxsYmFjaykge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm9uQ29sbGlzaW9uV2l0aCh0aGlzLCBjYWxsYmFjayk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEFkZCBmaWx0ZXJlZCBvbiBjb2xsaXNpb24gY2FsbGJhY2suXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG90aGVyQ29tcCBDb21wb25lbnQgZm9yIHdoaWNoIGNhbGxiYWNrcyB3aWxsXHJcbiAgICAgKiAgICAgICAgYmUgdHJpZ2dlcmVkLiBJZiB5b3UgcGFzcyB0aGlzIGNvbXBvbmVudCwgdGhlIG1ldGhvZCBpcyBlcXVpdmFsZW50IHRvLlxyXG4gICAgICogICAgICAgIHtAbGluayBQaHlzWENvbXBvbmVudCNvbkNvbGxpc2lvbn0uXHJcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgRnVuY3Rpb24gdG8gY2FsbCB3aGVuIHRoaXMgcmlnaWQgYm9keVxyXG4gICAgICogICAgICAgICh1biljb2xsaWRlcyB3aXRoIGBvdGhlckNvbXBgLlxyXG4gICAgICogQHJldHVybnMgSWQgb2YgdGhlIG5ldyBjYWxsYmFjayBmb3IgdXNlIHdpdGgge0BsaW5rIFBoeXNYQ29tcG9uZW50I3JlbW92ZUNvbGxpc2lvbkNhbGxiYWNrfS5cclxuICAgICAqL1xyXG4gICAgb25Db2xsaXNpb25XaXRoKG90aGVyQ29tcCwgY2FsbGJhY2spIHtcclxuICAgICAgICBjb25zdCBwaHlzaWNzID0gdGhpcy5fZW5naW5lLnBoeXNpY3M7XHJcbiAgICAgICAgcGh5c2ljcy5fY2FsbGJhY2tzW3RoaXMuX2lkXSA9IHBoeXNpY3MuX2NhbGxiYWNrc1t0aGlzLl9pZF0gfHwgW107XHJcbiAgICAgICAgcGh5c2ljcy5fY2FsbGJhY2tzW3RoaXMuX2lkXS5wdXNoKGNhbGxiYWNrKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9hZGRDYWxsYmFjayh0aGlzLl9pZCwgb3RoZXJDb21wLl9pZCB8fCB0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZSBhIGNvbGxpc2lvbiBjYWxsYmFjayBhZGRlZCB3aXRoIHtAbGluayBQaHlzWENvbXBvbmVudCNvbkNvbGxpc2lvbn0gb3Ige0BsaW5rIFBoeXNYQ29tcG9uZW50I29uQ29sbGlzaW9uV2l0aH0uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGNhbGxiYWNrSWQgQ2FsbGJhY2sgaWQgYXMgcmV0dXJuZWQgYnkge0BsaW5rIFBoeXNYQ29tcG9uZW50I29uQ29sbGlzaW9ufSBvciB7QGxpbmsgUGh5c1hDb21wb25lbnQjb25Db2xsaXNpb25XaXRofS5cclxuICAgICAqIEB0aHJvd3MgV2hlbiB0aGUgY2FsbGJhY2sgZG9lcyBub3QgYmVsb25nIHRvIHRoZSBjb21wb25lbnQuXHJcbiAgICAgKiBAdGhyb3dzIFdoZW4gdGhlIGNhbGxiYWNrIGRvZXMgbm90IGV4aXN0LlxyXG4gICAgICovXHJcbiAgICByZW1vdmVDb2xsaXNpb25DYWxsYmFjayhjYWxsYmFja0lkKSB7XHJcbiAgICAgICAgY29uc3QgcGh5c2ljcyA9IHRoaXMuX2VuZ2luZS5waHlzaWNzO1xyXG4gICAgICAgIGNvbnN0IHIgPSB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X3JlbW92ZUNhbGxiYWNrKHRoaXMuX2lkLCBjYWxsYmFja0lkKTtcclxuICAgICAgICAvKiByIGlzIHRoZSBhbW91bnQgb2Ygb2JqZWN0IHRvIHJlbW92ZSBmcm9tIHRoZSBlbmQgb2YgdGhlXHJcbiAgICAgICAgICogY2FsbGJhY2tzIGFycmF5IGZvciB0aGlzIG9iamVjdCAqL1xyXG4gICAgICAgIGlmIChyKVxyXG4gICAgICAgICAgICBwaHlzaWNzLl9jYWxsYmFja3NbdGhpcy5faWRdLnNwbGljZSgtcik7XHJcbiAgICB9XHJcbn1cclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIFBoeXNYQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzdGF0aWNcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBQaHlzWENvbXBvbmVudC5wcm90b3R5cGUsIFwidHJhbnNsYXRpb25PZmZzZXRcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBQaHlzWENvbXBvbmVudC5wcm90b3R5cGUsIFwicm90YXRpb25PZmZzZXRcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBQaHlzWENvbXBvbmVudC5wcm90b3R5cGUsIFwia2luZW1hdGljXCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgUGh5c1hDb21wb25lbnQucHJvdG90eXBlLCBcImdyYXZpdHlcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBQaHlzWENvbXBvbmVudC5wcm90b3R5cGUsIFwic2ltdWxhdGVcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBQaHlzWENvbXBvbmVudC5wcm90b3R5cGUsIFwiYWxsb3dTaW11bGF0aW9uXCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgUGh5c1hDb21wb25lbnQucHJvdG90eXBlLCBcImFsbG93UXVlcnlcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBQaHlzWENvbXBvbmVudC5wcm90b3R5cGUsIFwidHJpZ2dlclwiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIFBoeXNYQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzaGFwZVwiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIFBoeXNYQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzaGFwZURhdGFcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBQaHlzWENvbXBvbmVudC5wcm90b3R5cGUsIFwiZXh0ZW50c1wiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIFBoeXNYQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzdGF0aWNGcmljdGlvblwiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIFBoeXNYQ29tcG9uZW50LnByb3RvdHlwZSwgXCJkeW5hbWljRnJpY3Rpb25cIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBQaHlzWENvbXBvbmVudC5wcm90b3R5cGUsIFwiYm91bmNpbmVzc1wiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIFBoeXNYQ29tcG9uZW50LnByb3RvdHlwZSwgXCJsaW5lYXJEYW1waW5nXCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgUGh5c1hDb21wb25lbnQucHJvdG90eXBlLCBcImFuZ3VsYXJEYW1waW5nXCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgUGh5c1hDb21wb25lbnQucHJvdG90eXBlLCBcImxpbmVhclZlbG9jaXR5XCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgUGh5c1hDb21wb25lbnQucHJvdG90eXBlLCBcImFuZ3VsYXJWZWxvY2l0eVwiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIFBoeXNYQ29tcG9uZW50LnByb3RvdHlwZSwgXCJncm91cHNNYXNrXCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgUGh5c1hDb21wb25lbnQucHJvdG90eXBlLCBcImJsb2Nrc01hc2tcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBQaHlzWENvbXBvbmVudC5wcm90b3R5cGUsIFwibGluZWFyTG9ja0F4aXNcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBQaHlzWENvbXBvbmVudC5wcm90b3R5cGUsIFwiYW5ndWxhckxvY2tBeGlzXCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgUGh5c1hDb21wb25lbnQucHJvdG90eXBlLCBcIm1hc3NcIiwgbnVsbCk7XHJcbi8qKlxyXG4gKiBBY2Nlc3MgdG8gdGhlIHBoeXNpY3Mgc2NlbmVcclxuICovXHJcbmV4cG9ydCBjbGFzcyBQaHlzaWNzIHtcclxuICAgIC8qKlxyXG4gICAgICogQGhpZGRlblxyXG4gICAgICpcclxuICAgICAqICoqTm90ZSoqOiBUaGlzIGlzIHB1YmxpYyB0byBlbXVsYXRlIGEgYGZyaWVuZGAgYWNjZXNzb3IuXHJcbiAgICAgKi9cclxuICAgIF9jYWxsYmFja3M7XHJcbiAgICAvKiogV29uZGVybGFuZCBFbmdpbmUgaW5zdGFuY2UgKi9cclxuICAgIF9lbmdpbmU7XHJcbiAgICAvKiogUmF5IEhpdCAqL1xyXG4gICAgX3JheUhpdDtcclxuICAgIC8qKiBIaXQuICovXHJcbiAgICBfaGl0O1xyXG4gICAgY29uc3RydWN0b3IoZW5naW5lKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lID0gZW5naW5lO1xyXG4gICAgICAgIHRoaXMuX3JheUhpdCA9IGVuZ2luZS53YXNtLl9tYWxsb2MoNCAqICgzICogNCArIDMgKiA0ICsgNCArIDIpICsgNCk7XHJcbiAgICAgICAgdGhpcy5faGl0ID0gbmV3IFJheUhpdCh0aGlzLl9lbmdpbmUsIHRoaXMuX3JheUhpdCk7XHJcbiAgICAgICAgdGhpcy5fY2FsbGJhY2tzID0ge307XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENhc3QgYSByYXkgdGhyb3VnaCB0aGUgcGh5c2ljcyBzY2VuZSBhbmQgZmluZCBpbnRlcnNlY3Rpbmcgb2JqZWN0cy5cclxuICAgICAqXHJcbiAgICAgKiBUaGUgcmVzdWx0aW5nIHJheSBoaXQgd2lsbCBjb250YWluICoqdXAgdG8gNCoqIGNsb3Nlc3QgcmF5IGhpdHMsXHJcbiAgICAgKiBzb3J0ZWQgYnkgaW5jcmVhc2luZyBkaXN0YW5jZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gbyBSYXkgb3JpZ2luLlxyXG4gICAgICogQHBhcmFtIGQgUmF5IGRpcmVjdGlvbi5cclxuICAgICAqIEBwYXJhbSBncm91cCBDb2xsaXNpb24gZ3JvdXAgdG8gZmlsdGVyIGJ5OiBvbmx5IG9iamVjdHMgdGhhdCBhcmVcclxuICAgICAqICAgICAgICBwYXJ0IG9mIGdpdmVuIGdyb3VwIGFyZSBjb25zaWRlcmVkIGZvciByYXljYXN0LlxyXG4gICAgICogQHBhcmFtIG1heERpc3RhbmNlIE1heGltdW0gcmF5IGRpc3RhbmNlLCBkZWZhdWx0IGAxMDAuMGAuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgVGhlIFJheUhpdCBpbnN0YW5jZSwgYmVsb25naW5nIHRvIHRoaXMgY2xhc3MuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgVGhlIHJldHVybmVkIHtAbGluayBSYXlIaXR9IG9iamVjdCBpcyBvd25lZCBieSB0aGUgUGh5c2ljcyBpbnN0YW5jZSBhbmRcclxuICAgICAqICAgICAgIHdpbGwgYmUgcmV1c2VkIHdpdGggdGhlIG5leHQge0BsaW5rIFBoeXNpY3MjcmF5Q2FzdH0gY2FsbC5cclxuICAgICAqL1xyXG4gICAgcmF5Q2FzdChvLCBkLCBncm91cCwgbWF4RGlzdGFuY2UgPSAxMDAuMCkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9yYXlfY2FzdChvWzBdLCBvWzFdLCBvWzJdLCBkWzBdLCBkWzFdLCBkWzJdLCBncm91cCwgbWF4RGlzdGFuY2UsIHRoaXMuX3JheUhpdCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2hpdDtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogTWVzaCBpbmRleCB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IHZhciBNZXNoSW5kZXhUeXBlO1xyXG4oZnVuY3Rpb24gKE1lc2hJbmRleFR5cGUpIHtcclxuICAgIC8qKiBTaW5nbGUgYnl0ZSBtZXNoIGluZGV4LCByYW5nZSAwLTI1NSAqL1xyXG4gICAgTWVzaEluZGV4VHlwZVtNZXNoSW5kZXhUeXBlW1wiVW5zaWduZWRCeXRlXCJdID0gMV0gPSBcIlVuc2lnbmVkQnl0ZVwiO1xyXG4gICAgLyoqIFR3byBieXRlIG1lc2ggaW5kZXgsIHJhbmdlIDAtNjU1MzUgKi9cclxuICAgIE1lc2hJbmRleFR5cGVbTWVzaEluZGV4VHlwZVtcIlVuc2lnbmVkU2hvcnRcIl0gPSAyXSA9IFwiVW5zaWduZWRTaG9ydFwiO1xyXG4gICAgLyoqIEZvdXIgYnl0ZSBtZXNoIGluZGV4LCByYW5nZSAwLTQyOTQ5NjcyOTUgKi9cclxuICAgIE1lc2hJbmRleFR5cGVbTWVzaEluZGV4VHlwZVtcIlVuc2lnbmVkSW50XCJdID0gNF0gPSBcIlVuc2lnbmVkSW50XCI7XHJcbn0pKE1lc2hJbmRleFR5cGUgfHwgKE1lc2hJbmRleFR5cGUgPSB7fSkpO1xyXG4vKipcclxuICogTWVzaCBza2lubmluZyB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IHZhciBNZXNoU2tpbm5pbmdUeXBlO1xyXG4oZnVuY3Rpb24gKE1lc2hTa2lubmluZ1R5cGUpIHtcclxuICAgIC8qKiBOb3Qgc2tpbm5lZCAqL1xyXG4gICAgTWVzaFNraW5uaW5nVHlwZVtNZXNoU2tpbm5pbmdUeXBlW1wiTm9uZVwiXSA9IDBdID0gXCJOb25lXCI7XHJcbiAgICAvKiogU2tpbm5lZCwgNCBqb2ludHMvd2VpZ2h0IHBlciB2ZXJ0ZXggKi9cclxuICAgIE1lc2hTa2lubmluZ1R5cGVbTWVzaFNraW5uaW5nVHlwZVtcIkZvdXJKb2ludHNcIl0gPSAxXSA9IFwiRm91ckpvaW50c1wiO1xyXG4gICAgLyoqIFNraW5uZWQsIDggam9pbnRzL3dlaWdodCBwZXIgdmVydGV4ICovXHJcbiAgICBNZXNoU2tpbm5pbmdUeXBlW01lc2hTa2lubmluZ1R5cGVbXCJFaWdodEpvaW50c1wiXSA9IDJdID0gXCJFaWdodEpvaW50c1wiO1xyXG59KShNZXNoU2tpbm5pbmdUeXBlIHx8IChNZXNoU2tpbm5pbmdUeXBlID0ge30pKTtcclxuLyoqXHJcbiAqIFdyYXBwZXIgYXJvdW5kIGEgbmF0aXZlIG1lc2ggZGF0YS5cclxuICpcclxuICogVG8gbW9kaWZ5IGEgbWVzaCwgeW91IGdldCBhY2Nlc3MgdG8gYSB7QGxpbmsgTWVzaEF0dHJpYnV0ZUFjY2Vzc29yfSB0aGF0IGFsbG93cyB5b3UgdG8gbW9kaWZ5XHJcbiAqIHRoZSBjb250ZW50IG9mIHRoZSBidWZmZXJzOlxyXG4gKlxyXG4gKiBVc2FnZTpcclxuICpcclxuICogYGBganNcclxuICogY29uc3QgbWVzaCA9IG5ldyBNZXNoKGVuZ2luZSwge3ZlcnRleENvdW50OiAzLCBpbmRleERhdGE6IFswLCAxLCAyXSB9KTtcclxuICogY29uc3QgcG9zaXRpb25zID0gbWVzaC5hdHRyaWJ1dGUoTWVzaEF0dHJpYnV0ZS5Qb3NpdGlvbik7XHJcbiAqIC4uLlxyXG4gKiBgYGBcclxuICovXHJcbmV4cG9ydCBjbGFzcyBNZXNoIHtcclxuICAgIC8qKlxyXG4gICAgICogSW5kZXggb2YgdGhlIG1lc2ggaW4gdGhlIG1hbmFnZXIuXHJcbiAgICAgKlxyXG4gICAgICogQGhpZGRlblxyXG4gICAgICovXHJcbiAgICBfaW5kZXggPSAtMTtcclxuICAgIC8qKiBXb25kZXJsYW5kIEVuZ2luZSBpbnN0YW5jZS4gQGhpZGRlbiAqL1xyXG4gICAgX2VuZ2luZTtcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGEgbmV3IGluc3RhbmNlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBwYXJhbXMgRWl0aGVyIGEgbWVzaCBpbmRleCB0byB3cmFwIG9yIHNldCBvZiBwYXJhbWV0ZXJzIHRvIGNyZWF0ZSBhIG5ldyBtZXNoLlxyXG4gICAgICogICAgRm9yIG1vcmUgaW5mb3JtYXRpb24sIHBsZWFzZSBoYXZlIGEgbG9vayBhdCB0aGUge0BsaW5rIE1lc2hQYXJhbWV0ZXJzfSBpbnRlcmZhY2UuXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKGVuZ2luZSwgcGFyYW1zKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lID0gZW5naW5lID8/IFdMO1xyXG4gICAgICAgIHRoaXMuX2luZGV4ID0gLTE7XHJcbiAgICAgICAgaWYgKGlzTnVtYmVyKHBhcmFtcykpIHtcclxuICAgICAgICAgICAgdGhpcy5faW5kZXggPSBwYXJhbXM7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFwYXJhbXMudmVydGV4Q291bnQpXHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgcGFyYW1ldGVyICd2ZXJ0ZXhDb3VudCdcIik7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIGxldCBpbmRleERhdGEgPSAwO1xyXG4gICAgICAgIGxldCBpbmRleFR5cGUgPSAwO1xyXG4gICAgICAgIGxldCBpbmRleERhdGFTaXplID0gMDtcclxuICAgICAgICBpZiAocGFyYW1zLmluZGV4RGF0YSkge1xyXG4gICAgICAgICAgICBpbmRleFR5cGUgPSBwYXJhbXMuaW5kZXhUeXBlIHx8IE1lc2hJbmRleFR5cGUuVW5zaWduZWRTaG9ydDtcclxuICAgICAgICAgICAgaW5kZXhEYXRhU2l6ZSA9IHBhcmFtcy5pbmRleERhdGEubGVuZ3RoICogaW5kZXhUeXBlO1xyXG4gICAgICAgICAgICBpbmRleERhdGEgPSB3YXNtLl9tYWxsb2MoaW5kZXhEYXRhU2l6ZSk7XHJcbiAgICAgICAgICAgIC8qIENvcHkgdGhlIGluZGV4IGRhdGEgaW50byB3YXNtIG1lbW9yeSAqL1xyXG4gICAgICAgICAgICBzd2l0Y2ggKGluZGV4VHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBNZXNoSW5kZXhUeXBlLlVuc2lnbmVkQnl0ZTpcclxuICAgICAgICAgICAgICAgICAgICB3YXNtLkhFQVBVOC5zZXQocGFyYW1zLmluZGV4RGF0YSwgaW5kZXhEYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgTWVzaEluZGV4VHlwZS5VbnNpZ25lZFNob3J0OlxyXG4gICAgICAgICAgICAgICAgICAgIHdhc20uSEVBUFUxNi5zZXQocGFyYW1zLmluZGV4RGF0YSwgaW5kZXhEYXRhID4+IDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBNZXNoSW5kZXhUeXBlLlVuc2lnbmVkSW50OlxyXG4gICAgICAgICAgICAgICAgICAgIHdhc20uSEVBUFUzMi5zZXQocGFyYW1zLmluZGV4RGF0YSwgaW5kZXhEYXRhID4+IDIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHsgc2tpbm5pbmdUeXBlID0gTWVzaFNraW5uaW5nVHlwZS5Ob25lIH0gPSBwYXJhbXM7XHJcbiAgICAgICAgdGhpcy5faW5kZXggPSB3YXNtLl93bF9tZXNoX2NyZWF0ZShpbmRleERhdGEsIGluZGV4RGF0YVNpemUsIGluZGV4VHlwZSwgcGFyYW1zLnZlcnRleENvdW50LCBza2lubmluZ1R5cGUpO1xyXG4gICAgfVxyXG4gICAgLyoqIE51bWJlciBvZiB2ZXJ0aWNlcyBpbiB0aGlzIG1lc2guICovXHJcbiAgICBnZXQgdmVydGV4Q291bnQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9tZXNoX2dldF92ZXJ0ZXhDb3VudCh0aGlzLl9pbmRleCk7XHJcbiAgICB9XHJcbiAgICAvKiogSW5kZXggZGF0YSAocmVhZC1vbmx5KSBvciBgbnVsbGAgaWYgdGhlIG1lc2ggaXMgbm90IGluZGV4ZWQuICovXHJcbiAgICBnZXQgaW5kZXhEYXRhKCkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICBjb25zdCB0ZW1wTWVtID0gd2FzbS5fdGVtcE1lbTtcclxuICAgICAgICBjb25zdCBwdHIgPSB3YXNtLl93bF9tZXNoX2dldF9pbmRleERhdGEodGhpcy5faW5kZXgsIHRlbXBNZW0sIHRlbXBNZW0gKyA0KTtcclxuICAgICAgICBpZiAocHRyID09PSBudWxsKVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICBjb25zdCBpbmRleENvdW50ID0gd2FzbS5IRUFQVTMyW3RlbXBNZW0gLyA0XTtcclxuICAgICAgICBjb25zdCBpbmRleFNpemUgPSB3YXNtLkhFQVBVMzJbdGVtcE1lbSAvIDQgKyAxXTtcclxuICAgICAgICBzd2l0Y2ggKGluZGV4U2l6ZSkge1xyXG4gICAgICAgICAgICBjYXNlIE1lc2hJbmRleFR5cGUuVW5zaWduZWRCeXRlOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KHdhc20uSEVBUFU4LmJ1ZmZlciwgcHRyLCBpbmRleENvdW50KTtcclxuICAgICAgICAgICAgY2FzZSBNZXNoSW5kZXhUeXBlLlVuc2lnbmVkU2hvcnQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFVpbnQxNkFycmF5KHdhc20uSEVBUFUxNi5idWZmZXIsIHB0ciwgaW5kZXhDb3VudCk7XHJcbiAgICAgICAgICAgIGNhc2UgTWVzaEluZGV4VHlwZS5VbnNpZ25lZEludDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVWludDMyQXJyYXkod2FzbS5IRUFQVTMyLmJ1ZmZlciwgcHRyLCBpbmRleENvdW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICAvKiogSG9zdGluZyBlbmdpbmUgaW5zdGFuY2UuICovXHJcbiAgICBnZXQgZW5naW5lKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmU7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEFwcGx5IGNoYW5nZXMgdG8ge0BsaW5rIGF0dHJpYnV0ZSB8IHZlcnRleCBhdHRyaWJ1dGVzfS5cclxuICAgICAqXHJcbiAgICAgKiBVcGxvYWRzIHRoZSB1cGRhdGVkIHZlcnRleCBhdHRyaWJ1dGVzIHRvIHRoZSBHUFUgYW5kIHVwZGF0ZXMgdGhlIGJvdW5kaW5nXHJcbiAgICAgKiBzcGhlcmUgdG8gbWF0Y2ggdGhlIG5ldyB2ZXJ0ZXggcG9zaXRpb25zLlxyXG4gICAgICpcclxuICAgICAqIFNpbmNlIHRoaXMgaXMgYW4gZXhwZW5zaXZlIG9wZXJhdGlvbiwgY2FsbCBpdCBvbmx5IG9uY2UgeW91IGhhdmUgcGVyZm9ybWVkXHJcbiAgICAgKiBhbGwgbW9kaWZpY2F0aW9ucyBvbiBhIG1lc2ggYW5kIGF2b2lkIGNhbGxpbmcgaWYgeW91IGRpZCBub3QgcGVyZm9ybSBhbnlcclxuICAgICAqIG1vZGlmaWNhdGlvbnMgYXQgYWxsLlxyXG4gICAgICovXHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX21lc2hfdXBkYXRlKHRoaXMuX2luZGV4KTtcclxuICAgIH1cclxuICAgIGdldEJvdW5kaW5nU3BoZXJlKG91dCA9IG5ldyBGbG9hdDMyQXJyYXkoNCkpIHtcclxuICAgICAgICBjb25zdCB0ZW1wTWVtRmxvYXQgPSB0aGlzLl9lbmdpbmUud2FzbS5fdGVtcE1lbUZsb2F0O1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9tZXNoX2dldF9ib3VuZGluZ1NwaGVyZSh0aGlzLl9pbmRleCwgdGhpcy5fZW5naW5lLndhc20uX3RlbXBNZW0pO1xyXG4gICAgICAgIG91dFswXSA9IHRlbXBNZW1GbG9hdFswXTtcclxuICAgICAgICBvdXRbMV0gPSB0ZW1wTWVtRmxvYXRbMV07XHJcbiAgICAgICAgb3V0WzJdID0gdGVtcE1lbUZsb2F0WzJdO1xyXG4gICAgICAgIG91dFszXSA9IHRlbXBNZW1GbG9hdFszXTtcclxuICAgICAgICByZXR1cm4gb3V0O1xyXG4gICAgfVxyXG4gICAgYXR0cmlidXRlKGF0dHIpIHtcclxuICAgICAgICBpZiAodHlwZW9mIGF0dHIgIT0gJ251bWJlcicpXHJcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIG51bWJlciwgYnV0IGdvdCAnICsgdHlwZW9mIGF0dHIpO1xyXG4gICAgICAgIGNvbnN0IHRlbXBNZW1VaW50MzIgPSB0aGlzLl9lbmdpbmUud2FzbS5fdGVtcE1lbVVpbnQzMjtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbWVzaF9nZXRfYXR0cmlidXRlKHRoaXMuX2luZGV4LCBhdHRyLCB0aGlzLl9lbmdpbmUud2FzbS5fdGVtcE1lbSk7XHJcbiAgICAgICAgaWYgKHRlbXBNZW1VaW50MzJbMF0gPT0gMjU1KVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICBjb25zdCBhcnJheVNpemUgPSB0ZW1wTWVtVWludDMyWzVdO1xyXG4gICAgICAgIHJldHVybiBuZXcgTWVzaEF0dHJpYnV0ZUFjY2Vzc29yKHRoaXMuX2VuZ2luZSwge1xyXG4gICAgICAgICAgICBhdHRyaWJ1dGU6IHRlbXBNZW1VaW50MzJbMF0sXHJcbiAgICAgICAgICAgIG9mZnNldDogdGVtcE1lbVVpbnQzMlsxXSxcclxuICAgICAgICAgICAgc3RyaWRlOiB0ZW1wTWVtVWludDMyWzJdLFxyXG4gICAgICAgICAgICBmb3JtYXRTaXplOiB0ZW1wTWVtVWludDMyWzNdLFxyXG4gICAgICAgICAgICBjb21wb25lbnRDb3VudDogdGVtcE1lbVVpbnQzMls0XSxcclxuICAgICAgICAgICAgLyogVGhlIFdBU00gQVBJIHJldHVybnMgYDBgIGZvciBhIHNjYWxhciB2YWx1ZS4gV2UgY2xhbXAgaXQgdG8gMSBhcyB3ZSBzdHJpY3RseSB1c2UgaXQgYXMgYSBtdWx0aXBsaWVyIGZvciBnZXQvc2V0IG9wZXJhdGlvbnMgKi9cclxuICAgICAgICAgICAgYXJyYXlTaXplOiBhcnJheVNpemUgPyBhcnJheVNpemUgOiAxLFxyXG4gICAgICAgICAgICBsZW5ndGg6IHRoaXMudmVydGV4Q291bnQsXHJcbiAgICAgICAgICAgIGJ1ZmZlclR5cGU6IChhdHRyICE9PSBNZXNoQXR0cmlidXRlLkpvaW50SWRcclxuICAgICAgICAgICAgICAgID8gRmxvYXQzMkFycmF5XHJcbiAgICAgICAgICAgICAgICA6IFVpbnQxNkFycmF5KSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogRGVzdHJveSBhbmQgZnJlZSB0aGUgbWVzaGVzIG1lbW9yeS5cclxuICAgICAqXHJcbiAgICAgKiBJdCBpcyBiZXN0IHByYWN0aWNlIHRvIHNldCB0aGUgbWVzaCB2YXJpYWJsZSB0byBgbnVsbGAgYWZ0ZXIgY2FsbGluZ1xyXG4gICAgICogZGVzdHJveSB0byBwcmV2ZW50IGFjY2lkZW50YWwgdXNlOlxyXG4gICAgICpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiAgIG1lc2guZGVzdHJveSgpO1xyXG4gICAgICogICBtZXNoID0gbnVsbDtcclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIEFjY2Vzc2luZyB0aGUgbWVzaCBhZnRlciBkZXN0cnVjdGlvbiBiZWhhdmVzIGxpa2UgYWNjZXNzaW5nIGFuIGVtcHR5XHJcbiAgICAgKiBtZXNoLlxyXG4gICAgICpcclxuICAgICAqIEBzaW5jZSAwLjkuMFxyXG4gICAgICovXHJcbiAgICBkZXN0cm95KCkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9tZXNoX2Rlc3Ryb3kodGhpcy5faW5kZXgpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3MgZXF1YWxpdHkgYnkgY29tcGFyaW5nIHdoZXRoZXIgdGhlIHdyYXBwZWQgbmF0aXZlIG1lc2ggaWRzIGFyZVxyXG4gICAgICogZXF1YWwuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG90aGVyTWVzaCBNZXNoIHRvIGNoZWNrIGVxdWFsaXR5IHdpdGguXHJcbiAgICAgKiBAcmV0dXJucyBXaGV0aGVyIHRoaXMgbWVzaCBlcXVhbHMgdGhlIGdpdmVuIG1lc2guXHJcbiAgICAgKlxyXG4gICAgICogQHNpbmNlIDEuMC4wXHJcbiAgICAgKi9cclxuICAgIGVxdWFscyhvdGhlck1lc2gpIHtcclxuICAgICAgICBpZiAoIW90aGVyTWVzaClcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbmRleCA9PT0gb3RoZXJNZXNoLl9pbmRleDtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogQW4gaXRlcmF0b3Igb3ZlciBhIG1lc2ggdmVydGV4IGF0dHJpYnV0ZS5cclxuICpcclxuICogVXNhZ2U6XHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIGNvbnN0IG1lc2ggPSB0aGlzLm9iamVjdC5nZXRDb21wb25lbnQoJ21lc2gnKS5tZXNoO1xyXG4gKiBjb25zdCBwb3NpdGlvbnMgPSBtZXNoLmF0dHJpYnV0ZShNZXNoQXR0cmlidXRlLlBvc2l0aW9uKTtcclxuICpcclxuICogLy8gRXF1aXZhbGVudCB0byBgbmV3IEZsb2F0MzJBcnJheSgzKWAuXHJcbiAqIGNvbnN0IHRlbXAgPSBwb3NpdGlvbnMuY3JlYXRlQXJyYXkoKTtcclxuICpcclxuICogZm9yKGxldCBpID0gMDsgaSA8IHBvc2l0aW9ucy5sZW5ndGg7ICsraSkge1xyXG4gKiAgICAgLy8gYHBvc2Agd2lsbCByZWZlcmVuY2UgYHRlbXBgIGFuZCB0aGVyZWJ5IG5vdCBhbGxvY2F0ZSBhZGRpdGlvbmFsXHJcbiAqICAgICAvLyBtZW1vcnksIHdoaWNoIHdvdWxkIGNhdXNlIGEgcGVyZiBzcGlrZSB3aGVuIGNvbGxlY3RlZC5cclxuICogICAgIGNvbnN0IHBvcyA9IHBvc2l0aW9ucy5nZXQoaSwgdGVtcCk7XHJcbiAqICAgICAvLyBTY2FsZSBwb3NpdGlvbiBieSAyIG9uIHgtYXhpcyBvbmx5LlxyXG4gKiAgICAgcG9zWzBdICo9IDIuMDtcclxuICogICAgIHBvc2l0aW9ucy5zZXQoaSwgcG9zKTtcclxuICogfVxyXG4gKiAvLyBXZSdyZSBkb25lIG1vZGlmeWluZywgdGVsbCB0aGUgZW5naW5lIHRvIG1vdmUgdmVydGV4IGRhdGEgdG8gdGhlIEdQVS5cclxuICogbWVzaC51cGRhdGUoKTtcclxuICogYGBgXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTWVzaEF0dHJpYnV0ZUFjY2Vzc29yIHtcclxuICAgIC8qKiBNYXggbnVtYmVyIG9mIGVsZW1lbnRzLiAqL1xyXG4gICAgbGVuZ3RoID0gMDtcclxuICAgIC8qKiBXb25kZXJsYW5kIEVuZ2luZSBpbnN0YW5jZS4gQGhpZGRlbiAqL1xyXG4gICAgX2VuZ2luZTtcclxuICAgIC8qKiBBdHRyaWJ1dGUgaW5kZXguIEBoaWRkZW4gKi9cclxuICAgIF9hdHRyaWJ1dGUgPSAtMTtcclxuICAgIC8qKiBBdHRyaWJ1dGUgb2Zmc2V0LiBAaGlkZGVuICovXHJcbiAgICBfb2Zmc2V0ID0gMDtcclxuICAgIC8qKiBBdHRyaWJ1dGUgc3RyaWRlLiBAaGlkZGVuICovXHJcbiAgICBfc3RyaWRlID0gMDtcclxuICAgIC8qKiBGb3JtYXQgc2l6ZSBuYXRpdmUgZW51bS4gQGhpZGRlbiAqL1xyXG4gICAgX2Zvcm1hdFNpemUgPSAwO1xyXG4gICAgLyoqIE51bWJlciBvZiBjb21wb25lbnRzIHBlciB2ZXJ0ZXguIEBoaWRkZW4gKi9cclxuICAgIF9jb21wb25lbnRDb3VudCA9IDA7XHJcbiAgICAvKiogTnVtYmVyIG9mIHZhbHVlcyBwZXIgdmVydGV4LiBAaGlkZGVuICovXHJcbiAgICBfYXJyYXlTaXplID0gMTtcclxuICAgIC8qKlxyXG4gICAgICogQ2xhc3MgdG8gaW5zdGFudGlhdGUgYW4gQXJyYXlCdWZmZXIgdG8gZ2V0L3NldCB2YWx1ZXMuXHJcbiAgICAgKi9cclxuICAgIF9idWZmZXJUeXBlO1xyXG4gICAgLyoqXHJcbiAgICAgKiBGdW5jdGlvbiB0byBhbGxvY2F0ZSB0ZW1wb3JhcnkgV0FTTSBtZW1vcnkuIEl0IGlzIGNhY2hlZCBpbiB0aGUgYWNjZXNzb3IgdG8gYXZvaWRcclxuICAgICAqIGNvbmRpdGlvbmFscyBkdXJpbmcgZ2V0L3NldC5cclxuICAgICAqL1xyXG4gICAgX3RlbXBCdWZmZXJHZXR0ZXI7XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBhIG5ldyBpbnN0YW5jZS5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBQbGVhc2UgdXNlIHtAbGluayBNZXNoLmF0dHJpYnV0ZX0gdG8gY3JlYXRlIGEgbmV3IGluc3RhbmNlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBvcHRpb25zIENvbnRhaW5zIGluZm9ybWF0aW9uIGFib3V0IGhvdyB0byByZWFkIHRoZSBkYXRhLlxyXG4gICAgICogQG5vdGUgRG8gbm90IHVzZSB0aGlzIGNvbnN0cnVjdG9yLiBJbnN0ZWFkLCBwbGVhc2UgdXNlIHRoZSB7QGxpbmsgTWVzaC5hdHRyaWJ1dGV9IG1ldGhvZC5cclxuICAgICAqXHJcbiAgICAgKiBAaGlkZGVuXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKGVuZ2luZSwgb3B0aW9ucykge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZSA9IGVuZ2luZTtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgdGhpcy5fYXR0cmlidXRlID0gb3B0aW9ucy5hdHRyaWJ1dGU7XHJcbiAgICAgICAgdGhpcy5fb2Zmc2V0ID0gb3B0aW9ucy5vZmZzZXQ7XHJcbiAgICAgICAgdGhpcy5fc3RyaWRlID0gb3B0aW9ucy5zdHJpZGU7XHJcbiAgICAgICAgdGhpcy5fZm9ybWF0U2l6ZSA9IG9wdGlvbnMuZm9ybWF0U2l6ZTtcclxuICAgICAgICB0aGlzLl9jb21wb25lbnRDb3VudCA9IG9wdGlvbnMuY29tcG9uZW50Q291bnQ7XHJcbiAgICAgICAgdGhpcy5fYXJyYXlTaXplID0gb3B0aW9ucy5hcnJheVNpemU7XHJcbiAgICAgICAgdGhpcy5fYnVmZmVyVHlwZSA9IG9wdGlvbnMuYnVmZmVyVHlwZTtcclxuICAgICAgICB0aGlzLmxlbmd0aCA9IG9wdGlvbnMubGVuZ3RoO1xyXG4gICAgICAgIHRoaXMuX3RlbXBCdWZmZXJHZXR0ZXIgPSAodGhpcy5fYnVmZmVyVHlwZSA9PT0gRmxvYXQzMkFycmF5XHJcbiAgICAgICAgICAgID8gd2FzbS5nZXRUZW1wQnVmZmVyRjMyLmJpbmQod2FzbSlcclxuICAgICAgICAgICAgOiB3YXNtLmdldFRlbXBCdWZmZXJVMTYuYmluZCh3YXNtKSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBhIG5ldyBUeXBlZEFycmF5IHRvIGhvbGQgdGhpcyBhdHRyaWJ1dGUncyB2YWx1ZXMuXHJcbiAgICAgKlxyXG4gICAgICogVGhpcyBtZXRob2QgaXMgdXNlZnVsIHRvIGNyZWF0ZSBhIHZpZXcgdG8gaG9sZCB0aGUgZGF0YSB0b1xyXG4gICAgICogcGFzcyB0byB7QGxpbmsgZ2V0fSBhbmQge0BsaW5rIHNldH1cclxuICAgICAqXHJcbiAgICAgKiBFeGFtcGxlOlxyXG4gICAgICpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiBjb25zdCB2ZXJ0ZXhDb3VudCA9IDQ7XHJcbiAgICAgKiBjb25zdCBwb3NpdGlvbkF0dHJpYnV0ZSA9IG1lc2guYXR0cmlidXRlKE1lc2hBdHRyaWJ1dGUuUG9zaXRpb24pO1xyXG4gICAgICpcclxuICAgICAqIC8vIEEgcG9zaXRpb24gaGFzIDMgZmxvYXRzIHBlciB2ZXJ0ZXguIFRodXMsIHBvc2l0aW9ucyBoYXMgbGVuZ3RoIDMgKiA0LlxyXG4gICAgICogY29uc3QgcG9zaXRpb25zID0gcG9zaXRpb25BdHRyaWJ1dGUuY3JlYXRlQXJyYXkodmVydGV4Q291bnQpO1xyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGNvdW50IFRoZSBudW1iZXIgb2YgKip2ZXJ0aWNlcyoqIGV4cGVjdGVkLlxyXG4gICAgICogQHJldHVybnMgQSBUeXBlZEFycmF5IHdpdGggdGhlIGFwcHJvcHJpYXRlIGZvcm1hdCB0byBhY2Nlc3MgdGhlIGRhdGFcclxuICAgICAqL1xyXG4gICAgY3JlYXRlQXJyYXkoY291bnQgPSAxKSB7XHJcbiAgICAgICAgY291bnQgPSBjb3VudCA+IHRoaXMubGVuZ3RoID8gdGhpcy5sZW5ndGggOiBjb3VudDtcclxuICAgICAgICByZXR1cm4gbmV3IHRoaXMuX2J1ZmZlclR5cGUoY291bnQgKiB0aGlzLl9jb21wb25lbnRDb3VudCAqIHRoaXMuX2FycmF5U2l6ZSk7XHJcbiAgICB9XHJcbiAgICBnZXQoaW5kZXgsIG91dCA9IHRoaXMuY3JlYXRlQXJyYXkoKSkge1xyXG4gICAgICAgIGlmIChvdXQubGVuZ3RoICUgdGhpcy5fY29tcG9uZW50Q291bnQgIT09IDApIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBvdXQubGVuZ3RoLCAke291dC5sZW5ndGh9IGlzIG5vdCBhIG11bHRpcGxlIG9mIHRoZSBhdHRyaWJ1dGUgdmVjdG9yIGNvbXBvbmVudHMsICR7dGhpcy5fY29tcG9uZW50Q291bnR9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGRlc3QgPSB0aGlzLl90ZW1wQnVmZmVyR2V0dGVyKG91dC5sZW5ndGgpO1xyXG4gICAgICAgIGNvbnN0IGVsZW1lbnRTaXplID0gdGhpcy5fYnVmZmVyVHlwZS5CWVRFU19QRVJfRUxFTUVOVDtcclxuICAgICAgICBjb25zdCBkZXN0U2l6ZSA9IGVsZW1lbnRTaXplICogb3V0Lmxlbmd0aDtcclxuICAgICAgICBjb25zdCBzcmNGb3JtYXRTaXplID0gdGhpcy5fZm9ybWF0U2l6ZSAqIHRoaXMuX2FycmF5U2l6ZTtcclxuICAgICAgICBjb25zdCBkZXN0Rm9ybWF0U2l6ZSA9IHRoaXMuX2NvbXBvbmVudENvdW50ICogZWxlbWVudFNpemUgKiB0aGlzLl9hcnJheVNpemU7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX21lc2hfZ2V0X2F0dHJpYnV0ZV92YWx1ZXModGhpcy5fYXR0cmlidXRlLCBzcmNGb3JtYXRTaXplLCB0aGlzLl9vZmZzZXQgKyBpbmRleCAqIHRoaXMuX3N0cmlkZSwgdGhpcy5fc3RyaWRlLCBkZXN0Rm9ybWF0U2l6ZSwgZGVzdC5ieXRlT2Zmc2V0LCBkZXN0U2l6ZSk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvdXQubGVuZ3RoOyArK2kpXHJcbiAgICAgICAgICAgIG91dFtpXSA9IGRlc3RbaV07XHJcbiAgICAgICAgcmV0dXJuIG91dDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IGF0dHJpYnV0ZSBlbGVtZW50LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBpIEluZGV4XHJcbiAgICAgKiBAcGFyYW0gdiBWYWx1ZSB0byBzZXQgdGhlIGVsZW1lbnQgdG9cclxuICAgICAqXHJcbiAgICAgKiBgdi5sZW5ndGhgIG5lZWRzIHRvIGJlIGEgbXVsdGlwbGUgb2YgdGhlIGF0dHJpYnV0ZXMgY29tcG9uZW50IGNvdW50LCBzZWVcclxuICAgICAqIHtAbGluayBNZXNoQXR0cmlidXRlfS4gSWYgYHYubGVuZ3RoYCBpcyBtb3JlIHRoYW4gb25lIG11bHRpcGxlLCBpdCB3aWxsIGJlXHJcbiAgICAgKiBmaWxsZWQgd2l0aCB0aGUgbmV4dCBuIGF0dHJpYnV0ZSBlbGVtZW50cywgd2hpY2ggY2FuIHJlZHVjZSBvdmVyaGVhZFxyXG4gICAgICogb2YgdGhpcyBjYWxsLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKVxyXG4gICAgICovXHJcbiAgICBzZXQoaSwgdikge1xyXG4gICAgICAgIGlmICh2Lmxlbmd0aCAlIHRoaXMuX2NvbXBvbmVudENvdW50ICE9PSAwKVxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYG91dC5sZW5ndGgsICR7di5sZW5ndGh9IGlzIG5vdCBhIG11bHRpcGxlIG9mIHRoZSBhdHRyaWJ1dGUgdmVjdG9yIGNvbXBvbmVudHMsICR7dGhpcy5fY29tcG9uZW50Q291bnR9YCk7XHJcbiAgICAgICAgY29uc3QgZWxlbWVudFNpemUgPSB0aGlzLl9idWZmZXJUeXBlLkJZVEVTX1BFUl9FTEVNRU5UO1xyXG4gICAgICAgIGNvbnN0IHNyY1NpemUgPSBlbGVtZW50U2l6ZSAqIHYubGVuZ3RoO1xyXG4gICAgICAgIGNvbnN0IHNyY0Zvcm1hdFNpemUgPSB0aGlzLl9jb21wb25lbnRDb3VudCAqIGVsZW1lbnRTaXplICogdGhpcy5fYXJyYXlTaXplO1xyXG4gICAgICAgIGNvbnN0IGRlc3RGb3JtYXRTaXplID0gdGhpcy5fZm9ybWF0U2l6ZSAqIHRoaXMuX2FycmF5U2l6ZTtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgLyogVW5sZXNzIHdlIGFyZSBhbHJlYWR5IHdvcmtpbmcgd2l0aCBkYXRhIGZyb20gV0FTTSBoZWFwLCB3ZVxyXG4gICAgICAgICAqIG5lZWQgdG8gY29weSBpbnRvIHRlbXBvcmFyeSBtZW1vcnkuICovXHJcbiAgICAgICAgaWYgKHYuYnVmZmVyICE9IHdhc20uSEVBUFU4LmJ1ZmZlcikge1xyXG4gICAgICAgICAgICBjb25zdCBkZXN0ID0gdGhpcy5fdGVtcEJ1ZmZlckdldHRlcih2Lmxlbmd0aCk7XHJcbiAgICAgICAgICAgIGRlc3Quc2V0KHYpO1xyXG4gICAgICAgICAgICB2ID0gZGVzdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgd2FzbS5fd2xfbWVzaF9zZXRfYXR0cmlidXRlX3ZhbHVlcyh0aGlzLl9hdHRyaWJ1dGUsIHNyY0Zvcm1hdFNpemUsIHYuYnl0ZU9mZnNldCwgc3JjU2l6ZSwgZGVzdEZvcm1hdFNpemUsIHRoaXMuX29mZnNldCArIGkgKiB0aGlzLl9zdHJpZGUsIHRoaXMuX3N0cmlkZSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIFdyYXBwZXIgYXJvdW5kIGEgbmF0aXZlIG1hdGVyaWFsLlxyXG4gKlxyXG4gKiBFYWNoIG1hdGVyaWFsIGluc3RhbmNlIHdpbGwgaGF2ZSBwcm9wZXJ0aWVzIGFzc29jaWF0ZWQgdG8gdGhlIHBpcGVsaW5lIGl0IHVzZXMuXHJcbiAqIFRoZSBtYXRlcmlhbCBwcm9wZXJ0aWVzIGFyZSBhdXRvbWF0aWNhbGx5IGFkZGVkIHRvIGVhY2ggbWF0ZXJpYWwgaW5zdGFuY2UsIGV4YW1wbGU6XHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIGNvbnN0IG1hdGVyaWFsID0gbWVzaC5tYXRlcmlhbDsgLy8gTWF0ZXJpYWwgd2l0aCBhIGBQaG9uZyBPcGFxdWUgVGV4dHVyZWRgIHBpcGVsaW5lXHJcbiAqIC8vIFlvdSBjYW4gYWNjZXNzIGFsbCB0aGUgbWF0ZXJpYWwgcHJvcGVydGllcyBmcm9tIHRoZSBlZGl0b3IgdXNpbmc6XHJcbiAqIG1hdGVyaWFsLmRpZmZ1c2VUZXh0dXJlID0gbnVsbDtcclxuICogbWF0ZXJpYWwuZGlmZnVzZUNvbG9yID0gWzEuMCwgMC4wLCAwLjAsIDEuMF07XHJcbiAqIGBgYFxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIE1hdGVyaWFsIHtcclxuICAgIC8qKlxyXG4gICAgICogSW5kZXggb2YgdGhpcyBtYXRlcmlhbCBpbiB0aGUgbWFuYWdlci5cclxuICAgICAqXHJcbiAgICAgKiBAaGlkZGVuXHJcbiAgICAgKi9cclxuICAgIF9pbmRleDtcclxuICAgIC8qKlxyXG4gICAgICogTWF0ZXJpYWwgZGVmaW5pdGlvbiBpbmRleCBpbiB0aGUgc2NlbmUuXHJcbiAgICAgKlxyXG4gICAgICogQGhpZGRlblxyXG4gICAgICovXHJcbiAgICBfZGVmaW5pdGlvbjtcclxuICAgIC8qKiBXb25kZXJsYW5kIEVuZ2luZSBpbnN0YW5jZS4gQGhpZGRlbiAqL1xyXG4gICAgX2VuZ2luZTtcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGEgbmV3IE1hdGVyaWFsLlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIENyZWF0aW5nIG1hdGVyaWFsIGlzIGV4cGVuc2l2ZS4gUGxlYXNlIHVzZSB7QGxpbmsgTWF0ZXJpYWwjY2xvbmV9IHRvIGNsb25lIGEgbWF0ZXJpYWwuXHJcbiAgICAgKiBAbm90ZSBEbyBub3QgdXNlIHRoaXMgY29uc3RydWN0b3IgZGlyZWN0bHkgd2l0aCBhbiBpbmRleCwgdGhpcyBpcyByZXNlcnZlZCBmb3IgaW50ZXJuYWwgcHVycG9zZXMuXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKGVuZ2luZSwgcGFyYW1zKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lID0gZW5naW5lO1xyXG4gICAgICAgIGlmICh0eXBlb2YgcGFyYW1zICE9PSAnbnVtYmVyJykge1xyXG4gICAgICAgICAgICBpZiAoIXBhcmFtcz8ucGlwZWxpbmUpXHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIHBhcmFtZXRlciAncGlwZWxpbmUnXCIpO1xyXG4gICAgICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgICAgIGNvbnN0IHBpcGVsaW5lID0gcGFyYW1zLnBpcGVsaW5lO1xyXG4gICAgICAgICAgICB0aGlzLl9pbmRleCA9IHdhc20uX3dsX21hdGVyaWFsX2NyZWF0ZSh3YXNtLnRlbXBVVEY4KHBpcGVsaW5lKSk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9pbmRleCA8IDApXHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIHN1Y2ggcGlwZWxpbmUgJyR7cGlwZWxpbmV9J2ApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5faW5kZXggPSBwYXJhbXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2RlZmluaXRpb24gPSB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbWF0ZXJpYWxfZ2V0X2RlZmluaXRpb24odGhpcy5faW5kZXgpO1xyXG4gICAgICAgIGlmICghdGhpcy5fZW5naW5lLndhc20uX21hdGVyaWFsRGVmaW5pdGlvbnNbdGhpcy5fZGVmaW5pdGlvbl0pXHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTWF0ZXJpYWwgRGVmaW5pdGlvbiAke3RoaXMuX2RlZmluaXRpb259IG5vdCBmb3VuZCBmb3IgbWF0ZXJpYWwgd2l0aCBpbmRleCAke3RoaXMuX2luZGV4fWApO1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJveHkodGhpcywge1xyXG4gICAgICAgICAgICBnZXQodGFyZ2V0LCBwcm9wKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB3YXNtID0gZW5naW5lLndhc207XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkZWZpbml0aW9uID0gd2FzbS5fbWF0ZXJpYWxEZWZpbml0aW9uc1t0YXJnZXQuX2RlZmluaXRpb25dO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGFyYW0gPSBkZWZpbml0aW9uLmdldChwcm9wKTtcclxuICAgICAgICAgICAgICAgIGlmICghcGFyYW0pXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldFtwcm9wXTtcclxuICAgICAgICAgICAgICAgIGlmICh3YXNtLl93bF9tYXRlcmlhbF9nZXRfcGFyYW1fdmFsdWUodGFyZ2V0Ll9pbmRleCwgcGFyYW0uaW5kZXgsIHdhc20uX3RlbXBNZW0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdHlwZSA9IHBhcmFtLnR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0eXBlLnR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBNYXRlcmlhbFBhcmFtVHlwZS5VbnNpZ25lZEludDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0eXBlLmNvbXBvbmVudENvdW50ID09IDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHdhc20uX3RlbXBNZW1VaW50MzJbMF1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG5ldyBVaW50MzJBcnJheSh3YXNtLkhFQVBVMzIuYnVmZmVyLCB3YXNtLl90ZW1wTWVtLCB0eXBlLmNvbXBvbmVudENvdW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBNYXRlcmlhbFBhcmFtVHlwZS5JbnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHlwZS5jb21wb25lbnRDb3VudCA9PSAxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB3YXNtLl90ZW1wTWVtSW50WzBdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBuZXcgSW50MzJBcnJheSh3YXNtLkhFQVAzMi5idWZmZXIsIHdhc20uX3RlbXBNZW0sIHR5cGUuY29tcG9uZW50Q291bnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIE1hdGVyaWFsUGFyYW1UeXBlLkZsb2F0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR5cGUuY29tcG9uZW50Q291bnQgPT0gMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gd2FzbS5fdGVtcE1lbUZsb2F0WzBdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBuZXcgRmxvYXQzMkFycmF5KHdhc20uSEVBUEYzMi5idWZmZXIsIHdhc20uX3RlbXBNZW0sIHR5cGUuY29tcG9uZW50Q291bnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIE1hdGVyaWFsUGFyYW1UeXBlLlNhbXBsZXI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZW5naW5lLnRleHR1cmVzLndyYXAod2FzbS5fdGVtcE1lbUludFswXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgdHlwZSAke3R5cGUudHlwZX0gb24gcGFyYW1ldGVyICR7cGFyYW0uaW5kZXh9IGZvciBtYXRlcmlhbCAke3RhcmdldC5faW5kZXh9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQodGFyZ2V0LCBwcm9wLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgd2FzbSA9IGVuZ2luZS53YXNtO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGVmaW5pdGlvbiA9IHdhc20uX21hdGVyaWFsRGVmaW5pdGlvbnNbdGFyZ2V0Ll9kZWZpbml0aW9uXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmFtID0gZGVmaW5pdGlvbi5nZXQocHJvcCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXBhcmFtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0W3Byb3BdID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0eXBlID0gcGFyYW0udHlwZTtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAodHlwZS50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBNYXRlcmlhbFBhcmFtVHlwZS5VbnNpZ25lZEludDpcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIE1hdGVyaWFsUGFyYW1UeXBlLkludDpcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIE1hdGVyaWFsUGFyYW1UeXBlLlNhbXBsZXI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHYgPSB2YWx1ZS5pZCA/PyB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2FzbS5fd2xfbWF0ZXJpYWxfc2V0X3BhcmFtX3ZhbHVlX3VpbnQodGFyZ2V0Ll9pbmRleCwgcGFyYW0uaW5kZXgsIHYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIE1hdGVyaWFsUGFyYW1UeXBlLkZsb2F0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY291bnQgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0WzBdID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudCA9IHZhbHVlLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7ICsraSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXRbaV0gPSB2YWx1ZVtpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXNtLl93bF9tYXRlcmlhbF9zZXRfcGFyYW1fdmFsdWVfZmxvYXQodGFyZ2V0Ll9pbmRleCwgcGFyYW0uaW5kZXgsIHdhc20uX3RlbXBNZW0sIGNvdW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBNYXRlcmlhbFBhcmFtVHlwZS5Gb250OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NldHRpbmcgZm9udCBwcm9wZXJ0aWVzIGlzIGN1cnJlbnRseSB1bnN1cHBvcnRlZC4nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqIEBkZXByZWNhdGVkIFVzZSB7QGxpbmsgI3BpcGVsaW5lfSBpbnN0ZWFkLiAqL1xyXG4gICAgZ2V0IHNoYWRlcigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5waXBlbGluZTtcclxuICAgIH1cclxuICAgIC8qKiBOYW1lIG9mIHRoZSBwaXBlbGluZSB1c2VkIGJ5IHRoaXMgbWF0ZXJpYWwuICovXHJcbiAgICBnZXQgcGlwZWxpbmUoKSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIHJldHVybiB3YXNtLlVURjhUb1N0cmluZyh3YXNtLl93bF9tYXRlcmlhbF9nZXRfcGlwZWxpbmUodGhpcy5faW5kZXgpKTtcclxuICAgIH1cclxuICAgIC8qKiBIb3N0aW5nIGVuZ2luZSBpbnN0YW5jZS4gKi9cclxuICAgIGdldCBlbmdpbmUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGEgY29weSBvZiB0aGUgdW5kZXJseWluZyBuYXRpdmUgbWF0ZXJpYWwuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgTWF0ZXJpYWwgY2xvbmUuXHJcbiAgICAgKi9cclxuICAgIGNsb25lKCkge1xyXG4gICAgICAgIGNvbnN0IGlkID0gdGhpcy5fZW5naW5lLndhc20uX3dsX21hdGVyaWFsX2Nsb25lKHRoaXMuX2luZGV4KTtcclxuICAgICAgICByZXR1cm4gaWQgPiAwID8gbmV3IE1hdGVyaWFsKHRoaXMuX2VuZ2luZSwgaWQpIDogbnVsbDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIGVxdWFsaXR5IGJ5IGNvbXBhcmluZyB3aGV0aGVyIHRoZSB3cmFwcGVkIG5hdGl2ZSBtYXRlcmlhbCBpZHMgYXJlXHJcbiAgICAgKiBlcXVhbC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gb3RoZXJNYXRlcmlhbCBNYXRlcmlhbCB0byBjaGVjayBlcXVhbGl0eSB3aXRoLlxyXG4gICAgICogQHJldHVybnMgV2hldGhlciB0aGlzIG1hdGVyaWFsIGVxdWFscyB0aGUgZ2l2ZW4gbWF0ZXJpYWwuXHJcbiAgICAgKlxyXG4gICAgICogQHNpbmNlIDEuMC4wXHJcbiAgICAgKi9cclxuICAgIGVxdWFscyhvdGhlck1hdGVyaWFsKSB7XHJcbiAgICAgICAgaWYgKCFvdGhlck1hdGVyaWFsKVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luZGV4ID09PSBvdGhlck1hdGVyaWFsLl9pbmRleDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogV3JhcCBhIG5hdGl2ZSBtYXRlcmlhbCBpbmRleC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gZW5naW5lIEVuZ2luZSBpbnN0YW5jZS5cclxuICAgICAqIEBwYXJhbSBpbmRleCBUaGUgaW5kZXguXHJcbiAgICAgKiBAcmV0dXJucyBNYXRlcmlhbCBpbnN0YW5jZSBvciBgbnVsbGAgaWYgaW5kZXggPD0gMC5cclxuICAgICAqXHJcbiAgICAgKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIGBuZXcgTWF0ZXJpYWwoKWAgaW5zdGVhZC5cclxuICAgICAqL1xyXG4gICAgc3RhdGljIHdyYXAoZW5naW5lLCBpbmRleCkge1xyXG4gICAgICAgIC8qKiBAdG9kbzogdGhpcyBwcm9wYWdhdGUgbnVsbGFibGUgaW4gdGhlIGVudGlyZSBjb2RlYmFzZS4gUmVtb3ZlLiAqL1xyXG4gICAgICAgIHJldHVybiBpbmRleCA+IDAgPyBuZXcgTWF0ZXJpYWwoZW5naW5lLCBpbmRleCkgOiBudWxsO1xyXG4gICAgfVxyXG59XHJcbi8qKiBUZW1wb3JhcnkgY2FudmFzICovXHJcbmxldCB0ZW1wMmQgPSBudWxsO1xyXG4vKipcclxuICogV3JhcHBlciBhcm91bmQgYSBuYXRpdmUgdGV4dHVyZSBkYXRhLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFRleHR1cmUge1xyXG4gICAgLyoqIFdvbmRlcmxhbmQgRW5naW5lIGluc3RhbmNlLiBAaGlkZGVuICovXHJcbiAgICBfZW5naW5lO1xyXG4gICAgLyoqIEluZGV4IGluIHRoZSBtYW5hZ2VyLiBAaGlkZGVuICovXHJcbiAgICBfaWQgPSAwO1xyXG4gICAgLyoqIEhUTUwgaW1hZ2UgaW5kZXguIEBoaWRkZW4gKi9cclxuICAgIF9pbWFnZUluZGV4ID0gbnVsbDtcclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIGVuZ2luZSBUaGUgZW5naW5lIGluc3RhbmNlXHJcbiAgICAgKiBAcGFyYW0gcGFyYW0gSFRNTCBtZWRpYSBlbGVtZW50IHRvIGNyZWF0ZSB0ZXh0dXJlIGZyb20gb3IgdGV4dHVyZSBpZCB0byB3cmFwLlxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihlbmdpbmUsIHBhcmFtKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lID0gZW5naW5lID8/IFdMO1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSBlbmdpbmUud2FzbTtcclxuICAgICAgICBpZiAocGFyYW0gaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50IHx8XHJcbiAgICAgICAgICAgIHBhcmFtIGluc3RhbmNlb2YgSFRNTFZpZGVvRWxlbWVudCB8fFxyXG4gICAgICAgICAgICBwYXJhbSBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gd2FzbS5faW1hZ2VzLmxlbmd0aDtcclxuICAgICAgICAgICAgd2FzbS5faW1hZ2VzLnB1c2gocGFyYW0pO1xyXG4gICAgICAgICAgICB0aGlzLl9pbWFnZUluZGV4ID0gaW5kZXg7XHJcbiAgICAgICAgICAgIHRoaXMuX2lkID0gdGhpcy5fZW5naW5lLndhc20uX3dsX3JlbmRlcmVyX2FkZEltYWdlKGluZGV4KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2lkID0gcGFyYW07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2VuZ2luZS50ZXh0dXJlcy5fc2V0KHRoaXMpO1xyXG4gICAgfVxyXG4gICAgLyoqIFdoZXRoZXIgdGhpcyB0ZXh0dXJlIGlzIHZhbGlkLiAqL1xyXG4gICAgZ2V0IHZhbGlkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pZCA+PSAwO1xyXG4gICAgfVxyXG4gICAgLyoqIEluZGV4IGluIHRoaXMgbWFuYWdlci4gKi9cclxuICAgIGdldCBpZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faWQ7XHJcbiAgICB9XHJcbiAgICAvKiogVXBkYXRlIHRoZSB0ZXh0dXJlIHRvIG1hdGNoIHRoZSBIVE1MIGVsZW1lbnQgKGUuZy4gcmVmbGVjdCB0aGUgY3VycmVudCBmcmFtZSBvZiBhIHZpZGVvKS4gKi9cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMudmFsaWQgfHwgdGhpcy5faW1hZ2VJbmRleCA9PT0gbnVsbClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9yZW5kZXJlcl91cGRhdGVJbWFnZSh0aGlzLl9pZCwgdGhpcy5faW1hZ2VJbmRleCk7XHJcbiAgICB9XHJcbiAgICAvKiogV2lkdGggb2YgdGhlIHRleHR1cmUuICovXHJcbiAgICBnZXQgd2lkdGgoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF90ZXh0dXJlX3dpZHRoKHRoaXMuX2lkKTtcclxuICAgIH1cclxuICAgIC8qKiBIZWlnaHQgb2YgdGhlIHRleHR1cmUuICovXHJcbiAgICBnZXQgaGVpZ2h0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfdGV4dHVyZV9oZWlnaHQodGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqIEhvc3RpbmcgZW5naW5lIGluc3RhbmNlLiAqL1xyXG4gICAgZ2V0IGVuZ2luZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBVcGRhdGUgYSBzdWJyYW5nZSBvbiB0aGUgdGV4dHVyZSB0byBtYXRjaCB0aGUgSFRNTCBlbGVtZW50IChlLmcuIHJlZmxlY3QgdGhlIGN1cnJlbnQgZnJhbWUgb2YgYSB2aWRlbykuXHJcbiAgICAgKlxyXG4gICAgICogVXNhZ2U6XHJcbiAgICAgKlxyXG4gICAgICogYGBganNcclxuICAgICAqIC8vIENvcGllcyByZWN0YW5nbGUgb2YgcGl4ZWwgc3RhcnRpbmcgZnJvbSAoMTAsIDIwKVxyXG4gICAgICogdGV4dHVyZS51cGRhdGVTdWJJbWFnZSgxMCwgMjAsIDYwMCwgNDAwKTtcclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB4IHggb2Zmc2V0XHJcbiAgICAgKiBAcGFyYW0geSB5IG9mZnNldFxyXG4gICAgICogQHBhcmFtIHcgd2lkdGhcclxuICAgICAqIEBwYXJhbSBoIGhlaWdodFxyXG4gICAgICovXHJcbiAgICB1cGRhdGVTdWJJbWFnZSh4LCB5LCB3LCBoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnZhbGlkIHx8IHRoaXMuX2ltYWdlSW5kZXggPT09IG51bGwpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAvKiBMYXp5IGluaXRpYWxpemUgdGVtcCBjYW52YXMgKi9cclxuICAgICAgICBpZiAoIXRlbXAyZCkge1xyXG4gICAgICAgICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcclxuICAgICAgICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgICAgIGlmICghY3R4KSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RleHR1cmUudXBkYXRlU3ViSW1hZ2UoKTogRmFpbGVkIHRvIG9idGFpbiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGVtcDJkID0ge1xyXG4gICAgICAgICAgICAgICAgY2FudmFzLFxyXG4gICAgICAgICAgICAgICAgY3R4LFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgY29uc3QgaW1nID0gd2FzbS5faW1hZ2VzW3RoaXMuX2ltYWdlSW5kZXhdO1xyXG4gICAgICAgIGlmICghaW1nKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgdGVtcDJkLmNhbnZhcy53aWR0aCA9IHc7XHJcbiAgICAgICAgdGVtcDJkLmNhbnZhcy5oZWlnaHQgPSBoO1xyXG4gICAgICAgIHRlbXAyZC5jdHguZHJhd0ltYWdlKGltZywgeCwgeSwgdywgaCwgMCwgMCwgdywgaCk7XHJcbiAgICAgICAgY29uc3QgeU9mZnNldCA9IChpbWcudmlkZW9IZWlnaHQgPz8gaW1nLmhlaWdodCkgLSB5IC0gaDtcclxuICAgICAgICB3YXNtLl9pbWFnZXNbdGhpcy5faW1hZ2VJbmRleF0gPSB0ZW1wMmQuY2FudmFzO1xyXG4gICAgICAgIHdhc20uX3dsX3JlbmRlcmVyX3VwZGF0ZUltYWdlKHRoaXMuX2lkLCB0aGlzLl9pbWFnZUluZGV4LCB4LCB5T2Zmc2V0KTtcclxuICAgICAgICB3YXNtLl9pbWFnZXNbdGhpcy5faW1hZ2VJbmRleF0gPSBpbWc7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIERlc3Ryb3kgYW5kIGZyZWUgdGhlIHRleHR1cmUncyB0ZXh0dXJlIGFsdGFzIHNwYWNlIGFuZCBtZW1vcnkuXHJcbiAgICAgKlxyXG4gICAgICogSXQgaXMgYmVzdCBwcmFjdGljZSB0byBzZXQgdGhlIHRleHR1cmUgdmFyaWFibGUgdG8gYG51bGxgIGFmdGVyIGNhbGxpbmdcclxuICAgICAqIGRlc3Ryb3kgdG8gcHJldmVudCBhY2NpZGVudGFsIHVzZSBvZiB0aGUgaW52YWxpZCB0ZXh0dXJlOlxyXG4gICAgICpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiAgIHRleHR1cmUuZGVzdHJveSgpO1xyXG4gICAgICogICB0ZXh0dXJlID0gbnVsbDtcclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIEBzaW5jZSAwLjkuMFxyXG4gICAgICovXHJcbiAgICBkZXN0cm95KCkge1xyXG4gICAgICAgIHRoaXMuZW5naW5lLl9kZXN0cm95VGV4dHVyZSh0aGlzKTtcclxuICAgICAgICB0aGlzLl9pZCA9IC0xO1xyXG4gICAgICAgIHRoaXMuX2ltYWdlSW5kZXggPSBudWxsO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3MgZXF1YWxpdHkgYnkgY29tcGFyaW5nIHdoZXRoZXIgdGhlIHdyYXBwZWQgbmF0aXZlIHRleHR1cmUgaWRzIGFyZVxyXG4gICAgICogZXF1YWwuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG90aGVyVGV4dHVyZSBUZXh0dXJlIHRvIGNoZWNrIGVxdWFsaXR5IHdpdGguXHJcbiAgICAgKiBAcmV0dXJucyBXaGV0aGVyIHRoaXMgdGV4dHVyZSBlcXVhbHMgdGhlIGdpdmVuIHRleHR1cmUuXHJcbiAgICAgKlxyXG4gICAgICogQHNpbmNlIDEuMC4wXHJcbiAgICAgKi9cclxuICAgIGVxdWFscyhvdGhlclRleHR1cmUpIHtcclxuICAgICAgICBpZiAoIW90aGVyVGV4dHVyZSlcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pZCA9PT0gb3RoZXJUZXh0dXJlLl9pZDtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogV3JhcHBlciBhcm91bmQgYSBuYXRpdmUgYW5pbWF0aW9uLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEFuaW1hdGlvbiB7XHJcbiAgICAvKiogSW5kZXggb2YgdGhlIG1lc2ggaW4gdGhlIG1hbmFnZXIuIEBoaWRkZW4gKi9cclxuICAgIF9pbmRleDtcclxuICAgIC8qKiBXb25kZXJsYW5kIEVuZ2luZSBpbnN0YW5jZS4gQGhpZGRlbiAqL1xyXG4gICAgX2VuZ2luZTtcclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIGluZGV4IEluZGV4IGluIHRoZSBtYW5hZ2VyXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKGVuZ2luZSA9IFdMLCBpbmRleCkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZSA9IGVuZ2luZTtcclxuICAgICAgICB0aGlzLl9pbmRleCA9IGluZGV4O1xyXG4gICAgfVxyXG4gICAgLyoqIER1cmF0aW9uIG9mIHRoaXMgYW5pbWF0aW9uLiAqL1xyXG4gICAgZ2V0IGR1cmF0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfYW5pbWF0aW9uX2dldF9kdXJhdGlvbih0aGlzLl9pbmRleCk7XHJcbiAgICB9XHJcbiAgICAvKiogTnVtYmVyIG9mIHRyYWNrcyBpbiB0aGlzIGFuaW1hdGlvbi4gKi9cclxuICAgIGdldCB0cmFja0NvdW50KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfYW5pbWF0aW9uX2dldF90cmFja0NvdW50KHRoaXMuX2luZGV4KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ2xvbmUgdGhpcyBhbmltYXRpb24gcmV0YXJnZXRlZCB0byBhIG5ldyBzZXQgb2Ygb2JqZWN0cy5cclxuICAgICAqXHJcbiAgICAgKiBUaGUgY2xvbmUgc2hhcmVzIG1vc3Qgb2YgdGhlIGRhdGEgd2l0aCB0aGUgb3JpZ2luYWwgYW5kIGlzIHRoZXJlZm9yZVxyXG4gICAgICogbGlnaHQtd2VpZ2h0LlxyXG4gICAgICpcclxuICAgICAqICoqRXhwZXJpbWVudGFsOioqIFRoaXMgQVBJIG1pZ2h0IGNoYW5nZSBpbiB1cGNvbWluZyB2ZXJzaW9ucy5cclxuICAgICAqXHJcbiAgICAgKiBJZiByZXRhcmdldGluZyB0byB7QGxpbmsgU2tpbn0sIHRoZSBqb2luIG5hbWVzIHdpbGwgYmUgdXNlZCB0byBkZXRlcm1pbmUgYSBtYXBwaW5nXHJcbiAgICAgKiBmcm9tIHRoZSBwcmV2aW91cyBza2luIHRvIHRoZSBuZXcgc2tpbi4gVGhlIHNvdXJjZSBza2luIHdpbGwgYmUgcmV0cmlldmVkIGZyb21cclxuICAgICAqIHRoZSBmaXJzdCB0cmFjayBpbiB0aGUgYW5pbWF0aW9uIHRoYXQgdGFyZ2V0cyBhIGpvaW50LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBuZXdUYXJnZXRzIE5ldyB0YXJnZXRzIHBlciB0cmFjay4gRXhwZWN0ZWQgdG8gaGF2ZVxyXG4gICAgICogICAgICB7QGxpbmsgQW5pbWF0aW9uI3RyYWNrQ291bnR9IGVsZW1lbnRzIG9yIHRvIGJlIGEge0BsaW5rIFNraW59LlxyXG4gICAgICogQHJldHVybnMgVGhlIHJldGFyZ2V0ZWQgY2xvbmUgb2YgdGhpcyBhbmltYXRpb24uXHJcbiAgICAgKi9cclxuICAgIHJldGFyZ2V0KG5ld1RhcmdldHMpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgaWYgKG5ld1RhcmdldHMgaW5zdGFuY2VvZiBTa2luKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGFuaW1JZCA9IHdhc20uX3dsX2FuaW1hdGlvbl9yZXRhcmdldFRvU2tpbih0aGlzLl9pbmRleCwgbmV3VGFyZ2V0cy5faW5kZXgpO1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IEFuaW1hdGlvbih0aGlzLl9lbmdpbmUsIGFuaW1JZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChuZXdUYXJnZXRzLmxlbmd0aCAhPSB0aGlzLnRyYWNrQ291bnQpIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ0V4cGVjdGVkICcgK1xyXG4gICAgICAgICAgICAgICAgdGhpcy50cmFja0NvdW50LnRvU3RyaW5nKCkgK1xyXG4gICAgICAgICAgICAgICAgJyB0YXJnZXRzLCBidXQgZ290ICcgK1xyXG4gICAgICAgICAgICAgICAgbmV3VGFyZ2V0cy5sZW5ndGgudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHB0ciA9IHdhc20uX21hbGxvYygyICogbmV3VGFyZ2V0cy5sZW5ndGgpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmV3VGFyZ2V0cy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICB3YXNtLkhFQVBVMTZbcHRyID4+ICgxICsgaSldID0gbmV3VGFyZ2V0c1tpXS5vYmplY3RJZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgYW5pbUlkID0gd2FzbS5fd2xfYW5pbWF0aW9uX3JldGFyZ2V0KHRoaXMuX2luZGV4LCBwdHIpO1xyXG4gICAgICAgIHdhc20uX2ZyZWUocHRyKTtcclxuICAgICAgICByZXR1cm4gbmV3IEFuaW1hdGlvbih0aGlzLl9lbmdpbmUsIGFuaW1JZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENoZWNrcyBlcXVhbGl0eSBieSBjb21wYXJpbmcgd2hldGhlciB0aGUgd3JhcHBlZCBuYXRpdmUgYW5pbWF0aW9uIGlkc1xyXG4gICAgICogYXJlIGVxdWFsLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBvdGhlckFuaW1hdGlvbiBBbmltYXRpb24gdG8gY2hlY2sgZXF1YWxpdHkgd2l0aC5cclxuICAgICAqIEByZXR1cm5zIFdoZXRoZXIgdGhpcyBhbmltYXRpb24gZXF1YWxzIHRoZSBnaXZlbiBhbmltYXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHNpbmNlIDEuMC4wXHJcbiAgICAgKi9cclxuICAgIGVxdWFscyhvdGhlckFuaW1hdGlvbikge1xyXG4gICAgICAgIGlmICghb3RoZXJBbmltYXRpb24pXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICByZXR1cm4gdGhpcy5faW5kZXggPT09IG90aGVyQW5pbWF0aW9uLl9pbmRleDtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogU2NlbmUgZ3JhcGggb2JqZWN0LlxyXG4gKlxyXG4gKiBOb2RlIGluIHRoZSBzY2VuZSBncmFwaCBvciBcImVudGl0eVwiLiBDb25zaXN0cyBvZiB0cmFuc2Zvcm1hdGlvbiBhbmQgYSByZWZlcmVuY2VcclxuICogdG8gaXRzIHBhcmVudCBvYmplY3QuIFVzdWFsbHkgaG9sZHMgY29tcG9uZW50cyBhbmQgaXMgYWNjZXNzaWJsZSBieSBjb21wb25lbnRzXHJcbiAqIHRocm91Z2gge0BsaW5rIENvbXBvbmVudCNvYmplY3R9LlxyXG4gKlxyXG4gKiBPYmplY3RzIGFyZSBzdG9yZWQgaW4gYSBkYXRhIG9yaWVudGVkIG1hbm5lciBpbnNpZGUgV2ViQXNzZW1ibHkgbWVtb3J5LiBUaGlzIGNsYXNzXHJcbiAqIGlzIGEgSmF2YVNjcmlwdCBBUEkgd3JhcHBlciBhcm91bmQgdGhpcyBtZW1vcnkgZm9yIG1vcmUgY29udmVuaWVudCB1c2UgaW5cclxuICogY29tcG9uZW50cy5cclxuICpcclxuICogT2JqZWN0cyBjYW4gYmUgY3JlYXRlZCBhbmQgYWRkZWQgdG8gYSBzY2VuZSB0aHJvdWdoXHJcbiAqIHtAbGluayBTY2VuZSNhZGRPYmplY3R9IG9uIHRoZSB7QGxpbmsgV29uZGVybGFuZEVuZ2luZS5zY2VuZX0uXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgT2JqZWN0M0Qge1xyXG4gICAgLyoqXHJcbiAgICAgKiBPYmplY3QgaW5kZXggaW4gdGhlIG1hbmFnZXIuXHJcbiAgICAgKlxyXG4gICAgICogQGhpZGRlblxyXG4gICAgICovXHJcbiAgICBfb2JqZWN0SWQgPSAtMTtcclxuICAgIC8qKiBXb25kZXJsYW5kIEVuZ2luZSBpbnN0YW5jZS4gQGhpZGRlbiAqL1xyXG4gICAgX2VuZ2luZTtcclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIG8gT2JqZWN0IGlkIHRvIHdyYXBcclxuICAgICAqXHJcbiAgICAgKiBGb3IgcGVyZm9ybWFuY2UgcmVhc29ucywgcGxlYXNlIHVzZSB7QGxpbmsgV29uZGVybGFuZEVuZ2luZS53cmFwT2JqZWN0fVxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihlbmdpbmUsIG8pIHtcclxuICAgICAgICB0aGlzLl9vYmplY3RJZCA9IG87XHJcbiAgICAgICAgdGhpcy5fZW5naW5lID0gZW5naW5lO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBOYW1lIG9mIHRoZSBvYmplY3QuXHJcbiAgICAgKlxyXG4gICAgICogVXNlZnVsIGZvciBpZGVudGlmeWluZyBvYmplY3RzIGR1cmluZyBkZWJ1Z2dpbmcuXHJcbiAgICAgKi9cclxuICAgIGdldCBuYW1lKCkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICByZXR1cm4gd2FzbS5VVEY4VG9TdHJpbmcod2FzbS5fd2xfb2JqZWN0X25hbWUodGhpcy5vYmplY3RJZCkpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgdGhlIG9iamVjdCdzIG5hbWUuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG5ld05hbWUgVGhlIG5ldyBuYW1lIHRvIHNldC5cclxuICAgICAqL1xyXG4gICAgc2V0IG5hbWUobmV3TmFtZSkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICB3YXNtLl93bF9vYmplY3Rfc2V0X25hbWUodGhpcy5vYmplY3RJZCwgd2FzbS50ZW1wVVRGOChuZXdOYW1lKSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFBhcmVudCBvZiB0aGlzIG9iamVjdCBvciBgbnVsbGAgaWYgcGFyZW50ZWQgdG8gcm9vdC5cclxuICAgICAqL1xyXG4gICAgZ2V0IHBhcmVudCgpIHtcclxuICAgICAgICBjb25zdCBwID0gdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9wYXJlbnQodGhpcy5vYmplY3RJZCk7XHJcbiAgICAgICAgcmV0dXJuIHAgPT09IDAgPyBudWxsIDogdGhpcy5fZW5naW5lLndyYXBPYmplY3QocCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENoaWxkcmVuIG9mIHRoaXMgb2JqZWN0LlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIENoaWxkIG9yZGVyIGlzICoqdW5kZWZpbmVkKiouIE5vIGFzc3VtcHRpb25zIHNob3VsZCBiZSBtYWRlXHJcbiAgICAgKiBhYm91dCB0aGUgaW5kZXggb2YgYSBzcGVjaWZpYyBvYmplY3QuXHJcbiAgICAgKlxyXG4gICAgICogSWYgeW91IG5lZWQgdG8gYWNjZXNzIGEgc3BlY2lmaWMgY2hpbGQgb2YgdGhpcyBvYmplY3QsIHlvdSBjYW5cclxuICAgICAqIHVzZSB7QGxpbmsgT2JqZWN0M0QuZmluZEJ5TmFtZX0uXHJcbiAgICAgKlxyXG4gICAgICogV2hlbiB0aGUgb2JqZWN0IGV4aXN0cyBpbiB0aGUgc2NlbmUgYXQgZWRpdG9yIHRpbWUsIHByZWZlciBwYXNzaW5nIGl0IGFzXHJcbiAgICAgKiBhIGNvbXBvbmVudCBwcm9wZXJ0eS5cclxuICAgICAqL1xyXG4gICAgZ2V0IGNoaWxkcmVuKCkge1xyXG4gICAgICAgIGNvbnN0IGNoaWxkcmVuQ291bnQgPSB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X2dldF9jaGlsZHJlbl9jb3VudCh0aGlzLm9iamVjdElkKTtcclxuICAgICAgICBpZiAoY2hpbGRyZW5Db3VudCA9PT0gMClcclxuICAgICAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICB3YXNtLnJlcXVpcmVUZW1wTWVtKGNoaWxkcmVuQ291bnQgKiAyKTtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X2dldF9jaGlsZHJlbih0aGlzLm9iamVjdElkLCB3YXNtLl90ZW1wTWVtLCB3YXNtLl90ZW1wTWVtU2l6ZSA+PiAxKTtcclxuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IG5ldyBBcnJheShjaGlsZHJlbkNvdW50KTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuQ291bnQ7ICsraSkge1xyXG4gICAgICAgICAgICBjaGlsZHJlbltpXSA9IHRoaXMuX2VuZ2luZS53cmFwT2JqZWN0KHdhc20uX3RlbXBNZW1VaW50MTZbaV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY2hpbGRyZW47XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlcGFyZW50IG9iamVjdCB0byBnaXZlbiBvYmplY3QuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgUmVwYXJlbnRpbmcgaXMgbm90IHRyaXZpYWwgYW5kIG1pZ2h0IGhhdmUgYSBub3RpY2VhYmxlIHBlcmZvcm1hbmNlIGltcGFjdC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gbmV3UGFyZW50IE5ldyBwYXJlbnQgb3IgYG51bGxgIHRvIHBhcmVudCB0byByb290XHJcbiAgICAgKi9cclxuICAgIHNldCBwYXJlbnQobmV3UGFyZW50KSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9zZXRfcGFyZW50KHRoaXMub2JqZWN0SWQsIG5ld1BhcmVudCA9PSBudWxsID8gMCA6IG5ld1BhcmVudC5vYmplY3RJZCk7XHJcbiAgICB9XHJcbiAgICAvKiogT2JqZWN0IGluZGV4IGluIHRoZSBtYW5hZ2VyLiAqL1xyXG4gICAgZ2V0IG9iamVjdElkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9vYmplY3RJZDtcclxuICAgIH1cclxuICAgIC8qKiBIb3N0aW5nIGVuZ2luZSBpbnN0YW5jZS4gKi9cclxuICAgIGdldCBlbmdpbmUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmVzZXQgbG9jYWwgdHJhbnNmb3JtYXRpb24gKHRyYW5zbGF0aW9uLCByb3RhdGlvbiBhbmQgc2NhbGluZykgdG8gaWRlbnRpdHkuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxyXG4gICAgICovXHJcbiAgICByZXNldFRyYW5zZm9ybSgpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3Jlc2V0X3RyYW5zbGF0aW9uX3JvdGF0aW9uKHRoaXMub2JqZWN0SWQpO1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3RfcmVzZXRfc2NhbGluZyh0aGlzLm9iamVjdElkKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmVzZXQgbG9jYWwgcG9zaXRpb24gYW5kIHJvdGF0aW9uIHRvIGlkZW50aXR5LlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cclxuICAgICAqL1xyXG4gICAgcmVzZXRQb3NpdGlvblJvdGF0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3RfcmVzZXRfdHJhbnNsYXRpb25fcm90YXRpb24odGhpcy5vYmplY3RJZCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICAvKiogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSB7QGxpbmsgT2JqZWN0M0QucmVzZXRQb3NpdGlvblJvdGF0aW9ufSBpbnN0ZWFkLiAqL1xyXG4gICAgcmVzZXRUcmFuc2xhdGlvblJvdGF0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJlc2V0UG9zaXRpb25Sb3RhdGlvbigpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXNldCBsb2NhbCByb3RhdGlvbiwga2VlcCB0cmFuc2xhdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBUbyByZXNldCBib3RoIHJvdGF0aW9uIGFuZCB0cmFuc2xhdGlvbiwgcHJlZmVyXHJcbiAgICAgKiAgICAgICB7QGxpbmsgcmVzZXRUcmFuc2xhdGlvblJvdGF0aW9ufS5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXHJcbiAgICAgKi9cclxuICAgIHJlc2V0Um90YXRpb24oKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9yZXNldF9yb3RhdGlvbih0aGlzLm9iamVjdElkKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmVzZXQgbG9jYWwgdHJhbnNsYXRpb24sIGtlZXAgcm90YXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgVG8gcmVzZXQgYm90aCByb3RhdGlvbiBhbmQgdHJhbnNsYXRpb24sIHByZWZlclxyXG4gICAgICogICAgICAge0BsaW5rIHJlc2V0VHJhbnNsYXRpb25Sb3RhdGlvbn0uXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxyXG4gICAgICovXHJcbiAgICByZXNldFBvc2l0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3RfcmVzZXRfdHJhbnNsYXRpb24odGhpcy5vYmplY3RJZCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICAvKiogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSB7QGxpbmsgT2JqZWN0M0QucmVzZXRQb3NpdGlvbn0gaW5zdGVhZC4gKi9cclxuICAgIHJlc2V0VHJhbnNsYXRpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzZXRQb3NpdGlvbigpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXNldCBsb2NhbCBzY2FsaW5nIHRvIGlkZW50aXR5IChgYFsxLjAsIDEuMCwgMS4wXWBgKS5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXHJcbiAgICAgKi9cclxuICAgIHJlc2V0U2NhbGluZygpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3Jlc2V0X3NjYWxpbmcodGhpcy5vYmplY3RJZCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICAvKiogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSB7QGxpbmsgT2JqZWN0M0QudHJhbnNsYXRlTG9jYWx9IGluc3RlYWQuICovXHJcbiAgICB0cmFuc2xhdGUodikge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zbGF0ZUxvY2FsKHYpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUcmFuc2xhdGUgb2JqZWN0IGJ5IGEgdmVjdG9yIGluIHRoZSBwYXJlbnQncyBzcGFjZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdiBWZWN0b3IgdG8gdHJhbnNsYXRlIGJ5LlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cclxuICAgICAqL1xyXG4gICAgdHJhbnNsYXRlTG9jYWwodikge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3RfdHJhbnNsYXRlKHRoaXMub2JqZWN0SWQsIHZbMF0sIHZbMV0sIHZbMl0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUcmFuc2xhdGUgb2JqZWN0IGJ5IGEgdmVjdG9yIGluIG9iamVjdCBzcGFjZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdiBWZWN0b3IgdG8gdHJhbnNsYXRlIGJ5LlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cclxuICAgICAqL1xyXG4gICAgdHJhbnNsYXRlT2JqZWN0KHYpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3RyYW5zbGF0ZV9vYmoodGhpcy5vYmplY3RJZCwgdlswXSwgdlsxXSwgdlsyXSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFRyYW5zbGF0ZSBvYmplY3QgYnkgYSB2ZWN0b3IgaW4gd29ybGQgc3BhY2UuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHYgVmVjdG9yIHRvIHRyYW5zbGF0ZSBieS5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXHJcbiAgICAgKi9cclxuICAgIHRyYW5zbGF0ZVdvcmxkKHYpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3RyYW5zbGF0ZV93b3JsZCh0aGlzLm9iamVjdElkLCB2WzBdLCB2WzFdLCB2WzJdKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIC8qKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGluayBPYmplY3QzRC5yb3RhdGVBeGlzQW5nbGVEZWdMb2NhbH0gaW5zdGVhZC4gKi9cclxuICAgIHJvdGF0ZUF4aXNBbmdsZURlZyhhLCBkKSB7XHJcbiAgICAgICAgdGhpcy5yb3RhdGVBeGlzQW5nbGVEZWdMb2NhbChhLCBkKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUm90YXRlIGFyb3VuZCBnaXZlbiBheGlzIGJ5IGdpdmVuIGFuZ2xlIChkZWdyZWVzKSBpbiBsb2NhbCBzcGFjZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gYSBWZWN0b3IgcmVwcmVzZW50aW5nIHRoZSByb3RhdGlvbiBheGlzLlxyXG4gICAgICogQHBhcmFtIGQgQW5nbGUgaW4gZGVncmVlcy5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBJZiB0aGUgb2JqZWN0IGlzIHRyYW5zbGF0ZWQgdGhlIHJvdGF0aW9uIHdpbGwgYmUgYXJvdW5kXHJcbiAgICAgKiAgICAgdGhlIHBhcmVudC4gVG8gcm90YXRlIGFyb3VuZCB0aGUgb2JqZWN0IG9yaWdpbiwgdXNlXHJcbiAgICAgKiAgICAge0BsaW5rIHJvdGF0ZUF4aXNBbmdsZURlZ09iamVjdH1cclxuICAgICAqXHJcbiAgICAgKiBAc2VlIHtAbGluayByb3RhdGVBeGlzQW5nbGVSYWR9XHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxyXG4gICAgICovXHJcbiAgICByb3RhdGVBeGlzQW5nbGVEZWdMb2NhbChhLCBkKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9yb3RhdGVfYXhpc19hbmdsZSh0aGlzLm9iamVjdElkLCBhWzBdLCBhWzFdLCBhWzJdLCBkKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIC8qKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGluayBPYmplY3QzRC5yb3RhdGVBeGlzQW5nbGVSYWRMb2NhbH0gaW5zdGVhZC4gKi9cclxuICAgIHJvdGF0ZUF4aXNBbmdsZVJhZChhLCBkKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucm90YXRlQXhpc0FuZ2xlUmFkTG9jYWwoYSwgZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJvdGF0ZSBhcm91bmQgZ2l2ZW4gYXhpcyBieSBnaXZlbiBhbmdsZSAocmFkaWFucykgaW4gbG9jYWwgc3BhY2UuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGEgVmVjdG9yIHJlcHJlc2VudGluZyB0aGUgcm90YXRpb24gYXhpcy5cclxuICAgICAqIEBwYXJhbSBkIEFuZ2xlIGluIHJhZGlhbnMuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgSWYgdGhlIG9iamVjdCBpcyB0cmFuc2xhdGVkIHRoZSByb3RhdGlvbiB3aWxsIGJlIGFyb3VuZFxyXG4gICAgICogICAgIHRoZSBwYXJlbnQuIFRvIHJvdGF0ZSBhcm91bmQgdGhlIG9iamVjdCBvcmlnaW4sIHVzZVxyXG4gICAgICogICAgIHtAbGluayByb3RhdGVBeGlzQW5nbGVEZWdPYmplY3R9XHJcbiAgICAgKlxyXG4gICAgICogQHNlZSB7QGxpbmsgcm90YXRlQXhpc0FuZ2xlRGVnfVxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cclxuICAgICAqL1xyXG4gICAgcm90YXRlQXhpc0FuZ2xlUmFkTG9jYWwoYSwgZCkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3Rfcm90YXRlX2F4aXNfYW5nbGVfcmFkKHRoaXMub2JqZWN0SWQsIGFbMF0sIGFbMV0sIGFbMl0sIGQpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSb3RhdGUgYXJvdW5kIGdpdmVuIGF4aXMgYnkgZ2l2ZW4gYW5nbGUgKGRlZ3JlZXMpIGluIG9iamVjdCBzcGFjZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gYSBWZWN0b3IgcmVwcmVzZW50aW5nIHRoZSByb3RhdGlvbiBheGlzLlxyXG4gICAgICogQHBhcmFtIGQgQW5nbGUgaW4gZGVncmVlcy5cclxuICAgICAqXHJcbiAgICAgKiBFcXVpdmFsZW50IHRvIHByZXBlbmRpbmcgYSByb3RhdGlvbiBxdWF0ZXJuaW9uIHRvIHRoZSBvYmplY3Qnc1xyXG4gICAgICogbG9jYWwgdHJhbnNmb3JtYXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHNlZSB7QGxpbmsgcm90YXRlQXhpc0FuZ2xlUmFkT2JqZWN0fVxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cclxuICAgICAqL1xyXG4gICAgcm90YXRlQXhpc0FuZ2xlRGVnT2JqZWN0KGEsIGQpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3JvdGF0ZV9heGlzX2FuZ2xlX29iaih0aGlzLm9iamVjdElkLCBhWzBdLCBhWzFdLCBhWzJdLCBkKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUm90YXRlIGFyb3VuZCBnaXZlbiBheGlzIGJ5IGdpdmVuIGFuZ2xlIChyYWRpYW5zKSBpbiBvYmplY3Qgc3BhY2VcclxuICAgICAqIEVxdWl2YWxlbnQgdG8gcHJlcGVuZGluZyBhIHJvdGF0aW9uIHF1YXRlcm5pb24gdG8gdGhlIG9iamVjdCdzXHJcbiAgICAgKiBsb2NhbCB0cmFuc2Zvcm1hdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gYSBWZWN0b3IgcmVwcmVzZW50aW5nIHRoZSByb3RhdGlvbiBheGlzXHJcbiAgICAgKiBAcGFyYW0gZCBBbmdsZSBpbiBkZWdyZWVzXHJcbiAgICAgKlxyXG4gICAgICogQHNlZSB7QGxpbmsgcm90YXRlQXhpc0FuZ2xlRGVnT2JqZWN0fVxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cclxuICAgICAqL1xyXG4gICAgcm90YXRlQXhpc0FuZ2xlUmFkT2JqZWN0KGEsIGQpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3JvdGF0ZV9heGlzX2FuZ2xlX3JhZF9vYmoodGhpcy5vYmplY3RJZCwgYVswXSwgYVsxXSwgYVsyXSwgZCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICAvKiogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSB7QGxpbmsgT2JqZWN0M0Qucm90YXRlTG9jYWx9IGluc3RlYWQuICovXHJcbiAgICByb3RhdGUocSkge1xyXG4gICAgICAgIHRoaXMucm90YXRlTG9jYWwocSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJvdGF0ZSBieSBhIHF1YXRlcm5pb24uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHEgdGhlIFF1YXRlcm5pb24gdG8gcm90YXRlIGJ5LlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cclxuICAgICAqL1xyXG4gICAgcm90YXRlTG9jYWwocSkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3Rfcm90YXRlX3F1YXQodGhpcy5vYmplY3RJZCwgcVswXSwgcVsxXSwgcVsyXSwgcVszXSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJvdGF0ZSBieSBhIHF1YXRlcm5pb24gaW4gb2JqZWN0IHNwYWNlLlxyXG4gICAgICpcclxuICAgICAqIEVxdWl2YWxlbnQgdG8gcHJlcGVuZGluZyBhIHJvdGF0aW9uIHF1YXRlcm5pb24gdG8gdGhlIG9iamVjdCdzXHJcbiAgICAgKiBsb2NhbCB0cmFuc2Zvcm1hdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gcSB0aGUgUXVhdGVybmlvbiB0byByb3RhdGUgYnkuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxyXG4gICAgICovXHJcbiAgICByb3RhdGVPYmplY3QocSkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3Rfcm90YXRlX3F1YXRfb2JqKHRoaXMub2JqZWN0SWQsIHFbMF0sIHFbMV0sIHFbMl0sIHFbM10pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgLyoqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIE9iamVjdDNELnNjYWxlTG9jYWx9IGluc3RlYWQuICovXHJcbiAgICBzY2FsZSh2KSB7XHJcbiAgICAgICAgdGhpcy5zY2FsZUxvY2FsKHYpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTY2FsZSBvYmplY3QgYnkgYSB2ZWN0b3IgaW4gb2JqZWN0IHNwYWNlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB2IFZlY3RvciB0byBzY2FsZSBieS5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXHJcbiAgICAgKi9cclxuICAgIHNjYWxlTG9jYWwodikge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3Rfc2NhbGUodGhpcy5vYmplY3RJZCwgdlswXSwgdlsxXSwgdlsyXSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICBnZXRQb3NpdGlvbkxvY2FsKG91dCA9IG5ldyBGbG9hdDMyQXJyYXkoMykpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgLyogVHJhbnNsYXRpb24gaXMgZGlmZmVyZW50IHRoYW4gcm90YXRpb24gJiBzY2FsaW5nLlxyXG4gICAgICAgICAqIFdlIGNhbid0IHNpbXBseSByZWFkIHRoZSBtZW1vcnkuICovXHJcbiAgICAgICAgd2FzbS5fd2xfb2JqZWN0X2dldF90cmFuc2xhdGlvbl9sb2NhbCh0aGlzLm9iamVjdElkLCB3YXNtLl90ZW1wTWVtKTtcclxuICAgICAgICBvdXRbMF0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMF07XHJcbiAgICAgICAgb3V0WzFdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzFdO1xyXG4gICAgICAgIG91dFsyXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsyXTtcclxuICAgICAgICByZXR1cm4gb3V0O1xyXG4gICAgfVxyXG4gICAgZ2V0VHJhbnNsYXRpb25Mb2NhbChvdXQgPSBuZXcgRmxvYXQzMkFycmF5KDMpKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UG9zaXRpb25Mb2NhbChvdXQpO1xyXG4gICAgfVxyXG4gICAgZ2V0UG9zaXRpb25Xb3JsZChvdXQgPSBuZXcgRmxvYXQzMkFycmF5KDMpKSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIC8qIFRyYW5zbGF0aW9uIGlzIGRpZmZlcmVudCB0aGFuIHJvdGF0aW9uICYgc2NhbGluZy5cclxuICAgICAgICAgKiBXZSBjYW4ndCBzaW1wbHkgcmVhZCB0aGUgbWVtb3J5LiAqL1xyXG4gICAgICAgIHdhc20uX3dsX29iamVjdF9nZXRfdHJhbnNsYXRpb25fd29ybGQodGhpcy5vYmplY3RJZCwgd2FzbS5fdGVtcE1lbSk7XHJcbiAgICAgICAgb3V0WzBdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzBdO1xyXG4gICAgICAgIG91dFsxXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsxXTtcclxuICAgICAgICBvdXRbMl0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMl07XHJcbiAgICAgICAgcmV0dXJuIG91dDtcclxuICAgIH1cclxuICAgIGdldFRyYW5zbGF0aW9uV29ybGQob3V0ID0gbmV3IEZsb2F0MzJBcnJheSgzKSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldFBvc2l0aW9uV29ybGQob3V0KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IGxvY2FsIC8gb2JqZWN0IHNwYWNlIHBvc2l0aW9uLlxyXG4gICAgICpcclxuICAgICAqIENvbmNhdGVuYXRlcyBhIG5ldyB0cmFuc2xhdGlvbiBkdWFsIHF1YXRlcm5pb24gb250byB0aGUgZXhpc3Rpbmcgcm90YXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHYgTmV3IGxvY2FsIHBvc2l0aW9uIGFycmF5L3ZlY3RvciwgZXhwZWN0ZWQgdG8gaGF2ZSBhdCBsZWFzdCAzIGVsZW1lbnRzLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cclxuICAgICAqL1xyXG4gICAgc2V0UG9zaXRpb25Mb2NhbCh2KSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9zZXRfdHJhbnNsYXRpb25fbG9jYWwodGhpcy5vYmplY3RJZCwgdlswXSwgdlsxXSwgdlsyXSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICAvKiogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSB7QGxpbmsgT2JqZWN0M0Quc2V0UG9zaXRpb25Mb2NhbH0gaW5zdGVhZC4gKi9cclxuICAgIHNldFRyYW5zbGF0aW9uTG9jYWwodikge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNldFBvc2l0aW9uTG9jYWwodik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCB3b3JsZCBzcGFjZSBwb3NpdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBBcHBsaWVzIHRoZSBpbnZlcnNlIHBhcmVudCB0cmFuc2Zvcm0gd2l0aCBhIG5ldyB0cmFuc2xhdGlvbiBkdWFsIHF1YXRlcm5pb25cclxuICAgICAqIHdoaWNoIGlzIGNvbmNhdGVuYXRlZCBvbnRvIHRoZSBleGlzdGluZyByb3RhdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdiBOZXcgd29ybGQgcG9zaXRpb24gYXJyYXkvdmVjdG9yLCBleHBlY3RlZCB0byBoYXZlIGF0IGxlYXN0IDMgZWxlbWVudHMuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxyXG4gICAgICovXHJcbiAgICBzZXRQb3NpdGlvbldvcmxkKHYpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3NldF90cmFuc2xhdGlvbl93b3JsZCh0aGlzLm9iamVjdElkLCB2WzBdLCB2WzFdLCB2WzJdKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIC8qKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGluayBPYmplY3QzRC5zZXRQb3NpdGlvbldvcmxkfSBpbnN0ZWFkLiAqL1xyXG4gICAgc2V0VHJhbnNsYXRpb25Xb3JsZCh2KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0UG9zaXRpb25Xb3JsZCh2KTtcclxuICAgIH1cclxuICAgIGdldFNjYWxpbmdMb2NhbChvdXQgPSBuZXcgRmxvYXQzMkFycmF5KDMpKSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIGNvbnN0IHB0ciA9IHdhc20uX3dsX29iamVjdF9zY2FsaW5nX2xvY2FsKHRoaXMub2JqZWN0SWQpIC8gNDsgLyogQWxpZ24gRjMyICovXHJcbiAgICAgICAgb3V0WzBdID0gd2FzbS5IRUFQRjMyW3B0cl07XHJcbiAgICAgICAgb3V0WzFdID0gd2FzbS5IRUFQRjMyW3B0ciArIDFdO1xyXG4gICAgICAgIG91dFsyXSA9IHdhc20uSEVBUEYzMltwdHIgKyAyXTtcclxuICAgICAgICByZXR1cm4gb3V0O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgbG9jYWwgLyBvYmplY3Qgc3BhY2Ugc2NhbGluZy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdiBOZXcgbG9jYWwgc2NhbGluZyBhcnJheS92ZWN0b3IsIGV4cGVjdGVkIHRvIGhhdmUgYXQgbGVhc3QgMyBlbGVtZW50cy5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXHJcbiAgICAgKi9cclxuICAgIHNldFNjYWxpbmdMb2NhbCh2KSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9zZXRfc2NhbGluZ19sb2NhbCh0aGlzLm9iamVjdElkLCB2WzBdLCB2WzFdLCB2WzJdKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIGdldFNjYWxpbmdXb3JsZChvdXQgPSBuZXcgRmxvYXQzMkFycmF5KDMpKSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIGNvbnN0IHB0ciA9IHdhc20uX3dsX29iamVjdF9zY2FsaW5nX3dvcmxkKHRoaXMub2JqZWN0SWQpIC8gNDsgLyogQWxpZ24gRjMyICovXHJcbiAgICAgICAgb3V0WzBdID0gd2FzbS5IRUFQRjMyW3B0cl07XHJcbiAgICAgICAgb3V0WzFdID0gd2FzbS5IRUFQRjMyW3B0ciArIDFdO1xyXG4gICAgICAgIG91dFsyXSA9IHdhc20uSEVBUEYzMltwdHIgKyAyXTtcclxuICAgICAgICByZXR1cm4gb3V0O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgV29ybGQgc3BhY2Ugc2NhbGluZy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdiBOZXcgd29ybGQgc2NhbGluZyBhcnJheS92ZWN0b3IsIGV4cGVjdGVkIHRvIGhhdmUgYXQgbGVhc3QgMyBlbGVtZW50cy5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXHJcbiAgICAgKi9cclxuICAgIHNldFNjYWxpbmdXb3JsZCh2KSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9zZXRfc2NhbGluZ193b3JsZCh0aGlzLm9iamVjdElkLCB2WzBdLCB2WzFdLCB2WzJdKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIGdldFJvdGF0aW9uTG9jYWwob3V0ID0gbmV3IEZsb2F0MzJBcnJheSg0KSkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICBjb25zdCBwdHIgPSB3YXNtLl93bF9vYmplY3RfdHJhbnNfbG9jYWwodGhpcy5vYmplY3RJZCkgLyA0OyAvKiBBbGlnbiBGMzIgKi9cclxuICAgICAgICAvKiBUaGUgZmlyc3QgNCBmbG9hdHMgcmVwcmVzZW50IHRoZSByb3RhdGlvbiBxdWF0ZXJuaW9uLiAqL1xyXG4gICAgICAgIG91dFswXSA9IHdhc20uSEVBUEYzMltwdHJdO1xyXG4gICAgICAgIG91dFsxXSA9IHdhc20uSEVBUEYzMltwdHIgKyAxXTtcclxuICAgICAgICBvdXRbMl0gPSB3YXNtLkhFQVBGMzJbcHRyICsgMl07XHJcbiAgICAgICAgb3V0WzNdID0gd2FzbS5IRUFQRjMyW3B0ciArIDNdO1xyXG4gICAgICAgIHJldHVybiBvdXQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCBsb2NhbCBzcGFjZSByb3RhdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdiBOZXcgd29ybGQgcm90YXRpb24gYXJyYXkvdmVjdG9yLCBleHBlY3RlZCB0byBoYXZlIGF0IGxlYXN0IDQgZWxlbWVudHMuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxyXG4gICAgICovXHJcbiAgICBzZXRSb3RhdGlvbkxvY2FsKHYpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3NldF9yb3RhdGlvbl9sb2NhbCh0aGlzLm9iamVjdElkLCB2WzBdLCB2WzFdLCB2WzJdLCB2WzNdKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIGdldFJvdGF0aW9uV29ybGQob3V0ID0gbmV3IEZsb2F0MzJBcnJheSg0KSkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICBjb25zdCBwdHIgPSB3YXNtLl93bF9vYmplY3RfdHJhbnNfd29ybGQodGhpcy5vYmplY3RJZCkgLyA0OyAvKiBBbGlnbiBGMzIgKi9cclxuICAgICAgICAvKiBUaGUgZmlyc3QgNCBmbG9hdHMgcmVwcmVzZW50IHRoZSByb3RhdGlvbiBxdWF0ZXJuaW9uLiAqL1xyXG4gICAgICAgIG91dFswXSA9IHdhc20uSEVBUEYzMltwdHJdO1xyXG4gICAgICAgIG91dFsxXSA9IHdhc20uSEVBUEYzMltwdHIgKyAxXTtcclxuICAgICAgICBvdXRbMl0gPSB3YXNtLkhFQVBGMzJbcHRyICsgMl07XHJcbiAgICAgICAgb3V0WzNdID0gd2FzbS5IRUFQRjMyW3B0ciArIDNdO1xyXG4gICAgICAgIHJldHVybiBvdXQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCBsb2NhbCBzcGFjZSByb3RhdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdiBOZXcgd29ybGQgcm90YXRpb24gYXJyYXkvdmVjdG9yLCBleHBlY3RlZCB0byBoYXZlIGF0IGxlYXN0IDQgZWxlbWVudHMuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxyXG4gICAgICovXHJcbiAgICBzZXRSb3RhdGlvbldvcmxkKHYpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3NldF9yb3RhdGlvbl93b3JsZCh0aGlzLm9iamVjdElkLCB2WzBdLCB2WzFdLCB2WzJdLCB2WzNdKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIGdldFRyYW5zZm9ybUxvY2FsKG91dCA9IG5ldyBGbG9hdDMyQXJyYXkoOCkpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgY29uc3QgcHRyID0gd2FzbS5fd2xfb2JqZWN0X3RyYW5zX2xvY2FsKHRoaXMub2JqZWN0SWQpIC8gNDsgLyogQWxpZ24gRjMyICovXHJcbiAgICAgICAgb3V0WzBdID0gd2FzbS5IRUFQRjMyW3B0cl07XHJcbiAgICAgICAgb3V0WzFdID0gd2FzbS5IRUFQRjMyW3B0ciArIDFdO1xyXG4gICAgICAgIG91dFsyXSA9IHdhc20uSEVBUEYzMltwdHIgKyAyXTtcclxuICAgICAgICBvdXRbM10gPSB3YXNtLkhFQVBGMzJbcHRyICsgM107XHJcbiAgICAgICAgb3V0WzRdID0gd2FzbS5IRUFQRjMyW3B0ciArIDRdO1xyXG4gICAgICAgIG91dFs1XSA9IHdhc20uSEVBUEYzMltwdHIgKyA1XTtcclxuICAgICAgICBvdXRbNl0gPSB3YXNtLkhFQVBGMzJbcHRyICsgNl07XHJcbiAgICAgICAgb3V0WzddID0gd2FzbS5IRUFQRjMyW3B0ciArIDddO1xyXG4gICAgICAgIHJldHVybiBvdXQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCBsb2NhbCBzcGFjZSByb3RhdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdiBOZXcgbG9jYWwgdHJhbnNmb3JtIGFycmF5LCBleHBlY3RlZCB0byBoYXZlIGF0IGxlYXN0IDggZWxlbWVudHMuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxyXG4gICAgICovXHJcbiAgICBzZXRUcmFuc2Zvcm1Mb2NhbCh2KSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIGNvbnN0IHB0ciA9IHdhc20uX3dsX29iamVjdF90cmFuc19sb2NhbCh0aGlzLm9iamVjdElkKSAvIDQ7IC8qIEFsaWduIEYzMiAqL1xyXG4gICAgICAgIHdhc20uSEVBUEYzMltwdHJdID0gdlswXTtcclxuICAgICAgICB3YXNtLkhFQVBGMzJbcHRyICsgMV0gPSB2WzFdO1xyXG4gICAgICAgIHdhc20uSEVBUEYzMltwdHIgKyAyXSA9IHZbMl07XHJcbiAgICAgICAgd2FzbS5IRUFQRjMyW3B0ciArIDNdID0gdlszXTtcclxuICAgICAgICB3YXNtLkhFQVBGMzJbcHRyICsgNF0gPSB2WzRdO1xyXG4gICAgICAgIHdhc20uSEVBUEYzMltwdHIgKyA1XSA9IHZbNV07XHJcbiAgICAgICAgd2FzbS5IRUFQRjMyW3B0ciArIDZdID0gdls2XTtcclxuICAgICAgICB3YXNtLkhFQVBGMzJbcHRyICsgN10gPSB2WzddO1xyXG4gICAgICAgIHRoaXMuc2V0RGlydHkoKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIGdldFRyYW5zZm9ybVdvcmxkKG91dCA9IG5ldyBGbG9hdDMyQXJyYXkoOCkpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgY29uc3QgcHRyID0gd2FzbS5fd2xfb2JqZWN0X3RyYW5zX3dvcmxkKHRoaXMub2JqZWN0SWQpIC8gNDsgLyogQWxpZ24gRjMyICovXHJcbiAgICAgICAgb3V0WzBdID0gd2FzbS5IRUFQRjMyW3B0cl07XHJcbiAgICAgICAgb3V0WzFdID0gd2FzbS5IRUFQRjMyW3B0ciArIDFdO1xyXG4gICAgICAgIG91dFsyXSA9IHdhc20uSEVBUEYzMltwdHIgKyAyXTtcclxuICAgICAgICBvdXRbM10gPSB3YXNtLkhFQVBGMzJbcHRyICsgM107XHJcbiAgICAgICAgb3V0WzRdID0gd2FzbS5IRUFQRjMyW3B0ciArIDRdO1xyXG4gICAgICAgIG91dFs1XSA9IHdhc20uSEVBUEYzMltwdHIgKyA1XTtcclxuICAgICAgICBvdXRbNl0gPSB3YXNtLkhFQVBGMzJbcHRyICsgNl07XHJcbiAgICAgICAgb3V0WzddID0gd2FzbS5IRUFQRjMyW3B0ciArIDddO1xyXG4gICAgICAgIHJldHVybiBvdXQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCB3b3JsZCBzcGFjZSByb3RhdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdiBOZXcgd29ybGQgdHJhbnNmb3JtIGFycmF5LCBleHBlY3RlZCB0byBoYXZlIGF0IGxlYXN0IDggZWxlbWVudHMuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxyXG4gICAgICovXHJcbiAgICBzZXRUcmFuc2Zvcm1Xb3JsZCh2KSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIGNvbnN0IHB0ciA9IHdhc20uX3dsX29iamVjdF90cmFuc193b3JsZCh0aGlzLm9iamVjdElkKSAvIDQ7IC8qIEFsaWduIEYzMiAqL1xyXG4gICAgICAgIHdhc20uSEVBUEYzMltwdHJdID0gdlswXTtcclxuICAgICAgICB3YXNtLkhFQVBGMzJbcHRyICsgMV0gPSB2WzFdO1xyXG4gICAgICAgIHdhc20uSEVBUEYzMltwdHIgKyAyXSA9IHZbMl07XHJcbiAgICAgICAgd2FzbS5IRUFQRjMyW3B0ciArIDNdID0gdlszXTtcclxuICAgICAgICB3YXNtLkhFQVBGMzJbcHRyICsgNF0gPSB2WzRdO1xyXG4gICAgICAgIHdhc20uSEVBUEYzMltwdHIgKyA1XSA9IHZbNV07XHJcbiAgICAgICAgd2FzbS5IRUFQRjMyW3B0ciArIDZdID0gdls2XTtcclxuICAgICAgICB3YXNtLkhFQVBGMzJbcHRyICsgN10gPSB2WzddO1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3RfdHJhbnNfd29ybGRfdG9fbG9jYWwodGhpcy5vYmplY3RJZCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIExvY2FsIHNwYWNlIHRyYW5zZm9ybWF0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIE9iamVjdDNELnNldFRyYW5zZm9ybUxvY2FsfSBhbmRcclxuICAgICAqIHtAbGluayBPYmplY3QzRC5nZXRUcmFuc2Zvcm1Mb2NhbH0gaW5zdGVhZC5cclxuICAgICAqL1xyXG4gICAgZ2V0IHRyYW5zZm9ybUxvY2FsKCkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSh3YXNtLkhFQVBGMzIuYnVmZmVyLCB3YXNtLl93bF9vYmplY3RfdHJhbnNfbG9jYWwodGhpcy5vYmplY3RJZCksIDgpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgbG9jYWwgdHJhbnNmb3JtLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB0IExvY2FsIHNwYWNlIHRyYW5zZm9ybWF0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEBzaW5jZSAwLjguNVxyXG4gICAgICpcclxuICAgICAqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIE9iamVjdDNELnNldFRyYW5zZm9ybUxvY2FsfSBhbmRcclxuICAgICAqIHtAbGluayBPYmplY3QzRC5nZXRUcmFuc2Zvcm1Mb2NhbH0gaW5zdGVhZC5cclxuICAgICAqL1xyXG4gICAgc2V0IHRyYW5zZm9ybUxvY2FsKHQpIHtcclxuICAgICAgICB0aGlzLnRyYW5zZm9ybUxvY2FsLnNldCh0KTtcclxuICAgICAgICB0aGlzLnNldERpcnR5KCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdsb2JhbCAvIHdvcmxkIHNwYWNlIHRyYW5zZm9ybWF0aW9uLlxyXG4gICAgICpcclxuICAgICAqIE1heSByZWNvbXB1dGUgdHJhbnNmb3JtYXRpb25zIG9mIHRoZSBoaWVyYXJjaHkgb2YgdGhpcyBvYmplY3QsXHJcbiAgICAgKiBpZiB0aGV5IHdlcmUgY2hhbmdlZCBieSBKYXZhU2NyaXB0IGNvbXBvbmVudHMgdGhpcyBmcmFtZS5cclxuICAgICAqXHJcbiAgICAgKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGluayBPYmplY3QzRC5zZXRUcmFuc2Zvcm1Xb3JsZH0gYW5kXHJcbiAgICAgKiB7QGxpbmsgT2JqZWN0M0QuZ2V0VHJhbnNmb3JtV29ybGR9IGluc3RlYWQuXHJcbiAgICAgKi9cclxuICAgIGdldCB0cmFuc2Zvcm1Xb3JsZCgpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkod2FzbS5IRUFQRjMyLmJ1ZmZlciwgd2FzbS5fd2xfb2JqZWN0X3RyYW5zX3dvcmxkKHRoaXMub2JqZWN0SWQpLCA4KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHdvcmxkIHRyYW5zZm9ybS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdCBHbG9iYWwgLyB3b3JsZCBzcGFjZSB0cmFuc2Zvcm1hdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBAc2luY2UgMC44LjVcclxuICAgICAqXHJcbiAgICAgKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGluayBPYmplY3QzRC5zZXRUcmFuc2Zvcm1Xb3JsZH0gYW5kXHJcbiAgICAgKiB7QGxpbmsgT2JqZWN0M0QuZ2V0VHJhbnNmb3JtV29ybGR9IGluc3RlYWQuXHJcbiAgICAgKi9cclxuICAgIHNldCB0cmFuc2Zvcm1Xb3JsZCh0KSB7XHJcbiAgICAgICAgdGhpcy50cmFuc2Zvcm1Xb3JsZC5zZXQodCk7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF90cmFuc193b3JsZF90b19sb2NhbCh0aGlzLm9iamVjdElkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogTG9jYWwgLyBvYmplY3Qgc3BhY2Ugc2NhbGluZy5cclxuICAgICAqXHJcbiAgICAgKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGluayBPYmplY3QzRC5zZXRTY2FsaW5nTG9jYWx9IGFuZFxyXG4gICAgICoge0BsaW5rIE9iamVjdDNELmdldFNjYWxpbmdMb2NhbH0gaW5zdGVhZC5cclxuICAgICAqL1xyXG4gICAgZ2V0IHNjYWxpbmdMb2NhbCgpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkod2FzbS5IRUFQRjMyLmJ1ZmZlciwgd2FzbS5fd2xfb2JqZWN0X3NjYWxpbmdfbG9jYWwodGhpcy5vYmplY3RJZCksIDMpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgbG9jYWwgc3BhY2Ugc2NhbGluZy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gcyBMb2NhbCBzcGFjZSBzY2FsaW5nLlxyXG4gICAgICpcclxuICAgICAqIEBzaW5jZSAwLjguN1xyXG4gICAgICpcclxuICAgICAqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIE9iamVjdDNELnNldFNjYWxpbmdMb2NhbH0gYW5kXHJcbiAgICAgKiB7QGxpbmsgT2JqZWN0M0QuZ2V0U2NhbGluZ0xvY2FsfSBpbnN0ZWFkLlxyXG4gICAgICovXHJcbiAgICBzZXQgc2NhbGluZ0xvY2FsKHMpIHtcclxuICAgICAgICB0aGlzLnNjYWxpbmdMb2NhbC5zZXQocyk7XHJcbiAgICAgICAgdGhpcy5zZXREaXJ0eSgpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHbG9iYWwgLyB3b3JsZCBzcGFjZSBzY2FsaW5nLlxyXG4gICAgICpcclxuICAgICAqIE1heSByZWNvbXB1dGUgdHJhbnNmb3JtYXRpb25zIG9mIHRoZSBoaWVyYXJjaHkgb2YgdGhpcyBvYmplY3QsXHJcbiAgICAgKiBpZiB0aGV5IHdlcmUgY2hhbmdlZCBieSBKYXZhU2NyaXB0IGNvbXBvbmVudHMgdGhpcyBmcmFtZS5cclxuICAgICAqXHJcbiAgICAgKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGluayBPYmplY3QzRC5zZXRTY2FsaW5nV29ybGR9IGFuZFxyXG4gICAgICoge0BsaW5rIE9iamVjdDNELmdldFNjYWxpbmdXb3JsZH0gaW5zdGVhZC5cclxuICAgICAqL1xyXG4gICAgZ2V0IHNjYWxpbmdXb3JsZCgpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkod2FzbS5IRUFQRjMyLmJ1ZmZlciwgd2FzbS5fd2xfb2JqZWN0X3NjYWxpbmdfd29ybGQodGhpcy5vYmplY3RJZCksIDMpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgd29ybGQgc3BhY2Ugc2NhbGluZy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdCBXb3JsZCBzcGFjZSBzY2FsaW5nLlxyXG4gICAgICpcclxuICAgICAqIEBzaW5jZSAwLjguN1xyXG4gICAgICpcclxuICAgICAqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIE9iamVjdDNELnNldFNjYWxpbmdXb3JsZH0gYW5kXHJcbiAgICAgKiB7QGxpbmsgT2JqZWN0M0QuZ2V0U2NhbGluZ1dvcmxkfSBpbnN0ZWFkLlxyXG4gICAgICovXHJcbiAgICBzZXQgc2NhbGluZ1dvcmxkKHMpIHtcclxuICAgICAgICB0aGlzLnNjYWxpbmdXb3JsZC5zZXQocyk7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9zY2FsaW5nX3dvcmxkX3RvX2xvY2FsKHRoaXMub2JqZWN0SWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBMb2NhbCBzcGFjZSByb3RhdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBAc2luY2UgMC44LjdcclxuICAgICAqXHJcbiAgICAgKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGluayBPYmplY3QzRC5nZXRSb3RhdGlvbkxvY2FsfSBhbmRcclxuICAgICAqIHtAbGluayBPYmplY3QzRC5zZXRSb3RhdGlvbkxvY2FsfSBpbnN0ZWFkLlxyXG4gICAgICovXHJcbiAgICBnZXQgcm90YXRpb25Mb2NhbCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm1Mb2NhbC5zdWJhcnJheSgwLCA0KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2xvYmFsIC8gd29ybGQgc3BhY2Ugcm90YXRpb25cclxuICAgICAqXHJcbiAgICAgKiBAc2luY2UgMC44LjdcclxuICAgICAqXHJcbiAgICAgKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGluayBPYmplY3QzRC5nZXRSb3RhdGlvbldvcmxkfSBhbmRcclxuICAgICAqIHtAbGluayBPYmplY3QzRC5zZXRSb3RhdGlvbldvcmxkfSBpbnN0ZWFkLlxyXG4gICAgICovXHJcbiAgICBnZXQgcm90YXRpb25Xb3JsZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm1Xb3JsZC5zdWJhcnJheSgwLCA0KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IGxvY2FsIHNwYWNlIHJvdGF0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSByIExvY2FsIHNwYWNlIHJvdGF0aW9uXHJcbiAgICAgKlxyXG4gICAgICogQHNpbmNlIDAuOC43XHJcbiAgICAgKlxyXG4gICAgICogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSB7QGxpbmsgT2JqZWN0M0QuZ2V0Um90YXRpb25Mb2NhbH0gYW5kXHJcbiAgICAgKiB7QGxpbmsgT2JqZWN0M0Quc2V0Um90YXRpb25Mb2NhbH0gaW5zdGVhZC5cclxuICAgICAqL1xyXG4gICAgc2V0IHJvdGF0aW9uTG9jYWwocikge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3Rfc2V0X3JvdGF0aW9uX2xvY2FsKHRoaXMub2JqZWN0SWQsIHJbMF0sIHJbMV0sIHJbMl0sIHJbM10pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgd29ybGQgc3BhY2Ugcm90YXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHIgR2xvYmFsIC8gd29ybGQgc3BhY2Ugcm90YXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHNpbmNlIDAuOC43XHJcbiAgICAgKlxyXG4gICAgICogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSB7QGxpbmsgT2JqZWN0M0QuZ2V0Um90YXRpb25Xb3JsZH0gYW5kXHJcbiAgICAgKiB7QGxpbmsgT2JqZWN0M0Quc2V0Um90YXRpb25Xb3JsZH0gaW5zdGVhZC5cclxuICAgICAqL1xyXG4gICAgc2V0IHJvdGF0aW9uV29ybGQocikge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3Rfc2V0X3JvdGF0aW9uX3dvcmxkKHRoaXMub2JqZWN0SWQsIHJbMF0sIHJbMV0sIHJbMl0sIHJbM10pO1xyXG4gICAgfVxyXG4gICAgLyoqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIE9iamVjdDNELmdldEZvcndhcmRXb3JsZH0gaW5zdGVhZC4gKi9cclxuICAgIGdldEZvcndhcmQob3V0KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Rm9yd2FyZFdvcmxkKG91dCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENvbXB1dGUgdGhlIG9iamVjdCdzIGZvcndhcmQgZmFjaW5nIHdvcmxkIHNwYWNlIHZlY3Rvci5cclxuICAgICAqXHJcbiAgICAgKiBUaGUgZm9yd2FyZCB2ZWN0b3IgaW4gb2JqZWN0IHNwYWNlIGlzIGFsb25nIHRoZSBuZWdhdGl2ZSB6LWF4aXMsIGkuZS4sXHJcbiAgICAgKiBgWzAsIDAsIC0xXWAuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG91dCBEZXN0aW5hdGlvbiBhcnJheS92ZWN0b3IsIGV4cGVjdGVkIHRvIGhhdmUgYXQgbGVhc3QgMyBlbGVtZW50cy5cclxuICAgICAqIEByZXR1cm4gVGhlIGBvdXRgIHBhcmFtZXRlci5cclxuICAgICAqL1xyXG4gICAgZ2V0Rm9yd2FyZFdvcmxkKG91dCkge1xyXG4gICAgICAgIG91dFswXSA9IDA7XHJcbiAgICAgICAgb3V0WzFdID0gMDtcclxuICAgICAgICBvdXRbMl0gPSAtMTtcclxuICAgICAgICB0aGlzLnRyYW5zZm9ybVZlY3RvcldvcmxkKG91dCk7XHJcbiAgICAgICAgcmV0dXJuIG91dDtcclxuICAgIH1cclxuICAgIC8qKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGluayBPYmplY3QzRC5nZXRVcFdvcmxkfSBpbnN0ZWFkLiAqL1xyXG4gICAgZ2V0VXAob3V0KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VXBXb3JsZChvdXQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDb21wdXRlIHRoZSBvYmplY3QncyB1cCBmYWNpbmcgd29ybGQgc3BhY2UgdmVjdG9yLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBvdXQgRGVzdGluYXRpb24gYXJyYXkvdmVjdG9yLCBleHBlY3RlZCB0byBoYXZlIGF0IGxlYXN0IDMgZWxlbWVudHMuXHJcbiAgICAgKiBAcmV0dXJuIFRoZSBgb3V0YCBwYXJhbWV0ZXIuXHJcbiAgICAgKi9cclxuICAgIGdldFVwV29ybGQob3V0KSB7XHJcbiAgICAgICAgb3V0WzBdID0gMDtcclxuICAgICAgICBvdXRbMV0gPSAxO1xyXG4gICAgICAgIG91dFsyXSA9IDA7XHJcbiAgICAgICAgdGhpcy50cmFuc2Zvcm1WZWN0b3JXb3JsZChvdXQpO1xyXG4gICAgICAgIHJldHVybiBvdXQ7XHJcbiAgICB9XHJcbiAgICAvKiogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSB7QGxpbmsgT2JqZWN0M0QuZ2V0UmlnaHRXb3JsZH0gaW5zdGVhZC4gKi9cclxuICAgIGdldFJpZ2h0KG91dCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldFJpZ2h0V29ybGQob3V0KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ29tcHV0ZSB0aGUgb2JqZWN0J3MgcmlnaHQgZmFjaW5nIHdvcmxkIHNwYWNlIHZlY3Rvci5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gb3V0IERlc3RpbmF0aW9uIGFycmF5L3ZlY3RvciwgZXhwZWN0ZWQgdG8gaGF2ZSBhdCBsZWFzdCAzIGVsZW1lbnRzLlxyXG4gICAgICogQHJldHVybiBUaGUgYG91dGAgcGFyYW1ldGVyLlxyXG4gICAgICovXHJcbiAgICBnZXRSaWdodFdvcmxkKG91dCkge1xyXG4gICAgICAgIG91dFswXSA9IDE7XHJcbiAgICAgICAgb3V0WzFdID0gMDtcclxuICAgICAgICBvdXRbMl0gPSAwO1xyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtVmVjdG9yV29ybGQob3V0KTtcclxuICAgICAgICByZXR1cm4gb3V0O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUcmFuc2Zvcm0gYSB2ZWN0b3IgYnkgdGhpcyBvYmplY3QncyB3b3JsZCB0cmFuc2Zvcm0uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG91dCBPdXQgdmVjdG9yXHJcbiAgICAgKiBAcGFyYW0gdiBWZWN0b3IgdG8gdHJhbnNmb3JtLCBkZWZhdWx0IGBvdXRgXHJcbiAgICAgKiBAcmV0dXJuIFRoZSBgb3V0YCBwYXJhbWV0ZXIuXHJcbiAgICAgKlxyXG4gICAgICogQHNpbmNlIDAuOC43XHJcbiAgICAgKi9cclxuICAgIHRyYW5zZm9ybVZlY3RvcldvcmxkKG91dCwgdiA9IG91dCkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXRbMF0gPSB2WzBdO1xyXG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdFsxXSA9IHZbMV07XHJcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0WzJdID0gdlsyXTtcclxuICAgICAgICB3YXNtLl93bF9vYmplY3RfdHJhbnNmb3JtVmVjdG9yV29ybGQodGhpcy5vYmplY3RJZCwgd2FzbS5fdGVtcE1lbSk7XHJcbiAgICAgICAgb3V0WzBdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzBdO1xyXG4gICAgICAgIG91dFsxXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsxXTtcclxuICAgICAgICBvdXRbMl0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMl07XHJcbiAgICAgICAgcmV0dXJuIG91dDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVHJhbnNmb3JtIGEgdmVjdG9yIGJ5IHRoaXMgb2JqZWN0J3MgbG9jYWwgdHJhbnNmb3JtLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBvdXQgT3V0IHZlY3RvclxyXG4gICAgICogQHBhcmFtIHYgVmVjdG9yIHRvIHRyYW5zZm9ybSwgZGVmYXVsdCBgb3V0YFxyXG4gICAgICogQHJldHVybiBUaGUgYG91dGAgcGFyYW1ldGVyLlxyXG4gICAgICpcclxuICAgICAqIEBzaW5jZSAwLjguN1xyXG4gICAgICovXHJcbiAgICB0cmFuc2Zvcm1WZWN0b3JMb2NhbChvdXQsIHYgPSBvdXQpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0WzBdID0gdlswXTtcclxuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXRbMV0gPSB2WzFdO1xyXG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdFsyXSA9IHZbMl07XHJcbiAgICAgICAgd2FzbS5fd2xfb2JqZWN0X3RyYW5zZm9ybVZlY3RvckxvY2FsKHRoaXMub2JqZWN0SWQsIHdhc20uX3RlbXBNZW0pO1xyXG4gICAgICAgIG91dFswXSA9IHdhc20uX3RlbXBNZW1GbG9hdFswXTtcclxuICAgICAgICBvdXRbMV0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMV07XHJcbiAgICAgICAgb3V0WzJdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzJdO1xyXG4gICAgICAgIHJldHVybiBvdXQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFRyYW5zZm9ybSBhIHBvaW50IGJ5IHRoaXMgb2JqZWN0J3Mgd29ybGQgdHJhbnNmb3JtLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBvdXQgT3V0IHBvaW50LlxyXG4gICAgICogQHBhcmFtIHAgUG9pbnQgdG8gdHJhbnNmb3JtLCBkZWZhdWx0IGBvdXRgLlxyXG4gICAgICogQHJldHVybiBUaGUgYG91dGAgcGFyYW1ldGVyLlxyXG4gICAgICpcclxuICAgICAqIEBzaW5jZSAwLjguN1xyXG4gICAgICovXHJcbiAgICB0cmFuc2Zvcm1Qb2ludFdvcmxkKG91dCwgcCA9IG91dCkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXRbMF0gPSBwWzBdO1xyXG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdFsxXSA9IHBbMV07XHJcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0WzJdID0gcFsyXTtcclxuICAgICAgICB3YXNtLl93bF9vYmplY3RfdHJhbnNmb3JtUG9pbnRXb3JsZCh0aGlzLm9iamVjdElkLCB3YXNtLl90ZW1wTWVtKTtcclxuICAgICAgICBvdXRbMF0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMF07XHJcbiAgICAgICAgb3V0WzFdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzFdO1xyXG4gICAgICAgIG91dFsyXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsyXTtcclxuICAgICAgICByZXR1cm4gb3V0O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUcmFuc2Zvcm0gYSBwb2ludCBieSB0aGlzIG9iamVjdCdzIGxvY2FsIHRyYW5zZm9ybS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gb3V0IE91dCBwb2ludC5cclxuICAgICAqIEBwYXJhbSBwIFBvaW50IHRvIHRyYW5zZm9ybSwgZGVmYXVsdCBgb3V0YC5cclxuICAgICAqIEByZXR1cm4gVGhlIGBvdXRgIHBhcmFtZXRlci5cclxuICAgICAqXHJcbiAgICAgKiBAc2luY2UgMC44LjdcclxuICAgICAqL1xyXG4gICAgdHJhbnNmb3JtUG9pbnRMb2NhbChvdXQsIHAgPSBvdXQpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0WzBdID0gcFswXTtcclxuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXRbMV0gPSBwWzFdO1xyXG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdFsyXSA9IHBbMl07XHJcbiAgICAgICAgd2FzbS5fd2xfb2JqZWN0X3RyYW5zZm9ybVBvaW50TG9jYWwodGhpcy5vYmplY3RJZCwgd2FzbS5fdGVtcE1lbSk7XHJcbiAgICAgICAgb3V0WzBdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzBdO1xyXG4gICAgICAgIG91dFsxXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsxXTtcclxuICAgICAgICBvdXRbMl0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMl07XHJcbiAgICAgICAgcmV0dXJuIG91dDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVHJhbnNmb3JtIGEgdmVjdG9yIGJ5IHRoaXMgb2JqZWN0J3MgaW52ZXJzZSB3b3JsZCB0cmFuc2Zvcm0uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG91dCBPdXQgdmVjdG9yLlxyXG4gICAgICogQHBhcmFtIHYgVmVjdG9yIHRvIHRyYW5zZm9ybSwgZGVmYXVsdCBgb3V0YC5cclxuICAgICAqIEByZXR1cm4gVGhlIGBvdXRgIHBhcmFtZXRlci5cclxuICAgICAqXHJcbiAgICAgKiBAc2luY2UgMC44LjdcclxuICAgICAqL1xyXG4gICAgdHJhbnNmb3JtVmVjdG9ySW52ZXJzZVdvcmxkKG91dCwgdiA9IG91dCkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXRbMF0gPSB2WzBdO1xyXG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdFsxXSA9IHZbMV07XHJcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0WzJdID0gdlsyXTtcclxuICAgICAgICB3YXNtLl93bF9vYmplY3RfdHJhbnNmb3JtVmVjdG9ySW52ZXJzZVdvcmxkKHRoaXMub2JqZWN0SWQsIHdhc20uX3RlbXBNZW0pO1xyXG4gICAgICAgIG91dFswXSA9IHdhc20uX3RlbXBNZW1GbG9hdFswXTtcclxuICAgICAgICBvdXRbMV0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMV07XHJcbiAgICAgICAgb3V0WzJdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzJdO1xyXG4gICAgICAgIHJldHVybiBvdXQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFRyYW5zZm9ybSBhIHZlY3RvciBieSB0aGlzIG9iamVjdCdzIGludmVyc2UgbG9jYWwgdHJhbnNmb3JtLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBvdXQgT3V0IHZlY3RvclxyXG4gICAgICogQHBhcmFtIHYgVmVjdG9yIHRvIHRyYW5zZm9ybSwgZGVmYXVsdCBgb3V0YFxyXG4gICAgICogQHJldHVybiBUaGUgYG91dGAgcGFyYW1ldGVyLlxyXG4gICAgICpcclxuICAgICAqIEBzaW5jZSAwLjguN1xyXG4gICAgICovXHJcbiAgICB0cmFuc2Zvcm1WZWN0b3JJbnZlcnNlTG9jYWwob3V0LCB2ID0gb3V0KSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdFswXSA9IHZbMF07XHJcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0WzFdID0gdlsxXTtcclxuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXRbMl0gPSB2WzJdO1xyXG4gICAgICAgIHdhc20uX3dsX29iamVjdF90cmFuc2Zvcm1WZWN0b3JJbnZlcnNlTG9jYWwodGhpcy5vYmplY3RJZCwgd2FzbS5fdGVtcE1lbSk7XHJcbiAgICAgICAgb3V0WzBdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzBdO1xyXG4gICAgICAgIG91dFsxXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsxXTtcclxuICAgICAgICBvdXRbMl0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMl07XHJcbiAgICAgICAgcmV0dXJuIG91dDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVHJhbnNmb3JtIGEgcG9pbnQgYnkgdGhpcyBvYmplY3QncyBpbnZlcnNlIHdvcmxkIHRyYW5zZm9ybS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gb3V0IE91dCBwb2ludC5cclxuICAgICAqIEBwYXJhbSBwIFBvaW50IHRvIHRyYW5zZm9ybSwgZGVmYXVsdCBgb3V0YC5cclxuICAgICAqIEByZXR1cm4gVGhlIGBvdXRgIHBhcmFtZXRlci5cclxuICAgICAqXHJcbiAgICAgKiBAc2luY2UgMC44LjdcclxuICAgICAqL1xyXG4gICAgdHJhbnNmb3JtUG9pbnRJbnZlcnNlV29ybGQob3V0LCBwID0gb3V0KSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdFswXSA9IHBbMF07XHJcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0WzFdID0gcFsxXTtcclxuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXRbMl0gPSBwWzJdO1xyXG4gICAgICAgIHdhc20uX3dsX29iamVjdF90cmFuc2Zvcm1Qb2ludEludmVyc2VXb3JsZCh0aGlzLm9iamVjdElkLCB3YXNtLl90ZW1wTWVtKTtcclxuICAgICAgICBvdXRbMF0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMF07XHJcbiAgICAgICAgb3V0WzFdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzFdO1xyXG4gICAgICAgIG91dFsyXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsyXTtcclxuICAgICAgICByZXR1cm4gb3V0O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUcmFuc2Zvcm0gYSBwb2ludCBieSB0aGlzIG9iamVjdCdzIGludmVyc2UgbG9jYWwgdHJhbnNmb3JtLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBvdXQgT3V0IHBvaW50LlxyXG4gICAgICogQHBhcmFtIHAgUG9pbnQgdG8gdHJhbnNmb3JtLCBkZWZhdWx0IGBvdXRgLlxyXG4gICAgICogQHJldHVybiBUaGUgYG91dGAgcGFyYW1ldGVyLlxyXG4gICAgICpcclxuICAgICAqIEBzaW5jZSAwLjguN1xyXG4gICAgICovXHJcbiAgICB0cmFuc2Zvcm1Qb2ludEludmVyc2VMb2NhbChvdXQsIHAgPSBvdXQpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0LnNldChwKTtcclxuICAgICAgICB3YXNtLl93bF9vYmplY3RfdHJhbnNmb3JtUG9pbnRJbnZlcnNlTG9jYWwodGhpcy5vYmplY3RJZCwgd2FzbS5fdGVtcE1lbSk7XHJcbiAgICAgICAgb3V0WzBdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzBdO1xyXG4gICAgICAgIG91dFsxXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsxXTtcclxuICAgICAgICBvdXRbMl0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMl07XHJcbiAgICAgICAgcmV0dXJuIG91dDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVHJhbnNmb3JtIGFuIG9iamVjdCBzcGFjZSBkdWFsIHF1YXRlcm5pb24gaW50byB3b3JsZCBzcGFjZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gb3V0IE91dCB0cmFuc2Zvcm1hdGlvbi5cclxuICAgICAqIEBwYXJhbSBxIExvY2FsIHNwYWNlIHRyYW5zZm9ybWF0aW9uLCBkZWZhdWx0IGBvdXRgLlxyXG4gICAgICogQHJldHVybiBUaGUgYG91dGAgcGFyYW1ldGVyLlxyXG4gICAgICpcclxuICAgICAqIEBzaW5jZSAwLjguN1xyXG4gICAgICovXHJcbiAgICB0b1dvcmxkU3BhY2VUcmFuc2Zvcm0ob3V0LCBxID0gb3V0KSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdC5zZXQocSk7XHJcbiAgICAgICAgd2FzbS5fd2xfb2JqZWN0X3RvV29ybGRTcGFjZVRyYW5zZm9ybSh0aGlzLm9iamVjdElkLCB3YXNtLl90ZW1wTWVtKTtcclxuICAgICAgICBvdXRbMF0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMF07XHJcbiAgICAgICAgb3V0WzFdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzFdO1xyXG4gICAgICAgIG91dFsyXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsyXTtcclxuICAgICAgICBvdXRbM10gPSB3YXNtLl90ZW1wTWVtRmxvYXRbM107XHJcbiAgICAgICAgb3V0WzRdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzRdO1xyXG4gICAgICAgIG91dFs1XSA9IHdhc20uX3RlbXBNZW1GbG9hdFs1XTtcclxuICAgICAgICBvdXRbNl0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbNl07XHJcbiAgICAgICAgb3V0WzddID0gd2FzbS5fdGVtcE1lbUZsb2F0WzddO1xyXG4gICAgICAgIHJldHVybiBvdXQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFRyYW5zZm9ybSBhIHdvcmxkIHNwYWNlIGR1YWwgcXVhdGVybmlvbiBpbnRvIGxvY2FsIHNwYWNlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBvdXQgT3V0IHRyYW5zZm9ybWF0aW9uXHJcbiAgICAgKiBAcGFyYW0gcSBXb3JsZCBzcGFjZSB0cmFuc2Zvcm1hdGlvbiwgZGVmYXVsdCBgb3V0YFxyXG4gICAgICogQHJldHVybiBUaGUgYG91dGAgcGFyYW1ldGVyLlxyXG4gICAgICpcclxuICAgICAqIEBzaW5jZSAwLjguN1xyXG4gICAgICovXHJcbiAgICB0b0xvY2FsU3BhY2VUcmFuc2Zvcm0ob3V0LCBxID0gb3V0KSB7XHJcbiAgICAgICAgY29uc3QgcCA9IHRoaXMucGFyZW50O1xyXG4gICAgICAgIGlmIChwKSB7XHJcbiAgICAgICAgICAgIHAudG9PYmplY3RTcGFjZVRyYW5zZm9ybShvdXQsIHEpO1xyXG4gICAgICAgICAgICByZXR1cm4gb3V0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAob3V0ICE9PSBxKSB7XHJcbiAgICAgICAgICAgIG91dFswXSA9IHFbMF07XHJcbiAgICAgICAgICAgIG91dFsxXSA9IHFbMV07XHJcbiAgICAgICAgICAgIG91dFsyXSA9IHFbMl07XHJcbiAgICAgICAgICAgIG91dFszXSA9IHFbM107XHJcbiAgICAgICAgICAgIG91dFs0XSA9IHFbNF07XHJcbiAgICAgICAgICAgIG91dFs1XSA9IHFbNV07XHJcbiAgICAgICAgICAgIG91dFs2XSA9IHFbNl07XHJcbiAgICAgICAgICAgIG91dFs3XSA9IHFbN107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBvdXQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFRyYW5zZm9ybSBhIHdvcmxkIHNwYWNlIGR1YWwgcXVhdGVybmlvbiBpbnRvIG9iamVjdCBzcGFjZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gb3V0IE91dCB0cmFuc2Zvcm1hdGlvbi5cclxuICAgICAqIEBwYXJhbSBxIFdvcmxkIHNwYWNlIHRyYW5zZm9ybWF0aW9uLCBkZWZhdWx0IGBvdXRgXHJcbiAgICAgKiBAcmV0dXJuIFRoZSBgb3V0YCBwYXJhbWV0ZXIuXHJcbiAgICAgKlxyXG4gICAgICogQHNpbmNlIDAuOC43XHJcbiAgICAgKi9cclxuICAgIHRvT2JqZWN0U3BhY2VUcmFuc2Zvcm0ob3V0LCBxID0gb3V0KSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdC5zZXQocSk7XHJcbiAgICAgICAgd2FzbS5fd2xfb2JqZWN0X3RvT2JqZWN0U3BhY2VUcmFuc2Zvcm0odGhpcy5vYmplY3RJZCwgd2FzbS5fdGVtcE1lbSk7XHJcbiAgICAgICAgb3V0WzBdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzBdO1xyXG4gICAgICAgIG91dFsxXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsxXTtcclxuICAgICAgICBvdXRbMl0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMl07XHJcbiAgICAgICAgb3V0WzNdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzNdO1xyXG4gICAgICAgIG91dFs0XSA9IHdhc20uX3RlbXBNZW1GbG9hdFs0XTtcclxuICAgICAgICBvdXRbNV0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbNV07XHJcbiAgICAgICAgb3V0WzZdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzZdO1xyXG4gICAgICAgIG91dFs3XSA9IHdhc20uX3RlbXBNZW1GbG9hdFs3XTtcclxuICAgICAgICByZXR1cm4gb3V0O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUdXJuIHRvd2FyZHMgLyBsb29rIGF0IHRhcmdldC5cclxuICAgICAqXHJcbiAgICAgKiBSb3RhdGVzIHRoZSBvYmplY3Qgc28gdGhhdCBpdHMgZm9yd2FyZCB2ZWN0b3IgZmFjZXMgdG93YXJkcyB0aGUgdGFyZ2V0XHJcbiAgICAgKiBwb3NpdGlvbi4gVGhlIGB1cGAgdmVjdG9yIGFjdHMgYXMgYSBoaW50IHRvIHVuaXF1ZWx5IG9yaWVudCB0aGUgb2JqZWN0J3NcclxuICAgICAqIHVwIGRpcmVjdGlvbi4gV2hlbiBvcmllbnRpbmcgYSB2aWV3IGNvbXBvbmVudCwgdGhlIHByb2plY3RlZCBgdXBgIHZlY3RvclxyXG4gICAgICogZmFjZXMgdXB3YXJkcyBvbiB0aGUgdmlld2luZyBwbGFuZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gcCBUYXJnZXQgcG9zaXRpb24gdG8gdHVybiB0b3dhcmRzLCBpbiB3b3JsZCBzcGFjZS5cclxuICAgICAqIEBwYXJhbSB1cCBVcCB2ZWN0b3IgdG8gYWxpZ24gb2JqZWN0IHdpdGgsIGluIHdvcmxkIHNwYWNlLiBEZWZhdWx0IGlzIGBbMCwgMSwgMF1gLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cclxuICAgICAqL1xyXG4gICAgbG9va0F0KHAsIHVwID0gVVBfVkVDVE9SKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9sb29rQXQodGhpcy5vYmplY3RJZCwgcFswXSwgcFsxXSwgcFsyXSwgdXBbMF0sIHVwWzFdLCB1cFsyXSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICAvKiogRGVzdHJveSB0aGUgb2JqZWN0IHdpdGggYWxsIG9mIGl0cyBjb21wb25lbnRzIGFuZCByZW1vdmUgaXQgZnJvbSB0aGUgc2NlbmUgKi9cclxuICAgIGRlc3Ryb3koKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX29iamVjdElkIDwgMClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMuZW5naW5lLndhc20uX3dsX3NjZW5lX3JlbW92ZV9vYmplY3QodGhpcy5fb2JqZWN0SWQpO1xyXG4gICAgICAgIHRoaXMuZW5naW5lLl9kZXN0cm95T2JqZWN0KHRoaXMpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBNYXJrIHRyYW5zZm9ybWF0aW9uIGRpcnR5LlxyXG4gICAgICpcclxuICAgICAqIENhdXNlcyBhbiBldmVudHVhbCByZWNhbGN1bGF0aW9uIG9mIHtAbGluayB0cmFuc2Zvcm1Xb3JsZH0sIGVpdGhlclxyXG4gICAgICogb24gbmV4dCB7QGxpbmsgZ2V0VHJhbnNsYXRpb25Xb3JsZH0sIHtAbGluayB0cmFuc2Zvcm1Xb3JsZH0gb3JcclxuICAgICAqIHtAbGluayBzY2FsaW5nV29ybGR9IG9yIHRoZSBiZWdpbm5pbmcgb2YgbmV4dCBmcmFtZSwgd2hpY2hldmVyXHJcbiAgICAgKiBoYXBwZW5zIGZpcnN0LlxyXG4gICAgICovXHJcbiAgICBzZXREaXJ0eSgpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3NldF9kaXJ0eSh0aGlzLm9iamVjdElkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogRGlzYWJsZS9lbmFibGUgYWxsIGNvbXBvbmVudHMgb2YgdGhpcyBvYmplY3QuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGIgTmV3IHN0YXRlIGZvciB0aGUgY29tcG9uZW50cy5cclxuICAgICAqXHJcbiAgICAgKiBAc2luY2UgMC44LjVcclxuICAgICAqL1xyXG4gICAgc2V0IGFjdGl2ZShiKSB7XHJcbiAgICAgICAgY29uc3QgY29tcHMgPSB0aGlzLmdldENvbXBvbmVudHMoKTtcclxuICAgICAgICBmb3IgKGxldCBjIG9mIGNvbXBzKSB7XHJcbiAgICAgICAgICAgIGMuYWN0aXZlID0gYjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBnZXRDb21wb25lbnQodHlwZU9yQ2xhc3MsIGluZGV4ID0gMCkge1xyXG4gICAgICAgIGNvbnN0IHR5cGUgPSBpc1N0cmluZyh0eXBlT3JDbGFzcykgPyB0eXBlT3JDbGFzcyA6IHR5cGVPckNsYXNzLlR5cGVOYW1lO1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICBjb25zdCBjb21wb25lbnRUeXBlID0gd2FzbS5fd2xfZ2V0X2NvbXBvbmVudF9tYW5hZ2VyX2luZGV4KHdhc20udGVtcFVURjgodHlwZSkpO1xyXG4gICAgICAgIGlmIChjb21wb25lbnRUeXBlIDwgMCkge1xyXG4gICAgICAgICAgICAvKiBOb3QgYSBuYXRpdmUgY29tcG9uZW50LCB0cnkganM6ICovXHJcbiAgICAgICAgICAgIGNvbnN0IHR5cGVJbmRleCA9IHdhc20uX2NvbXBvbmVudFR5cGVJbmRpY2VzW3R5cGVdO1xyXG4gICAgICAgICAgICBpZiAodHlwZUluZGV4ID09PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgY29uc3QganNJbmRleCA9IHdhc20uX3dsX2dldF9qc19jb21wb25lbnRfaW5kZXgodGhpcy5vYmplY3RJZCwgdHlwZUluZGV4LCBpbmRleCk7XHJcbiAgICAgICAgICAgIGlmIChqc0luZGV4IDwgMClcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICBjb25zdCBjb21wb25lbnQgPSB0aGlzLl9lbmdpbmUud2FzbS5fY29tcG9uZW50c1tqc0luZGV4XTtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbXBvbmVudC5jb25zdHJ1Y3RvciAhPT0gQnJva2VuQ29tcG9uZW50ID8gY29tcG9uZW50IDogbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgY29tcG9uZW50SWQgPSB0aGlzLl9lbmdpbmUud2FzbS5fd2xfZ2V0X2NvbXBvbmVudF9pZCh0aGlzLm9iamVjdElkLCBjb21wb25lbnRUeXBlLCBpbmRleCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS5fd3JhcENvbXBvbmVudCh0eXBlLCBjb21wb25lbnRUeXBlLCBjb21wb25lbnRJZCk7XHJcbiAgICB9XHJcbiAgICBnZXRDb21wb25lbnRzKHR5cGVPckNsYXNzKSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIGxldCBjb21wb25lbnRUeXBlID0gbnVsbDtcclxuICAgICAgICBsZXQgdHlwZSA9IG51bGw7XHJcbiAgICAgICAgaWYgKHR5cGVPckNsYXNzKSB7XHJcbiAgICAgICAgICAgIHR5cGUgPSBpc1N0cmluZyh0eXBlT3JDbGFzcykgPyB0eXBlT3JDbGFzcyA6IHR5cGVPckNsYXNzLlR5cGVOYW1lO1xyXG4gICAgICAgICAgICBjb21wb25lbnRUeXBlID0gd2FzbS5fdHlwZUluZGV4Rm9yKHR5cGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBjb21wb25lbnRzID0gW107XHJcbiAgICAgICAgY29uc3QgbWF4Q29tcHMgPSBNYXRoLmZsb29yKCh3YXNtLl90ZW1wTWVtU2l6ZSAvIDMpICogMik7XHJcbiAgICAgICAgY29uc3QgY29tcG9uZW50c0NvdW50ID0gd2FzbS5fd2xfb2JqZWN0X2dldF9jb21wb25lbnRzKHRoaXMub2JqZWN0SWQsIHdhc20uX3RlbXBNZW0sIG1heENvbXBzKTtcclxuICAgICAgICBjb25zdCBvZmZzZXQgPSAyICogY29tcG9uZW50c0NvdW50O1xyXG4gICAgICAgIHdhc20uX3dsX29iamVjdF9nZXRfY29tcG9uZW50X3R5cGVzKHRoaXMub2JqZWN0SWQsIHdhc20uX3RlbXBNZW0gKyBvZmZzZXQsIG1heENvbXBzKTtcclxuICAgICAgICBjb25zdCBqc01hbmFnZXJJbmRleCA9IHdhc20uX2pzTWFuYWdlckluZGV4O1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29tcG9uZW50c0NvdW50OyArK2kpIHtcclxuICAgICAgICAgICAgY29uc3QgdCA9IHdhc20uX3RlbXBNZW1VaW50OFtpICsgb2Zmc2V0XTtcclxuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50SWQgPSB3YXNtLl90ZW1wTWVtVWludDE2W2ldO1xyXG4gICAgICAgICAgICAvKiBIYW5kbGUgSlMgdHlwZXMgc2VwYXJhdGVseSAqL1xyXG4gICAgICAgICAgICBpZiAodCA9PSBqc01hbmFnZXJJbmRleCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdHlwZUluZGV4ID0gd2FzbS5fd2xfZ2V0X2pzX2NvbXBvbmVudF9pbmRleF9mb3JfaWQoY29tcG9uZW50SWQpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY29tcCA9IHdhc20uX2NvbXBvbmVudHNbdHlwZUluZGV4XTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoZXMgPSBjb21wb25lbnRUeXBlID09PSBudWxsIHx8IGNvbXAudHlwZSA9PSB0eXBlO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbXAuY29uc3RydWN0b3IgIT09IEJyb2tlbkNvbXBvbmVudCAmJiBtYXRjaGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50cy5wdXNoKGNvbXApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGNvbXBvbmVudFR5cGUgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG1hbmFnZXJOYW1lID0gd2FzbS5fdHlwZU5hbWVGb3IodCk7XHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnRzLnB1c2godGhpcy5fZW5naW5lLl93cmFwQ29tcG9uZW50KG1hbmFnZXJOYW1lLCB0LCBjb21wb25lbnRJZCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHQgPT0gY29tcG9uZW50VHlwZSkge1xyXG4gICAgICAgICAgICAgICAgLyogT3B0aW1pemVkIG1hbmFnZXIgbmFtZSByZXRyaWV2YWwsIGFscmVhZHkgaGF2ZSB0eXBlICovXHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnRzLnB1c2godGhpcy5fZW5naW5lLl93cmFwQ29tcG9uZW50KHR5cGUsIGNvbXBvbmVudFR5cGUsIGNvbXBvbmVudElkKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudHM7XHJcbiAgICB9XHJcbiAgICBhZGRDb21wb25lbnQodHlwZU9yQ2xhc3MsIHBhcmFtcykge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICBjb25zdCB0eXBlID0gaXNTdHJpbmcodHlwZU9yQ2xhc3MpID8gdHlwZU9yQ2xhc3MgOiB0eXBlT3JDbGFzcy5UeXBlTmFtZTtcclxuICAgICAgICBjb25zdCBjb21wb25lbnRUeXBlID0gd2FzbS5fdHlwZUluZGV4Rm9yKHR5cGUpO1xyXG4gICAgICAgIGxldCBjb21wb25lbnQgPSBudWxsO1xyXG4gICAgICAgIGxldCBjb21wb25lbnRJbmRleCA9IG51bGw7XHJcbiAgICAgICAgaWYgKGNvbXBvbmVudFR5cGUgPCAwKSB7XHJcbiAgICAgICAgICAgIC8qIEphdmFTY3JpcHQgY29tcG9uZW50ICovXHJcbiAgICAgICAgICAgIGlmICghKHR5cGUgaW4gd2FzbS5fY29tcG9uZW50VHlwZUluZGljZXMpKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiVW5rbm93biBjb21wb25lbnQgdHlwZSAnXCIgKyB0eXBlICsgXCInXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudElkID0gd2FzbS5fd2xfb2JqZWN0X2FkZF9qc19jb21wb25lbnQodGhpcy5vYmplY3RJZCwgd2FzbS5fY29tcG9uZW50VHlwZUluZGljZXNbdHlwZV0pO1xyXG4gICAgICAgICAgICBjb21wb25lbnRJbmRleCA9IHdhc20uX3dsX2dldF9qc19jb21wb25lbnRfaW5kZXhfZm9yX2lkKGNvbXBvbmVudElkKTtcclxuICAgICAgICAgICAgY29tcG9uZW50ID0gd2FzbS5fY29tcG9uZW50c1tjb21wb25lbnRJbmRleF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvKiBuYXRpdmUgY29tcG9uZW50ICovXHJcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudElkID0gd2FzbS5fd2xfb2JqZWN0X2FkZF9jb21wb25lbnQodGhpcy5vYmplY3RJZCwgY29tcG9uZW50VHlwZSk7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudCA9IHRoaXMuX2VuZ2luZS5fd3JhcENvbXBvbmVudCh0eXBlLCBjb21wb25lbnRUeXBlLCBjb21wb25lbnRJZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChwYXJhbXMgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBjb25zdCBjdG9yID0gY29tcG9uZW50LmNvbnN0cnVjdG9yO1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBwYXJhbXMpIHtcclxuICAgICAgICAgICAgICAgIGlmICghKGtleSBpbiBjdG9yLlByb3BlcnRpZXMpKVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50W2tleV0gPSBwYXJhbXNba2V5XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvKiBFeHBsaWNpdGx5IGluaXRpYWxpemUgbmF0aXZlIGNvbXBvbmVudHMgKi9cclxuICAgICAgICBpZiAoY29tcG9uZW50VHlwZSA8IDApIHtcclxuICAgICAgICAgICAgLyogQHRvZG86IGBjb21wb25lbnRJbmRleGAgY2FuIGJlIG51bGwgaGVyZSwgdGhhdCdzIGFuIGVycm9yICovXHJcbiAgICAgICAgICAgIHdhc20uX3dsanNfY29tcG9uZW50X2luaXQoY29tcG9uZW50SW5kZXgpO1xyXG4gICAgICAgICAgICAvKiBzdGFydCgpIGlzIGNhbGxlZCB0aHJvdWdoIG9uQWN0aXZhdGUoKSAqL1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKiBJZiBpdCB3YXMgbm90IGV4cGxpY2l0bHkgcmVxdWVzdGVkIGJ5IHRoZSB1c2VyIHRvIGxlYXZlIHRoZSBjb21wb25lbnQgaW5hY3RpdmUsXHJcbiAgICAgICAgICogd2UgYWN0aXZhdGUgaXQgYXMgYSBmaW5hbCBzdGVwLiBUaGlzIGludmFsaWRhdGVzIGNvbXBvbmVudEluZGV4ISAqL1xyXG4gICAgICAgIGlmICghcGFyYW1zIHx8ICEoJ2FjdGl2ZScgaW4gcGFyYW1zICYmICFwYXJhbXMuYWN0aXZlKSkge1xyXG4gICAgICAgICAgICBjb21wb25lbnQuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2VhcmNoIGZvciBkZXNjZW5kYW50cyBtYXRjaGluZyB0aGUgbmFtZS5cclxuICAgICAqXHJcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBhIHdyYXBwZXIgYXJvdW5kIHtAbGluayBPYmplY3QzRC5maW5kQnlOYW1lRGlyZWN0fSBhbmRcclxuICAgICAqIHtAbGluayBPYmplY3QzRC5maW5kQnlOYW1lUmVjdXJzaXZlfS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gbmFtZSBUaGUgbmFtZSB0byBzZWFyY2ggZm9yLlxyXG4gICAgICogQHBhcmFtIHJlY3Vyc2l2ZSBJZiBgdHJ1ZWAsIHRoZSBtZXRob2Qgd2lsbCBsb29rIGF0IGFsbCB0aGUgZGVzY2VuZGFudHMgb2YgdGhpcyBvYmplY3QuXHJcbiAgICAgKiAgICAgSWYgYGZhbHNlYCwgdGhpcyBtZXRob2Qgd2lsbCBvbmx5IHBlcmZvcm0gdGhlIHNlYXJjaCBpbiBkaXJlY3QgY2hpbGRyZW4uXHJcbiAgICAgKiBAcmV0dXJucyBBbiBhcnJheSBvZiB7QGxpbmsgT2JqZWN0M0R9IG1hdGNoaW5nIHRoZSBuYW1lLlxyXG4gICAgICpcclxuICAgICAqIEBzaW5jZSAxLjEuMFxyXG4gICAgICovXHJcbiAgICBmaW5kQnlOYW1lKG5hbWUsIHJlY3Vyc2l2ZSA9IGZhbHNlKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlY3Vyc2l2ZSA/IHRoaXMuZmluZEJ5TmFtZVJlY3Vyc2l2ZShuYW1lKSA6IHRoaXMuZmluZEJ5TmFtZURpcmVjdChuYW1lKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2VhcmNoIGZvciBhbGwgKipkaXJlY3QqKiBjaGlsZHJlbiBtYXRjaGluZyB0aGUgbmFtZS5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBFdmVuIHRob3VnaCB0aGlzIG1ldGhvZCBpcyBoZWF2aWx5IG9wdGltaXplZCwgaXQgZG9lcyBwZXJmb3JtXHJcbiAgICAgKiBhIGxpbmVhciBzZWFyY2ggdG8gZmluZCB0aGUgb2JqZWN0cy4gRG8gbm90IHVzZSBpbiBhIGhvdCBwYXRoLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBuYW1lIFRoZSBuYW1lIHRvIHNlYXJjaCBmb3IuXHJcbiAgICAgKiBAcmV0dXJucyBBbiBhcnJheSBvZiB7QGxpbmsgT2JqZWN0M0R9IG1hdGNoaW5nIHRoZSBuYW1lLlxyXG4gICAgICpcclxuICAgICAqIEBzaW5jZSAxLjEuMFxyXG4gICAgICovXHJcbiAgICBmaW5kQnlOYW1lRGlyZWN0KG5hbWUpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgY29uc3QgaWQgPSB0aGlzLl9vYmplY3RJZDtcclxuICAgICAgICAvKiBEaXZpZGUgYnkgNCB0byBnZXQgaGFsZiBhcyBtYW55IHVzaG9ydCBhcyBwb3NzaWJsZSAqL1xyXG4gICAgICAgIGNvbnN0IHRlbXBTaXplVTE2ID0gd2FzbS5fdGVtcE1lbVNpemUgPj4gMjtcclxuICAgICAgICBjb25zdCBtYXhDb3VudCA9IHRlbXBTaXplVTE2IC0gMjsgLyogUmVzZXJ2ZSB0d28gdXNob3J0ICovXHJcbiAgICAgICAgY29uc3QgYnVmZmVyID0gd2FzbS5fdGVtcE1lbVVpbnQxNjtcclxuICAgICAgICBidWZmZXJbbWF4Q291bnRdID0gMDsgLyogSW5kZXggb2Zmc2V0ICovXHJcbiAgICAgICAgYnVmZmVyW21heENvdW50ICsgMV0gPSAwOyAvKiBjaGlsZCBjb3VudCAqL1xyXG4gICAgICAgIGNvbnN0IGJ1ZmZlclB0ciA9IHdhc20uX3RlbXBNZW07XHJcbiAgICAgICAgY29uc3QgaW5kZXhQdHIgPSBidWZmZXJQdHIgKyBtYXhDb3VudCAqIDI7XHJcbiAgICAgICAgY29uc3QgY2hpbGRDb3VudFB0ciA9IGJ1ZmZlclB0ciArIG1heENvdW50ICogMiArIDI7XHJcbiAgICAgICAgY29uc3QgbmFtZVB0ciA9IHdhc20udGVtcFVURjgobmFtZSwgKG1heENvdW50ICsgMikgKiAyKTtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBbXTtcclxuICAgICAgICBsZXQgcmVhZCA9IDA7XHJcbiAgICAgICAgd2hpbGUgKChyZWFkID0gd2FzbS5fd2xfb2JqZWN0X2ZpbmRCeU5hbWUoaWQsIG5hbWVQdHIsIGluZGV4UHRyLCBjaGlsZENvdW50UHRyLCBidWZmZXJQdHIsIG1heENvdW50KSkpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZWFkOyArK2kpXHJcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh0aGlzLmVuZ2luZS53cmFwT2JqZWN0KGJ1ZmZlcltpXSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZWFyY2ggZm9yICoqYWxsIGRlc2NlbmRhbnRzKiogbWF0Y2hpbmcgdGhlIG5hbWUuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgRXZlbiB0aG91Z2ggdGhpcyBtZXRob2QgaXMgaGVhdmlseSBvcHRpbWl6ZWQsIGl0IGRvZXMgcGVyZm9ybVxyXG4gICAgICogYSBsaW5lYXIgc2VhcmNoIHRvIGZpbmQgdGhlIG9iamVjdHMuIERvIG5vdCB1c2UgaW4gYSBob3QgcGF0aC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gbmFtZSBUaGUgbmFtZSB0byBzZWFyY2ggZm9yLlxyXG4gICAgICogQHJldHVybnMgQW4gYXJyYXkgb2Yge0BsaW5rIE9iamVjdDNEfSBtYXRjaGluZyB0aGUgbmFtZS5cclxuICAgICAqL1xyXG4gICAgZmluZEJ5TmFtZVJlY3Vyc2l2ZShuYW1lKSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIGNvbnN0IGlkID0gdGhpcy5fb2JqZWN0SWQ7XHJcbiAgICAgICAgLyogRGl2aWRlIGJ5IDQgdG8gZ2V0IGhhbGYgYXMgbWFueSB1c2hvcnQgYXMgcG9zc2libGUgKi9cclxuICAgICAgICBjb25zdCB0ZW1wU2l6ZVUxNiA9IHdhc20uX3RlbXBNZW1TaXplID4+IDI7XHJcbiAgICAgICAgY29uc3QgbWF4Q291bnQgPSB0ZW1wU2l6ZVUxNiAtIDE7IC8qIFJlc2VydmUgb25lIHVzaG9ydCAqL1xyXG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IHdhc20uX3RlbXBNZW1VaW50MTY7XHJcbiAgICAgICAgYnVmZmVyW21heENvdW50XSA9IDA7IC8qIEluZGV4IG9mZnNldCAqL1xyXG4gICAgICAgIGNvbnN0IGJ1ZmZlclB0ciA9IHdhc20uX3RlbXBNZW07XHJcbiAgICAgICAgY29uc3QgaW5kZXhQdHIgPSBidWZmZXJQdHIgKyBtYXhDb3VudCAqIDI7XHJcbiAgICAgICAgY29uc3QgbmFtZVB0ciA9IHdhc20udGVtcFVURjgobmFtZSwgKG1heENvdW50ICsgMSkgKiAyKTtcclxuICAgICAgICBsZXQgcmVhZCA9IDA7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XHJcbiAgICAgICAgd2hpbGUgKChyZWFkID0gd2FzbS5fd2xfb2JqZWN0X2ZpbmRCeU5hbWVSZWN1cnNpdmUoaWQsIG5hbWVQdHIsIGluZGV4UHRyLCBidWZmZXJQdHIsIG1heENvdW50KSkpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZWFkOyArK2kpXHJcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh0aGlzLmVuZ2luZS53cmFwT2JqZWN0KGJ1ZmZlcltpXSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBXaGV0aGVyIGdpdmVuIG9iamVjdCdzIHRyYW5zZm9ybWF0aW9uIGhhcyBjaGFuZ2VkLlxyXG4gICAgICovXHJcbiAgICBnZXQgY2hhbmdlZCgpIHtcclxuICAgICAgICByZXR1cm4gISF0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X2lzX2NoYW5nZWQodGhpcy5vYmplY3RJZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIGB0cnVlYCBpZiB0aGUgb2JqZWN0IGlzIGRlc3Ryb3llZCwgYGZhbHNlYCBvdGhlcndpc2UuXHJcbiAgICAgKlxyXG4gICAgICogSWYge0BsaW5rIFdvbmRlcmxhbmRFbmdpbmUuZXJhc2VQcm90b3R5cGVPbkRlc3Ryb3l9IGlzIGB0cnVlYCxcclxuICAgICAqIHJlYWRpbmcgYSBjdXN0b20gcHJvcGVydHkgd2lsbCBub3Qgd29yazpcclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogZW5naW5lLmVyYXNlUHJvdG90eXBlT25EZXN0cm95ID0gdHJ1ZTtcclxuICAgICAqXHJcbiAgICAgKiBjb25zdCBvYmogPSBzY2VuZS5hZGRPYmplY3QoKTtcclxuICAgICAqIG9iai5jdXN0b21QYXJhbSA9ICdIZWxsbyBXb3JsZCEnO1xyXG4gICAgICpcclxuICAgICAqIGNvbnNvbGUubG9nKG9iai5pc0Rlc3Ryb3llZCk7IC8vIFByaW50cyBgZmFsc2VgXHJcbiAgICAgKiBvYmouZGVzdHJveSgpO1xyXG4gICAgICogY29uc29sZS5sb2cob2JqLmlzRGVzdHJveWVkKTsgLy8gUHJpbnRzIGB0cnVlYFxyXG4gICAgICogY29uc29sZS5sb2cob2JqLmN1c3RvbVBhcmFtKTsgLy8gVGhyb3dzIGFuIGVycm9yXHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBAc2luY2UgMS4xLjFcclxuICAgICAqL1xyXG4gICAgZ2V0IGlzRGVzdHJveWVkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9vYmplY3RJZCA8IDA7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENoZWNrcyBlcXVhbGl0eSBieSBjb21wYXJpbmcgd2hldGhlciB0aGUgd3JhcHBlZCBuYXRpdmUgb2JqZWN0IGlkcyBhcmVcclxuICAgICAqIGVxdWFsLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBvdGhlck9iamVjdCBPYmplY3QgdG8gY2hlY2sgZXF1YWxpdHkgd2l0aC5cclxuICAgICAqIEByZXR1cm5zIFdoZXRoZXIgdGhpcyBvYmplY3QgZXF1YWxzIHRoZSBnaXZlbiBvYmplY3QuXHJcbiAgICAgKi9cclxuICAgIGVxdWFscyhvdGhlck9iamVjdCkge1xyXG4gICAgICAgIGlmICghb3RoZXJPYmplY3QpXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICByZXR1cm4gdGhpcy5vYmplY3RJZCA9PSBvdGhlck9iamVjdC5vYmplY3RJZDtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogV3JhcHBlciBhcm91bmQgYSBuYXRpdmUgc2tpbiBkYXRhLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFNraW4ge1xyXG4gICAgLyoqXHJcbiAgICAgKiBJbmRleCBvZiB0aGUgc2tpbiBpbiB0aGUgbWFuYWdlci5cclxuICAgICAqIEBoaWRkZW5cclxuICAgICAqL1xyXG4gICAgX2luZGV4O1xyXG4gICAgLyoqIFdvbmRlcmxhbmQgRW5naW5lIGluc3RhbmNlLiBAaGlkZGVuICovXHJcbiAgICBfZW5naW5lO1xyXG4gICAgY29uc3RydWN0b3IoZW5naW5lLCBpbmRleCkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZSA9IGVuZ2luZTtcclxuICAgICAgICB0aGlzLl9pbmRleCA9IGluZGV4O1xyXG4gICAgfVxyXG4gICAgLyoqIEFtb3VudCBvZiBqb2ludHMgaW4gdGhpcyBza2luLiAqL1xyXG4gICAgZ2V0IGpvaW50Q291bnQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9za2luX2dldF9qb2ludF9jb3VudCh0aGlzLl9pbmRleCk7XHJcbiAgICB9XHJcbiAgICAvKiogSm9pbnRzIG9iamVjdCBpZHMgZm9yIHRoaXMgc2tpbiAqL1xyXG4gICAgZ2V0IGpvaW50SWRzKCkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICByZXR1cm4gbmV3IFVpbnQxNkFycmF5KHdhc20uSEVBUFUxNi5idWZmZXIsIHdhc20uX3dsX3NraW5fam9pbnRfaWRzKHRoaXMuX2luZGV4KSwgdGhpcy5qb2ludENvdW50KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogRHVhbCBxdWF0ZXJuaW9ucyBpbiBhIGZsYXQgYXJyYXkgb2Ygc2l6ZSA4IHRpbWVzIHtAbGluayBqb2ludENvdW50fS5cclxuICAgICAqXHJcbiAgICAgKiBJbnZlcnNlIGJpbmQgdHJhbnNmb3JtcyBvZiB0aGUgc2tpbi5cclxuICAgICAqL1xyXG4gICAgZ2V0IGludmVyc2VCaW5kVHJhbnNmb3JtcygpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkod2FzbS5IRUFQRjMyLmJ1ZmZlciwgd2FzbS5fd2xfc2tpbl9pbnZlcnNlX2JpbmRfdHJhbnNmb3Jtcyh0aGlzLl9pbmRleCksIDggKiB0aGlzLmpvaW50Q291bnQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBWZWN0b3JzIGluIGEgZmxhdCBhcnJheSBvZiBzaXplIDMgdGltZXMge0BsaW5rIGpvaW50Q291bnR9LlxyXG4gICAgICpcclxuICAgICAqIEludmVyc2UgYmluZCBzY2FsaW5ncyBvZiB0aGUgc2tpbi5cclxuICAgICAqL1xyXG4gICAgZ2V0IGludmVyc2VCaW5kU2NhbGluZ3MoKSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KHdhc20uSEVBUEYzMi5idWZmZXIsIHdhc20uX3dsX3NraW5faW52ZXJzZV9iaW5kX3NjYWxpbmdzKHRoaXMuX2luZGV4KSwgMyAqIHRoaXMuam9pbnRDb3VudCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENoZWNrcyBlcXVhbGl0eSBieSBjb21wYXJpbmcgd2hldGhlciB0aGUgd3JhcHBlZCBuYXRpdmUgc2tpbiBpZHMgYXJlXHJcbiAgICAgKiBlcXVhbC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gb3RoZXJTa2luIFNraW4gdG8gY2hlY2sgZXF1YWxpdHkgd2l0aC5cclxuICAgICAqIEByZXR1cm5zIFdoZXRoZXIgdGhpcyBza2luIGVxdWFscyB0aGUgZ2l2ZW4gc2tpbi5cclxuICAgICAqXHJcbiAgICAgKiBAc2luY2UgMS4wLjBcclxuICAgICAqL1xyXG4gICAgZXF1YWxzKG90aGVyU2tpbikge1xyXG4gICAgICAgIGlmICghb3RoZXJTa2luKVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luZGV4ID09PSBvdGhlclNraW4uX2luZGV4O1xyXG4gICAgfVxyXG59XHJcbi8qIEZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5IHdpdGggPCAxLjAuMC4gKi9cclxuZXhwb3J0IHsgT2JqZWN0M0QgYXMgT2JqZWN0IH07XHJcbi8qKlxyXG4gKiBSYXkgaGl0LlxyXG4gKlxyXG4gKiBSZXN1bHQgb2YgYSB7QGxpbmsgU2NlbmUucmF5Q2FzdH0uXHJcbiAqXHJcbiAqIEBub3RlIHRoaXMgY2xhc3Mgd3JhcHMgaW50ZXJuYWwgZW5naW5lIGRhdGEgYW5kIHNob3VsZCBvbmx5IGJlIGNyZWF0ZWQgaW50ZXJuYWxseS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBSYXlIaXQge1xyXG4gICAgLyoqIFdvbmRlcmxhbmQgRW5naW5lIGluc3RhbmNlLiBAaGlkZGVuICovXHJcbiAgICBfZW5naW5lO1xyXG4gICAgLyoqIFBvaW50ZXIgdG8gdGhlIG1lbW9yeSBoZWFwLiAqL1xyXG4gICAgX3B0cjtcclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIHB0ciBQb2ludGVyIHRvIHRoZSByYXkgaGl0cyBtZW1vcnkuXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKGVuZ2luZSwgcHRyKSB7XHJcbiAgICAgICAgaWYgKChwdHIgJiAzKSAhPT0gMCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc2FsaWduZWQgcG9pbnRlcjogcGxlYXNlIHJlcG9ydCBhIGJ1ZycpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9lbmdpbmUgPSBlbmdpbmU7XHJcbiAgICAgICAgdGhpcy5fcHRyID0gcHRyO1xyXG4gICAgfVxyXG4gICAgLyoqIEFycmF5IG9mIHJheSBoaXQgbG9jYXRpb25zLiAqL1xyXG4gICAgZ2V0IGxvY2F0aW9ucygpIHtcclxuICAgICAgICBsZXQgcCA9IHRoaXMuX3B0cjtcclxuICAgICAgICBsZXQgbCA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5oaXRDb3VudDsgKytpKSB7XHJcbiAgICAgICAgICAgIGwucHVzaChuZXcgRmxvYXQzMkFycmF5KHRoaXMuX2VuZ2luZS53YXNtLkhFQVBGMzIuYnVmZmVyLCBwICsgMTIgKiBpLCAzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBsO1xyXG4gICAgfVxyXG4gICAgLyoqIEFycmF5IG9mIHJheSBoaXQgbm9ybWFscyAob25seSB3aGVuIHVzaW5nIHtAbGluayBQaHlzaWNzI3JheUNhc3R9LiAqL1xyXG4gICAgZ2V0IG5vcm1hbHMoKSB7XHJcbiAgICAgICAgbGV0IHAgPSB0aGlzLl9wdHIgKyA0ODtcclxuICAgICAgICBsZXQgbCA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5oaXRDb3VudDsgKytpKSB7XHJcbiAgICAgICAgICAgIGwucHVzaChuZXcgRmxvYXQzMkFycmF5KHRoaXMuX2VuZ2luZS53YXNtLkhFQVBGMzIuYnVmZmVyLCBwICsgMTIgKiBpLCAzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBsO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBQcmVmZXIgdGhlc2UgdG8gcmVjYWxjdWxhdGluZyB0aGUgZGlzdGFuY2UgZnJvbSBsb2NhdGlvbnMuXHJcbiAgICAgKlxyXG4gICAgICogRGlzdGFuY2VzIG9mIGFycmF5IGhpdHMgdG8gcmF5IG9yaWdpbi5cclxuICAgICAqL1xyXG4gICAgZ2V0IGRpc3RhbmNlcygpIHtcclxuICAgICAgICBjb25zdCBwID0gdGhpcy5fcHRyICsgNDggKiAyO1xyXG4gICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KHRoaXMuX2VuZ2luZS53YXNtLkhFQVBGMzIuYnVmZmVyLCBwLCB0aGlzLmhpdENvdW50KTtcclxuICAgIH1cclxuICAgIC8qKiBIaXQgb2JqZWN0cyAqL1xyXG4gICAgZ2V0IG9iamVjdHMoKSB7XHJcbiAgICAgICAgY29uc3QgSEVBUFUxNiA9IHRoaXMuX2VuZ2luZS53YXNtLkhFQVBVMTY7XHJcbiAgICAgICAgY29uc3Qgb2JqZWN0cyA9IFtudWxsLCBudWxsLCBudWxsLCBudWxsXTtcclxuICAgICAgICBsZXQgcCA9ICh0aGlzLl9wdHIgKyAoNDggKiAyICsgMTYpKSA+PiAxO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5oaXRDb3VudDsgKytpKSB7XHJcbiAgICAgICAgICAgIG9iamVjdHNbaV0gPSB0aGlzLl9lbmdpbmUud3JhcE9iamVjdChIRUFQVTE2W3AgKyBpXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBvYmplY3RzO1xyXG4gICAgfVxyXG4gICAgLyoqIE51bWJlciBvZiBoaXRzIChtYXggNCkgKi9cclxuICAgIGdldCBoaXRDb3VudCgpIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5taW4odGhpcy5fZW5naW5lLndhc20uSEVBUFUzMlt0aGlzLl9wdHIgLyA0ICsgMzBdLCA0KTtcclxuICAgIH1cclxufVxyXG5jbGFzcyBtYXRoIHtcclxuICAgIC8qKiAoRXhwZXJpbWVudGFsISkgQ3ViaWMgSGVybWl0ZSBzcGxpbmUgaW50ZXJwb2xhdGlvbiBmb3IgdmVjdG9yMyBhbmQgcXVhdGVybmlvbnMuXHJcbiAgICAgKlxyXG4gICAgICogV2l0aCBgZiA9PSAwYCwgYG91dGAgd2lsbCBiZSBgYmAsIGlmIGBmID09IDFgLCBgb3V0YCB3aWxsIGJlIGMuXHJcbiAgICAgKlxyXG4gICAgICogV2hldGhlciBhIHF1YXRlcm5pb24gb3IgdmVjdG9yMyBpbnRlcnBvbGF0aW9uIGlzIGludGVuZGVkIGlzIGRldGVybWluZWQgYnlcclxuICAgICAqIGxlbmd0aCBvZiBgYWAuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG91dCBBcnJheSB0byB3cml0ZSByZXN1bHQgdG8uXHJcbiAgICAgKiBAcGFyYW0gYSBGaXJzdCB0YW5nZW50L2hhbmRsZS5cclxuICAgICAqIEBwYXJhbSBiIEZpcnN0IHBvaW50IG9yIHF1YXRlcm5pb24uXHJcbiAgICAgKiBAcGFyYW0gYyBTZWNvbmQgcG9pbnQgb3IgcXVhdGVybmlvbi5cclxuICAgICAqIEBwYXJhbSBkIFNlY29uZCBoYW5kbGUuXHJcbiAgICAgKiBAcGFyYW0gZiBJbnRlcnBvbGF0aW9uIGZhY3RvciBpbiBbMDsgMV0uXHJcbiAgICAgKiBAcmV0dXJucyBUaGUgYG91dGAgcGFyYW1ldGVyLlxyXG4gICAgICpcclxuICAgICAqIEBzaW5jZSAwLjguNlxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgY3ViaWNIZXJtaXRlKG91dCwgYSwgYiwgYywgZCwgZiwgZW5naW5lID0gV0wpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gZW5naW5lLndhc207XHJcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0LnN1YmFycmF5KDApLnNldChhKTtcclxuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXQuc3ViYXJyYXkoNCkuc2V0KGIpO1xyXG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdC5zdWJhcnJheSg4KS5zZXQoYyk7XHJcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0LnN1YmFycmF5KDEyKS5zZXQoZCk7XHJcbiAgICAgICAgY29uc3QgaXNRdWF0ID0gYS5sZW5ndGggPT0gNDtcclxuICAgICAgICB3YXNtLl93bF9tYXRoX2N1YmljSGVybWl0ZSh3YXNtLl90ZW1wTWVtICsgNCAqIDE2LCB3YXNtLl90ZW1wTWVtICsgNCAqIDAsIHdhc20uX3RlbXBNZW0gKyA0ICogNCwgd2FzbS5fdGVtcE1lbSArIDQgKiA4LCB3YXNtLl90ZW1wTWVtICsgNCAqIDEyLCBmLCBpc1F1YXQpO1xyXG4gICAgICAgIG91dFswXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsxNl07XHJcbiAgICAgICAgb3V0WzFdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzE3XTtcclxuICAgICAgICBvdXRbMl0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMThdO1xyXG4gICAgICAgIGlmIChpc1F1YXQpXHJcbiAgICAgICAgICAgIG91dFszXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsxOV07XHJcbiAgICAgICAgcmV0dXJuIG91dDtcclxuICAgIH1cclxufVxyXG5leHBvcnQgeyBtYXRoIH07XHJcbi8qKlxyXG4gKiBDbGFzcyBmb3IgYWNjZXNzaW5nIGludGVybmF0aW9uYWxpemF0aW9uIChpMThuKSBmZWF0dXJlcy5cclxuICpcclxuICogQWxsb3dzIHtAbGluayBJMThOLm9uTGFuZ3VhZ2VDaGFuZ2VkIFwiZGV0ZWN0aW5nIGxhbmd1YWdlIGNoYW5nZVwifSxcclxuICoge0BsaW5rIEkxOE4ubGFuZ3VhZ2UgXCJzZXR0aW5nIHRoZSBjdXJyZW50IGxhbmd1YWdlXCJ9IG9yIHRyYW5zbGF0aW5nXHJcbiAqIHtAbGluayBJMThOLnRyYW5zbGF0ZSBcImluZGl2aWR1YWwgdGVybXNcIn0uXHJcbiAqXHJcbiAqIEludGVybmF0aW9uYWxpemF0aW9uIHdvcmtzIHdpdGggdGVybXMsXHJcbiAqIGEgc3RyaW5nIHR5cGUga2V5d29yZCB0aGF0IGlzIGxpbmtlZCB0byBhIGRpZmZlcmVudCB0ZXh0IGZvciBlYWNoIGxhbmd1YWdlLlxyXG4gKlxyXG4gKiBJbnRlcm5hbGx5LCBzdHJpbmcgcGFyYW1ldGVycyBmb3IgdGV4dCBhbmQganMgY29tcG9uZW50cyBhcmVcclxuICogYXV0b21hdGljYWxseSBzd2FwcGVkIGR1cmluZyBsYW5ndWFnZSBjaGFuZ2UsIGdpdmVuIHRoZXkgYXJlIGxpbmtlZCB0byBhIHRlcm0uXHJcbiAqIElmIG1hbnVhbCB0ZXh0IHN3YXBwaW5nIGlzIGRlc2lyZWQsIHtAbGluayBJMThOLnRyYW5zbGF0ZX1cclxuICogY2FuIGJlIHVzZWQgdG8gcmV0cmlldmUgdGhlIGN1cnJlbnQgdHJhbnNsYXRpb24gZm9yIGFueSB0ZXJtLlxyXG4gKlxyXG4gKiBZb3UgY2FuIGFsc28gdXNlIHRoZSB7QGxpbmsgSTE4Ti5vbkxhbmd1YWdlQ2hhbmdlZH0gdG8gbWFudWFsbHkgdXBkYXRlIHRleHRcclxuICogd2hlbiBhIGxhbmd1YWdlIGlzIGNoYW5nZWQgdG8gZm9yIGV4YW1wbGUgdXBkYXRlIGEgbnVtYmVyIGluIGEgc3RyaW5nLlxyXG4gKlxyXG4gKiBAc2luY2UgMS4wLjBcclxuICovXHJcbmV4cG9ydCBjbGFzcyBJMThOIHtcclxuICAgIC8qKlxyXG4gICAgICoge0BsaW5rIEVtaXR0ZXJ9IGZvciBsYW5ndWFnZSBjaGFuZ2UgZXZlbnRzLlxyXG4gICAgICpcclxuICAgICAqIEZpcnN0IHBhcmFtZXRlciB0byBhIGxpc3RlbmVyIGlzIHRoZSBvbGQgbGFuZ3VhZ2UgaW5kZXgsXHJcbiAgICAgKiBzZWNvbmQgcGFyYW1ldGVyIGlzIHRoZSBuZXcgbGFuZ3VhZ2UgaW5kZXguXHJcbiAgICAgKlxyXG4gICAgICogVXNhZ2UgZnJvbSBhIHdpdGhpbiBhIGNvbXBvbmVudDpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiB0aGlzLmVuZ2luZS5pMThuLm9uTGFuZ3VhZ2VDaGFuZ2VkLmFkZCgob2xkTGFuZ3VhZ2VJbmRleCwgbmV3TGFuZ3VhZ2VJbmRleCkgPT4ge1xyXG4gICAgICogICAgIGNvbnN0IG9sZExhbmd1YWdlID0gdGhpcy5lbmdpbmUuaTE4bi5sYW5ndWFnZU5hbWUob2xkTGFuZ3VhZ2VJbmRleCk7XHJcbiAgICAgKiAgICAgY29uc3QgbmV3TGFuZ3VhZ2UgPSB0aGlzLmVuZ2luZS5pMThuLmxhbmd1YWdlTmFtZShuZXdMYW5ndWFnZUluZGV4KTtcclxuICAgICAqICAgICBjb25zb2xlLmxvZyhcIlN3aXRjaGVkIGZyb21cIiwgb2xkTGFuZ3VhZ2UsIFwidG9cIiwgbmV3TGFuZ3VhZ2UpO1xyXG4gICAgICogfSk7XHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgb25MYW5ndWFnZUNoYW5nZWQgPSBuZXcgRW1pdHRlcigpO1xyXG4gICAgLyoqIFdvbmRlcmxhbmQgRW5naW5lIGluc3RhbmNlLiBAaGlkZGVuICovXHJcbiAgICBfZW5naW5lO1xyXG4gICAgLyoqIFByZXZpb3VzbHkgc2V0IGxhbmd1YWdlIGluZGV4LiBAaGlkZGVuICovXHJcbiAgICBfcHJldkxhbmd1YWdlSW5kZXggPSAtMTtcclxuICAgIC8qKlxyXG4gICAgICogQ29uc3RydWN0b3JcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoZW5naW5lKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lID0gZW5naW5lO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgY3VycmVudCBsYW5ndWFnZSBhbmQgYXBwbHkgdHJhbnNsYXRpb25zIHRvIGxpbmtlZCB0ZXh0IHBhcmFtZXRlcnMuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgVGhpcyBpcyBlcXVpdmFsZW50IHRvIHtAbGluayBJMThOLnNldExhbmd1YWdlfS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gY29kZSBMYW5ndWFnZSBjb2RlIHRvIHN3aXRjaCB0b1xyXG4gICAgICovXHJcbiAgICBzZXQgbGFuZ3VhZ2UoY29kZSkge1xyXG4gICAgICAgIHRoaXMuc2V0TGFuZ3VhZ2UoY29kZSk7XHJcbiAgICB9XHJcbiAgICAvKiogR2V0IGN1cnJlbnQgbGFuZ3VhZ2UgY29kZS4gKi9cclxuICAgIGdldCBsYW5ndWFnZSgpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgY29uc3QgY29kZSA9IHdhc20uX3dsX2kxOG5fY3VycmVudExhbmd1YWdlKCk7XHJcbiAgICAgICAgaWYgKGNvZGUgPT09IDApXHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIHJldHVybiB3YXNtLlVURjhUb1N0cmluZyhjb2RlKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBjdXJyZW50IGxhbmd1YWdlIGluZGV4LlxyXG4gICAgICpcclxuICAgICAqIFRoaXMgbWV0aG9kIGlzIG1vcmUgZWZmaWNpZW50IHRoYW4gaXRzIGVxdWl2YWxlbnQ6XHJcbiAgICAgKlxyXG4gICAgICogYGBganNcclxuICAgICAqIGNvbnN0IGluZGV4ID0gaTE4bi5sYW5ndWFnZUluZGV4KGkxOG4ubGFuZ3VhZ2UpO1xyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIGdldCBjdXJyZW50SW5kZXgoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9pMThuX2N1cnJlbnRMYW5ndWFnZUluZGV4KCk7XHJcbiAgICB9XHJcbiAgICAvKiogUHJldmlvdXMgbGFuZ3VhZ2UgaW5kZXguICovXHJcbiAgICBnZXQgcHJldmlvdXNJbmRleCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcHJldkxhbmd1YWdlSW5kZXg7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCBjdXJyZW50IGxhbmd1YWdlIGFuZCBhcHBseSB0cmFuc2xhdGlvbnMgdG8gbGlua2VkIHRleHQgcGFyYW1ldGVycy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gY29kZSBUaGUgbGFuZ3VhZ2UgY29kZS5cclxuICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggdGhlIGN1cnJlbnQgaW5kZXggY29kZSB3aGVuIHRoZVxyXG4gICAgICogICAgIGxhbmd1YWdlIGlzIGxvYWRlZC5cclxuICAgICAqL1xyXG4gICAgc2V0TGFuZ3VhZ2UoY29kZSkge1xyXG4gICAgICAgIGlmIChjb2RlID09IG51bGwpXHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5jdXJyZW50SW5kZXgpO1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICB0aGlzLl9wcmV2TGFuZ3VhZ2VJbmRleCA9IHRoaXMuY3VycmVudEluZGV4O1xyXG4gICAgICAgIHdhc20uX3dsX2kxOG5fc2V0TGFuZ3VhZ2Uod2FzbS50ZW1wVVRGOChjb2RlKSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS5zY2VuZVxyXG4gICAgICAgICAgICAuX2ZsdXNoQXBwZW5kKHRoaXMuX2VuZ2luZS5zY2VuZS5iYXNlVVJMKVxyXG4gICAgICAgICAgICAudGhlbigoKSA9PiB0aGlzLmN1cnJlbnRJbmRleCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdldCB0cmFuc2xhdGVkIHN0cmluZyBmb3IgYSB0ZXJtIGZvciB0aGUgY3VycmVudGx5IGxvYWRlZCBsYW5ndWFnZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdGVybSBUZXJtIHRvIHRyYW5zbGF0ZVxyXG4gICAgICovXHJcbiAgICB0cmFuc2xhdGUodGVybSkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICBjb25zdCB0cmFuc2xhdGlvbiA9IHdhc20uX3dsX2kxOG5fdHJhbnNsYXRlKHdhc20udGVtcFVURjgodGVybSkpO1xyXG4gICAgICAgIGlmICh0cmFuc2xhdGlvbiA9PT0gMClcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgcmV0dXJuIHdhc20uVVRGOFRvU3RyaW5nKHRyYW5zbGF0aW9uKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBudW1iZXIgb2YgbGFuZ3VhZ2VzIGluIHRoZSBwcm9qZWN0LlxyXG4gICAgICpcclxuICAgICAqL1xyXG4gICAgbGFuZ3VhZ2VDb3VudCgpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgcmV0dXJuIHdhc20uX3dsX2kxOG5fbGFuZ3VhZ2VDb3VudCgpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgYSBsYW5ndWFnZSBjb2RlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBpbmRleCBJbmRleCBvZiB0aGUgbGFuZ3VhZ2UgdG8gZ2V0IHRoZSBjb2RlIGZyb21cclxuICAgICAqL1xyXG4gICAgbGFuZ3VhZ2VJbmRleChjb2RlKSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIHJldHVybiB3YXNtLl93bF9pMThuX2xhbmd1YWdlSW5kZXgod2FzbS50ZW1wVVRGOChjb2RlKSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdldCBhIGxhbmd1YWdlIGNvZGUuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGluZGV4IEluZGV4IG9mIHRoZSBsYW5ndWFnZSB0byBnZXQgdGhlIGNvZGUgZnJvbVxyXG4gICAgICovXHJcbiAgICBsYW5ndWFnZUNvZGUoaW5kZXgpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgY29uc3QgY29kZSA9IHdhc20uX3dsX2kxOG5fbGFuZ3VhZ2VDb2RlKGluZGV4KTtcclxuICAgICAgICBpZiAoY29kZSA9PT0gMClcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgcmV0dXJuIHdhc20uVVRGOFRvU3RyaW5nKGNvZGUpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgYSBsYW5ndWFnZSBuYW1lLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBpbmRleCBJbmRleCBvZiB0aGUgbGFuZ3VhZ2UgdG8gZ2V0IHRoZSBuYW1lIGZyb21cclxuICAgICAqL1xyXG4gICAgbGFuZ3VhZ2VOYW1lKGluZGV4KSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIGNvbnN0IG5hbWUgPSB3YXNtLl93bF9pMThuX2xhbmd1YWdlTmFtZShpbmRleCk7XHJcbiAgICAgICAgaWYgKG5hbWUgPT09IDApXHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIHJldHVybiB3YXNtLlVURjhUb1N0cmluZyhuYW1lKTtcclxuICAgIH1cclxufVxyXG4vKiogUHJvcGVydGllcyBvZiBhIFdlYlhSIHNlc3Npb24gKi9cclxuZXhwb3J0IGNsYXNzIFhSIHtcclxuICAgIC8qKiBXb25kZXJsYW5kIFdBU00gYnJpZGdlLiBAaGlkZGVuICovXHJcbiAgICAjd2FzbTtcclxuICAgICNtb2RlO1xyXG4gICAgY29uc3RydWN0b3Iod2FzbSwgbW9kZSkge1xyXG4gICAgICAgIHRoaXMuI3dhc20gPSB3YXNtO1xyXG4gICAgICAgIHRoaXMuI21vZGUgPSBtb2RlO1xyXG4gICAgfVxyXG4gICAgLyoqIEN1cnJlbnQgV2ViWFIgc2Vzc2lvbiBtb2RlICovXHJcbiAgICBnZXQgc2Vzc2lvbk1vZGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuI21vZGU7XHJcbiAgICB9XHJcbiAgICAvKiogQ3VycmVudCBXZWJYUiBzZXNzaW9uICovXHJcbiAgICBnZXQgc2Vzc2lvbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy4jd2FzbS53ZWJ4cl9zZXNzaW9uO1xyXG4gICAgfVxyXG4gICAgLyoqIEN1cnJlbnQgV2ViWFIgZnJhbWUgKi9cclxuICAgIGdldCBmcmFtZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy4jd2FzbS53ZWJ4cl9mcmFtZTtcclxuICAgIH1cclxuICAgIHJlZmVyZW5jZVNwYWNlRm9yVHlwZSh0eXBlKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuI3dhc20ud2VieHJfcmVmU3BhY2VzW3R5cGVdID8/IG51bGw7XHJcbiAgICB9XHJcbiAgICAvKiogU2V0IGN1cnJlbnQgcmVmZXJlbmNlIHNwYWNlIHR5cGUgdXNlZCBmb3IgcmV0cmlldmluZyBleWUsIGhlYWQsIGhhbmQgYW5kIGpvaW50IHBvc2VzICovXHJcbiAgICBzZXQgY3VycmVudFJlZmVyZW5jZVNwYWNlKHJlZlNwYWNlKSB7XHJcbiAgICAgICAgdGhpcy4jd2FzbS53ZWJ4cl9yZWZTcGFjZSA9IHJlZlNwYWNlO1xyXG4gICAgICAgIHRoaXMuI3dhc20ud2VieHJfcmVmU3BhY2VUeXBlID0gbnVsbDtcclxuICAgICAgICBmb3IgKGNvbnN0IHR5cGUgb2YgT2JqZWN0LmtleXModGhpcy4jd2FzbS53ZWJ4cl9yZWZTcGFjZXMpKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLiN3YXNtLndlYnhyX3JlZlNwYWNlc1t0eXBlXSA9PT0gcmVmU3BhY2UpIHtcclxuICAgICAgICAgICAgICAgIC8qIEtlZXAgdHJhY2sgb2YgcmVmZXJlbmNlIHNwYWNlIHR5cGUgKi9cclxuICAgICAgICAgICAgICAgIHRoaXMuI3dhc20ud2VieHJfcmVmU3BhY2VUeXBlID0gdHlwZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKiBDdXJyZW50IHJlZmVyZW5jZSBzcGFjZSB0eXBlIHVzZWQgZm9yIHJldHJpZXZpbmcgZXllLCBoZWFkLCBoYW5kIGFuZCBqb2ludCBwb3NlcyAqL1xyXG4gICAgZ2V0IGN1cnJlbnRSZWZlcmVuY2VTcGFjZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy4jd2FzbS53ZWJ4cl9yZWZTcGFjZTtcclxuICAgIH1cclxuICAgIC8qKiBDdXJyZW50IFdlYlhSIHJlZmVyZW5jZSBzcGFjZSB0eXBlIG9yIGBudWxsYCBpZiBub3QgYSBkZWZhdWx0IHJlZmVyZW5jZSBzcGFjZSAqL1xyXG4gICAgZ2V0IGN1cnJlbnRSZWZlcmVuY2VTcGFjZVR5cGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuI3dhc20ud2VieHJfcmVmU3BhY2VUeXBlO1xyXG4gICAgfVxyXG4gICAgLyoqIEN1cnJlbnQgV2ViWFIgYmFzZSBsYXllciAgKi9cclxuICAgIGdldCBiYXNlTGF5ZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuI3dhc20ud2VieHJfYmFzZUxheWVyO1xyXG4gICAgfVxyXG4gICAgLyoqIEN1cnJlbnQgV2ViWFIgZnJhbWVidWZmZXIgKi9cclxuICAgIGdldCBmcmFtZWJ1ZmZlcnMoKSB7XHJcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHRoaXMuI3dhc20ud2VieHJfZmJvKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gW3RoaXMuI3dhc20uR0wuZnJhbWVidWZmZXJzW3RoaXMuI3dhc20ud2VieHJfZmJvXV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLiN3YXNtLndlYnhyX2Ziby5tYXAoKGlkKSA9PiB0aGlzLiN3YXNtLkdMLmZyYW1lYnVmZmVyc1tpZF0pO1xyXG4gICAgfVxyXG59XHJcbiIsICJpbXBvcnQgeyBUeXBlIH0gZnJvbSAnLi9wcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCB7IFJldGFpbkVtaXR0ZXIgfSBmcm9tICcuL3V0aWxzL2V2ZW50LmpzJztcclxuaW1wb3J0IHsgaW5oZXJpdFByb3BlcnRpZXMsIEFuaW1hdGlvbiwgQ29tcG9uZW50LCBNYXRlcmlhbCwgTWVzaCwgQnJva2VuQ29tcG9uZW50LCBTa2luLCBYUiwgfSBmcm9tICcuL3dvbmRlcmxhbmQuanMnO1xyXG4vKipcclxuICogRGVmYXVsdCBjb21wb25lbnQgcGFyYW1ldGVyIHZhbHVlIHBlciB0eXBlLlxyXG4gKi9cclxuY29uc3QgX2NvbXBvbmVudERlZmF1bHRzID0gbmV3IE1hcChbXHJcbiAgICBbVHlwZS5Cb29sLCBmYWxzZV0sXHJcbiAgICBbVHlwZS5JbnQsIDBdLFxyXG4gICAgW1R5cGUuRmxvYXQsIDAuMF0sXHJcbiAgICBbVHlwZS5TdHJpbmcsICcnXSxcclxuICAgIFtUeXBlLkVudW0sIHVuZGVmaW5lZF0sXHJcbiAgICBbVHlwZS5PYmplY3QsIG51bGxdLFxyXG4gICAgW1R5cGUuTWVzaCwgbnVsbF0sXHJcbiAgICBbVHlwZS5UZXh0dXJlLCBudWxsXSxcclxuICAgIFtUeXBlLk1hdGVyaWFsLCBudWxsXSxcclxuICAgIFtUeXBlLkFuaW1hdGlvbiwgbnVsbF0sXHJcbiAgICBbVHlwZS5Ta2luLCBudWxsXSxcclxuICAgIFtUeXBlLkNvbG9yLCBbMC4wLCAwLjAsIDAuMCwgMS4wXV0sXHJcbl0pO1xyXG4vKipcclxuICogU2V0dXAgdGhlIGRlZmF1bHRzIHZhbHVlIG9mIHRoZSBwcm9wZXJ0aWVzIG9uIGEgZ2l2ZW5cclxuICogY29tcG9uZW50IGNsYXNzLlxyXG4gKlxyXG4gKiBAcGFyYW0gY3RvciBUaGUgY29tcG9uZW50IGNsYXNzXHJcbiAqL1xyXG5mdW5jdGlvbiBfc2V0dXBEZWZhdWx0cyhjdG9yKSB7XHJcbiAgICBmb3IgKGNvbnN0IG5hbWUgaW4gY3Rvci5Qcm9wZXJ0aWVzKSB7XHJcbiAgICAgICAgY29uc3QgcCA9IGN0b3IuUHJvcGVydGllc1tuYW1lXTtcclxuICAgICAgICBpZiAocC50eXBlID09PSBUeXBlLkVudW0pIHtcclxuICAgICAgICAgICAgLyogRW51bSBkZWZhdWx0IGNhbiBiZSBhIHN0cmluZyBvciBhbiBpbmRleC4gQ29udmVydCB0byBhbmQvb3JcclxuICAgICAgICAgICAgICogc2FuaXR5LWNoZWNrIHRoZSBpbmRleC4gKi9cclxuICAgICAgICAgICAgaWYgKHAudmFsdWVzPy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIC8qIERvbid0IHRyeSB0byBsb29rIHVwIHRoZSBkZWZhdWx0IGlmIHRoZSB1c2VyIHNwZWNpZmllZCBhXHJcbiAgICAgICAgICAgICAgICAgKiBudW1iZXIgb3Igd2UgYWxyZWFkeSBjb252ZXJ0ZWQgdG8gb25lLiAqL1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwLmRlZmF1bHQgIT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLyogSWYgdW5kZWZpbmVkLCBtaXNzaW5nIGVsZW1lbnQgb3Igd3JvbmcgdHlwZSB0aGlzIHJldHVybnNcclxuICAgICAgICAgICAgICAgICAgICAgKiAtMSB3aGljaCBiZWNvbWVzIDAgYmVsb3cuIFRoaXMgbWF0Y2hlcyBlZGl0b3IgYmVoYXZpb3IuICovXHJcbiAgICAgICAgICAgICAgICAgICAgcC5kZWZhdWx0ID0gcC52YWx1ZXMuaW5kZXhPZihwLmRlZmF1bHQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHAuZGVmYXVsdCA8IDAgfHwgcC5kZWZhdWx0ID49IHAudmFsdWVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHAuZGVmYXVsdCA9IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvKiBUaGVyZSdzIG5vIGluZGV4IHZhbHVlIHRoYXQgbWFrZXMgc2Vuc2UgKi9cclxuICAgICAgICAgICAgICAgIHAuZGVmYXVsdCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcC5kZWZhdWx0ID0gcC5kZWZhdWx0ID8/IF9jb21wb25lbnREZWZhdWx0cy5nZXQocC50eXBlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY3Rvci5wcm90b3R5cGVbbmFtZV0gPSBwLmRlZmF1bHQ7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIExvdy1sZXZlbCB3cmFwcGVyIHRvIGludGVyYWN0IHdpdGggdGhlIFdlYkFzc2VtYmx5IGNvZGUuXHJcbiAqXHJcbiAqIEBoaWRkZW5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBXQVNNIHtcclxuICAgIC8qKlxyXG4gICAgICogRW1zY3JpcHRlbiB3b3JrZXIgZmllbGQuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgVGhpcyBhcGkgaXMgbWVhbnQgdG8gYmUgdXNlZCBpbnRlcm5hbGx5LlxyXG4gICAgICovXHJcbiAgICB3b3JrZXIgPSAnJztcclxuICAgIC8qKlxyXG4gICAgICogRW1zY3JpcHRlbiB3YXNtIGZpZWxkLlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFRoaXMgYXBpIGlzIG1lYW50IHRvIGJlIHVzZWQgaW50ZXJuYWxseS5cclxuICAgICAqL1xyXG4gICAgd2FzbSA9IG51bGw7XHJcbiAgICAvKipcclxuICAgICAqIEVtc2NyaXB0ZW4gY2FudmFzLlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFRoaXMgYXBpIGlzIG1lYW50IHRvIGJlIHVzZWQgaW50ZXJuYWxseS5cclxuICAgICAqL1xyXG4gICAgY2FudmFzID0gbnVsbDtcclxuICAgIC8qKiBDdXJyZW50IFdlYlhSICAqL1xyXG4gICAgLyoqXHJcbiAgICAgKiBFbXNjcmlwdGVuIFdlYlhSIHNlc3Npb24uXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgVGhpcyBhcGkgaXMgbWVhbnQgdG8gYmUgdXNlZCBpbnRlcm5hbGx5LlxyXG4gICAgICovXHJcbiAgICB3ZWJ4cl9zZXNzaW9uID0gbnVsbDtcclxuICAgIC8qKlxyXG4gICAgICogRW1zY3JpcHRlbiBXZWJYUiByZXF1ZXN0IHNlc3Npb24gY2FsbGJhY2suXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgVGhpcyBhcGkgaXMgbWVhbnQgdG8gYmUgdXNlZCBpbnRlcm5hbGx5LlxyXG4gICAgICovXHJcbiAgICB3ZWJ4cl9yZXF1ZXN0U2Vzc2lvbiA9IG51bGw7XHJcbiAgICAvKipcclxuICAgICAqIEVtc2NyaXB0ZW4gV2ViWFIgZnJhbWUuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgVGhpcyBhcGkgaXMgbWVhbnQgdG8gYmUgdXNlZCBpbnRlcm5hbGx5LlxyXG4gICAgICovXHJcbiAgICB3ZWJ4cl9mcmFtZSA9IG51bGw7XHJcbiAgICAvKipcclxuICAgICAqIEVtc2NyaXB0ZW4gY3VycmVudCBXZWJYUiByZWZlcmVuY2Ugc3BhY2UuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgVGhpcyBhcGkgaXMgbWVhbnQgdG8gYmUgdXNlZCBpbnRlcm5hbGx5LlxyXG4gICAgICovXHJcbiAgICB3ZWJ4cl9yZWZTcGFjZSA9IG51bGw7XHJcbiAgICAvKipcclxuICAgICAqIEVtc2NyaXB0ZW4gV2ViWFIgcmVmZXJlbmNlIHNwYWNlcy5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBUaGlzIGFwaSBpcyBtZWFudCB0byBiZSB1c2VkIGludGVybmFsbHkuXHJcbiAgICAgKi9cclxuICAgIHdlYnhyX3JlZlNwYWNlcyA9IG51bGw7XHJcbiAgICAvKipcclxuICAgICAqIEVtc2NyaXB0ZW4gV2ViWFIgY3VycmVudCByZWZlcmVuY2Ugc3BhY2UgdHlwZS5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBUaGlzIGFwaSBpcyBtZWFudCB0byBiZSB1c2VkIGludGVybmFsbHkuXHJcbiAgICAgKi9cclxuICAgIHdlYnhyX3JlZlNwYWNlVHlwZSA9IG51bGw7XHJcbiAgICAvKipcclxuICAgICAqIEVtc2NyaXB0ZW4gV2ViWFIgR0wgcHJvamVjdGlvbiBsYXllci5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBUaGlzIGFwaSBpcyBtZWFudCB0byBiZSB1c2VkIGludGVybmFsbHkuXHJcbiAgICAgKi9cclxuICAgIHdlYnhyX2Jhc2VMYXllciA9IG51bGw7XHJcbiAgICAvKipcclxuICAgICAqIEVtc2NyaXB0ZW4gV2ViWFIgZnJhbWVidWZmZXIgc2NhbGUgZmFjdG9yLlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFRoaXMgYXBpIGlzIG1lYW50IHRvIGJlIHVzZWQgaW50ZXJuYWxseS5cclxuICAgICAqL1xyXG4gICAgd2VieHJfZnJhbWVidWZmZXJTY2FsZUZhY3RvciA9IDEuMDtcclxuICAgIC8qKlxyXG4gICAgICogRW1zY3JpcHRlbiBXZWJYUiBmcmFtZWJ1ZmZlcihzKS5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBUaGlzIGFwaSBpcyBtZWFudCB0byBiZSB1c2VkIGludGVybmFsbHkuXHJcbiAgICAgKi9cclxuICAgIC8qIHdlYnhyX2ZibyB3aWxsIG5vdCBnZXQgb3ZlcndyaXR0ZW4gaWYgd2UgYXJlIHJlbmRlcmluZyB0byB0aGVcclxuICAgICAqIGRlZmF1bHQgZnJhbWVidWZmZXIsIGUuZy4sIHdoZW4gdXNpbmcgV2ViWFIgZW11bGF0b3IuICovXHJcbiAgICB3ZWJ4cl9mYm8gPSAwO1xyXG4gICAgLyoqXHJcbiAgICAgKiBDb252ZXJ0IGEgV0FTTSBtZW1vcnkgdmlldyB0byBhIEphdmFTY3JpcHQgc3RyaW5nLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBwdHIgUG9pbnRlciBzdGFydFxyXG4gICAgICogQHBhcmFtIHB0ckVuZCBQb2ludGVyIGVuZFxyXG4gICAgICogQHJldHVybnMgSmF2YVNjcmlwdCBzdHJpbmdcclxuICAgICAqL1xyXG4gICAgVVRGOFZpZXdUb1N0cmluZztcclxuICAgIC8qKiBJZiBgdHJ1ZWAsIGxvZ3Mgd2lsbCBub3Qgc3BhbSB0aGUgY29uc29sZSBvbiBlcnJvci4gKi9cclxuICAgIF9kZWFjdGl2YXRlX2NvbXBvbmVudF9vbl9lcnJvciA9IGZhbHNlO1xyXG4gICAgLyoqIFRlbXBvcmFyeSBtZW1vcnkgcG9pbnRlci4gKi9cclxuICAgIF90ZW1wTWVtID0gbnVsbDtcclxuICAgIC8qKiBUZW1wb3JhcnkgbWVtb3J5IHNpemUuICovXHJcbiAgICBfdGVtcE1lbVNpemUgPSAwO1xyXG4gICAgLyoqIFRlbXBvcmFyeSBmbG9hdCBtZW1vcnkgdmlldy4gKi9cclxuICAgIF90ZW1wTWVtRmxvYXQgPSBudWxsO1xyXG4gICAgLyoqIFRlbXBvcmFyeSBpbnQgbWVtb3J5IHZpZXcuICovXHJcbiAgICBfdGVtcE1lbUludCA9IG51bGw7XHJcbiAgICAvKiogVGVtcG9yYXJ5IHVpbnQ4IG1lbW9yeSB2aWV3LiAqL1xyXG4gICAgX3RlbXBNZW1VaW50OCA9IG51bGw7XHJcbiAgICAvKiogVGVtcG9yYXJ5IHVpbnQzMiBtZW1vcnkgdmlldy4gKi9cclxuICAgIF90ZW1wTWVtVWludDMyID0gbnVsbDtcclxuICAgIC8qKiBUZW1wb3JhcnkgdWludDE2IG1lbW9yeSB2aWV3LiAqL1xyXG4gICAgX3RlbXBNZW1VaW50MTYgPSBudWxsO1xyXG4gICAgLyoqIExvYWRpbmcgc2NyZWVuIC5iaW4gZmlsZSBkYXRhICovXHJcbiAgICBfbG9hZGluZ1NjcmVlbiA9IG51bGw7XHJcbiAgICAvKiogTGlzdCBvZiBjYWxsYmFja3MgdHJpZ2dlcmVkIHdoZW4gdGhlIHNjZW5lIGlzIGxvYWRlZC4gKi9cclxuICAgIF9zY2VuZUxvYWRlZENhbGxiYWNrID0gW107XHJcbiAgICAvKipcclxuICAgICAqIE1hdGVyaWFsIGRlZmluaXRpb24gY2FjaGUuIEVhY2ggcGlwZWxpbmUgaGFzIGl0cyBvd25cclxuICAgICAqIGFzc29jaWF0ZWQgbWF0ZXJpYWwgZGVmaW5pdGlvbi5cclxuICAgICAqL1xyXG4gICAgX21hdGVyaWFsRGVmaW5pdGlvbnMgPSBbXTtcclxuICAgIC8qKiBJbWFnZSBjYWNoZS4gKi9cclxuICAgIF9pbWFnZXMgPSBbXTtcclxuICAgIC8qKiBDb21wb25lbnQgaW5zdGFuY2VzLiAqL1xyXG4gICAgX2NvbXBvbmVudHMgPSBbXTtcclxuICAgIC8qKiBDb21wb25lbnQgVHlwZSBpbmZvLiAqL1xyXG4gICAgX2NvbXBvbmVudFR5cGVzID0gW107XHJcbiAgICAvKiogSW5kZXggcGVyIGNvbXBvbmVudCB0eXBlIG5hbWUuICovXHJcbiAgICBfY29tcG9uZW50VHlwZUluZGljZXMgPSB7fTtcclxuICAgIC8qKiBXb25kZXJsYW5kIGVuZ2luZSBpbnN0YW5jZS4gKi9cclxuICAgIF9lbmdpbmUgPSBudWxsO1xyXG4gICAgLyoqXHJcbiAgICAgKiBgdHJ1ZWAgaWYgdGhpcyBydW50aW1lIGlzIHVzaW5nIHBoeXN4LlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFRoaXMgYXBpIGlzIG1lYW50IHRvIGJlIHVzZWQgaW50ZXJuYWxseS5cclxuICAgICAqL1xyXG4gICAgX3dpdGhQaHlzWCA9IGZhbHNlO1xyXG4gICAgLyoqIERlY29kZXIgZm9yIFVURjggYEFycmF5QnVmZmVyYCB0byBKYXZhU2NyaXB0IHN0cmluZy4gKi9cclxuICAgIF91dGY4RGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcigndXRmOCcpO1xyXG4gICAgLyoqIEphdmFTY3JpcHQgbWFuYWdlciBpbmRleC4gKi9cclxuICAgIF9qc01hbmFnZXJJbmRleENhY2hlZCA9IG51bGw7XHJcbiAgICAvKipcclxuICAgICAqIFJlZ2lzdHJhdGlvbiBpbmRleCBvZiB7QGxpbmsgQnJva2VuQ29tcG9uZW50fS5cclxuICAgICAqXHJcbiAgICAgKiBUaGlzIGlzIHVzZWQgdG8gcmV0dXJuIGR1bW15IGluc3RhbmNlcyB3aGVuIGEgY29tcG9uZW50XHJcbiAgICAgKiBpc24ndCByZWdpc3RlcmVkLlxyXG4gICAgICpcclxuICAgICAqIEBoaWRkZW5cclxuICAgICAqL1xyXG4gICAgX2Jyb2tlbkNvbXBvbmVudEluZGV4ID0gMDtcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGEgbmV3IGluc3RhbmNlIG9mIHRoZSBXZWJBc3NlbWJseSA8PiBBUEkgYnJpZGdlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB0aHJlYWRzIGB0cnVlYCBpZiB0aGUgcnVudGltZSB1c2VkIGhhcyB0aHJlYWRzIHN1cHBvcnRcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IodGhyZWFkcykge1xyXG4gICAgICAgIGlmICh0aHJlYWRzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuVVRGOFZpZXdUb1N0cmluZyA9IChzLCBlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXMpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3V0ZjhEZWNvZGVyLmRlY29kZSh0aGlzLkhFQVBVOC5zbGljZShzLCBlKSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5VVEY4Vmlld1RvU3RyaW5nID0gKHMsIGUpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFzKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdXRmOERlY29kZXIuZGVjb2RlKHRoaXMuSEVBUFU4LnN1YmFycmF5KHMsIGUpKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuX2Jyb2tlbkNvbXBvbmVudEluZGV4ID0gdGhpcy5fcmVnaXN0ZXJDb21wb25lbnQoQnJva2VuQ29tcG9uZW50KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmVzZXQgdGhlIGNhY2hlIG9mIHRoZSBsaWJyYXJ5LlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFNob3VsZCBvbmx5IGJlIGNhbGxlZCB3aGVuIHRlYXJpbmcgZG93biB0aGUgcnVudGltZS5cclxuICAgICAqL1xyXG4gICAgcmVzZXQoKSB7XHJcbiAgICAgICAgdGhpcy5hbGxvY2F0ZVRlbXBNZW1vcnkoMTAyNCk7XHJcbiAgICAgICAgdGhpcy5fbWF0ZXJpYWxEZWZpbml0aW9ucyA9IFtdO1xyXG4gICAgICAgIHRoaXMuX2ltYWdlcyA9IFtdO1xyXG4gICAgICAgIHRoaXMuX2NvbXBvbmVudHMgPSBbXTtcclxuICAgICAgICB0aGlzLl9jb21wb25lbnRUeXBlcyA9IFtdO1xyXG4gICAgICAgIHRoaXMuX2NvbXBvbmVudFR5cGVJbmRpY2VzID0ge307XHJcbiAgICAgICAgdGhpcy5fanNNYW5hZ2VySW5kZXhDYWNoZWQgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuX2Jyb2tlbkNvbXBvbmVudEluZGV4ID0gdGhpcy5fcmVnaXN0ZXJDb21wb25lbnQoQnJva2VuQ29tcG9uZW50KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIGdpdmVuIGNvbXBvbmVudCBpcyByZWdpc3RlcmVkIG9yIG5vdC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gY3RvciAgQSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBjb21wb25lbnQgdHlwZW5hbWUgKGUuZy4sIGAnY3Vyc29yLWNvbXBvbmVudCdgKS5cclxuICAgICAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgY29tcG9uZW50IGlzIHJlZ2lzdGVyZWQsIGBmYWxzZWAgb3RoZXJ3aXNlLlxyXG4gICAgICovXHJcbiAgICBpc1JlZ2lzdGVyZWQodHlwZSkge1xyXG4gICAgICAgIHJldHVybiB0eXBlIGluIHRoaXMuX2NvbXBvbmVudFR5cGVJbmRpY2VzO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZWdpc3RlciBhIGxlZ2FjeSBjb21wb25lbnQgaW4gdGhpcyBFbXNjcmlwdGVuIGluc3RhbmNlLlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFRoaXMgYXBpIGlzIG1lYW50IHRvIGJlIHVzZWQgaW50ZXJuYWxseS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdHlwZU5hbWUgVGhlIG5hbWUgb2YgdGhlIGNvbXBvbmVudC5cclxuICAgICAqIEBwYXJhbSBwYXJhbXMgQW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHBhcmFtZXRlcnMgKHByb3BlcnRpZXMpLlxyXG4gICAgICogQHBhcmFtIG9iamVjdCBUaGUgb2JqZWN0J3MgcHJvdG90eXBlLlxyXG4gICAgICogQHJldHVybnMgVGhlIHJlZ2lzdHJhdGlvbiBpbmRleFxyXG4gICAgICovXHJcbiAgICBfcmVnaXN0ZXJDb21wb25lbnRMZWdhY3kodHlwZU5hbWUsIHBhcmFtcywgb2JqZWN0KSB7XHJcbiAgICAgICAgY29uc3QgY3RvciA9IGNsYXNzIEN1c3RvbUNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjdG9yLlR5cGVOYW1lID0gdHlwZU5hbWU7XHJcbiAgICAgICAgY3Rvci5Qcm9wZXJ0aWVzID0gcGFyYW1zO1xyXG4gICAgICAgIE9iamVjdC5hc3NpZ24oY3Rvci5wcm90b3R5cGUsIG9iamVjdCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlZ2lzdGVyQ29tcG9uZW50KGN0b3IpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZWdpc3RlciBhIGNsYXNzIGNvbXBvbmVudCBpbiB0aGlzIEVtc2NyaXB0ZW4gaW5zdGFuY2UuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgVGhpcyBhcGkgaXMgbWVhbnQgdG8gYmUgdXNlZCBpbnRlcm5hbGx5LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBjdG9yIFRoZSBjbGFzcyB0byByZWdpc3Rlci5cclxuICAgICAqIEByZXR1cm5zIFRoZSByZWdpc3RyYXRpb24gaW5kZXguXHJcbiAgICAgKi9cclxuICAgIF9yZWdpc3RlckNvbXBvbmVudChjdG9yKSB7XHJcbiAgICAgICAgaWYgKCFjdG9yLlR5cGVOYW1lKVxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vIG5hbWUgcHJvdmlkZWQgZm9yIGNvbXBvbmVudC4nKTtcclxuICAgICAgICBpZiAoIWN0b3IucHJvdG90eXBlLl90cmlnZ2VySW5pdCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHJlZ2lzdGVyQ29tcG9uZW50KCk6IENvbXBvbmVudCAke2N0b3IuVHlwZU5hbWV9IG11c3QgZXh0ZW5kIENvbXBvbmVudGApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpbmhlcml0UHJvcGVydGllcyhjdG9yKTtcclxuICAgICAgICBfc2V0dXBEZWZhdWx0cyhjdG9yKTtcclxuICAgICAgICBjb25zdCB0eXBlSW5kZXggPSBjdG9yLlR5cGVOYW1lIGluIHRoaXMuX2NvbXBvbmVudFR5cGVJbmRpY2VzXHJcbiAgICAgICAgICAgID8gdGhpcy5fY29tcG9uZW50VHlwZUluZGljZXNbY3Rvci5UeXBlTmFtZV1cclxuICAgICAgICAgICAgOiB0aGlzLl9jb21wb25lbnRUeXBlcy5sZW5ndGg7XHJcbiAgICAgICAgdGhpcy5fY29tcG9uZW50VHlwZXNbdHlwZUluZGV4XSA9IGN0b3I7XHJcbiAgICAgICAgdGhpcy5fY29tcG9uZW50VHlwZUluZGljZXNbY3Rvci5UeXBlTmFtZV0gPSB0eXBlSW5kZXg7XHJcbiAgICAgICAgaWYgKGN0b3IgPT09IEJyb2tlbkNvbXBvbmVudClcclxuICAgICAgICAgICAgcmV0dXJuIHR5cGVJbmRleDtcclxuICAgICAgICBjb25zb2xlLmxvZygnUmVnaXN0ZXJlZCBjb21wb25lbnQnLCBjdG9yLlR5cGVOYW1lLCBgKGNsYXNzICR7Y3Rvci5uYW1lfSlgLCAnd2l0aCBpbmRleCcsIHR5cGVJbmRleCk7XHJcbiAgICAgICAgaWYgKGN0b3Iub25SZWdpc3RlcilcclxuICAgICAgICAgICAgY3Rvci5vblJlZ2lzdGVyKHRoaXMuX2VuZ2luZSk7XHJcbiAgICAgICAgcmV0dXJuIHR5cGVJbmRleDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQWxsb2NhdGUgdGhlIHJlcXVlc3RlZCBhbW91bnQgb2YgdGVtcG9yYXJ5IG1lbW9yeVxyXG4gICAgICogaW4gdGhpcyBXQVNNIGluc3RhbmNlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBzaXplIFRoZSBudW1iZXIgb2YgYnl0ZXMgdG8gYWxsb2NhdGVcclxuICAgICAqL1xyXG4gICAgYWxsb2NhdGVUZW1wTWVtb3J5KHNpemUpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnQWxsb2NhdGluZyB0ZW1wIG1lbTonLCBzaXplKTtcclxuICAgICAgICB0aGlzLl90ZW1wTWVtU2l6ZSA9IHNpemU7XHJcbiAgICAgICAgaWYgKHRoaXMuX3RlbXBNZW0pXHJcbiAgICAgICAgICAgIHRoaXMuX2ZyZWUodGhpcy5fdGVtcE1lbSk7XHJcbiAgICAgICAgdGhpcy5fdGVtcE1lbSA9IHRoaXMuX21hbGxvYyh0aGlzLl90ZW1wTWVtU2l6ZSk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVUZW1wTWVtb3J5KCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEB0b2RvOiBEZWxldGUgdGhpcyBhbmQgb25seSBrZWVwIGBhbGxvY2F0ZVRlbXBNZW1vcnlgXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHNpemUgTnVtYmVyIG9mIGJ5dGVzIHRvIGFsbG9jYXRlXHJcbiAgICAgKi9cclxuICAgIHJlcXVpcmVUZW1wTWVtKHNpemUpIHtcclxuICAgICAgICBpZiAodGhpcy5fdGVtcE1lbVNpemUgPj0gc2l6ZSlcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIC8qIEdyb3cgaW4gMWtiIGluY3JlbWVudHMgKi9cclxuICAgICAgICB0aGlzLmFsbG9jYXRlVGVtcE1lbW9yeShNYXRoLmNlaWwoc2l6ZSAvIDEwMjQpICogMTAyNCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFVwZGF0ZSB0aGUgdGVtcG9yYXJ5IG1lbW9yeSB2aWV3cy4gVGhpcyBtdXN0IGJlIGNhbGxlZCB3aGVuZXZlciB0aGVcclxuICAgICAqIHRlbXBvcmFyeSBtZW1vcnkgYWRkcmVzcyBjaGFuZ2VzLlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFRoaXMgYXBpIGlzIG1lYW50IHRvIGJlIHVzZWQgaW50ZXJuYWxseS5cclxuICAgICAqL1xyXG4gICAgdXBkYXRlVGVtcE1lbW9yeSgpIHtcclxuICAgICAgICB0aGlzLl90ZW1wTWVtRmxvYXQgPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMuSEVBUDguYnVmZmVyLCB0aGlzLl90ZW1wTWVtLCB0aGlzLl90ZW1wTWVtU2l6ZSA+PiAyKTtcclxuICAgICAgICB0aGlzLl90ZW1wTWVtSW50ID0gbmV3IEludDMyQXJyYXkodGhpcy5IRUFQOC5idWZmZXIsIHRoaXMuX3RlbXBNZW0sIHRoaXMuX3RlbXBNZW1TaXplID4+IDIpO1xyXG4gICAgICAgIHRoaXMuX3RlbXBNZW1VaW50MzIgPSBuZXcgVWludDMyQXJyYXkodGhpcy5IRUFQOC5idWZmZXIsIHRoaXMuX3RlbXBNZW0sIHRoaXMuX3RlbXBNZW1TaXplID4+IDIpO1xyXG4gICAgICAgIHRoaXMuX3RlbXBNZW1VaW50MTYgPSBuZXcgVWludDE2QXJyYXkodGhpcy5IRUFQOC5idWZmZXIsIHRoaXMuX3RlbXBNZW0sIHRoaXMuX3RlbXBNZW1TaXplID4+IDEpO1xyXG4gICAgICAgIHRoaXMuX3RlbXBNZW1VaW50OCA9IG5ldyBVaW50OEFycmF5KHRoaXMuSEVBUDguYnVmZmVyLCB0aGlzLl90ZW1wTWVtLCB0aGlzLl90ZW1wTWVtU2l6ZSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYSB1aW50OCBidWZmZXIgdmlldyBvbiB0ZW1wb3JhcnkgV0FTTSBtZW1vcnkuXHJcbiAgICAgKlxyXG4gICAgICogKipOb3RlKio6IHRoaXMgbWV0aG9kIG1pZ2h0IGFsbG9jYXRlIGlmIHRoZSByZXF1ZXN0ZWQgbWVtb3J5IGlzIGJpZ2dlclxyXG4gICAgICogdGhhbiB0aGUgY3VycmVudCB0ZW1wb3JhcnkgbWVtb3J5IGFsbG9jYXRlZC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gY291bnQgVGhlIG51bWJlciBvZiAqKmVsZW1lbnRzKiogcmVxdWlyZWRcclxuICAgICAqIEByZXR1cm5zIEEge0BsaW5rIFR5cGVkQXJyYXl9IG92ZXIgdGhlIFdBU00gbWVtb3J5XHJcbiAgICAgKi9cclxuICAgIGdldFRlbXBCdWZmZXJVOChjb3VudCkge1xyXG4gICAgICAgIHRoaXMucmVxdWlyZVRlbXBNZW0oY291bnQpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl90ZW1wTWVtVWludDg7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYSB1aW50MTYgYnVmZmVyIHZpZXcgb24gdGVtcG9yYXJ5IFdBU00gbWVtb3J5LlxyXG4gICAgICpcclxuICAgICAqICoqTm90ZSoqOiB0aGlzIG1ldGhvZCBtaWdodCBhbGxvY2F0ZSBpZiB0aGUgcmVxdWVzdGVkIG1lbW9yeSBpcyBiaWdnZXJcclxuICAgICAqIHRoYW4gdGhlIGN1cnJlbnQgdGVtcG9yYXJ5IG1lbW9yeSBhbGxvY2F0ZWQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGNvdW50IFRoZSBudW1iZXIgb2YgKiplbGVtZW50cyoqIHJlcXVpcmVkXHJcbiAgICAgKiBAcmV0dXJucyBBIHtAbGluayBUeXBlZEFycmF5fSBvdmVyIHRoZSBXQVNNIG1lbW9yeVxyXG4gICAgICovXHJcbiAgICBnZXRUZW1wQnVmZmVyVTE2KGNvdW50KSB7XHJcbiAgICAgICAgdGhpcy5yZXF1aXJlVGVtcE1lbShjb3VudCAqIDIpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl90ZW1wTWVtVWludDE2O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGEgdWludDMyIGJ1ZmZlciB2aWV3IG9uIHRlbXBvcmFyeSBXQVNNIG1lbW9yeS5cclxuICAgICAqXHJcbiAgICAgKiAqKk5vdGUqKjogdGhpcyBtZXRob2QgbWlnaHQgYWxsb2NhdGUgaWYgdGhlIHJlcXVlc3RlZCBtZW1vcnkgaXMgYmlnZ2VyXHJcbiAgICAgKiB0aGFuIHRoZSBjdXJyZW50IHRlbXBvcmFyeSBtZW1vcnkgYWxsb2NhdGVkLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBjb3VudCBUaGUgbnVtYmVyIG9mICoqZWxlbWVudHMqKiByZXF1aXJlZC5cclxuICAgICAqIEByZXR1cm5zIEEge0BsaW5rIFR5cGVkQXJyYXl9IG92ZXIgdGhlIFdBU00gbWVtb3J5LlxyXG4gICAgICovXHJcbiAgICBnZXRUZW1wQnVmZmVyVTMyKGNvdW50KSB7XHJcbiAgICAgICAgdGhpcy5yZXF1aXJlVGVtcE1lbShjb3VudCAqIDQpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl90ZW1wTWVtVWludDMyO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGEgaW50MzIgYnVmZmVyIHZpZXcgb24gdGVtcG9yYXJ5IFdBU00gbWVtb3J5LlxyXG4gICAgICpcclxuICAgICAqICoqTm90ZSoqOiB0aGlzIG1ldGhvZCBtaWdodCBhbGxvY2F0ZSBpZiB0aGUgcmVxdWVzdGVkIG1lbW9yeSBpcyBiaWdnZXJcclxuICAgICAqIHRoYW4gdGhlIGN1cnJlbnQgdGVtcG9yYXJ5IG1lbW9yeSBhbGxvY2F0ZWQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGNvdW50IFRoZSBudW1iZXIgb2YgKiplbGVtZW50cyoqIHJlcXVpcmVkLlxyXG4gICAgICogQHJldHVybnMgQSB7QGxpbmsgVHlwZWRBcnJheX0gb3ZlciB0aGUgV0FTTSBtZW1vcnkuXHJcbiAgICAgKi9cclxuICAgIGdldFRlbXBCdWZmZXJJMzIoY291bnQpIHtcclxuICAgICAgICB0aGlzLnJlcXVpcmVUZW1wTWVtKGNvdW50ICogNCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RlbXBNZW1JbnQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYSBmbG9hdDMyIGJ1ZmZlciB2aWV3IG9uIHRlbXBvcmFyeSBXQVNNIG1lbW9yeS5cclxuICAgICAqXHJcbiAgICAgKiAqKk5vdGUqKjogdGhpcyBtZXRob2QgbWlnaHQgYWxsb2NhdGUgaWYgdGhlIHJlcXVlc3RlZCBtZW1vcnkgaXMgYmlnZ2VyXHJcbiAgICAgKiB0aGFuIHRoZSBjdXJyZW50IHRlbXBvcmFyeSBtZW1vcnkgYWxsb2NhdGVkLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBjb3VudCBUaGUgbnVtYmVyIG9mICoqZWxlbWVudHMqKiByZXF1aXJlZC5cclxuICAgICAqIEByZXR1cm5zIEEge0BsaW5rIFR5cGVkQXJyYXl9IG92ZXIgdGhlIFdBU00gbWVtb3J5LlxyXG4gICAgICovXHJcbiAgICBnZXRUZW1wQnVmZmVyRjMyKGNvdW50KSB7XHJcbiAgICAgICAgdGhpcy5yZXF1aXJlVGVtcE1lbShjb3VudCAqIDQpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl90ZW1wTWVtRmxvYXQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENvcHkgdGhlIHN0cmluZyBpbnRvIHRlbXBvcmFyeSBXQVNNIG1lbW9yeSBhbmQgcmV0cmlldmUgdGhlIHBvaW50ZXIuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgVGhpcyBtZXRob2Qgd2lsbCBjb21wdXRlIHRoZSBzdHJsZW4gYW5kIGFwcGVuZCBhIGBcXDBgLlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFRoZSByZXN1bHQgc2hvdWxkIGJlIHVzZWQgKipkaXJlY3RseSoqIG90aGVyd2lzZSBpdCBtaWdodCBnZXRcclxuICAgICAqIG92ZXJyaWRkZW4gYnkgYW55IG5leHQgY2FsbCBtb2RpZnlpbmcgdGhlIHRlbXBvcmFyeSBtZW1vcnkuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHN0ciBUaGUgc3RyaW5nIHRvIHdyaXRlIHRvIHRlbXBvcmFyeSBtZW1vcnlcclxuICAgICAqIEBwYXJhbSBieXRlT2Zmc2V0IFRoZSBzdGFydGluZyBieXRlIG9mZnNldCBpbiB0aGUgdGVtcG9yYXJ5IG1lbW9yeSBhdCB3aGljaFxyXG4gICAgICogICAgIHRoZSBzdHJpbmcgc2hvdWxkIGJlIHdyaXR0ZW4uIFRoaXMgaXMgdXNlZnVsIHdoZW4gdXNpbmcgbXVsdGlwbGUgdGVtcG9yYXJpZXMuXHJcbiAgICAgKiBAcmV0dXJuIFRoZSB0ZW1wb3JhcnkgcG9pbnRlciBvbnRvIHRoZSBXQVNNIG1lbW9yeVxyXG4gICAgICovXHJcbiAgICB0ZW1wVVRGOChzdHIsIGJ5dGVPZmZzZXQgPSAwKSB7XHJcbiAgICAgICAgY29uc3Qgc3RyTGVuID0gdGhpcy5sZW5ndGhCeXRlc1VURjgoc3RyKSArIDE7XHJcbiAgICAgICAgdGhpcy5yZXF1aXJlVGVtcE1lbShzdHJMZW4gKyBieXRlT2Zmc2V0KTtcclxuICAgICAgICBjb25zdCBwdHIgPSB0aGlzLl90ZW1wTWVtICsgYnl0ZU9mZnNldDtcclxuICAgICAgICB0aGlzLnN0cmluZ1RvVVRGOChzdHIsIHB0ciwgc3RyTGVuKTtcclxuICAgICAgICByZXR1cm4gcHRyO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm4gdGhlIGluZGV4IG9mIHRoZSBjb21wb25lbnQgdHlwZS5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBUaGlzIG1ldGhvZCB1c2VzIG1hbGxvYyBhbmQgY29waWVzIHRoZSBzdHJpbmdcclxuICAgICAqIHRvIGF2b2lkIG92ZXJ3cml0aW5nIGNhbGxlcidzIHRlbXBvcmFyeSBkYXRhLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB0eXBlIFRoZSB0eXBlXHJcbiAgICAgKiBAcmV0dXJuIFRoZSBjb21wb25lbnQgdHlwZSBpbmRleFxyXG4gICAgICovXHJcbiAgICBfdHlwZUluZGV4Rm9yKHR5cGUpIHtcclxuICAgICAgICBjb25zdCBsZW5ndGhCeXRlcyA9IHRoaXMubGVuZ3RoQnl0ZXNVVEY4KHR5cGUpICsgMTtcclxuICAgICAgICBjb25zdCBtZW0gPSB0aGlzLl9tYWxsb2MobGVuZ3RoQnl0ZXMpO1xyXG4gICAgICAgIHRoaXMuc3RyaW5nVG9VVEY4KHR5cGUsIG1lbSwgbGVuZ3RoQnl0ZXMpO1xyXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudFR5cGUgPSB0aGlzLl93bF9nZXRfY29tcG9uZW50X21hbmFnZXJfaW5kZXgobWVtKTtcclxuICAgICAgICB0aGlzLl9mcmVlKG1lbSk7XHJcbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudFR5cGU7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybiB0aGUgbmFtZSBvZiBjb21wb25lbnQgdHlwZSBzdG9yZWQgYXQgdGhlIGdpdmVuIGluZGV4LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB0eXBlSW5kZXggVGhlIHR5cGUgaW5kZXhcclxuICAgICAqIEByZXR1cm4gVGhlIG5hbWUgYXMgYSBzdHJpbmdcclxuICAgICAqL1xyXG4gICAgX3R5cGVOYW1lRm9yKHR5cGVJbmRleCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLlVURjhUb1N0cmluZyh0aGlzLl93bF9jb21wb25lbnRfbWFuYWdlcl9uYW1lKHR5cGVJbmRleCkpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgcnVudGltZSBzdXBwb3J0cyBwaHlzeCBvciBub3QuXHJcbiAgICAgKi9cclxuICAgIGdldCB3aXRoUGh5c1goKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3dpdGhQaHlzWDtcclxuICAgIH1cclxuICAgIC8qKiBKYXZhU2NyaXB0IG1hbmFnZXIgaW5kZXguICovXHJcbiAgICBnZXQgX2pzTWFuYWdlckluZGV4KCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9qc01hbmFnZXJJbmRleENhY2hlZCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLl9qc01hbmFnZXJJbmRleENhY2hlZCA9IHRoaXMuX3R5cGVJbmRleEZvcignanMnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2pzTWFuYWdlckluZGV4Q2FjaGVkO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgdGhlIGVuZ2luZSBpbnN0YW5jZSBob2xkaW5nIHRoaXMgYnJpZGdlLlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFRoaXMgYXBpIGlzIG1lYW50IHRvIGJlIHVzZWQgaW50ZXJuYWxseS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gZW5naW5lIFRoZSBlbmdpbmUgaW5zdGFuY2UuXHJcbiAgICAgKi9cclxuICAgIF9zZXRFbmdpbmUoZW5naW5lKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lID0gZW5naW5lO1xyXG4gICAgfVxyXG4gICAgLyogV2ViQXNzZW1ibHkgdG8gSlMgY2FsbCBicmlkZ2UuICovXHJcbiAgICBfd2xqc194cl9zZXNzaW9uX3N0YXJ0KG1vZGUpIHtcclxuICAgICAgICBpZiAodGhpcy5fZW5naW5lLnhyID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2VuZ2luZS54ciA9IG5ldyBYUih0aGlzLCBtb2RlKTtcclxuICAgICAgICAgICAgdGhpcy5fZW5naW5lLm9uWFJTZXNzaW9uU3RhcnQubm90aWZ5KHRoaXMud2VieHJfc2Vzc2lvbiwgbW9kZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX3dsanNfeHJfc2Vzc2lvbl9lbmQoKSB7XHJcbiAgICAgICAgY29uc3Qgc3RhcnRFbWl0dGVyID0gdGhpcy5fZW5naW5lLm9uWFJTZXNzaW9uU3RhcnQ7XHJcbiAgICAgICAgaWYgKHN0YXJ0RW1pdHRlciBpbnN0YW5jZW9mIFJldGFpbkVtaXR0ZXIpXHJcbiAgICAgICAgICAgIHN0YXJ0RW1pdHRlci5yZXNldCgpO1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS5vblhSU2Vzc2lvbkVuZC5ub3RpZnkoKTtcclxuICAgICAgICB0aGlzLl9lbmdpbmUueHIgPSBudWxsO1xyXG4gICAgfVxyXG4gICAgX3dsanNfeHJfZGlzYWJsZSgpIHtcclxuICAgICAgICAvKiBAdG9kbyBUaGlzIGNvdWxkIGRpcmVjdGx5IGJlIGZ1bGx5IGhhbmRsZWQgaW4gSlMuICovXHJcbiAgICAgICAgdGhpcy5fZW5naW5lLmFyU3VwcG9ydGVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLnZyU3VwcG9ydGVkID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBfd2xqc19hbGxvY2F0ZShudW1Db21wb25lbnRzKSB7XHJcbiAgICAgICAgdGhpcy5fY29tcG9uZW50cyA9IG5ldyBBcnJheShudW1Db21wb25lbnRzKTtcclxuICAgIH1cclxuICAgIF93bGpzX2luaXQod2l0aFBoeXNYKSB7XHJcbiAgICAgICAgdGhpcy5fd2l0aFBoeXNYID0gd2l0aFBoeXNYO1xyXG4gICAgICAgIC8qIFRhcmdldCBtZW1vcnkgZm9yIEpTIEFQSSBmdW5jdGlvbnMgdGhhdCByZXR1cm4gYXJyYXlzICovXHJcbiAgICAgICAgdGhpcy5hbGxvY2F0ZVRlbXBNZW1vcnkoMTAyNCk7XHJcbiAgICB9XHJcbiAgICBfd2xqc19yZWFsbG9jYXRlKG51bUNvbXBvbmVudHMpIHtcclxuICAgICAgICBpZiAobnVtQ29tcG9uZW50cyA+IHRoaXMuX2NvbXBvbmVudHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NvbXBvbmVudHMubGVuZ3RoID0gbnVtQ29tcG9uZW50cztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfd2xqc19zY2VuZV9hZGRfbWF0ZXJpYWxfZGVmaW5pdGlvbihkZWZpbml0aW9uSWQpIHtcclxuICAgICAgICBjb25zdCBkZWZpbml0aW9uID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIC8qIENhY2hlIG1hdGVyaWFsIGRlZmluaXRpb24gZm9yIGZhc3RlciByZWFkL3dyaXRlICovXHJcbiAgICAgICAgY29uc3QgbmJQYXJhbXMgPSB0aGlzLl93bF9tYXRlcmlhbF9kZWZpbml0aW9uX2dldF9jb3VudChkZWZpbml0aW9uSWQpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmJQYXJhbXM7ICsraSkge1xyXG4gICAgICAgICAgICBjb25zdCBuYW1lID0gdGhpcy5VVEY4VG9TdHJpbmcodGhpcy5fd2xfbWF0ZXJpYWxfZGVmaW5pdGlvbl9nZXRfcGFyYW1fbmFtZShkZWZpbml0aW9uSWQsIGkpKTtcclxuICAgICAgICAgICAgY29uc3QgdCA9IHRoaXMuX3dsX21hdGVyaWFsX2RlZmluaXRpb25fZ2V0X3BhcmFtX3R5cGUoZGVmaW5pdGlvbklkLCBpKTtcclxuICAgICAgICAgICAgZGVmaW5pdGlvbi5zZXQobmFtZSwge1xyXG4gICAgICAgICAgICAgICAgaW5kZXg6IGksXHJcbiAgICAgICAgICAgICAgICB0eXBlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogdCAmIDB4ZmYsXHJcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50Q291bnQ6ICh0ID4+IDgpICYgMHhmZixcclxuICAgICAgICAgICAgICAgICAgICBtZXRhVHlwZTogKHQgPj4gMTYpICYgMHhmZixcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9tYXRlcmlhbERlZmluaXRpb25zW2RlZmluaXRpb25JZF0gPSBkZWZpbml0aW9uO1xyXG4gICAgfVxyXG4gICAgX3dsanNfc2V0X2NvbXBvbmVudF9wYXJhbV9ib29sKGMsIHAsIHBlLCB2KSB7XHJcbiAgICAgICAgY29uc3QgcGFyYW0gPSB0aGlzLlVURjhWaWV3VG9TdHJpbmcocCwgcGUpO1xyXG4gICAgICAgIHRoaXMuX2NvbXBvbmVudHNbY11bcGFyYW1dID0gdiAhPT0gMDtcclxuICAgIH1cclxuICAgIF93bGpzX3NldF9jb21wb25lbnRfcGFyYW1faW50KGMsIHAsIHBlLCB2KSB7XHJcbiAgICAgICAgY29uc3QgcGFyYW0gPSB0aGlzLlVURjhWaWV3VG9TdHJpbmcocCwgcGUpO1xyXG4gICAgICAgIHRoaXMuX2NvbXBvbmVudHNbY11bcGFyYW1dID0gdjtcclxuICAgIH1cclxuICAgIF93bGpzX3NldF9jb21wb25lbnRfcGFyYW1fZmxvYXQoYywgcCwgcGUsIHYpIHtcclxuICAgICAgICBjb25zdCBwYXJhbSA9IHRoaXMuVVRGOFZpZXdUb1N0cmluZyhwLCBwZSk7XHJcbiAgICAgICAgdGhpcy5fY29tcG9uZW50c1tjXVtwYXJhbV0gPSB2O1xyXG4gICAgfVxyXG4gICAgX3dsanNfc2V0X2NvbXBvbmVudF9wYXJhbV9zdHJpbmcoYywgcCwgcGUsIHYsIHZlKSB7XHJcbiAgICAgICAgY29uc3QgcGFyYW0gPSB0aGlzLlVURjhWaWV3VG9TdHJpbmcocCwgcGUpO1xyXG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5VVEY4Vmlld1RvU3RyaW5nKHYsIHZlKTtcclxuICAgICAgICB0aGlzLl9jb21wb25lbnRzW2NdW3BhcmFtXSA9IHZhbHVlO1xyXG4gICAgfVxyXG4gICAgX3dsanNfc2V0X2NvbXBvbmVudF9wYXJhbV9jb2xvcihjLCBwLCBwZSwgdikge1xyXG4gICAgICAgIGNvbnN0IHBhcmFtID0gdGhpcy5VVEY4Vmlld1RvU3RyaW5nKHAsIHBlKTtcclxuICAgICAgICB0aGlzLl9jb21wb25lbnRzW2NdW3BhcmFtXSA9IG5ldyBGbG9hdDMyQXJyYXkoWzAsIDgsIDE2LCAyNF0ubWFwKChzKSA9PiAoKHYgPj4+IHMpICYgMHhmZikgLyAyNTUuMCkpO1xyXG4gICAgfVxyXG4gICAgX3dsanNfc2V0X2NvbXBvbmVudF9wYXJhbV9vYmplY3QoYywgcCwgcGUsIHYpIHtcclxuICAgICAgICBjb25zdCBwYXJhbSA9IHRoaXMuVVRGOFZpZXdUb1N0cmluZyhwLCBwZSk7XHJcbiAgICAgICAgdGhpcy5fY29tcG9uZW50c1tjXVtwYXJhbV0gPVxyXG4gICAgICAgICAgICB2ID4gMCA/IHRoaXMuX2VuZ2luZS53cmFwT2JqZWN0KHYpIDogbnVsbDtcclxuICAgIH1cclxuICAgIF93bGpzX3NldF9jb21wb25lbnRfcGFyYW1fbWVzaChjLCBwLCBwZSwgdikge1xyXG4gICAgICAgIGNvbnN0IHBhcmFtID0gdGhpcy5VVEY4Vmlld1RvU3RyaW5nKHAsIHBlKTtcclxuICAgICAgICB0aGlzLl9jb21wb25lbnRzW2NdW3BhcmFtXSA9XHJcbiAgICAgICAgICAgIHYgPiAwID8gbmV3IE1lc2godGhpcy5fZW5naW5lLCB2KSA6IG51bGw7XHJcbiAgICB9XHJcbiAgICBfd2xqc19zZXRfY29tcG9uZW50X3BhcmFtX3RleHR1cmUoYywgcCwgcGUsIHYpIHtcclxuICAgICAgICBjb25zdCBwYXJhbSA9IHRoaXMuVVRGOFZpZXdUb1N0cmluZyhwLCBwZSk7XHJcbiAgICAgICAgdGhpcy5fY29tcG9uZW50c1tjXVtwYXJhbV0gPVxyXG4gICAgICAgICAgICB2ID4gMCA/IHRoaXMuX2VuZ2luZS50ZXh0dXJlcy53cmFwKHYpIDogbnVsbDtcclxuICAgIH1cclxuICAgIF93bGpzX3NldF9jb21wb25lbnRfcGFyYW1fbWF0ZXJpYWwoYywgcCwgcGUsIHYpIHtcclxuICAgICAgICBjb25zdCBwYXJhbSA9IHRoaXMuVVRGOFZpZXdUb1N0cmluZyhwLCBwZSk7XHJcbiAgICAgICAgdGhpcy5fY29tcG9uZW50c1tjXVtwYXJhbV0gPVxyXG4gICAgICAgICAgICB2ID4gMCA/IG5ldyBNYXRlcmlhbCh0aGlzLl9lbmdpbmUsIHYpIDogbnVsbDtcclxuICAgIH1cclxuICAgIF93bGpzX3NldF9jb21wb25lbnRfcGFyYW1fYW5pbWF0aW9uKGMsIHAsIHBlLCB2KSB7XHJcbiAgICAgICAgY29uc3QgcGFyYW0gPSB0aGlzLlVURjhWaWV3VG9TdHJpbmcocCwgcGUpO1xyXG4gICAgICAgIHRoaXMuX2NvbXBvbmVudHNbY11bcGFyYW1dID1cclxuICAgICAgICAgICAgdiA+IDAgPyBuZXcgQW5pbWF0aW9uKHRoaXMuX2VuZ2luZSwgdikgOiBudWxsO1xyXG4gICAgfVxyXG4gICAgX3dsanNfc2V0X2NvbXBvbmVudF9wYXJhbV9za2luKGMsIHAsIHBlLCB2KSB7XHJcbiAgICAgICAgY29uc3QgcGFyYW0gPSB0aGlzLlVURjhWaWV3VG9TdHJpbmcocCwgcGUpO1xyXG4gICAgICAgIHRoaXMuX2NvbXBvbmVudHNbY11bcGFyYW1dID1cclxuICAgICAgICAgICAgdiA+IDAgPyBuZXcgU2tpbih0aGlzLl9lbmdpbmUsIHYpIDogbnVsbDtcclxuICAgIH1cclxuICAgIF93bGpzX2dldF9jb21wb25lbnRfdHlwZV9pbmRleChuYW1lUHRyLCBuYW1lRW5kUHRyKSB7XHJcbiAgICAgICAgY29uc3QgdHlwZW5hbWUgPSB0aGlzLlVURjhWaWV3VG9TdHJpbmcobmFtZVB0ciwgbmFtZUVuZFB0cik7XHJcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLl9jb21wb25lbnRUeXBlSW5kaWNlc1t0eXBlbmFtZV07XHJcbiAgICAgICAgaWYgKGluZGV4ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Jyb2tlbkNvbXBvbmVudEluZGV4O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaW5kZXg7XHJcbiAgICB9XHJcbiAgICBfd2xqc19jb21wb25lbnRfY3JlYXRlKGpzTWFuYWdlckluZGV4LCBpbmRleCwgaWQsIHR5cGUsIG9iamVjdCkge1xyXG4gICAgICAgIGNvbnN0IGN0b3IgPSB0aGlzLl9jb21wb25lbnRUeXBlc1t0eXBlXTtcclxuICAgICAgICBpZiAoIWN0b3IpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUeXBlIGluZGV4ICR7dHlwZX0gaXNuJ3QgcmVnaXN0ZXJlZGApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgY29tcG9uZW50ID0gbnVsbDtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb21wb25lbnQgPSBuZXcgY3RvcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFeGNlcHRpb24gZHVyaW5nIGluc3RhbnRpYXRpb24gb2YgY29tcG9uZW50ICR7Y3Rvci5UeXBlTmFtZX1gKTtcclxuICAgICAgICAgICAgY29tcG9uZW50ID0gbmV3IEJyb2tlbkNvbXBvbmVudCh0aGlzLl9lbmdpbmUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKiBTZXRzIHRoZSBtYW5hZ2VyIGFuZCBpZGVudGlmaWVyIGZyb20gdGhlIG91dHNpZGUsIHRvIHNpbXBsaWZ5IHRoZSB1c2VyJ3MgY29uc3RydWN0b3IuICovXHJcbiAgICAgICAgLyogQHRzLWlnbm9yZSAqL1xyXG4gICAgICAgIGNvbXBvbmVudC5fZW5naW5lID0gdGhpcy5fZW5naW5lO1xyXG4gICAgICAgIGNvbXBvbmVudC5fbWFuYWdlciA9IGpzTWFuYWdlckluZGV4O1xyXG4gICAgICAgIGNvbXBvbmVudC5faWQgPSBpZDtcclxuICAgICAgICBjb21wb25lbnQuX29iamVjdCA9IHRoaXMuX2VuZ2luZS53cmFwT2JqZWN0KG9iamVjdCk7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29tcG9uZW50LnJlc2V0UHJvcGVydGllcygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFeGNlcHRpb24gZHVyaW5nICR7Y29tcG9uZW50LnR5cGV9IHJlc2V0UHJvcGVydGllcygpIG9uIG9iamVjdCAke2NvbXBvbmVudC5vYmplY3QubmFtZX1gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fY29tcG9uZW50c1tpbmRleF0gPSBjb21wb25lbnQ7XHJcbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudDtcclxuICAgIH1cclxuICAgIF93bGpzX2NvbXBvbmVudF9pbml0KGNvbXBvbmVudCkge1xyXG4gICAgICAgIGNvbnN0IGMgPSB0aGlzLl9jb21wb25lbnRzW2NvbXBvbmVudF07XHJcbiAgICAgICAgYy5fdHJpZ2dlckluaXQoKTtcclxuICAgIH1cclxuICAgIF93bGpzX2NvbXBvbmVudF91cGRhdGUoY29tcG9uZW50LCBkdCkge1xyXG4gICAgICAgIGNvbnN0IGMgPSB0aGlzLl9jb21wb25lbnRzW2NvbXBvbmVudF07XHJcbiAgICAgICAgYy5fdHJpZ2dlclVwZGF0ZShkdCk7XHJcbiAgICB9XHJcbiAgICBfd2xqc19jb21wb25lbnRfb25BY3RpdmF0ZShjb21wb25lbnQpIHtcclxuICAgICAgICBjb25zdCBjID0gdGhpcy5fY29tcG9uZW50c1tjb21wb25lbnRdO1xyXG4gICAgICAgIGlmIChjKVxyXG4gICAgICAgICAgICBjLl90cmlnZ2VyT25BY3RpdmF0ZSgpO1xyXG4gICAgfVxyXG4gICAgX3dsanNfY29tcG9uZW50X29uRGVhY3RpdmF0ZShjb21wb25lbnQpIHtcclxuICAgICAgICBjb25zdCBjID0gdGhpcy5fY29tcG9uZW50c1tjb21wb25lbnRdO1xyXG4gICAgICAgIGMuX3RyaWdnZXJPbkRlYWN0aXZhdGUoKTtcclxuICAgIH1cclxuICAgIF93bGpzX2NvbXBvbmVudF9vbkRlc3Ryb3koY29tcG9uZW50KSB7XHJcbiAgICAgICAgY29uc3QgYyA9IHRoaXMuX2NvbXBvbmVudHNbY29tcG9uZW50XTtcclxuICAgICAgICBjLl90cmlnZ2VyT25EZXN0cm95KCk7XHJcbiAgICB9XHJcbiAgICBfd2xqc19zd2FwKGEsIGIpIHtcclxuICAgICAgICBjb25zdCBjb21wb25lbnRBID0gdGhpcy5fY29tcG9uZW50c1thXTtcclxuICAgICAgICB0aGlzLl9jb21wb25lbnRzW2FdID0gdGhpcy5fY29tcG9uZW50c1tiXTtcclxuICAgICAgICB0aGlzLl9jb21wb25lbnRzW2JdID0gY29tcG9uZW50QTtcclxuICAgIH1cclxufVxyXG4iLCAiaW1wb3J0IHsgQ29tcG9uZW50LCBUeXBlIH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuLyoqXHJcbiAqIDh0aHdhbGwgY2FtZXJhIGNvbXBvbmVudC5cclxuICpcclxuICogU2V0cyB1cCB0aGUgOHRod2FsbCBwaXBlbGluZSBhbmQgcmV0cmlldmVzIHRyYWNraW5nIGV2ZW50cyB0byBwbGFjZSBhblxyXG4gKiBvYmplY3QgYXQgdGhlIGxvY2F0aW9uIG9mIHRoZSB0cmFja2VkIEFSIGNhbWVyYSAvIG1vYmlsZSBkZXZpY2UuXHJcbiAqXHJcbiAqIFVzZSB0aGlzIGZvciBTTEFNIHRyYWNraW5nIGJhc2VkIG9uIDh0aHdhbGwuXHJcbiAqXHJcbiAqIE1ha2Ugc3VyZSB0byBlbmFibGUgOHRod2FsbCBpbiBcIlByb2plY3QgU2V0dGluZ3NcIiA+IFwiQVJcIi4gU2VlIGFsc28gdGhlXHJcbiAqIFtBUiBHZXR0aW5nIFN0YXJ0ZWQgR3VpZGVdKC9nZXR0aW5nLXN0YXJ0ZWQvcXVpY2stc3RhcnQtYXIpXHJcbiAqXHJcbiAqXHJcbiAqIEN1cnJlbnRseSBvbmx5IHN1cHBvcnRzIHdvcmxkLXRyYWNraW5nIChTTEFNKSB1c2luZyBCQUNLIGNhbWVyYS5cclxuICpcclxuICogLSByZW1vdmUgYW55IG9jY3VycmVuY2VzIG9mIHRoZSBvbGQgOHRod2FsbC1jYW1lcmEgY29tcG9uZW50IGluIHRoZSBlZGl0b3JcclxuICogLSBBZGQgdGhpcyBjb21wb25lbnQgdG8gTm9uVnJDYW1lcmFcclxuICpcclxuICogSU1QT1JUQU5UIVxyXG4gKiAtIHVudGlsIGl0IGdldCdzIGZpeGVkLCBzZWxlY3QgJ2N1c3RvbUluZGV4SHRtbCcgaW4gdGhlIHByb2plY3Qgc2V0dGluZ3NcclxuICogLSBvcGVuIGEgZ2VuZXJhdGVkIGluZGV4Lmh0bWwgYW5kIGNyb3Nzb3JpZ2luPVwiYW5vbnltb3VzXCIgYXR0cmlidXRlIHRvIHRoZSA8c2NyaXB0PiB0YWcgd2hlcmUgLy9hcHBzLjh0aHdhbGwuY29tL3hyd2ViIGlzIGxvYWRlZFxyXG4gKlxyXG4gKlxyXG4gKiAjIyMjIyMjIyMgVXNpbmcgVUkgb3ZlcmxheXMgIyMjIyMjIyMjIyMjI1xyXG4gKiBCeSBkZWZhdWx0LCB0aGlzIGNvbXBvbmVudCByZW5kZXJzIG93biBVSSB0byBnaXZlIHRoZSB1c2VyIGZlZWRiYWNrIGFib3V0IHJlamVjdGVkIHBlcm1pc3Npb25zIG9yIHRyYWNraW5nIGVycm9ycy5cclxuICogSXQgY2FuIGJlIGNoYW5nZWQgYnkgZW5hYmxpbmcgdXNlQ3VzdG9tVUlPdmVybGF5cyBmbGFnLlxyXG4gKlxyXG4gKiBJZiB1c2VDdXN0b21VSU92ZXJsYXlzIGlzIGVuYWJsZWQsIHlvdSBhcmUgZXhwZWN0ZWQgaGFuZGxlIHRoZSBmb2xsb3dpbmcgZXZlbnRzIGRpc3BhdGNoZWQgYnkgdGhlIHdpbmRvdyBvYmplY3Q6XHJcbiAqIC0gXCI4dGh3YWxsLXJlcXVlc3QtdXNlci1pbnRlcmFjdGlvblwiIC0gdXNlZCBvbmx5IG9uIGlPUyBzYWZhcmkuIFJlcXVlc3QgYSB1c2VyIHRvIHBlcmZvcm0gYW5kIGludGVyYWN0aW9uIHdpdGggdGhlIHBhZ2Ugc28gdGhhdCBqYXZhc2NyaXB0IGlzIGFsbG93ZWQgdG8gYWxsb3dlZCB0byByZXF1ZXN0IGEgbW90aW9uL2NhbWVyYS9taWMgcGVybWlzc2lvbnMuXHJcbiAqICBNYWtlIHN1cmUgdGhlIHdpbmRvdyBvYmplY3QgaXMgZGlzcGF0Y2hpbmcgYW4gJzh0aHdhbGwtc2FmZS10by1yZXF1ZXN0LXBlcm1pc3Npb25zJyBldmVudCBhZnRlciBpbnRlcmFjdGlvbiBoYXMgaGFwcGVuZWQuXHJcbiAqIGBgYFxyXG4gKiA8YnV0dG9uIG9uY2xpY2s9XCJ3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJzh0aHdhbGwtc2FmZS10by1yZXF1ZXN0LXBlcm1pc3Npb25zJykpXCI+QWxsb3cgU2Vuc29yczwvYnV0dG9uPlxyXG4gKiBgYGBcclxuICpcclxuICogLSBcIjh0aHdhbGwtcGVybWlzc2lvbi1mYWlsXCIgLSB1c2VyIHJlamVjdGVkIGFueSBvZiB0aGUgcGVybWlzc2lvbnNcclxuICpcclxuICogLSBcIjh0aHdhbGwtZXJyb3JcIiAtIHJ1bnRpbWUgOHRod2FsbCBlcnJvciBvY2N1cnJlZFxyXG4gKi9cclxuY2xhc3MgQVJDYW1lcmE4dGh3YWxsIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICc4dGh3YWxsLWNhbWVyYSc7XHJcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcclxuICAgICAgICAvKiogT3ZlcnJpZGUgdGhlIFdMIGh0bWwgb3ZlcmxheXMgZm9yIGhhbmRsaW5nIGNhbWVyYS9tb3Rpb24gcGVybWlzc2lvbnMgYW5kIGVycm9yIGhhbmRsaW5nICovXHJcbiAgICAgICAgdXNlQ3VzdG9tVUlPdmVybGF5czogeyB0eXBlOiBUeXBlLkJvb2wsIGRlZmF1bHQ6IGZhbHNlIH0sXHJcbiAgICB9O1xyXG4gICAgLyogOHRod2FsbCBjYW1lcmEgcGlwZWxpbmUgbW9kdWxlIG5hbWUgKi9cclxuICAgIG5hbWUgPSAnd29uZGVybGFuZC1lbmdpbmUtOHRod2FsbC1jYW1lcmEnO1xyXG4gICAgc3RhcnRlZCA9IGZhbHNlO1xyXG4gICAgdmlldyA9IG51bGw7IC8vIGNhY2hlIGNhbWVyYVxyXG4gICAgcG9zaXRpb24gPSBbMCwgMCwgMF07IC8vIGNhY2hlIDh0aHdhbGwgY2FtIHBvc2l0aW9uXHJcbiAgICByb3RhdGlvbiA9IFswLCAwLCAwLCAtMV07IC8vIGNhY2hlIDh0aHdhbGwgY2FtIHJvdGF0aW9uXHJcbiAgICBnbFRleHR1cmVSZW5kZXJlciA9IG51bGw7IC8vIGNhY2hlIFhSOC5HbFRleHR1cmVSZW5kZXJlci5waXBlbGluZU1vZHVsZVxyXG4gICAgcHJvbXB0Rm9yRGV2aWNlTW90aW9uKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIC8vIFRlbGwgYW55b25lIHdobydzIGludGVyZXN0ZWQgdGhhdCB3ZSB3YW50IHRvIGdldCBzb21lIHVzZXIgaW50ZXJhY3Rpb25cclxuICAgICAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCc4dGh3YWxsLXJlcXVlc3QtdXNlci1pbnRlcmFjdGlvbicpKTtcclxuICAgICAgICAgICAgLy8gV2FpdCB1bnRpbCBzb21lb25lIHJlc3BvbnNlIHRoYXQgdXNlciBpbnRlcmFjdGlvbiBoYXBwZW5lZFxyXG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignOHRod2FsbC1zYWZlLXRvLXJlcXVlc3QtcGVybWlzc2lvbnMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vdGlvbkV2ZW50ID0gYXdhaXQgRGV2aWNlTW90aW9uRXZlbnQucmVxdWVzdFBlcm1pc3Npb24oKTtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKG1vdGlvbkV2ZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhdGNoIChleGNlcHRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXhjZXB0aW9uKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBhc3luYyBnZXRQZXJtaXNzaW9ucygpIHtcclxuICAgICAgICAvLyBpT1MgXCJmZWF0dXJlXCIuIElmIHdlIHdhbnQgdG8gcmVxdWVzdCB0aGUgRGV2aWNlTW90aW9uIHBlcm1pc3Npb24sIHVzZXIgaGFzIHRvIGludGVyYWN0IHdpdGggdGhlIHBhZ2UgYXQgZmlyc3QgKHRvdWNoIGl0KS5cclxuICAgICAgICAvLyBJZiB0aGVyZSB3YXMgbm8gaW50ZXJhY3Rpb24gZG9uZSBzbyBmYXIsIHdlIHdpbGwgcmVuZGVyIGEgSFRNTCBvdmVybGF5IHdpdGggd291bGQgZ2V0IHRoZSB1c2VyIHRvIGludGVyYWN0IHdpdGggdGhlIHNjcmVlblxyXG4gICAgICAgIGlmIChEZXZpY2VNb3Rpb25FdmVudCAmJiBEZXZpY2VNb3Rpb25FdmVudC5yZXF1ZXN0UGVybWlzc2lvbikge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgRGV2aWNlTW90aW9uRXZlbnQucmVxdWVzdFBlcm1pc3Npb24oKTtcclxuICAgICAgICAgICAgICAgIC8vIFRoZSB1c2VyIG11c3QgaGF2ZSByZWplY3RlZCB0aGUgbW90aW9uIGV2ZW50IG9uIHByZXZpb3VzIHBhZ2UgbG9hZC4gKHNhZmFyaSByZW1lbWJlcnMgdGhpcyBjaG9pY2UpLlxyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCAhPT0gJ2dyYW50ZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNb3Rpb25FdmVudCcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChleGNlcHRpb24pIHtcclxuICAgICAgICAgICAgICAgIC8vIFVzZXIgaGFkIG5vIGludGVyYWN0aW9uIHdpdGggdGhlIHBhZ2Ugc28gZmFyXHJcbiAgICAgICAgICAgICAgICBpZiAoZXhjZXB0aW9uLm5hbWUgPT09ICdOb3RBbGxvd2VkRXJyb3InKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbW90aW9uRXZlbnQgPSBhd2FpdCB0aGlzLnByb21wdEZvckRldmljZU1vdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtb3Rpb25FdmVudCAhPT0gJ2dyYW50ZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTW90aW9uRXZlbnQnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01vdGlvbkV2ZW50Jyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gbWFrZSBzdXJlIHdlIGdldCB0aGUgY2FtZXJhIHN0cmVhbVxyXG4gICAgICAgICAgICBjb25zdCBzdHJlYW0gPSBhd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7XHJcbiAgICAgICAgICAgICAgICB2aWRlbzogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGF1ZGlvOiB0cnVlLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy8gSWYgd2Ugc3VjY2Vzc2Z1bGx5IGFjcXVpcmVkIHRoZSBjYW1lcmEgc3RyZWFtIC0gd2UgY2FuIHN0b3AgaXQgYW5kIHdhaXQgdW50aWwgOHRod2FsbCByZXF1ZXN0cyBpdCBhZ2FpblxyXG4gICAgICAgICAgICBzdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaCgodHJhY2spID0+IHtcclxuICAgICAgICAgICAgICAgIHRyYWNrLnN0b3AoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChleGNlcHRpb24pIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW1lcmEnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIHRoaXMudmlldyA9IHRoaXMub2JqZWN0LmdldENvbXBvbmVudCgndmlldycpO1xyXG4gICAgICAgIHRoaXMub25VcGRhdGUgPSB0aGlzLm9uVXBkYXRlLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5vbkF0dGFjaCA9IHRoaXMub25BdHRhY2guYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLm9uRXhjZXB0aW9uID0gdGhpcy5vbkV4Y2VwdGlvbi5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMub25DYW1lcmFTdGF0dXNDaGFuZ2UgPSB0aGlzLm9uQ2FtZXJhU3RhdHVzQ2hhbmdlLmJpbmQodGhpcyk7XHJcbiAgICB9XHJcbiAgICBhc3luYyBzdGFydCgpIHtcclxuICAgICAgICB0aGlzLnZpZXcgPSB0aGlzLm9iamVjdC5nZXRDb21wb25lbnQoJ3ZpZXcnKTtcclxuICAgICAgICBpZiAoIXRoaXMudXNlQ3VzdG9tVUlPdmVybGF5cykge1xyXG4gICAgICAgICAgICBPdmVybGF5c0hhbmRsZXIuaW5pdCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmdldFBlcm1pc3Npb25zKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAvLyBVc2VyIGRpZCBub3QgZ3JhbnQgdGhlIGNhbWVyYSBvciBtb3Rpb25FdmVudCBwZXJtaXNzaW9uc1xyXG4gICAgICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJzh0aHdhbGwtcGVybWlzc2lvbi1mYWlsJywgeyBkZXRhaWw6IGVycm9yIH0pKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhd2FpdCB0aGlzLndhaXRGb3JYUjgoKTtcclxuICAgICAgICBYUjguWHJDb250cm9sbGVyLmNvbmZpZ3VyZSh7XHJcbiAgICAgICAgICAgIGRpc2FibGVXb3JsZFRyYWNraW5nOiBmYWxzZSxcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmdsVGV4dHVyZVJlbmRlcmVyID0gWFI4LkdsVGV4dHVyZVJlbmRlcmVyLnBpcGVsaW5lTW9kdWxlKCk7XHJcbiAgICAgICAgWFI4LmFkZENhbWVyYVBpcGVsaW5lTW9kdWxlcyhbXHJcbiAgICAgICAgICAgIHRoaXMuZ2xUZXh0dXJlUmVuZGVyZXIsXHJcbiAgICAgICAgICAgIFhSOC5YckNvbnRyb2xsZXIucGlwZWxpbmVNb2R1bGUoKSxcclxuICAgICAgICAgICAgdGhpcyxcclxuICAgICAgICBdKTtcclxuICAgICAgICBjb25zdCBjb25maWcgPSB7XHJcbiAgICAgICAgICAgIGNhbWVyYUNvbmZpZzoge1xyXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uOiBYUjguWHJDb25maWcuY2FtZXJhKCkuQkFDSyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY2FudmFzOiBNb2R1bGUuY2FudmFzLFxyXG4gICAgICAgICAgICBhbGxvd2VkRGV2aWNlczogWFI4LlhyQ29uZmlnLmRldmljZSgpLkFOWSxcclxuICAgICAgICAgICAgb3duUnVuTG9vcDogZmFsc2UsXHJcbiAgICAgICAgfTtcclxuICAgICAgICBYUjgucnVuKGNvbmZpZyk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKiA4dGh3YWxsIHBpcGVsaW5lIGZ1bmN0aW9uXHJcbiAgICAgKi9cclxuICAgIG9uQXR0YWNoKHBhcmFtcykge1xyXG4gICAgICAgIHRoaXMuc3RhcnRlZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5lbmdpbmUuc2NlbmUuY29sb3JDbGVhckVuYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICBjb25zdCBnbCA9IE1vZHVsZS5jdHg7XHJcbiAgICAgICAgY29uc3Qgcm90ID0gdGhpcy5vYmplY3Qucm90YXRpb25Xb3JsZDtcclxuICAgICAgICBjb25zdCBwb3MgPSB0aGlzLm9iamVjdC5nZXRUcmFuc2xhdGlvbldvcmxkKFtdKTtcclxuICAgICAgICB0aGlzLnBvc2l0aW9uID0gQXJyYXkuZnJvbShwb3MpO1xyXG4gICAgICAgIHRoaXMucm90YXRpb24gPSBBcnJheS5mcm9tKHJvdCk7XHJcbiAgICAgICAgWFI4LlhyQ29udHJvbGxlci51cGRhdGVDYW1lcmFQcm9qZWN0aW9uTWF0cml4KHtcclxuICAgICAgICAgICAgb3JpZ2luOiB7IHg6IHBvc1swXSwgeTogcG9zWzFdLCB6OiBwb3NbMl0gfSxcclxuICAgICAgICAgICAgZmFjaW5nOiB7IHg6IHJvdFswXSwgeTogcm90WzFdLCB6OiByb3RbMl0sIHc6IHJvdFszXSB9LFxyXG4gICAgICAgICAgICBjYW06IHtcclxuICAgICAgICAgICAgICAgIHBpeGVsUmVjdFdpZHRoOiBNb2R1bGUuY2FudmFzLndpZHRoLFxyXG4gICAgICAgICAgICAgICAgcGl4ZWxSZWN0SGVpZ2h0OiBNb2R1bGUuY2FudmFzLmhlaWdodCxcclxuICAgICAgICAgICAgICAgIG5lYXJDbGlwUGxhbmU6IHRoaXMudmlldy5uZWFyLFxyXG4gICAgICAgICAgICAgICAgZmFyQ2xpcFBsYW5lOiB0aGlzLnZpZXcuZmFyLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuZW5naW5lLnNjZW5lLm9uUHJlUmVuZGVyLnB1c2goKCkgPT4ge1xyXG4gICAgICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRFJBV19GUkFNRUJVRkZFUiwgbnVsbCk7XHJcbiAgICAgICAgICAgIFhSOC5ydW5QcmVSZW5kZXIoRGF0ZS5ub3coKSk7XHJcbiAgICAgICAgICAgIFhSOC5ydW5SZW5kZXIoKTsgLy8gPC0tLSB0ZWxsIDh0aHdhbGwgdG8gZG8gaXQncyB0aGluZyAoYWx0ZXJuYXRpdmVseSBjYWxsIHRoaXMuZ2xUZXh0dXJlUmVuZGVyZXIub25SZW5kZXIoKSBpZiB5b3Ugb25seSBjYXJlIGFib3V0IGNhbWVyYSBmZWVkIClcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmVuZ2luZS5zY2VuZS5vblBvc3RSZW5kZXIucHVzaCgoKSA9PiB7XHJcbiAgICAgICAgICAgIFhSOC5ydW5Qb3N0UmVuZGVyKERhdGUubm93KCkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICogOHRod2FsbCBwaXBlbGluZSBmdW5jdGlvblxyXG4gICAgICovXHJcbiAgICBvbkNhbWVyYVN0YXR1c0NoYW5nZShlKSB7XHJcbiAgICAgICAgaWYgKGUgJiYgZS5zdGF0dXMgPT09ICdmYWlsZWQnKSB7XHJcbiAgICAgICAgICAgIHRoaXMub25FeGNlcHRpb24obmV3IEVycm9yKGBDYW1lcmEgZmFpbGVkIHdpdGggc3RhdHVzOiAke2Uuc3RhdHVzfWApKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKiA4dGh3YWxsIHBpcGVsaW5lIGZ1bmN0aW9uXHJcbiAgICAgKi9cclxuICAgIG9uVXBkYXRlKGUpIHtcclxuICAgICAgICBpZiAoIWUucHJvY2Vzc0NwdVJlc3VsdC5yZWFsaXR5KVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgY29uc3QgeyByb3RhdGlvbiwgcG9zaXRpb24sIGludHJpbnNpY3MgfSA9IGUucHJvY2Vzc0NwdVJlc3VsdC5yZWFsaXR5O1xyXG4gICAgICAgIHRoaXMucm90YXRpb25bMF0gPSByb3RhdGlvbi54O1xyXG4gICAgICAgIHRoaXMucm90YXRpb25bMV0gPSByb3RhdGlvbi55O1xyXG4gICAgICAgIHRoaXMucm90YXRpb25bMl0gPSByb3RhdGlvbi56O1xyXG4gICAgICAgIHRoaXMucm90YXRpb25bM10gPSByb3RhdGlvbi53O1xyXG4gICAgICAgIHRoaXMucG9zaXRpb25bMF0gPSBwb3NpdGlvbi54O1xyXG4gICAgICAgIHRoaXMucG9zaXRpb25bMV0gPSBwb3NpdGlvbi55O1xyXG4gICAgICAgIHRoaXMucG9zaXRpb25bMl0gPSBwb3NpdGlvbi56O1xyXG4gICAgICAgIGlmIChpbnRyaW5zaWNzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHByb2plY3Rpb25NYXRyaXggPSB0aGlzLnZpZXcucHJvamVjdGlvbk1hdHJpeDtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxNjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAvKiBTb21lIHByb2Nlc3NDcHVSZXN1bHQucmVhbGl0eS5pbnRyaW5zaWNzIGFyZSBzZXQgdG8gSW5maW5pdHksXHJcbiAgICAgICAgICAgICAgICAgKiB3aGljaCBicmFrZXMgb3VyIHByb2plY3Rpb25NYXRyaXguIFNvIHdlIGp1c3QgZmlsdGVyIHRob3NlIGVsZW1lbnRzIG91dC4gKi9cclxuICAgICAgICAgICAgICAgIGlmIChOdW1iZXIuaXNGaW5pdGUoaW50cmluc2ljc1tpXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBwcm9qZWN0aW9uTWF0cml4W2ldID0gaW50cmluc2ljc1tpXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocG9zaXRpb24gJiYgcm90YXRpb24pIHtcclxuICAgICAgICAgICAgdGhpcy5vYmplY3Qucm90YXRpb25Xb3JsZCA9IHRoaXMucm90YXRpb247XHJcbiAgICAgICAgICAgIHRoaXMub2JqZWN0LnNldFRyYW5zbGF0aW9uV29ybGQodGhpcy5wb3NpdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICogOHRod2FsbCBwaXBlbGluZSBmdW5jdGlvblxyXG4gICAgICovXHJcbiAgICBvbkV4Y2VwdGlvbihlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJzh0aHdhbGwgZXhjZXB0aW9uOicsIGVycm9yKTtcclxuICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJzh0aHdhbGwtZXJyb3InLCB7IGRldGFpbDogZXJyb3IgfSkpO1xyXG4gICAgfVxyXG4gICAgd2FpdEZvclhSOCgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIF9yZWopID0+IHtcclxuICAgICAgICAgICAgaWYgKHdpbmRvdy5YUjgpIHtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd4cmxvYWRlZCcsICgpID0+IHJlc29sdmUoKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5leHBvcnQgeyBBUkNhbWVyYTh0aHdhbGwgfTtcclxuY29uc3QgT3ZlcmxheXNIYW5kbGVyID0ge1xyXG4gICAgaW5pdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuaGFuZGxlUmVxdWVzdFVzZXJJbnRlcmFjdGlvbiA9IHRoaXMuaGFuZGxlUmVxdWVzdFVzZXJJbnRlcmFjdGlvbi5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuaGFuZGxlUGVybWlzc2lvbkZhaWwgPSB0aGlzLmhhbmRsZVBlcm1pc3Npb25GYWlsLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVFcnJvciA9IHRoaXMuaGFuZGxlRXJyb3IuYmluZCh0aGlzKTtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignOHRod2FsbC1yZXF1ZXN0LXVzZXItaW50ZXJhY3Rpb24nLCB0aGlzLmhhbmRsZVJlcXVlc3RVc2VySW50ZXJhY3Rpb24pO1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCc4dGh3YWxsLXBlcm1pc3Npb24tZmFpbCcsIHRoaXMuaGFuZGxlUGVybWlzc2lvbkZhaWwpO1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCc4dGh3YWxsLWVycm9yJywgdGhpcy5oYW5kbGVFcnJvcik7XHJcbiAgICB9LFxyXG4gICAgaGFuZGxlUmVxdWVzdFVzZXJJbnRlcmFjdGlvbjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNvbnN0IG92ZXJsYXkgPSB0aGlzLnNob3dPdmVybGF5KHJlcXVlc3RQZXJtaXNzaW9uT3ZlcmxheSk7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJzh0aHdhbGwtc2FmZS10by1yZXF1ZXN0LXBlcm1pc3Npb25zJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBvdmVybGF5LnJlbW92ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuICAgIGhhbmRsZVBlcm1pc3Npb25GYWlsOiBmdW5jdGlvbiAoX3JlYXNvbikge1xyXG4gICAgICAgIHRoaXMuc2hvd092ZXJsYXkoZmFpbGVkUGVybWlzc2lvbk92ZXJsYXkpO1xyXG4gICAgfSxcclxuICAgIGhhbmRsZUVycm9yOiBmdW5jdGlvbiAoX2Vycm9yKSB7XHJcbiAgICAgICAgdGhpcy5zaG93T3ZlcmxheShydW50aW1lRXJyb3JPdmVybGF5KTtcclxuICAgIH0sXHJcbiAgICBzaG93T3ZlcmxheTogZnVuY3Rpb24gKGh0bWxDb250ZW50KSB7XHJcbiAgICAgICAgY29uc3Qgb3ZlcmxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIG92ZXJsYXkuaW5uZXJIVE1MID0gaHRtbENvbnRlbnQ7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChvdmVybGF5KTtcclxuICAgICAgICByZXR1cm4gb3ZlcmxheTtcclxuICAgIH0sXHJcbn07XHJcbmNvbnN0IHJlcXVlc3RQZXJtaXNzaW9uT3ZlcmxheSA9IGBcclxuPHN0eWxlPlxyXG4gICNyZXF1ZXN0LXBlcm1pc3Npb24tb3ZlcmxheSB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IDA7XHJcbiAgICBsZWZ0OiAwO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICB6LWluZGV4OiA5OTk7XHJcbiAgICBjb2xvcjogI2ZmZjtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC41KTtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIGZvbnQtZmFtaWx5OiBzYW5zLXNlcmlmO1xyXG4gIH1cclxuXHJcbiAgLnJlcXVlc3QtcGVybWlzc2lvbi1vdmVybGF5X3RpdGxlIHtcclxuICAgIG1hcmdpbjogMzBweDtcclxuICAgIGZvbnQtc2l6ZTogMzJweDtcclxuICB9XHJcblxyXG4gIC5yZXF1ZXN0LXBlcm1pc3Npb24tb3ZlcmxheV9idXR0b24ge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2U4MDA4NjtcclxuICAgIGZvbnQtc2l6ZTogMjJweDtcclxuICAgIHBhZGRpbmc6IDEwcHggMzBweDtcclxuICAgIGNvbG9yOiAjZmZmO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTVweDtcclxuICAgIGJvcmRlcjogbm9uZTtcclxuICB9XHJcbjwvc3R5bGU+XHJcblxyXG48ZGl2IGlkPVwicmVxdWVzdC1wZXJtaXNzaW9uLW92ZXJsYXlcIj5cclxuICA8ZGl2IGNsYXNzPVwicmVxdWVzdC1wZXJtaXNzaW9uLW92ZXJsYXlfdGl0bGVcIj5UaGlzIGFwcCByZXF1aXJlcyB0byB1c2UgeW91ciBjYW1lcmEgYW5kIG1vdGlvbiBzZW5zb3JzPC9kaXY+XHJcblxyXG4gIDxidXR0b24gY2xhc3M9XCJyZXF1ZXN0LXBlcm1pc3Npb24tb3ZlcmxheV9idXR0b25cIiBvbmNsaWNrPVwid2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCc4dGh3YWxsLXNhZmUtdG8tcmVxdWVzdC1wZXJtaXNzaW9ucycpKVwiPk9LPC9idXR0b24+XHJcbjwvZGl2PmA7XHJcbmNvbnN0IGZhaWxlZFBlcm1pc3Npb25PdmVybGF5ID0gYFxyXG48c3R5bGU+XHJcbiAgI2ZhaWxlZC1wZXJtaXNzaW9uLW92ZXJsYXkge1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiAwO1xyXG4gICAgbGVmdDogMDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgei1pbmRleDogOTk5O1xyXG4gICAgY29sb3I6ICNmZmY7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNSk7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBmb250LWZhbWlseTogc2Fucy1zZXJpZjtcclxuICB9XHJcblxyXG4gIC5mYWlsZWQtcGVybWlzc2lvbi1vdmVybGF5X3RpdGxlIHtcclxuICAgIG1hcmdpbjogMzBweDtcclxuICAgIGZvbnQtc2l6ZTogMzJweDtcclxuICB9XHJcblxyXG4gIC5mYWlsZWQtcGVybWlzc2lvbi1vdmVybGF5X2J1dHRvbiB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTgwMDg2O1xyXG4gICAgZm9udC1zaXplOiAyMnB4O1xyXG4gICAgcGFkZGluZzogMTBweCAzMHB4O1xyXG4gICAgY29sb3I6ICNmZmY7XHJcbiAgICBib3JkZXItcmFkaXVzOiAxNXB4O1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gIH1cclxuPC9zdHlsZT5cclxuXHJcbjxkaXYgaWQ9XCJmYWlsZWQtcGVybWlzc2lvbi1vdmVybGF5XCI+XHJcbiAgPGRpdiBjbGFzcz1cImZhaWxlZC1wZXJtaXNzaW9uLW92ZXJsYXlfdGl0bGVcIj5GYWlsZWQgdG8gZ3JhbnQgcGVybWlzc2lvbnMuIFJlc2V0IHRoZSB0aGUgcGVybWlzc2lvbnMgYW5kIHJlZnJlc2ggdGhlIHBhZ2UuPC9kaXY+XHJcblxyXG4gIDxidXR0b24gY2xhc3M9XCJmYWlsZWQtcGVybWlzc2lvbi1vdmVybGF5X2J1dHRvblwiIG9uY2xpY2s9XCJ3aW5kb3cubG9jYXRpb24ucmVsb2FkKClcIj5SZWZyZXNoIHRoZSBwYWdlPC9idXR0b24+XHJcbjwvZGl2PmA7XHJcbmNvbnN0IHJ1bnRpbWVFcnJvck92ZXJsYXkgPSBgXHJcbjxzdHlsZT5cclxuICAjd2FsbC1lcnJvci1vdmVybGF5IHtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHRvcDogMDtcclxuICAgIGxlZnQ6IDA7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGhlaWdodDogMTAwJTtcclxuICAgIHotaW5kZXg6IDk5OTtcclxuICAgIGNvbG9yOiAjZmZmO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjUpO1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgZm9udC1mYW1pbHk6IHNhbnMtc2VyaWY7XHJcbiAgfVxyXG5cclxuICAud2FsbC1lcnJvci1vdmVybGF5X3RpdGxlIHtcclxuICAgIG1hcmdpbjogMzBweDtcclxuICAgIGZvbnQtc2l6ZTogMzJweDtcclxuICB9XHJcblxyXG4gIC53YWxsLWVycm9yLW92ZXJsYXlfYnV0dG9uIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNlODAwODY7XHJcbiAgICBmb250LXNpemU6IDIycHg7XHJcbiAgICBwYWRkaW5nOiAxMHB4IDMwcHg7XHJcbiAgICBjb2xvcjogI2ZmZjtcclxuICAgIGJvcmRlci1yYWRpdXM6IDE1cHg7XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbiAgfVxyXG48L3N0eWxlPlxyXG5cclxuPGRpdiBpZD1cIndhbGwtZXJyb3Itb3ZlcmxheVwiPlxyXG4gIDxkaXYgY2xhc3M9XCJ3YWxsLWVycm9yLW92ZXJsYXlfdGl0bGVcIj5FcnJvciBoYXMgb2NjdXJyZWQuIFBsZWFzZSByZWxvYWQgdGhlIHBhZ2U8L2Rpdj5cclxuXHJcbiAgPGJ1dHRvbiBjbGFzcz1cIndhbGwtZXJyb3Itb3ZlcmxheV9idXR0b25cIiBvbmNsaWNrPVwid2luZG93LmxvY2F0aW9uLnJlbG9hZCgpXCI+UmVsb2FkPC9idXR0b24+XHJcbjwvZGl2PmA7XHJcbiIsICJjb25zdCB0ZW1wVmVjID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuY29uc3QgdGVtcFF1YXQgPSBuZXcgRmxvYXQzMkFycmF5KDQpO1xyXG5leHBvcnQgZnVuY3Rpb24gc2V0WFJSaWdpZFRyYW5zZm9ybUxvY2FsKG8sIHRyYW5zZm9ybSkge1xyXG4gICAgY29uc3QgciA9IHRyYW5zZm9ybS5vcmllbnRhdGlvbjtcclxuICAgIHRlbXBRdWF0WzBdID0gci54O1xyXG4gICAgdGVtcFF1YXRbMV0gPSByLnk7XHJcbiAgICB0ZW1wUXVhdFsyXSA9IHIuejtcclxuICAgIHRlbXBRdWF0WzNdID0gci53O1xyXG4gICAgY29uc3QgdCA9IHRyYW5zZm9ybS5wb3NpdGlvbjtcclxuICAgIHRlbXBWZWNbMF0gPSB0Lng7XHJcbiAgICB0ZW1wVmVjWzFdID0gdC55O1xyXG4gICAgdGVtcFZlY1syXSA9IHQuejtcclxuICAgIG8ucmVzZXRUcmFuc2xhdGlvblJvdGF0aW9uKCk7XHJcbiAgICBvLnRyYW5zZm9ybUxvY2FsLnNldCh0ZW1wUXVhdCk7XHJcbiAgICBvLnRyYW5zbGF0ZSh0ZW1wVmVjKTtcclxufVxyXG4iLCAidmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufTtcclxuaW1wb3J0IHsgQ29tcG9uZW50LCBFbWl0dGVyIH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuaW1wb3J0IHsgcHJvcGVydHkgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGkvZGVjb3JhdG9ycy5qcyc7XHJcbmltcG9ydCB7IHNldFhSUmlnaWRUcmFuc2Zvcm1Mb2NhbCB9IGZyb20gJy4vdXRpbHMvd2VieHIuanMnO1xyXG52YXIgdGVtcFZlYzMgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG52YXIgdGVtcFF1YXQgPSBuZXcgRmxvYXQzMkFycmF5KDQpO1xyXG4vKipcclxuICogU2V0cyB0aGUgbG9jYXRpb24gb2YgdGhlIG9iamVjdCB0byB0aGUgbG9jYXRpb24gb2YgYW4gWFJBbmNob3JcclxuICpcclxuICogQ3JlYXRlIGFuY2hvcnMgdXNpbmcgdGhlIGBBbmNob3IuY3JlYXRlKClgIHN0YXRpYyBmdW5jdGlvbi5cclxuICpcclxuICogRXhhbXBsZSBmb3IgdXNlIHdpdGggY3Vyc29yOlxyXG4gKiBgYGBqc1xyXG4gKiBjdXJzb3JUYXJnZXQub25DbGljay5hZGQoKG9iamVjdCwgY3Vyc29yLCBvcmlnaW5hbEV2ZW50KSA9PiB7XHJcbiAqICAgICAvKiBPbmx5IGV2ZW50cyBpbiBYUiB3aWxsIGhhdmUgYSBmcmFtZSBhdHRhY2hlZCAqXFwvXHJcbiAqICAgICBpZighb3JpZ2luYWxFdmVudC5mcmFtZSkgcmV0dXJuO1xyXG4gKiAgICAgQW5jaG9yLmNyZWF0ZShhbmNob3JPYmplY3QsIHt1dWlkOiBpZCwgcGVyc2lzdDogdHJ1ZX0sIG9yaWdpbmFsRXZlbnQuZnJhbWUpO1xyXG4gKiB9KTtcclxuICogYGBgXHJcbiAqL1xyXG5jbGFzcyBBbmNob3IgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ2FuY2hvcic7XHJcbiAgICAvKiBTdGF0aWMgbWFuYWdlbWVudCBvZiBhbGwgYW5jaG9ycyAqL1xyXG4gICAgc3RhdGljICNhbmNob3JzID0gW107XHJcbiAgICBwZXJzaXN0ID0gZmFsc2U7XHJcbiAgICAvKiogVW5pcXVlIGlkZW50aWZpZXIgdG8gbG9hZCBhIHBlcnNpc3RlbnQgYW5jaG9yIGZyb20sIG9yIGVtcHR5L251bGwgaWYgdW5rbm93biAqL1xyXG4gICAgdXVpZCA9IG51bGw7XHJcbiAgICAvKiogVGhlIHhyQW5jaG9yLCBpZiBjcmVhdGVkICovXHJcbiAgICB4ckFuY2hvciA9IG51bGw7XHJcbiAgICAvKiogRW1pdHMgZXZlbnRzIHdoZW4gdGhlIGFuY2hvciBpcyBjcmVhdGVkIGVpdGhlciBieSBiZWluZyByZXN0b3JlZCBvciBuZXdseSBjcmVhdGVkICovXHJcbiAgICBvbkNyZWF0ZSA9IG5ldyBFbWl0dGVyKCk7XHJcbiAgICAvKiogV2hldGhlciB0aGUgYW5jaG9yIGlzIGN1cnJlbnRseSBiZWluZyB0cmFja2VkICovXHJcbiAgICB2aXNpYmxlID0gZmFsc2U7XHJcbiAgICAvKiogRW1pdHMgYW4gZXZlbnQgd2hlbiB0aGlzIGFuY2hvciBzdGFydHMgdHJhY2tpbmcgKi9cclxuICAgIG9uVHJhY2tpbmdGb3VuZCA9IG5ldyBFbWl0dGVyKCk7XHJcbiAgICAvKiogRW1pdHMgYW4gZXZlbnQgd2hlbiB0aGlzIGFuY2hvciBzdG9wcyB0cmFja2luZyAqL1xyXG4gICAgb25UcmFja2luZ0xvc3QgPSBuZXcgRW1pdHRlcigpO1xyXG4gICAgLyoqIFhSRnJhbWUgdG8gdXNlIGZvciBjcmVhdGluZyB0aGUgYW5jaG9yICovXHJcbiAgICB4ckZyYW1lID0gbnVsbDtcclxuICAgIC8qKiBYUkhpdFRlc3RSZXN1bHQgdG8gdXNlIGZvciBjcmVhdGluZyB0aGUgYW5jaG9yICovXHJcbiAgICB4ckhpdFJlc3VsdCA9IG51bGw7XHJcbiAgICAvKiogUmV0cmlldmUgYWxsIGFuY2hvcnMgb2YgdGhlIGN1cnJlbnQgc2NlbmUgKi9cclxuICAgIHN0YXRpYyBnZXRBbGxBbmNob3JzKCkge1xyXG4gICAgICAgIHJldHVybiBBbmNob3IuI2FuY2hvcnM7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgI2FkZEFuY2hvcihhbmNob3IpIHtcclxuICAgICAgICBBbmNob3IuI2FuY2hvcnMucHVzaChhbmNob3IpO1xyXG4gICAgfVxyXG4gICAgc3RhdGljICNyZW1vdmVBbmNob3IoYW5jaG9yKSB7XHJcbiAgICAgICAgY29uc3QgaW5kZXggPSBBbmNob3IuI2FuY2hvcnMuaW5kZXhPZihhbmNob3IpO1xyXG4gICAgICAgIGlmIChpbmRleCA8IDApXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICBBbmNob3IuI2FuY2hvcnMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGEgbmV3IGFuY2hvclxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBvIE9iamVjdCB0byBhdHRhY2ggdGhlIGNvbXBvbmVudCB0b1xyXG4gICAgICogQHBhcmFtIHBhcmFtcyBQYXJhbWV0ZXJzIGZvciB0aGUgYW5jaG9yIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIGZyYW1lIFhSRnJhbWUgdG8gdXNlIGZvciBhbmNob3IgY3JhdGlvbiwgaWYgbnVsbCwgd2lsbCB1c2UgdGhlIGN1cnJlbnQgZnJhbWUgaWYgYXZhaWxhYmxlXHJcbiAgICAgKiBAcGFyYW0gaGl0UmVzdWx0IE9wdGlvbmFsIGhpdC10ZXN0IHJlc3VsdCB0byBjcmVhdGUgdGhlIGFuY2hvciB3aXRoXHJcbiAgICAgKiBAcmV0dXJucyBQcm9taXNlIGZvciB0aGUgbmV3bHkgY3JlYXRlZCBhbmNob3IgY29tcG9uZW50XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBjcmVhdGUobywgcGFyYW1zLCBmcmFtZSwgaGl0UmVzdWx0KSB7XHJcbiAgICAgICAgY29uc3QgYSA9IG8uYWRkQ29tcG9uZW50KEFuY2hvciwgeyAuLi5wYXJhbXMsIGFjdGl2ZTogZmFsc2UgfSk7XHJcbiAgICAgICAgaWYgKGEgPT09IG51bGwpXHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIGEueHJIaXRSZXN1bHQgPSBoaXRSZXN1bHQgPz8gbnVsbDtcclxuICAgICAgICBhLnhyRnJhbWUgPSBmcmFtZSA/PyBudWxsO1xyXG4gICAgICAgIGEub25DcmVhdGUub25jZSgoKSA9PiAoKGEueHJGcmFtZSA9IG51bGwpLCAoYS54ckhpdFJlc3VsdCA9IG51bGwpKSk7XHJcbiAgICAgICAgYS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIHJldHVybiBhLm9uQ3JlYXRlLnByb21pc2UoKTtcclxuICAgIH1cclxuICAgICNnZXRGcmFtZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy54ckZyYW1lIHx8IHRoaXMuZW5naW5lLnhyLmZyYW1lO1xyXG4gICAgfVxyXG4gICAgYXN5bmMgI2NyZWF0ZUFuY2hvcigpIHtcclxuICAgICAgICBpZiAoIXRoaXMuI2dldEZyYW1lKCkuY3JlYXRlQW5jaG9yKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjcmVhdGUgYW5jaG9yIC0gYW5jaG9ycyBub3Qgc3VwcG9ydGVkLCBkaWQgeW91IGVuYWJsZSB0aGUgJ2FuY2hvcnMnIFdlYlhSIGZlYXR1cmU/XCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy54ckhpdFJlc3VsdCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy54ckhpdFJlc3VsdC5jcmVhdGVBbmNob3IgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1ZXN0ZWQgYW5jaG9yIG9uIFhSSGl0VGVzdFJlc3VsdCwgYnV0IFdlYlhSIGhpdC10ZXN0IGZlYXR1cmUgaXMgbm90IGF2YWlsYWJsZS4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy54ckhpdFJlc3VsdC5jcmVhdGVBbmNob3IoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMub2JqZWN0LmdldFRyYW5zbGF0aW9uV29ybGQodGVtcFZlYzMpO1xyXG4gICAgICAgICAgICB0ZW1wUXVhdC5zZXQodGhpcy5vYmplY3Qucm90YXRpb25Xb3JsZCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHJvdGF0aW9uID0gdGVtcFF1YXQ7XHJcbiAgICAgICAgICAgIGNvbnN0IGFuY2hvclBvc2UgPSBuZXcgWFJSaWdpZFRyYW5zZm9ybSh7IHg6IHRlbXBWZWMzWzBdLCB5OiB0ZW1wVmVjM1sxXSwgejogdGVtcFZlYzNbMl0gfSwgeyB4OiByb3RhdGlvblswXSwgeTogcm90YXRpb25bMV0sIHo6IHJvdGF0aW9uWzJdLCB3OiByb3RhdGlvblszXSB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuI2dldEZyYW1lKCk/LmNyZWF0ZUFuY2hvcihhbmNob3JQb3NlLCB0aGlzLmVuZ2luZS54ci5jdXJyZW50UmVmZXJlbmNlU3BhY2UpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgICNvbkFkZEFuY2hvcihhbmNob3IpIHtcclxuICAgICAgICBpZiAoIWFuY2hvcilcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIGlmICh0aGlzLnBlcnNpc3QpIHtcclxuICAgICAgICAgICAgaWYgKGFuY2hvci5yZXF1ZXN0UGVyc2lzdGVudEhhbmRsZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBhbmNob3IucmVxdWVzdFBlcnNpc3RlbnRIYW5kbGUoKS50aGVuKCh1dWlkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51dWlkID0gdXVpZDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLiNvbkNyZWF0ZShhbmNob3IpO1xyXG4gICAgICAgICAgICAgICAgICAgIEFuY2hvci4jYWRkQW5jaG9yKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ2FuY2hvcjogUGVyc2lzdGVudCBhbmNob3JzIGFyZSBub3Qgc3VwcG9ydGVkIGJ5IHlvdXIgY2xpZW50LiBJZ25vcmluZyBwZXJzaXN0IHByb3BlcnR5LicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuI29uQ3JlYXRlKGFuY2hvcik7XHJcbiAgICB9XHJcbiAgICAjb25SZXN0b3JlQW5jaG9yKGFuY2hvcikge1xyXG4gICAgICAgIHRoaXMuI29uQ3JlYXRlKGFuY2hvcik7XHJcbiAgICB9XHJcbiAgICAjb25DcmVhdGUoYW5jaG9yKSB7XHJcbiAgICAgICAgdGhpcy54ckFuY2hvciA9IGFuY2hvcjtcclxuICAgICAgICB0aGlzLm9uQ3JlYXRlLm5vdGlmeSh0aGlzKTtcclxuICAgIH1cclxuICAgIHN0YXJ0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLnV1aWQgJiYgdGhpcy5lbmdpbmUueHIpIHtcclxuICAgICAgICAgICAgdGhpcy5wZXJzaXN0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZW5naW5lLnhyLnNlc3Npb24ucmVzdG9yZVBlcnNpc3RlbnRBbmNob3IgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdhbmNob3I6IFBlcnNpc3RlbnQgYW5jaG9ycyBhcmUgbm90IHN1cHBvcnRlZCBieSB5b3VyIGNsaWVudC4gSWdub3JpbmcgcGVyc2lzdCBwcm9wZXJ0eS4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmVuZ2luZS54ci5zZXNzaW9uLnJlc3RvcmVQZXJzaXN0ZW50QW5jaG9yKHRoaXMudXVpZCkudGhlbih0aGlzLiNvblJlc3RvcmVBbmNob3IuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMuI2dldEZyYW1lKCkpIHtcclxuICAgICAgICAgICAgdGhpcy4jY3JlYXRlQW5jaG9yKCkudGhlbih0aGlzLiNvbkFkZEFuY2hvci5iaW5kKHRoaXMpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQW5jaG9ycyBjYW4gb25seSBiZSBjcmVhdGVkIGR1cmluZyB0aGUgWFIgZnJhbWUgaW4gYW4gYWN0aXZlIFhSIHNlc3Npb24nKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnhyQW5jaG9yIHx8ICF0aGlzLmVuZ2luZS54cilcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIC8qIFdlIG5lZWQgdG8gdXNlIHRoZSBhY3R1YWwgZnJhbWUgZnJvbSB0aGUgZHJhdyBjYWxsYmFjayBoZXJlICovXHJcbiAgICAgICAgY29uc3QgcG9zZSA9IHRoaXMuZW5naW5lLnhyLmZyYW1lLmdldFBvc2UodGhpcy54ckFuY2hvci5hbmNob3JTcGFjZSwgdGhpcy5lbmdpbmUueHIuY3VycmVudFJlZmVyZW5jZVNwYWNlKTtcclxuICAgICAgICBjb25zdCB2aXNpYmxlID0gISFwb3NlO1xyXG4gICAgICAgIGlmICh2aXNpYmxlICE9IHRoaXMudmlzaWJsZSkge1xyXG4gICAgICAgICAgICB0aGlzLnZpc2libGUgPSB2aXNpYmxlO1xyXG4gICAgICAgICAgICAodmlzaWJsZSA/IHRoaXMub25UcmFja2luZ0ZvdW5kIDogdGhpcy5vblRyYWNraW5nTG9zdCkubm90aWZ5KHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocG9zZSkge1xyXG4gICAgICAgICAgICBzZXRYUlJpZ2lkVHJhbnNmb3JtTG9jYWwodGhpcy5vYmplY3QsIHBvc2UudHJhbnNmb3JtKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBvbkRlc3Ryb3koKSB7XHJcbiAgICAgICAgQW5jaG9yLiNyZW1vdmVBbmNob3IodGhpcyk7XHJcbiAgICB9XHJcbn1cclxuX19kZWNvcmF0ZShbXHJcbiAgICBwcm9wZXJ0eS5ib29sKGZhbHNlKVxyXG5dLCBBbmNob3IucHJvdG90eXBlLCBcInBlcnNpc3RcIiwgdm9pZCAwKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBwcm9wZXJ0eS5zdHJpbmcoKVxyXG5dLCBBbmNob3IucHJvdG90eXBlLCBcInV1aWRcIiwgdm9pZCAwKTtcclxuZXhwb3J0IHsgQW5jaG9yIH07XHJcbiIsICJpbXBvcnQgeyBDb21wb25lbnQsIEVtaXR0ZXIgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xyXG4vKipcclxuICogQ2xpY2svaG92ZXIvbW92ZS9idXR0b24gdGFyZ2V0IGZvciBbY3Vyc29yXSgjY3Vyc29yKS5cclxuICpcclxuICogVG8gdHJpZ2dlciBjb2RlIHdoZW4gY2xpY2tpbmcsIGhvdmVyaW5nLCB1bmhvdmVyaW5nLCBtb3ZpbmcgY3Vyc29yLCBwcmVzc2luZ1xyXG4gKiBjdXJzb3IgYnV0dG9uIG9yIHJlbGVhc2luZyBjdXJzb3IgYnV0dG9uLCB1c2UgYC5hZGRDbGlja0Z1bmN0aW9uKGYpYCxcclxuICogYC5hZGRIb3ZlckZ1bmN0aW9uKGYpYCwgYC5hZGRVbkhvdmVyRnVuY3Rpb24oZilgLFxyXG4gKiBgLmFkZE1vdmVGdW5jdGlvbihmKWAsIGAuYWRkRG93bkZ1bmN0aW9uKGYpYCBhbmRcclxuICogYC5hZGRVcEZ1bmN0aW9uKGYpYCByZXNwZWN0aXZlbHkgd2l0aCBhbnkgYGZ1bmN0aW9uIGYoKSB7fWAuXHJcbiAqXHJcbiAqIFRvIGNhbGwgbWVtYmVycyBvbiBhIGRpZmZlcmVudCBjb21wb25lbnQsIHlvdSBjYW4gc2V0IHVwIGEgY3Vyc29yIHRhcmdldCBsaWtlXHJcbiAqIHNvOlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiBzdGFydDogZnVuY3Rpb24oKSB7XHJcbiAqICAgbGV0IHRhcmdldCA9IHRoaXMub2JqZWN0LmFkZENvbXBvbmVudCgnY3Vyc29yLXRhcmdldCcpO1xyXG4gKiAgIHRhcmdldC5vbkNsaWNrLmFkZCh0aGlzLm9uQ2xpY2suYmluZCh0aGlzKSk7XHJcbiAqIH0sXHJcbiAqIG9uQ2xpY2s6IGZ1bmN0aW9uKCkge1xyXG4gKiAgIGNvbnNvbGUubG9nKHRoaXMub2JqZWN0Lm5hbWUsIFwid2FzIGNsaWNrZWQhXCIpO1xyXG4gKiB9XHJcbiAqIGBgYFxyXG4gKiAqKkZ1bmN0aW9uczoqKlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiBjb25zdCB0YXJnZXQgPSB0aGlzLm9iamVjdC5nZXRDb21wb25lbnQoQ3Vyc29yVGFyZ2V0KTtcclxuICogY29uc3QgY2FsbGJhY2sgPSBmdW5jdGlvbihvYmplY3QsIGN1cnNvckNvbXBvbmVudCkge307XHJcbiAqXHJcbiAqIHRhcmdldC5vbkhvdmVyLmFkZChjYWxsYmFjayk7XHJcbiAqIHRhcmdldC5vbkhvdmVyLnJlbW92ZShjYWxsYmFjayk7XHJcbiAqXHJcbiAqIHRhcmdldC5vblVuSG92ZXIuYWRkKGNhbGxiYWNrKTtcclxuICogdGFyZ2V0Lm9uVW5Ib3Zlci5yZW1vdmUoY2FsbGJhY2spO1xyXG4gKlxyXG4gKiB0YXJnZXQub25DbGljay5hZGQoY2FsbGJhY2spO1xyXG4gKiB0YXJnZXQub25DbGljay5yZW1vdmUoY2FsbGJhY2spO1xyXG4gKlxyXG4gKiB0YXJnZXQub25Nb3ZlLmFkZChjYWxsYmFjayk7XHJcbiAqIHRhcmdldC5vbk1vdmUucmVtb3ZlKGNhbGxiYWNrKTtcclxuICpcclxuICogdGFyZ2V0Lm9uRG93bi5hZGQoY2FsbGJhY2spO1xyXG4gKiB0YXJnZXQub25Eb3duLnJlbW92ZShjYWxsYmFjayk7XHJcbiAqXHJcbiAqIHRhcmdldC5vblVwLmFkZChjYWxsYmFjayk7XHJcbiAqIHRhcmdldC5vblVwLnJlbW92ZShjYWxsYmFjayk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiAqKlJlcXVpcmVtZW50czoqKlxyXG4gKiAtIGEgYGNvbGxpc2lvbmAgY29tcG9uZW50IHRvIGJlIGF0dGFjaGVkIHRvIHRoZSBzYW1lIG9iamVjdC5cclxuICpcclxuICogU2VlIFtBbmltYXRpb24gRXhhbXBsZV0oL3Nob3djYXNlL2FuaW1hdGlvbikuXHJcbiAqL1xyXG5jbGFzcyBDdXJzb3JUYXJnZXQgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ2N1cnNvci10YXJnZXQnO1xyXG4gICAgc3RhdGljIFByb3BlcnRpZXMgPSB7fTtcclxuICAgIC8qKiBFbWl0dGVyIGZvciBldmVudHMgd2hlbiB0aGUgdGFyZ2V0IGlzIGhvdmVyZWQgKi9cclxuICAgIG9uSG92ZXIgPSBuZXcgRW1pdHRlcigpO1xyXG4gICAgLyoqIEVtaXR0ZXIgZm9yIGV2ZW50cyB3aGVuIHRoZSB0YXJnZXQgaXMgdW5ob3ZlcmVkICovXHJcbiAgICBvblVuaG92ZXIgPSBuZXcgRW1pdHRlcigpO1xyXG4gICAgLyoqIEVtaXR0ZXIgZm9yIGV2ZW50cyB3aGVuIHRoZSB0YXJnZXQgaXMgY2xpY2tlZCAqL1xyXG4gICAgb25DbGljayA9IG5ldyBFbWl0dGVyKCk7XHJcbiAgICAvKiogRW1pdHRlciBmb3IgZXZlbnRzIHdoZW4gdGhlIGN1cnNvciBtb3ZlcyBvbiB0aGUgdGFyZ2V0ICovXHJcbiAgICBvbk1vdmUgPSBuZXcgRW1pdHRlcigpO1xyXG4gICAgLyoqIEVtaXR0ZXIgZm9yIGV2ZW50cyB3aGVuIHRoZSB1c2VyIHByZXNzZWQgdGhlIHNlbGVjdCBidXR0b24gb24gdGhlIHRhcmdldCAqL1xyXG4gICAgb25Eb3duID0gbmV3IEVtaXR0ZXIoKTtcclxuICAgIC8qKiBFbWl0dGVyIGZvciBldmVudHMgd2hlbiB0aGUgdXNlciB1bnByZXNzZWQgdGhlIHNlbGVjdCBidXR0b24gb24gdGhlIHRhcmdldCAqL1xyXG4gICAgb25VcCA9IG5ldyBFbWl0dGVyKCk7XHJcbiAgICAvKipcclxuICAgICAqIEBkZXByZWNhdGVkIFVzZSB0aGUgZW1pdHRlciBpbnN0ZWFkLlxyXG4gICAgICpcclxuICAgICAqIEBleGFtcGxlXHJcbiAgICAgKiAgICB0aGlzLm9uSG92ZXIuYWRkKGYpO1xyXG4gICAgICovXHJcbiAgICBhZGRIb3ZlckZ1bmN0aW9uKGYpIHtcclxuICAgICAgICB0aGlzLm9uSG92ZXIuYWRkKGYpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVwcmVjYXRlZCBVc2UgdGhlIGVtaXR0ZXIgaW5zdGVhZC5cclxuICAgICAqXHJcbiAgICAgKiBAZXhhbXBsZVxyXG4gICAgICogICAgdGhpcy5vbkhvdmVyLnJlbW92ZShmKTtcclxuICAgICAqL1xyXG4gICAgcmVtb3ZlSG92ZXJGdW5jdGlvbihmKSB7XHJcbiAgICAgICAgdGhpcy5vbkhvdmVyLnJlbW92ZShmKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIHRoZSBlbWl0dGVyIGluc3RlYWQuXHJcbiAgICAgKlxyXG4gICAgICogQGV4YW1wbGVcclxuICAgICAqICAgIHRoaXMub25VbmhvdmVyLmFkZChmKTtcclxuICAgICAqL1xyXG4gICAgYWRkVW5Ib3ZlckZ1bmN0aW9uKGYpIHtcclxuICAgICAgICB0aGlzLm9uVW5ob3Zlci5hZGQoZik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBkZXByZWNhdGVkIFVzZSB0aGUgZW1pdHRlciBpbnN0ZWFkLlxyXG4gICAgICpcclxuICAgICAqIEBleGFtcGxlXHJcbiAgICAgKiAgICB0aGlzLm9uVW5ob3Zlci5yZW1vdmUoZik7XHJcbiAgICAgKi9cclxuICAgIHJlbW92ZVVuSG92ZXJGdW5jdGlvbihmKSB7XHJcbiAgICAgICAgdGhpcy5vblVuaG92ZXIucmVtb3ZlKGYpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVwcmVjYXRlZCBVc2UgdGhlIGVtaXR0ZXIgaW5zdGVhZC5cclxuICAgICAqXHJcbiAgICAgKiBAZXhhbXBsZVxyXG4gICAgICogICAgdGhpcy5vbkNsaWNrLmFkZChmKTtcclxuICAgICAqL1xyXG4gICAgYWRkQ2xpY2tGdW5jdGlvbihmKSB7XHJcbiAgICAgICAgdGhpcy5vbkNsaWNrLmFkZChmKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIHRoZSBlbWl0dGVyIGluc3RlYWQuXHJcbiAgICAgKlxyXG4gICAgICogQGV4YW1wbGVcclxuICAgICAqICAgIGNvbXBvbmVudC5vbkNsaWNrLnJlbW92ZShmKTtcclxuICAgICAqL1xyXG4gICAgcmVtb3ZlQ2xpY2tGdW5jdGlvbihmKSB7XHJcbiAgICAgICAgdGhpcy5vbkNsaWNrLnJlbW92ZShmKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIHRoZSBlbWl0dGVyIGluc3RlYWQuXHJcbiAgICAgKlxyXG4gICAgICogQGV4YW1wbGVcclxuICAgICAqICAgIGNvbXBvbmVudC5vbk1vdmUuYWRkKGYpO1xyXG4gICAgICovXHJcbiAgICBhZGRNb3ZlRnVuY3Rpb24oZikge1xyXG4gICAgICAgIHRoaXMub25Nb3ZlLmFkZChmKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIHRoZSBlbWl0dGVyIGluc3RlYWQuXHJcbiAgICAgKlxyXG4gICAgICogQGV4YW1wbGVcclxuICAgICAqICAgIGNvbXBvbmVudC5vbk1vdmUucmVtb3ZlKGYpO1xyXG4gICAgICovXHJcbiAgICByZW1vdmVNb3ZlRnVuY3Rpb24oZikge1xyXG4gICAgICAgIHRoaXMub25Nb3ZlLnJlbW92ZShmKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIHRoZSBlbWl0dGVyIGluc3RlYWQuXHJcbiAgICAgKlxyXG4gICAgICogQGV4YW1wbGVcclxuICAgICAqICAgIGNvbXBvbmVudC5vbkRvd24uYWRkKGYpO1xyXG4gICAgICovXHJcbiAgICBhZGREb3duRnVuY3Rpb24oZikge1xyXG4gICAgICAgIHRoaXMub25Eb3duLmFkZChmKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIHRoZSBlbWl0dGVyIGluc3RlYWQuXHJcbiAgICAgKlxyXG4gICAgICogQGV4YW1wbGVcclxuICAgICAqICAgIGNvbXBvbmVudC5vbkRvd24ucmVtb3ZlKGYpO1xyXG4gICAgICovXHJcbiAgICByZW1vdmVEb3duRnVuY3Rpb24oZikge1xyXG4gICAgICAgIHRoaXMub25Eb3duLnJlbW92ZShmKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIHRoZSBlbWl0dGVyIGluc3RlYWQuXHJcbiAgICAgKlxyXG4gICAgICogQGV4YW1wbGVcclxuICAgICAqICAgIGNvbXBvbmVudC5vblVwLmFkZChmKTtcclxuICAgICAqL1xyXG4gICAgYWRkVXBGdW5jdGlvbihmKSB7XHJcbiAgICAgICAgdGhpcy5vblVwLmFkZChmKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIHRoZSBlbWl0dGVyIGluc3RlYWQuXHJcbiAgICAgKlxyXG4gICAgICogQGV4YW1wbGVcclxuICAgICAqICAgIGNvbXBvbmVudC5vblVwLnJlbW92ZShmKTtcclxuICAgICAqL1xyXG4gICAgcmVtb3ZlVXBGdW5jdGlvbihmKSB7XHJcbiAgICAgICAgdGhpcy5vblVwLnJlbW92ZShmKTtcclxuICAgIH1cclxufVxyXG5leHBvcnQgeyBDdXJzb3JUYXJnZXQgfTtcclxuIiwgIi8qKlxyXG4gKiBDb21tb24gdXRpbGl0aWVzXHJcbiAqIEBtb2R1bGUgZ2xNYXRyaXhcclxuICovXHJcbi8vIENvbmZpZ3VyYXRpb24gQ29uc3RhbnRzXHJcbmV4cG9ydCB2YXIgRVBTSUxPTiA9IDAuMDAwMDAxO1xyXG5leHBvcnQgdmFyIEFSUkFZX1RZUEUgPSB0eXBlb2YgRmxvYXQzMkFycmF5ICE9PSAndW5kZWZpbmVkJyA/IEZsb2F0MzJBcnJheSA6IEFycmF5O1xyXG5leHBvcnQgdmFyIFJBTkRPTSA9IE1hdGgucmFuZG9tO1xyXG4vKipcclxuICogU2V0cyB0aGUgdHlwZSBvZiBhcnJheSB1c2VkIHdoZW4gY3JlYXRpbmcgbmV3IHZlY3RvcnMgYW5kIG1hdHJpY2VzXHJcbiAqXHJcbiAqIEBwYXJhbSB7RmxvYXQzMkFycmF5Q29uc3RydWN0b3IgfCBBcnJheUNvbnN0cnVjdG9yfSB0eXBlIEFycmF5IHR5cGUsIHN1Y2ggYXMgRmxvYXQzMkFycmF5IG9yIEFycmF5XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNldE1hdHJpeEFycmF5VHlwZSh0eXBlKSB7XHJcbiAgQVJSQVlfVFlQRSA9IHR5cGU7XHJcbn1cclxudmFyIGRlZ3JlZSA9IE1hdGguUEkgLyAxODA7XHJcbi8qKlxyXG4gKiBDb252ZXJ0IERlZ3JlZSBUbyBSYWRpYW5cclxuICpcclxuICogQHBhcmFtIHtOdW1iZXJ9IGEgQW5nbGUgaW4gRGVncmVlc1xyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB0b1JhZGlhbihhKSB7XHJcbiAgcmV0dXJuIGEgKiBkZWdyZWU7XHJcbn1cclxuLyoqXHJcbiAqIFRlc3RzIHdoZXRoZXIgb3Igbm90IHRoZSBhcmd1bWVudHMgaGF2ZSBhcHByb3hpbWF0ZWx5IHRoZSBzYW1lIHZhbHVlLCB3aXRoaW4gYW4gYWJzb2x1dGVcclxuICogb3IgcmVsYXRpdmUgdG9sZXJhbmNlIG9mIGdsTWF0cml4LkVQU0lMT04gKGFuIGFic29sdXRlIHRvbGVyYW5jZSBpcyB1c2VkIGZvciB2YWx1ZXMgbGVzc1xyXG4gKiB0aGFuIG9yIGVxdWFsIHRvIDEuMCwgYW5kIGEgcmVsYXRpdmUgdG9sZXJhbmNlIGlzIHVzZWQgZm9yIGxhcmdlciB2YWx1ZXMpXHJcbiAqXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBhIFRoZSBmaXJzdCBudW1iZXIgdG8gdGVzdC5cclxuICogQHBhcmFtIHtOdW1iZXJ9IGIgVGhlIHNlY29uZCBudW1iZXIgdG8gdGVzdC5cclxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIG51bWJlcnMgYXJlIGFwcHJveGltYXRlbHkgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxzKGEsIGIpIHtcclxuICByZXR1cm4gTWF0aC5hYnMoYSAtIGIpIDw9IEVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEpLCBNYXRoLmFicyhiKSk7XHJcbn1cclxuaWYgKCFNYXRoLmh5cG90KSBNYXRoLmh5cG90ID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciB5ID0gMCxcclxuICAgICAgaSA9IGFyZ3VtZW50cy5sZW5ndGg7XHJcblxyXG4gIHdoaWxlIChpLS0pIHtcclxuICAgIHkgKz0gYXJndW1lbnRzW2ldICogYXJndW1lbnRzW2ldO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIE1hdGguc3FydCh5KTtcclxufTsiLCAiaW1wb3J0ICogYXMgZ2xNYXRyaXggZnJvbSBcIi4vY29tbW9uLmpzXCI7XHJcbi8qKlxyXG4gKiAzeDMgTWF0cml4XHJcbiAqIEBtb2R1bGUgbWF0M1xyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgbmV3IGlkZW50aXR5IG1hdDNcclxuICpcclxuICogQHJldHVybnMge21hdDN9IGEgbmV3IDN4MyBtYXRyaXhcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKCkge1xyXG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg5KTtcclxuXHJcbiAgaWYgKGdsTWF0cml4LkFSUkFZX1RZUEUgIT0gRmxvYXQzMkFycmF5KSB7XHJcbiAgICBvdXRbMV0gPSAwO1xyXG4gICAgb3V0WzJdID0gMDtcclxuICAgIG91dFszXSA9IDA7XHJcbiAgICBvdXRbNV0gPSAwO1xyXG4gICAgb3V0WzZdID0gMDtcclxuICAgIG91dFs3XSA9IDA7XHJcbiAgfVxyXG5cclxuICBvdXRbMF0gPSAxO1xyXG4gIG91dFs0XSA9IDE7XHJcbiAgb3V0WzhdID0gMTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDb3BpZXMgdGhlIHVwcGVyLWxlZnQgM3gzIHZhbHVlcyBpbnRvIHRoZSBnaXZlbiBtYXQzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIDN4MyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgICB0aGUgc291cmNlIDR4NCBtYXRyaXhcclxuICogQHJldHVybnMge21hdDN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmcm9tTWF0NChvdXQsIGEpIHtcclxuICBvdXRbMF0gPSBhWzBdO1xyXG4gIG91dFsxXSA9IGFbMV07XHJcbiAgb3V0WzJdID0gYVsyXTtcclxuICBvdXRbM10gPSBhWzRdO1xyXG4gIG91dFs0XSA9IGFbNV07XHJcbiAgb3V0WzVdID0gYVs2XTtcclxuICBvdXRbNl0gPSBhWzhdO1xyXG4gIG91dFs3XSA9IGFbOV07XHJcbiAgb3V0WzhdID0gYVsxMF07XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ3JlYXRlcyBhIG5ldyBtYXQzIGluaXRpYWxpemVkIHdpdGggdmFsdWVzIGZyb20gYW4gZXhpc3RpbmcgbWF0cml4XHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIG1hdHJpeCB0byBjbG9uZVxyXG4gKiBAcmV0dXJucyB7bWF0M30gYSBuZXcgM3gzIG1hdHJpeFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShhKSB7XHJcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDkpO1xyXG4gIG91dFswXSA9IGFbMF07XHJcbiAgb3V0WzFdID0gYVsxXTtcclxuICBvdXRbMl0gPSBhWzJdO1xyXG4gIG91dFszXSA9IGFbM107XHJcbiAgb3V0WzRdID0gYVs0XTtcclxuICBvdXRbNV0gPSBhWzVdO1xyXG4gIG91dFs2XSA9IGFbNl07XHJcbiAgb3V0WzddID0gYVs3XTtcclxuICBvdXRbOF0gPSBhWzhdO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENvcHkgdGhlIHZhbHVlcyBmcm9tIG9uZSBtYXQzIHRvIGFub3RoZXJcclxuICpcclxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIHNvdXJjZSBtYXRyaXhcclxuICogQHJldHVybnMge21hdDN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjb3B5KG91dCwgYSkge1xyXG4gIG91dFswXSA9IGFbMF07XHJcbiAgb3V0WzFdID0gYVsxXTtcclxuICBvdXRbMl0gPSBhWzJdO1xyXG4gIG91dFszXSA9IGFbM107XHJcbiAgb3V0WzRdID0gYVs0XTtcclxuICBvdXRbNV0gPSBhWzVdO1xyXG4gIG91dFs2XSA9IGFbNl07XHJcbiAgb3V0WzddID0gYVs3XTtcclxuICBvdXRbOF0gPSBhWzhdO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZSBhIG5ldyBtYXQzIHdpdGggdGhlIGdpdmVuIHZhbHVlc1xyXG4gKlxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTAwIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDAgcG9zaXRpb24gKGluZGV4IDApXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDEgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggMSlcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMiBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAyIHBvc2l0aW9uIChpbmRleCAyKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTEwIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDAgcG9zaXRpb24gKGluZGV4IDMpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTEgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggNClcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMiBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAyIHBvc2l0aW9uIChpbmRleCA1KVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTIwIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDAgcG9zaXRpb24gKGluZGV4IDYpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjEgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggNylcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMiBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAyIHBvc2l0aW9uIChpbmRleCA4KVxyXG4gKiBAcmV0dXJucyB7bWF0M30gQSBuZXcgbWF0M1xyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmcm9tVmFsdWVzKG0wMCwgbTAxLCBtMDIsIG0xMCwgbTExLCBtMTIsIG0yMCwgbTIxLCBtMjIpIHtcclxuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoOSk7XHJcbiAgb3V0WzBdID0gbTAwO1xyXG4gIG91dFsxXSA9IG0wMTtcclxuICBvdXRbMl0gPSBtMDI7XHJcbiAgb3V0WzNdID0gbTEwO1xyXG4gIG91dFs0XSA9IG0xMTtcclxuICBvdXRbNV0gPSBtMTI7XHJcbiAgb3V0WzZdID0gbTIwO1xyXG4gIG91dFs3XSA9IG0yMTtcclxuICBvdXRbOF0gPSBtMjI7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogU2V0IHRoZSBjb21wb25lbnRzIG9mIGEgbWF0MyB0byB0aGUgZ2l2ZW4gdmFsdWVzXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDAgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggMClcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMSBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAxIHBvc2l0aW9uIChpbmRleCAxKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTAyIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDIgcG9zaXRpb24gKGluZGV4IDIpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTAgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggMylcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMSBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAxIHBvc2l0aW9uIChpbmRleCA0KVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTEyIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDIgcG9zaXRpb24gKGluZGV4IDUpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjAgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggNilcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMSBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAxIHBvc2l0aW9uIChpbmRleCA3KVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTIyIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDIgcG9zaXRpb24gKGluZGV4IDgpXHJcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0KG91dCwgbTAwLCBtMDEsIG0wMiwgbTEwLCBtMTEsIG0xMiwgbTIwLCBtMjEsIG0yMikge1xyXG4gIG91dFswXSA9IG0wMDtcclxuICBvdXRbMV0gPSBtMDE7XHJcbiAgb3V0WzJdID0gbTAyO1xyXG4gIG91dFszXSA9IG0xMDtcclxuICBvdXRbNF0gPSBtMTE7XHJcbiAgb3V0WzVdID0gbTEyO1xyXG4gIG91dFs2XSA9IG0yMDtcclxuICBvdXRbN10gPSBtMjE7XHJcbiAgb3V0WzhdID0gbTIyO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFNldCBhIG1hdDMgdG8gdGhlIGlkZW50aXR5IG1hdHJpeFxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlkZW50aXR5KG91dCkge1xyXG4gIG91dFswXSA9IDE7XHJcbiAgb3V0WzFdID0gMDtcclxuICBvdXRbMl0gPSAwO1xyXG4gIG91dFszXSA9IDA7XHJcbiAgb3V0WzRdID0gMTtcclxuICBvdXRbNV0gPSAwO1xyXG4gIG91dFs2XSA9IDA7XHJcbiAgb3V0WzddID0gMDtcclxuICBvdXRbOF0gPSAxO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFRyYW5zcG9zZSB0aGUgdmFsdWVzIG9mIGEgbWF0M1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgc291cmNlIG1hdHJpeFxyXG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zcG9zZShvdXQsIGEpIHtcclxuICAvLyBJZiB3ZSBhcmUgdHJhbnNwb3Npbmcgb3Vyc2VsdmVzIHdlIGNhbiBza2lwIGEgZmV3IHN0ZXBzIGJ1dCBoYXZlIHRvIGNhY2hlIHNvbWUgdmFsdWVzXHJcbiAgaWYgKG91dCA9PT0gYSkge1xyXG4gICAgdmFyIGEwMSA9IGFbMV0sXHJcbiAgICAgICAgYTAyID0gYVsyXSxcclxuICAgICAgICBhMTIgPSBhWzVdO1xyXG4gICAgb3V0WzFdID0gYVszXTtcclxuICAgIG91dFsyXSA9IGFbNl07XHJcbiAgICBvdXRbM10gPSBhMDE7XHJcbiAgICBvdXRbNV0gPSBhWzddO1xyXG4gICAgb3V0WzZdID0gYTAyO1xyXG4gICAgb3V0WzddID0gYTEyO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBvdXRbMF0gPSBhWzBdO1xyXG4gICAgb3V0WzFdID0gYVszXTtcclxuICAgIG91dFsyXSA9IGFbNl07XHJcbiAgICBvdXRbM10gPSBhWzFdO1xyXG4gICAgb3V0WzRdID0gYVs0XTtcclxuICAgIG91dFs1XSA9IGFbN107XHJcbiAgICBvdXRbNl0gPSBhWzJdO1xyXG4gICAgb3V0WzddID0gYVs1XTtcclxuICAgIG91dFs4XSA9IGFbOF07XHJcbiAgfVxyXG5cclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBJbnZlcnRzIGEgbWF0M1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgc291cmNlIG1hdHJpeFxyXG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGludmVydChvdXQsIGEpIHtcclxuICB2YXIgYTAwID0gYVswXSxcclxuICAgICAgYTAxID0gYVsxXSxcclxuICAgICAgYTAyID0gYVsyXTtcclxuICB2YXIgYTEwID0gYVszXSxcclxuICAgICAgYTExID0gYVs0XSxcclxuICAgICAgYTEyID0gYVs1XTtcclxuICB2YXIgYTIwID0gYVs2XSxcclxuICAgICAgYTIxID0gYVs3XSxcclxuICAgICAgYTIyID0gYVs4XTtcclxuICB2YXIgYjAxID0gYTIyICogYTExIC0gYTEyICogYTIxO1xyXG4gIHZhciBiMTEgPSAtYTIyICogYTEwICsgYTEyICogYTIwO1xyXG4gIHZhciBiMjEgPSBhMjEgKiBhMTAgLSBhMTEgKiBhMjA7IC8vIENhbGN1bGF0ZSB0aGUgZGV0ZXJtaW5hbnRcclxuXHJcbiAgdmFyIGRldCA9IGEwMCAqIGIwMSArIGEwMSAqIGIxMSArIGEwMiAqIGIyMTtcclxuXHJcbiAgaWYgKCFkZXQpIHtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuXHJcbiAgZGV0ID0gMS4wIC8gZGV0O1xyXG4gIG91dFswXSA9IGIwMSAqIGRldDtcclxuICBvdXRbMV0gPSAoLWEyMiAqIGEwMSArIGEwMiAqIGEyMSkgKiBkZXQ7XHJcbiAgb3V0WzJdID0gKGExMiAqIGEwMSAtIGEwMiAqIGExMSkgKiBkZXQ7XHJcbiAgb3V0WzNdID0gYjExICogZGV0O1xyXG4gIG91dFs0XSA9IChhMjIgKiBhMDAgLSBhMDIgKiBhMjApICogZGV0O1xyXG4gIG91dFs1XSA9ICgtYTEyICogYTAwICsgYTAyICogYTEwKSAqIGRldDtcclxuICBvdXRbNl0gPSBiMjEgKiBkZXQ7XHJcbiAgb3V0WzddID0gKC1hMjEgKiBhMDAgKyBhMDEgKiBhMjApICogZGV0O1xyXG4gIG91dFs4XSA9IChhMTEgKiBhMDAgLSBhMDEgKiBhMTApICogZGV0O1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgdGhlIGFkanVnYXRlIG9mIGEgbWF0M1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgc291cmNlIG1hdHJpeFxyXG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFkam9pbnQob3V0LCBhKSB7XHJcbiAgdmFyIGEwMCA9IGFbMF0sXHJcbiAgICAgIGEwMSA9IGFbMV0sXHJcbiAgICAgIGEwMiA9IGFbMl07XHJcbiAgdmFyIGExMCA9IGFbM10sXHJcbiAgICAgIGExMSA9IGFbNF0sXHJcbiAgICAgIGExMiA9IGFbNV07XHJcbiAgdmFyIGEyMCA9IGFbNl0sXHJcbiAgICAgIGEyMSA9IGFbN10sXHJcbiAgICAgIGEyMiA9IGFbOF07XHJcbiAgb3V0WzBdID0gYTExICogYTIyIC0gYTEyICogYTIxO1xyXG4gIG91dFsxXSA9IGEwMiAqIGEyMSAtIGEwMSAqIGEyMjtcclxuICBvdXRbMl0gPSBhMDEgKiBhMTIgLSBhMDIgKiBhMTE7XHJcbiAgb3V0WzNdID0gYTEyICogYTIwIC0gYTEwICogYTIyO1xyXG4gIG91dFs0XSA9IGEwMCAqIGEyMiAtIGEwMiAqIGEyMDtcclxuICBvdXRbNV0gPSBhMDIgKiBhMTAgLSBhMDAgKiBhMTI7XHJcbiAgb3V0WzZdID0gYTEwICogYTIxIC0gYTExICogYTIwO1xyXG4gIG91dFs3XSA9IGEwMSAqIGEyMCAtIGEwMCAqIGEyMTtcclxuICBvdXRbOF0gPSBhMDAgKiBhMTEgLSBhMDEgKiBhMTA7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgZGV0ZXJtaW5hbnQgb2YgYSBtYXQzXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBzb3VyY2UgbWF0cml4XHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRldGVybWluYW50IG9mIGFcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZGV0ZXJtaW5hbnQoYSkge1xyXG4gIHZhciBhMDAgPSBhWzBdLFxyXG4gICAgICBhMDEgPSBhWzFdLFxyXG4gICAgICBhMDIgPSBhWzJdO1xyXG4gIHZhciBhMTAgPSBhWzNdLFxyXG4gICAgICBhMTEgPSBhWzRdLFxyXG4gICAgICBhMTIgPSBhWzVdO1xyXG4gIHZhciBhMjAgPSBhWzZdLFxyXG4gICAgICBhMjEgPSBhWzddLFxyXG4gICAgICBhMjIgPSBhWzhdO1xyXG4gIHJldHVybiBhMDAgKiAoYTIyICogYTExIC0gYTEyICogYTIxKSArIGEwMSAqICgtYTIyICogYTEwICsgYTEyICogYTIwKSArIGEwMiAqIChhMjEgKiBhMTAgLSBhMTEgKiBhMjApO1xyXG59XHJcbi8qKlxyXG4gKiBNdWx0aXBsaWVzIHR3byBtYXQzJ3NcclxuICpcclxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHkob3V0LCBhLCBiKSB7XHJcbiAgdmFyIGEwMCA9IGFbMF0sXHJcbiAgICAgIGEwMSA9IGFbMV0sXHJcbiAgICAgIGEwMiA9IGFbMl07XHJcbiAgdmFyIGExMCA9IGFbM10sXHJcbiAgICAgIGExMSA9IGFbNF0sXHJcbiAgICAgIGExMiA9IGFbNV07XHJcbiAgdmFyIGEyMCA9IGFbNl0sXHJcbiAgICAgIGEyMSA9IGFbN10sXHJcbiAgICAgIGEyMiA9IGFbOF07XHJcbiAgdmFyIGIwMCA9IGJbMF0sXHJcbiAgICAgIGIwMSA9IGJbMV0sXHJcbiAgICAgIGIwMiA9IGJbMl07XHJcbiAgdmFyIGIxMCA9IGJbM10sXHJcbiAgICAgIGIxMSA9IGJbNF0sXHJcbiAgICAgIGIxMiA9IGJbNV07XHJcbiAgdmFyIGIyMCA9IGJbNl0sXHJcbiAgICAgIGIyMSA9IGJbN10sXHJcbiAgICAgIGIyMiA9IGJbOF07XHJcbiAgb3V0WzBdID0gYjAwICogYTAwICsgYjAxICogYTEwICsgYjAyICogYTIwO1xyXG4gIG91dFsxXSA9IGIwMCAqIGEwMSArIGIwMSAqIGExMSArIGIwMiAqIGEyMTtcclxuICBvdXRbMl0gPSBiMDAgKiBhMDIgKyBiMDEgKiBhMTIgKyBiMDIgKiBhMjI7XHJcbiAgb3V0WzNdID0gYjEwICogYTAwICsgYjExICogYTEwICsgYjEyICogYTIwO1xyXG4gIG91dFs0XSA9IGIxMCAqIGEwMSArIGIxMSAqIGExMSArIGIxMiAqIGEyMTtcclxuICBvdXRbNV0gPSBiMTAgKiBhMDIgKyBiMTEgKiBhMTIgKyBiMTIgKiBhMjI7XHJcbiAgb3V0WzZdID0gYjIwICogYTAwICsgYjIxICogYTEwICsgYjIyICogYTIwO1xyXG4gIG91dFs3XSA9IGIyMCAqIGEwMSArIGIyMSAqIGExMSArIGIyMiAqIGEyMTtcclxuICBvdXRbOF0gPSBiMjAgKiBhMDIgKyBiMjEgKiBhMTIgKyBiMjIgKiBhMjI7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogVHJhbnNsYXRlIGEgbWF0MyBieSB0aGUgZ2l2ZW4gdmVjdG9yXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBtYXRyaXggdG8gdHJhbnNsYXRlXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSB2IHZlY3RvciB0byB0cmFuc2xhdGUgYnlcclxuICogQHJldHVybnMge21hdDN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2xhdGUob3V0LCBhLCB2KSB7XHJcbiAgdmFyIGEwMCA9IGFbMF0sXHJcbiAgICAgIGEwMSA9IGFbMV0sXHJcbiAgICAgIGEwMiA9IGFbMl0sXHJcbiAgICAgIGExMCA9IGFbM10sXHJcbiAgICAgIGExMSA9IGFbNF0sXHJcbiAgICAgIGExMiA9IGFbNV0sXHJcbiAgICAgIGEyMCA9IGFbNl0sXHJcbiAgICAgIGEyMSA9IGFbN10sXHJcbiAgICAgIGEyMiA9IGFbOF0sXHJcbiAgICAgIHggPSB2WzBdLFxyXG4gICAgICB5ID0gdlsxXTtcclxuICBvdXRbMF0gPSBhMDA7XHJcbiAgb3V0WzFdID0gYTAxO1xyXG4gIG91dFsyXSA9IGEwMjtcclxuICBvdXRbM10gPSBhMTA7XHJcbiAgb3V0WzRdID0gYTExO1xyXG4gIG91dFs1XSA9IGExMjtcclxuICBvdXRbNl0gPSB4ICogYTAwICsgeSAqIGExMCArIGEyMDtcclxuICBvdXRbN10gPSB4ICogYTAxICsgeSAqIGExMSArIGEyMTtcclxuICBvdXRbOF0gPSB4ICogYTAyICsgeSAqIGExMiArIGEyMjtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBSb3RhdGVzIGEgbWF0MyBieSB0aGUgZ2l2ZW4gYW5nbGVcclxuICpcclxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIG1hdHJpeCB0byByb3RhdGVcclxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcclxuICogQHJldHVybnMge21hdDN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByb3RhdGUob3V0LCBhLCByYWQpIHtcclxuICB2YXIgYTAwID0gYVswXSxcclxuICAgICAgYTAxID0gYVsxXSxcclxuICAgICAgYTAyID0gYVsyXSxcclxuICAgICAgYTEwID0gYVszXSxcclxuICAgICAgYTExID0gYVs0XSxcclxuICAgICAgYTEyID0gYVs1XSxcclxuICAgICAgYTIwID0gYVs2XSxcclxuICAgICAgYTIxID0gYVs3XSxcclxuICAgICAgYTIyID0gYVs4XSxcclxuICAgICAgcyA9IE1hdGguc2luKHJhZCksXHJcbiAgICAgIGMgPSBNYXRoLmNvcyhyYWQpO1xyXG4gIG91dFswXSA9IGMgKiBhMDAgKyBzICogYTEwO1xyXG4gIG91dFsxXSA9IGMgKiBhMDEgKyBzICogYTExO1xyXG4gIG91dFsyXSA9IGMgKiBhMDIgKyBzICogYTEyO1xyXG4gIG91dFszXSA9IGMgKiBhMTAgLSBzICogYTAwO1xyXG4gIG91dFs0XSA9IGMgKiBhMTEgLSBzICogYTAxO1xyXG4gIG91dFs1XSA9IGMgKiBhMTIgLSBzICogYTAyO1xyXG4gIG91dFs2XSA9IGEyMDtcclxuICBvdXRbN10gPSBhMjE7XHJcbiAgb3V0WzhdID0gYTIyO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFNjYWxlcyB0aGUgbWF0MyBieSB0aGUgZGltZW5zaW9ucyBpbiB0aGUgZ2l2ZW4gdmVjMlxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgbWF0cml4IHRvIHJvdGF0ZVxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gdiB0aGUgdmVjMiB0byBzY2FsZSB0aGUgbWF0cml4IGJ5XHJcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcclxuICoqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlKG91dCwgYSwgdikge1xyXG4gIHZhciB4ID0gdlswXSxcclxuICAgICAgeSA9IHZbMV07XHJcbiAgb3V0WzBdID0geCAqIGFbMF07XHJcbiAgb3V0WzFdID0geCAqIGFbMV07XHJcbiAgb3V0WzJdID0geCAqIGFbMl07XHJcbiAgb3V0WzNdID0geSAqIGFbM107XHJcbiAgb3V0WzRdID0geSAqIGFbNF07XHJcbiAgb3V0WzVdID0geSAqIGFbNV07XHJcbiAgb3V0WzZdID0gYVs2XTtcclxuICBvdXRbN10gPSBhWzddO1xyXG4gIG91dFs4XSA9IGFbOF07XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgdmVjdG9yIHRyYW5zbGF0aW9uXHJcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxyXG4gKlxyXG4gKiAgICAgbWF0My5pZGVudGl0eShkZXN0KTtcclxuICogICAgIG1hdDMudHJhbnNsYXRlKGRlc3QsIGRlc3QsIHZlYyk7XHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0M30gb3V0IG1hdDMgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IHYgVHJhbnNsYXRpb24gdmVjdG9yXHJcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZnJvbVRyYW5zbGF0aW9uKG91dCwgdikge1xyXG4gIG91dFswXSA9IDE7XHJcbiAgb3V0WzFdID0gMDtcclxuICBvdXRbMl0gPSAwO1xyXG4gIG91dFszXSA9IDA7XHJcbiAgb3V0WzRdID0gMTtcclxuICBvdXRbNV0gPSAwO1xyXG4gIG91dFs2XSA9IHZbMF07XHJcbiAgb3V0WzddID0gdlsxXTtcclxuICBvdXRbOF0gPSAxO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhIGdpdmVuIGFuZ2xlXHJcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxyXG4gKlxyXG4gKiAgICAgbWF0My5pZGVudGl0eShkZXN0KTtcclxuICogICAgIG1hdDMucm90YXRlKGRlc3QsIGRlc3QsIHJhZCk7XHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0M30gb3V0IG1hdDMgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcclxuICogQHJldHVybnMge21hdDN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmcm9tUm90YXRpb24ob3V0LCByYWQpIHtcclxuICB2YXIgcyA9IE1hdGguc2luKHJhZCksXHJcbiAgICAgIGMgPSBNYXRoLmNvcyhyYWQpO1xyXG4gIG91dFswXSA9IGM7XHJcbiAgb3V0WzFdID0gcztcclxuICBvdXRbMl0gPSAwO1xyXG4gIG91dFszXSA9IC1zO1xyXG4gIG91dFs0XSA9IGM7XHJcbiAgb3V0WzVdID0gMDtcclxuICBvdXRbNl0gPSAwO1xyXG4gIG91dFs3XSA9IDA7XHJcbiAgb3V0WzhdID0gMTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSB2ZWN0b3Igc2NhbGluZ1xyXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcclxuICpcclxuICogICAgIG1hdDMuaWRlbnRpdHkoZGVzdCk7XHJcbiAqICAgICBtYXQzLnNjYWxlKGRlc3QsIGRlc3QsIHZlYyk7XHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0M30gb3V0IG1hdDMgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IHYgU2NhbGluZyB2ZWN0b3JcclxuICogQHJldHVybnMge21hdDN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmcm9tU2NhbGluZyhvdXQsIHYpIHtcclxuICBvdXRbMF0gPSB2WzBdO1xyXG4gIG91dFsxXSA9IDA7XHJcbiAgb3V0WzJdID0gMDtcclxuICBvdXRbM10gPSAwO1xyXG4gIG91dFs0XSA9IHZbMV07XHJcbiAgb3V0WzVdID0gMDtcclxuICBvdXRbNl0gPSAwO1xyXG4gIG91dFs3XSA9IDA7XHJcbiAgb3V0WzhdID0gMTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDb3BpZXMgdGhlIHZhbHVlcyBmcm9tIGEgbWF0MmQgaW50byBhIG1hdDNcclxuICpcclxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDJkfSBhIHRoZSBtYXRyaXggdG8gY29weVxyXG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XHJcbiAqKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmcm9tTWF0MmQob3V0LCBhKSB7XHJcbiAgb3V0WzBdID0gYVswXTtcclxuICBvdXRbMV0gPSBhWzFdO1xyXG4gIG91dFsyXSA9IDA7XHJcbiAgb3V0WzNdID0gYVsyXTtcclxuICBvdXRbNF0gPSBhWzNdO1xyXG4gIG91dFs1XSA9IDA7XHJcbiAgb3V0WzZdID0gYVs0XTtcclxuICBvdXRbN10gPSBhWzVdO1xyXG4gIG91dFs4XSA9IDE7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ2FsY3VsYXRlcyBhIDN4MyBtYXRyaXggZnJvbSB0aGUgZ2l2ZW4gcXVhdGVybmlvblxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDN9IG91dCBtYXQzIHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBxIFF1YXRlcm5pb24gdG8gY3JlYXRlIG1hdHJpeCBmcm9tXHJcbiAqXHJcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZnJvbVF1YXQob3V0LCBxKSB7XHJcbiAgdmFyIHggPSBxWzBdLFxyXG4gICAgICB5ID0gcVsxXSxcclxuICAgICAgeiA9IHFbMl0sXHJcbiAgICAgIHcgPSBxWzNdO1xyXG4gIHZhciB4MiA9IHggKyB4O1xyXG4gIHZhciB5MiA9IHkgKyB5O1xyXG4gIHZhciB6MiA9IHogKyB6O1xyXG4gIHZhciB4eCA9IHggKiB4MjtcclxuICB2YXIgeXggPSB5ICogeDI7XHJcbiAgdmFyIHl5ID0geSAqIHkyO1xyXG4gIHZhciB6eCA9IHogKiB4MjtcclxuICB2YXIgenkgPSB6ICogeTI7XHJcbiAgdmFyIHp6ID0geiAqIHoyO1xyXG4gIHZhciB3eCA9IHcgKiB4MjtcclxuICB2YXIgd3kgPSB3ICogeTI7XHJcbiAgdmFyIHd6ID0gdyAqIHoyO1xyXG4gIG91dFswXSA9IDEgLSB5eSAtIHp6O1xyXG4gIG91dFszXSA9IHl4IC0gd3o7XHJcbiAgb3V0WzZdID0genggKyB3eTtcclxuICBvdXRbMV0gPSB5eCArIHd6O1xyXG4gIG91dFs0XSA9IDEgLSB4eCAtIHp6O1xyXG4gIG91dFs3XSA9IHp5IC0gd3g7XHJcbiAgb3V0WzJdID0genggLSB3eTtcclxuICBvdXRbNV0gPSB6eSArIHd4O1xyXG4gIG91dFs4XSA9IDEgLSB4eCAtIHl5O1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgYSAzeDMgbm9ybWFsIG1hdHJpeCAodHJhbnNwb3NlIGludmVyc2UpIGZyb20gdGhlIDR4NCBtYXRyaXhcclxuICpcclxuICogQHBhcmFtIHttYXQzfSBvdXQgbWF0MyByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSBNYXQ0IHRvIGRlcml2ZSB0aGUgbm9ybWFsIG1hdHJpeCBmcm9tXHJcbiAqXHJcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsRnJvbU1hdDQob3V0LCBhKSB7XHJcbiAgdmFyIGEwMCA9IGFbMF0sXHJcbiAgICAgIGEwMSA9IGFbMV0sXHJcbiAgICAgIGEwMiA9IGFbMl0sXHJcbiAgICAgIGEwMyA9IGFbM107XHJcbiAgdmFyIGExMCA9IGFbNF0sXHJcbiAgICAgIGExMSA9IGFbNV0sXHJcbiAgICAgIGExMiA9IGFbNl0sXHJcbiAgICAgIGExMyA9IGFbN107XHJcbiAgdmFyIGEyMCA9IGFbOF0sXHJcbiAgICAgIGEyMSA9IGFbOV0sXHJcbiAgICAgIGEyMiA9IGFbMTBdLFxyXG4gICAgICBhMjMgPSBhWzExXTtcclxuICB2YXIgYTMwID0gYVsxMl0sXHJcbiAgICAgIGEzMSA9IGFbMTNdLFxyXG4gICAgICBhMzIgPSBhWzE0XSxcclxuICAgICAgYTMzID0gYVsxNV07XHJcbiAgdmFyIGIwMCA9IGEwMCAqIGExMSAtIGEwMSAqIGExMDtcclxuICB2YXIgYjAxID0gYTAwICogYTEyIC0gYTAyICogYTEwO1xyXG4gIHZhciBiMDIgPSBhMDAgKiBhMTMgLSBhMDMgKiBhMTA7XHJcbiAgdmFyIGIwMyA9IGEwMSAqIGExMiAtIGEwMiAqIGExMTtcclxuICB2YXIgYjA0ID0gYTAxICogYTEzIC0gYTAzICogYTExO1xyXG4gIHZhciBiMDUgPSBhMDIgKiBhMTMgLSBhMDMgKiBhMTI7XHJcbiAgdmFyIGIwNiA9IGEyMCAqIGEzMSAtIGEyMSAqIGEzMDtcclxuICB2YXIgYjA3ID0gYTIwICogYTMyIC0gYTIyICogYTMwO1xyXG4gIHZhciBiMDggPSBhMjAgKiBhMzMgLSBhMjMgKiBhMzA7XHJcbiAgdmFyIGIwOSA9IGEyMSAqIGEzMiAtIGEyMiAqIGEzMTtcclxuICB2YXIgYjEwID0gYTIxICogYTMzIC0gYTIzICogYTMxO1xyXG4gIHZhciBiMTEgPSBhMjIgKiBhMzMgLSBhMjMgKiBhMzI7IC8vIENhbGN1bGF0ZSB0aGUgZGV0ZXJtaW5hbnRcclxuXHJcbiAgdmFyIGRldCA9IGIwMCAqIGIxMSAtIGIwMSAqIGIxMCArIGIwMiAqIGIwOSArIGIwMyAqIGIwOCAtIGIwNCAqIGIwNyArIGIwNSAqIGIwNjtcclxuXHJcbiAgaWYgKCFkZXQpIHtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuXHJcbiAgZGV0ID0gMS4wIC8gZGV0O1xyXG4gIG91dFswXSA9IChhMTEgKiBiMTEgLSBhMTIgKiBiMTAgKyBhMTMgKiBiMDkpICogZGV0O1xyXG4gIG91dFsxXSA9IChhMTIgKiBiMDggLSBhMTAgKiBiMTEgLSBhMTMgKiBiMDcpICogZGV0O1xyXG4gIG91dFsyXSA9IChhMTAgKiBiMTAgLSBhMTEgKiBiMDggKyBhMTMgKiBiMDYpICogZGV0O1xyXG4gIG91dFszXSA9IChhMDIgKiBiMTAgLSBhMDEgKiBiMTEgLSBhMDMgKiBiMDkpICogZGV0O1xyXG4gIG91dFs0XSA9IChhMDAgKiBiMTEgLSBhMDIgKiBiMDggKyBhMDMgKiBiMDcpICogZGV0O1xyXG4gIG91dFs1XSA9IChhMDEgKiBiMDggLSBhMDAgKiBiMTAgLSBhMDMgKiBiMDYpICogZGV0O1xyXG4gIG91dFs2XSA9IChhMzEgKiBiMDUgLSBhMzIgKiBiMDQgKyBhMzMgKiBiMDMpICogZGV0O1xyXG4gIG91dFs3XSA9IChhMzIgKiBiMDIgLSBhMzAgKiBiMDUgLSBhMzMgKiBiMDEpICogZGV0O1xyXG4gIG91dFs4XSA9IChhMzAgKiBiMDQgLSBhMzEgKiBiMDIgKyBhMzMgKiBiMDApICogZGV0O1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIEdlbmVyYXRlcyBhIDJEIHByb2plY3Rpb24gbWF0cml4IHdpdGggdGhlIGdpdmVuIGJvdW5kc1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDN9IG91dCBtYXQzIGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCBXaWR0aCBvZiB5b3VyIGdsIGNvbnRleHRcclxuICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCBIZWlnaHQgb2YgZ2wgY29udGV4dFxyXG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHByb2plY3Rpb24ob3V0LCB3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgb3V0WzBdID0gMiAvIHdpZHRoO1xyXG4gIG91dFsxXSA9IDA7XHJcbiAgb3V0WzJdID0gMDtcclxuICBvdXRbM10gPSAwO1xyXG4gIG91dFs0XSA9IC0yIC8gaGVpZ2h0O1xyXG4gIG91dFs1XSA9IDA7XHJcbiAgb3V0WzZdID0gLTE7XHJcbiAgb3V0WzddID0gMTtcclxuICBvdXRbOF0gPSAxO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBtYXQzXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIG1hdHJpeCB0byByZXByZXNlbnQgYXMgYSBzdHJpbmdcclxuICogQHJldHVybnMge1N0cmluZ30gc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBtYXRyaXhcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc3RyKGEpIHtcclxuICByZXR1cm4gXCJtYXQzKFwiICsgYVswXSArIFwiLCBcIiArIGFbMV0gKyBcIiwgXCIgKyBhWzJdICsgXCIsIFwiICsgYVszXSArIFwiLCBcIiArIGFbNF0gKyBcIiwgXCIgKyBhWzVdICsgXCIsIFwiICsgYVs2XSArIFwiLCBcIiArIGFbN10gKyBcIiwgXCIgKyBhWzhdICsgXCIpXCI7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgRnJvYmVuaXVzIG5vcm0gb2YgYSBtYXQzXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBtYXRyaXggdG8gY2FsY3VsYXRlIEZyb2Jlbml1cyBub3JtIG9mXHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IEZyb2Jlbml1cyBub3JtXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZyb2IoYSkge1xyXG4gIHJldHVybiBNYXRoLmh5cG90KGFbMF0sIGFbMV0sIGFbMl0sIGFbM10sIGFbNF0sIGFbNV0sIGFbNl0sIGFbN10sIGFbOF0pO1xyXG59XHJcbi8qKlxyXG4gKiBBZGRzIHR3byBtYXQzJ3NcclxuICpcclxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYWRkKG91dCwgYSwgYikge1xyXG4gIG91dFswXSA9IGFbMF0gKyBiWzBdO1xyXG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdO1xyXG4gIG91dFsyXSA9IGFbMl0gKyBiWzJdO1xyXG4gIG91dFszXSA9IGFbM10gKyBiWzNdO1xyXG4gIG91dFs0XSA9IGFbNF0gKyBiWzRdO1xyXG4gIG91dFs1XSA9IGFbNV0gKyBiWzVdO1xyXG4gIG91dFs2XSA9IGFbNl0gKyBiWzZdO1xyXG4gIG91dFs3XSA9IGFbN10gKyBiWzddO1xyXG4gIG91dFs4XSA9IGFbOF0gKyBiWzhdO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFN1YnRyYWN0cyBtYXRyaXggYiBmcm9tIG1hdHJpeCBhXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHN1YnRyYWN0KG91dCwgYSwgYikge1xyXG4gIG91dFswXSA9IGFbMF0gLSBiWzBdO1xyXG4gIG91dFsxXSA9IGFbMV0gLSBiWzFdO1xyXG4gIG91dFsyXSA9IGFbMl0gLSBiWzJdO1xyXG4gIG91dFszXSA9IGFbM10gLSBiWzNdO1xyXG4gIG91dFs0XSA9IGFbNF0gLSBiWzRdO1xyXG4gIG91dFs1XSA9IGFbNV0gLSBiWzVdO1xyXG4gIG91dFs2XSA9IGFbNl0gLSBiWzZdO1xyXG4gIG91dFs3XSA9IGFbN10gLSBiWzddO1xyXG4gIG91dFs4XSA9IGFbOF0gLSBiWzhdO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIE11bHRpcGx5IGVhY2ggZWxlbWVudCBvZiB0aGUgbWF0cml4IGJ5IGEgc2NhbGFyLlxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgbWF0cml4IHRvIHNjYWxlXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBiIGFtb3VudCB0byBzY2FsZSB0aGUgbWF0cml4J3MgZWxlbWVudHMgYnlcclxuICogQHJldHVybnMge21hdDN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseVNjYWxhcihvdXQsIGEsIGIpIHtcclxuICBvdXRbMF0gPSBhWzBdICogYjtcclxuICBvdXRbMV0gPSBhWzFdICogYjtcclxuICBvdXRbMl0gPSBhWzJdICogYjtcclxuICBvdXRbM10gPSBhWzNdICogYjtcclxuICBvdXRbNF0gPSBhWzRdICogYjtcclxuICBvdXRbNV0gPSBhWzVdICogYjtcclxuICBvdXRbNl0gPSBhWzZdICogYjtcclxuICBvdXRbN10gPSBhWzddICogYjtcclxuICBvdXRbOF0gPSBhWzhdICogYjtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBBZGRzIHR3byBtYXQzJ3MgYWZ0ZXIgbXVsdGlwbHlpbmcgZWFjaCBlbGVtZW50IG9mIHRoZSBzZWNvbmQgb3BlcmFuZCBieSBhIHNjYWxhciB2YWx1ZS5cclxuICpcclxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZSB0aGUgYW1vdW50IHRvIHNjYWxlIGIncyBlbGVtZW50cyBieSBiZWZvcmUgYWRkaW5nXHJcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHlTY2FsYXJBbmRBZGQob3V0LCBhLCBiLCBzY2FsZSkge1xyXG4gIG91dFswXSA9IGFbMF0gKyBiWzBdICogc2NhbGU7XHJcbiAgb3V0WzFdID0gYVsxXSArIGJbMV0gKiBzY2FsZTtcclxuICBvdXRbMl0gPSBhWzJdICsgYlsyXSAqIHNjYWxlO1xyXG4gIG91dFszXSA9IGFbM10gKyBiWzNdICogc2NhbGU7XHJcbiAgb3V0WzRdID0gYVs0XSArIGJbNF0gKiBzY2FsZTtcclxuICBvdXRbNV0gPSBhWzVdICsgYls1XSAqIHNjYWxlO1xyXG4gIG91dFs2XSA9IGFbNl0gKyBiWzZdICogc2NhbGU7XHJcbiAgb3V0WzddID0gYVs3XSArIGJbN10gKiBzY2FsZTtcclxuICBvdXRbOF0gPSBhWzhdICsgYls4XSAqIHNjYWxlO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIG1hdHJpY2VzIGhhdmUgZXhhY3RseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbiAod2hlbiBjb21wYXJlZCB3aXRoID09PSlcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgVGhlIGZpcnN0IG1hdHJpeC5cclxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGIgVGhlIHNlY29uZCBtYXRyaXguXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSBtYXRyaWNlcyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZXhhY3RFcXVhbHMoYSwgYikge1xyXG4gIHJldHVybiBhWzBdID09PSBiWzBdICYmIGFbMV0gPT09IGJbMV0gJiYgYVsyXSA9PT0gYlsyXSAmJiBhWzNdID09PSBiWzNdICYmIGFbNF0gPT09IGJbNF0gJiYgYVs1XSA9PT0gYls1XSAmJiBhWzZdID09PSBiWzZdICYmIGFbN10gPT09IGJbN10gJiYgYVs4XSA9PT0gYls4XTtcclxufVxyXG4vKipcclxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgbWF0cmljZXMgaGF2ZSBhcHByb3hpbWF0ZWx5IHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uLlxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSBUaGUgZmlyc3QgbWF0cml4LlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYiBUaGUgc2Vjb25kIG1hdHJpeC5cclxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIG1hdHJpY2VzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBlcXVhbHMoYSwgYikge1xyXG4gIHZhciBhMCA9IGFbMF0sXHJcbiAgICAgIGExID0gYVsxXSxcclxuICAgICAgYTIgPSBhWzJdLFxyXG4gICAgICBhMyA9IGFbM10sXHJcbiAgICAgIGE0ID0gYVs0XSxcclxuICAgICAgYTUgPSBhWzVdLFxyXG4gICAgICBhNiA9IGFbNl0sXHJcbiAgICAgIGE3ID0gYVs3XSxcclxuICAgICAgYTggPSBhWzhdO1xyXG4gIHZhciBiMCA9IGJbMF0sXHJcbiAgICAgIGIxID0gYlsxXSxcclxuICAgICAgYjIgPSBiWzJdLFxyXG4gICAgICBiMyA9IGJbM10sXHJcbiAgICAgIGI0ID0gYls0XSxcclxuICAgICAgYjUgPSBiWzVdLFxyXG4gICAgICBiNiA9IGJbNl0sXHJcbiAgICAgIGI3ID0gYls3XSxcclxuICAgICAgYjggPSBiWzhdO1xyXG4gIHJldHVybiBNYXRoLmFicyhhMCAtIGIwKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMCksIE1hdGguYWJzKGIwKSkgJiYgTWF0aC5hYnMoYTEgLSBiMSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTEpLCBNYXRoLmFicyhiMSkpICYmIE1hdGguYWJzKGEyIC0gYjIpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEyKSwgTWF0aC5hYnMoYjIpKSAmJiBNYXRoLmFicyhhMyAtIGIzKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMyksIE1hdGguYWJzKGIzKSkgJiYgTWF0aC5hYnMoYTQgLSBiNCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTQpLCBNYXRoLmFicyhiNCkpICYmIE1hdGguYWJzKGE1IC0gYjUpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE1KSwgTWF0aC5hYnMoYjUpKSAmJiBNYXRoLmFicyhhNiAtIGI2KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNiksIE1hdGguYWJzKGI2KSkgJiYgTWF0aC5hYnMoYTcgLSBiNykgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTcpLCBNYXRoLmFicyhiNykpICYmIE1hdGguYWJzKGE4IC0gYjgpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE4KSwgTWF0aC5hYnMoYjgpKTtcclxufVxyXG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayBtYXQzLm11bHRpcGx5fVxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgdmFyIG11bCA9IG11bHRpcGx5O1xyXG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayBtYXQzLnN1YnRyYWN0fVxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgdmFyIHN1YiA9IHN1YnRyYWN0OyIsICJpbXBvcnQgKiBhcyBnbE1hdHJpeCBmcm9tIFwiLi9jb21tb24uanNcIjtcclxuLyoqXHJcbiAqIDR4NCBNYXRyaXg8YnI+Rm9ybWF0OiBjb2x1bW4tbWFqb3IsIHdoZW4gdHlwZWQgb3V0IGl0IGxvb2tzIGxpa2Ugcm93LW1ham9yPGJyPlRoZSBtYXRyaWNlcyBhcmUgYmVpbmcgcG9zdCBtdWx0aXBsaWVkLlxyXG4gKiBAbW9kdWxlIG1hdDRcclxuICovXHJcblxyXG4vKipcclxuICogQ3JlYXRlcyBhIG5ldyBpZGVudGl0eSBtYXQ0XHJcbiAqXHJcbiAqIEByZXR1cm5zIHttYXQ0fSBhIG5ldyA0eDQgbWF0cml4XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcclxuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMTYpO1xyXG5cclxuICBpZiAoZ2xNYXRyaXguQVJSQVlfVFlQRSAhPSBGbG9hdDMyQXJyYXkpIHtcclxuICAgIG91dFsxXSA9IDA7XHJcbiAgICBvdXRbMl0gPSAwO1xyXG4gICAgb3V0WzNdID0gMDtcclxuICAgIG91dFs0XSA9IDA7XHJcbiAgICBvdXRbNl0gPSAwO1xyXG4gICAgb3V0WzddID0gMDtcclxuICAgIG91dFs4XSA9IDA7XHJcbiAgICBvdXRbOV0gPSAwO1xyXG4gICAgb3V0WzExXSA9IDA7XHJcbiAgICBvdXRbMTJdID0gMDtcclxuICAgIG91dFsxM10gPSAwO1xyXG4gICAgb3V0WzE0XSA9IDA7XHJcbiAgfVxyXG5cclxuICBvdXRbMF0gPSAxO1xyXG4gIG91dFs1XSA9IDE7XHJcbiAgb3V0WzEwXSA9IDE7XHJcbiAgb3V0WzE1XSA9IDE7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ3JlYXRlcyBhIG5ldyBtYXQ0IGluaXRpYWxpemVkIHdpdGggdmFsdWVzIGZyb20gYW4gZXhpc3RpbmcgbWF0cml4XHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIG1hdHJpeCB0byBjbG9uZVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gYSBuZXcgNHg0IG1hdHJpeFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShhKSB7XHJcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDE2KTtcclxuICBvdXRbMF0gPSBhWzBdO1xyXG4gIG91dFsxXSA9IGFbMV07XHJcbiAgb3V0WzJdID0gYVsyXTtcclxuICBvdXRbM10gPSBhWzNdO1xyXG4gIG91dFs0XSA9IGFbNF07XHJcbiAgb3V0WzVdID0gYVs1XTtcclxuICBvdXRbNl0gPSBhWzZdO1xyXG4gIG91dFs3XSA9IGFbN107XHJcbiAgb3V0WzhdID0gYVs4XTtcclxuICBvdXRbOV0gPSBhWzldO1xyXG4gIG91dFsxMF0gPSBhWzEwXTtcclxuICBvdXRbMTFdID0gYVsxMV07XHJcbiAgb3V0WzEyXSA9IGFbMTJdO1xyXG4gIG91dFsxM10gPSBhWzEzXTtcclxuICBvdXRbMTRdID0gYVsxNF07XHJcbiAgb3V0WzE1XSA9IGFbMTVdO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENvcHkgdGhlIHZhbHVlcyBmcm9tIG9uZSBtYXQ0IHRvIGFub3RoZXJcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIHNvdXJjZSBtYXRyaXhcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjb3B5KG91dCwgYSkge1xyXG4gIG91dFswXSA9IGFbMF07XHJcbiAgb3V0WzFdID0gYVsxXTtcclxuICBvdXRbMl0gPSBhWzJdO1xyXG4gIG91dFszXSA9IGFbM107XHJcbiAgb3V0WzRdID0gYVs0XTtcclxuICBvdXRbNV0gPSBhWzVdO1xyXG4gIG91dFs2XSA9IGFbNl07XHJcbiAgb3V0WzddID0gYVs3XTtcclxuICBvdXRbOF0gPSBhWzhdO1xyXG4gIG91dFs5XSA9IGFbOV07XHJcbiAgb3V0WzEwXSA9IGFbMTBdO1xyXG4gIG91dFsxMV0gPSBhWzExXTtcclxuICBvdXRbMTJdID0gYVsxMl07XHJcbiAgb3V0WzEzXSA9IGFbMTNdO1xyXG4gIG91dFsxNF0gPSBhWzE0XTtcclxuICBvdXRbMTVdID0gYVsxNV07XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ3JlYXRlIGEgbmV3IG1hdDQgd2l0aCB0aGUgZ2l2ZW4gdmFsdWVzXHJcbiAqXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDAgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggMClcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMSBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAxIHBvc2l0aW9uIChpbmRleCAxKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTAyIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDIgcG9zaXRpb24gKGluZGV4IDIpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDMgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMyBwb3NpdGlvbiAoaW5kZXggMylcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMCBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAwIHBvc2l0aW9uIChpbmRleCA0KVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTExIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDEgcG9zaXRpb24gKGluZGV4IDUpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTIgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggNilcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMyBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAzIHBvc2l0aW9uIChpbmRleCA3KVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTIwIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDAgcG9zaXRpb24gKGluZGV4IDgpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjEgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggOSlcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMiBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAyIHBvc2l0aW9uIChpbmRleCAxMClcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMyBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAzIHBvc2l0aW9uIChpbmRleCAxMSlcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMCBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAxMilcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMSBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAxIHBvc2l0aW9uIChpbmRleCAxMylcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMiBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAyIHBvc2l0aW9uIChpbmRleCAxNClcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMyBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAzIHBvc2l0aW9uIChpbmRleCAxNSlcclxuICogQHJldHVybnMge21hdDR9IEEgbmV3IG1hdDRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZnJvbVZhbHVlcyhtMDAsIG0wMSwgbTAyLCBtMDMsIG0xMCwgbTExLCBtMTIsIG0xMywgbTIwLCBtMjEsIG0yMiwgbTIzLCBtMzAsIG0zMSwgbTMyLCBtMzMpIHtcclxuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMTYpO1xyXG4gIG91dFswXSA9IG0wMDtcclxuICBvdXRbMV0gPSBtMDE7XHJcbiAgb3V0WzJdID0gbTAyO1xyXG4gIG91dFszXSA9IG0wMztcclxuICBvdXRbNF0gPSBtMTA7XHJcbiAgb3V0WzVdID0gbTExO1xyXG4gIG91dFs2XSA9IG0xMjtcclxuICBvdXRbN10gPSBtMTM7XHJcbiAgb3V0WzhdID0gbTIwO1xyXG4gIG91dFs5XSA9IG0yMTtcclxuICBvdXRbMTBdID0gbTIyO1xyXG4gIG91dFsxMV0gPSBtMjM7XHJcbiAgb3V0WzEyXSA9IG0zMDtcclxuICBvdXRbMTNdID0gbTMxO1xyXG4gIG91dFsxNF0gPSBtMzI7XHJcbiAgb3V0WzE1XSA9IG0zMztcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSBtYXQ0IHRvIHRoZSBnaXZlbiB2YWx1ZXNcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMCBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAwKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTAxIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDEgcG9zaXRpb24gKGluZGV4IDEpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDIgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMilcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMyBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAzIHBvc2l0aW9uIChpbmRleCAzKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTEwIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDAgcG9zaXRpb24gKGluZGV4IDQpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTEgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggNSlcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMiBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAyIHBvc2l0aW9uIChpbmRleCA2KVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTEzIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDMgcG9zaXRpb24gKGluZGV4IDcpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjAgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggOClcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMSBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAxIHBvc2l0aW9uIChpbmRleCA5KVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTIyIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDIgcG9zaXRpb24gKGluZGV4IDEwKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTIzIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDMgcG9zaXRpb24gKGluZGV4IDExKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTMwIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDAgcG9zaXRpb24gKGluZGV4IDEyKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTMxIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDEgcG9zaXRpb24gKGluZGV4IDEzKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTMyIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDIgcG9zaXRpb24gKGluZGV4IDE0KVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTMzIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDMgcG9zaXRpb24gKGluZGV4IDE1KVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNldChvdXQsIG0wMCwgbTAxLCBtMDIsIG0wMywgbTEwLCBtMTEsIG0xMiwgbTEzLCBtMjAsIG0yMSwgbTIyLCBtMjMsIG0zMCwgbTMxLCBtMzIsIG0zMykge1xyXG4gIG91dFswXSA9IG0wMDtcclxuICBvdXRbMV0gPSBtMDE7XHJcbiAgb3V0WzJdID0gbTAyO1xyXG4gIG91dFszXSA9IG0wMztcclxuICBvdXRbNF0gPSBtMTA7XHJcbiAgb3V0WzVdID0gbTExO1xyXG4gIG91dFs2XSA9IG0xMjtcclxuICBvdXRbN10gPSBtMTM7XHJcbiAgb3V0WzhdID0gbTIwO1xyXG4gIG91dFs5XSA9IG0yMTtcclxuICBvdXRbMTBdID0gbTIyO1xyXG4gIG91dFsxMV0gPSBtMjM7XHJcbiAgb3V0WzEyXSA9IG0zMDtcclxuICBvdXRbMTNdID0gbTMxO1xyXG4gIG91dFsxNF0gPSBtMzI7XHJcbiAgb3V0WzE1XSA9IG0zMztcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBTZXQgYSBtYXQ0IHRvIHRoZSBpZGVudGl0eSBtYXRyaXhcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpZGVudGl0eShvdXQpIHtcclxuICBvdXRbMF0gPSAxO1xyXG4gIG91dFsxXSA9IDA7XHJcbiAgb3V0WzJdID0gMDtcclxuICBvdXRbM10gPSAwO1xyXG4gIG91dFs0XSA9IDA7XHJcbiAgb3V0WzVdID0gMTtcclxuICBvdXRbNl0gPSAwO1xyXG4gIG91dFs3XSA9IDA7XHJcbiAgb3V0WzhdID0gMDtcclxuICBvdXRbOV0gPSAwO1xyXG4gIG91dFsxMF0gPSAxO1xyXG4gIG91dFsxMV0gPSAwO1xyXG4gIG91dFsxMl0gPSAwO1xyXG4gIG91dFsxM10gPSAwO1xyXG4gIG91dFsxNF0gPSAwO1xyXG4gIG91dFsxNV0gPSAxO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFRyYW5zcG9zZSB0aGUgdmFsdWVzIG9mIGEgbWF0NFxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgc291cmNlIG1hdHJpeFxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zcG9zZShvdXQsIGEpIHtcclxuICAvLyBJZiB3ZSBhcmUgdHJhbnNwb3Npbmcgb3Vyc2VsdmVzIHdlIGNhbiBza2lwIGEgZmV3IHN0ZXBzIGJ1dCBoYXZlIHRvIGNhY2hlIHNvbWUgdmFsdWVzXHJcbiAgaWYgKG91dCA9PT0gYSkge1xyXG4gICAgdmFyIGEwMSA9IGFbMV0sXHJcbiAgICAgICAgYTAyID0gYVsyXSxcclxuICAgICAgICBhMDMgPSBhWzNdO1xyXG4gICAgdmFyIGExMiA9IGFbNl0sXHJcbiAgICAgICAgYTEzID0gYVs3XTtcclxuICAgIHZhciBhMjMgPSBhWzExXTtcclxuICAgIG91dFsxXSA9IGFbNF07XHJcbiAgICBvdXRbMl0gPSBhWzhdO1xyXG4gICAgb3V0WzNdID0gYVsxMl07XHJcbiAgICBvdXRbNF0gPSBhMDE7XHJcbiAgICBvdXRbNl0gPSBhWzldO1xyXG4gICAgb3V0WzddID0gYVsxM107XHJcbiAgICBvdXRbOF0gPSBhMDI7XHJcbiAgICBvdXRbOV0gPSBhMTI7XHJcbiAgICBvdXRbMTFdID0gYVsxNF07XHJcbiAgICBvdXRbMTJdID0gYTAzO1xyXG4gICAgb3V0WzEzXSA9IGExMztcclxuICAgIG91dFsxNF0gPSBhMjM7XHJcbiAgfSBlbHNlIHtcclxuICAgIG91dFswXSA9IGFbMF07XHJcbiAgICBvdXRbMV0gPSBhWzRdO1xyXG4gICAgb3V0WzJdID0gYVs4XTtcclxuICAgIG91dFszXSA9IGFbMTJdO1xyXG4gICAgb3V0WzRdID0gYVsxXTtcclxuICAgIG91dFs1XSA9IGFbNV07XHJcbiAgICBvdXRbNl0gPSBhWzldO1xyXG4gICAgb3V0WzddID0gYVsxM107XHJcbiAgICBvdXRbOF0gPSBhWzJdO1xyXG4gICAgb3V0WzldID0gYVs2XTtcclxuICAgIG91dFsxMF0gPSBhWzEwXTtcclxuICAgIG91dFsxMV0gPSBhWzE0XTtcclxuICAgIG91dFsxMl0gPSBhWzNdO1xyXG4gICAgb3V0WzEzXSA9IGFbN107XHJcbiAgICBvdXRbMTRdID0gYVsxMV07XHJcbiAgICBvdXRbMTVdID0gYVsxNV07XHJcbiAgfVxyXG5cclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBJbnZlcnRzIGEgbWF0NFxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgc291cmNlIG1hdHJpeFxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGludmVydChvdXQsIGEpIHtcclxuICB2YXIgYTAwID0gYVswXSxcclxuICAgICAgYTAxID0gYVsxXSxcclxuICAgICAgYTAyID0gYVsyXSxcclxuICAgICAgYTAzID0gYVszXTtcclxuICB2YXIgYTEwID0gYVs0XSxcclxuICAgICAgYTExID0gYVs1XSxcclxuICAgICAgYTEyID0gYVs2XSxcclxuICAgICAgYTEzID0gYVs3XTtcclxuICB2YXIgYTIwID0gYVs4XSxcclxuICAgICAgYTIxID0gYVs5XSxcclxuICAgICAgYTIyID0gYVsxMF0sXHJcbiAgICAgIGEyMyA9IGFbMTFdO1xyXG4gIHZhciBhMzAgPSBhWzEyXSxcclxuICAgICAgYTMxID0gYVsxM10sXHJcbiAgICAgIGEzMiA9IGFbMTRdLFxyXG4gICAgICBhMzMgPSBhWzE1XTtcclxuICB2YXIgYjAwID0gYTAwICogYTExIC0gYTAxICogYTEwO1xyXG4gIHZhciBiMDEgPSBhMDAgKiBhMTIgLSBhMDIgKiBhMTA7XHJcbiAgdmFyIGIwMiA9IGEwMCAqIGExMyAtIGEwMyAqIGExMDtcclxuICB2YXIgYjAzID0gYTAxICogYTEyIC0gYTAyICogYTExO1xyXG4gIHZhciBiMDQgPSBhMDEgKiBhMTMgLSBhMDMgKiBhMTE7XHJcbiAgdmFyIGIwNSA9IGEwMiAqIGExMyAtIGEwMyAqIGExMjtcclxuICB2YXIgYjA2ID0gYTIwICogYTMxIC0gYTIxICogYTMwO1xyXG4gIHZhciBiMDcgPSBhMjAgKiBhMzIgLSBhMjIgKiBhMzA7XHJcbiAgdmFyIGIwOCA9IGEyMCAqIGEzMyAtIGEyMyAqIGEzMDtcclxuICB2YXIgYjA5ID0gYTIxICogYTMyIC0gYTIyICogYTMxO1xyXG4gIHZhciBiMTAgPSBhMjEgKiBhMzMgLSBhMjMgKiBhMzE7XHJcbiAgdmFyIGIxMSA9IGEyMiAqIGEzMyAtIGEyMyAqIGEzMjsgLy8gQ2FsY3VsYXRlIHRoZSBkZXRlcm1pbmFudFxyXG5cclxuICB2YXIgZGV0ID0gYjAwICogYjExIC0gYjAxICogYjEwICsgYjAyICogYjA5ICsgYjAzICogYjA4IC0gYjA0ICogYjA3ICsgYjA1ICogYjA2O1xyXG5cclxuICBpZiAoIWRldCkge1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG5cclxuICBkZXQgPSAxLjAgLyBkZXQ7XHJcbiAgb3V0WzBdID0gKGExMSAqIGIxMSAtIGExMiAqIGIxMCArIGExMyAqIGIwOSkgKiBkZXQ7XHJcbiAgb3V0WzFdID0gKGEwMiAqIGIxMCAtIGEwMSAqIGIxMSAtIGEwMyAqIGIwOSkgKiBkZXQ7XHJcbiAgb3V0WzJdID0gKGEzMSAqIGIwNSAtIGEzMiAqIGIwNCArIGEzMyAqIGIwMykgKiBkZXQ7XHJcbiAgb3V0WzNdID0gKGEyMiAqIGIwNCAtIGEyMSAqIGIwNSAtIGEyMyAqIGIwMykgKiBkZXQ7XHJcbiAgb3V0WzRdID0gKGExMiAqIGIwOCAtIGExMCAqIGIxMSAtIGExMyAqIGIwNykgKiBkZXQ7XHJcbiAgb3V0WzVdID0gKGEwMCAqIGIxMSAtIGEwMiAqIGIwOCArIGEwMyAqIGIwNykgKiBkZXQ7XHJcbiAgb3V0WzZdID0gKGEzMiAqIGIwMiAtIGEzMCAqIGIwNSAtIGEzMyAqIGIwMSkgKiBkZXQ7XHJcbiAgb3V0WzddID0gKGEyMCAqIGIwNSAtIGEyMiAqIGIwMiArIGEyMyAqIGIwMSkgKiBkZXQ7XHJcbiAgb3V0WzhdID0gKGExMCAqIGIxMCAtIGExMSAqIGIwOCArIGExMyAqIGIwNikgKiBkZXQ7XHJcbiAgb3V0WzldID0gKGEwMSAqIGIwOCAtIGEwMCAqIGIxMCAtIGEwMyAqIGIwNikgKiBkZXQ7XHJcbiAgb3V0WzEwXSA9IChhMzAgKiBiMDQgLSBhMzEgKiBiMDIgKyBhMzMgKiBiMDApICogZGV0O1xyXG4gIG91dFsxMV0gPSAoYTIxICogYjAyIC0gYTIwICogYjA0IC0gYTIzICogYjAwKSAqIGRldDtcclxuICBvdXRbMTJdID0gKGExMSAqIGIwNyAtIGExMCAqIGIwOSAtIGExMiAqIGIwNikgKiBkZXQ7XHJcbiAgb3V0WzEzXSA9IChhMDAgKiBiMDkgLSBhMDEgKiBiMDcgKyBhMDIgKiBiMDYpICogZGV0O1xyXG4gIG91dFsxNF0gPSAoYTMxICogYjAxIC0gYTMwICogYjAzIC0gYTMyICogYjAwKSAqIGRldDtcclxuICBvdXRbMTVdID0gKGEyMCAqIGIwMyAtIGEyMSAqIGIwMSArIGEyMiAqIGIwMCkgKiBkZXQ7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgYWRqdWdhdGUgb2YgYSBtYXQ0XHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBzb3VyY2UgbWF0cml4XHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYWRqb2ludChvdXQsIGEpIHtcclxuICB2YXIgYTAwID0gYVswXSxcclxuICAgICAgYTAxID0gYVsxXSxcclxuICAgICAgYTAyID0gYVsyXSxcclxuICAgICAgYTAzID0gYVszXTtcclxuICB2YXIgYTEwID0gYVs0XSxcclxuICAgICAgYTExID0gYVs1XSxcclxuICAgICAgYTEyID0gYVs2XSxcclxuICAgICAgYTEzID0gYVs3XTtcclxuICB2YXIgYTIwID0gYVs4XSxcclxuICAgICAgYTIxID0gYVs5XSxcclxuICAgICAgYTIyID0gYVsxMF0sXHJcbiAgICAgIGEyMyA9IGFbMTFdO1xyXG4gIHZhciBhMzAgPSBhWzEyXSxcclxuICAgICAgYTMxID0gYVsxM10sXHJcbiAgICAgIGEzMiA9IGFbMTRdLFxyXG4gICAgICBhMzMgPSBhWzE1XTtcclxuICBvdXRbMF0gPSBhMTEgKiAoYTIyICogYTMzIC0gYTIzICogYTMyKSAtIGEyMSAqIChhMTIgKiBhMzMgLSBhMTMgKiBhMzIpICsgYTMxICogKGExMiAqIGEyMyAtIGExMyAqIGEyMik7XHJcbiAgb3V0WzFdID0gLShhMDEgKiAoYTIyICogYTMzIC0gYTIzICogYTMyKSAtIGEyMSAqIChhMDIgKiBhMzMgLSBhMDMgKiBhMzIpICsgYTMxICogKGEwMiAqIGEyMyAtIGEwMyAqIGEyMikpO1xyXG4gIG91dFsyXSA9IGEwMSAqIChhMTIgKiBhMzMgLSBhMTMgKiBhMzIpIC0gYTExICogKGEwMiAqIGEzMyAtIGEwMyAqIGEzMikgKyBhMzEgKiAoYTAyICogYTEzIC0gYTAzICogYTEyKTtcclxuICBvdXRbM10gPSAtKGEwMSAqIChhMTIgKiBhMjMgLSBhMTMgKiBhMjIpIC0gYTExICogKGEwMiAqIGEyMyAtIGEwMyAqIGEyMikgKyBhMjEgKiAoYTAyICogYTEzIC0gYTAzICogYTEyKSk7XHJcbiAgb3V0WzRdID0gLShhMTAgKiAoYTIyICogYTMzIC0gYTIzICogYTMyKSAtIGEyMCAqIChhMTIgKiBhMzMgLSBhMTMgKiBhMzIpICsgYTMwICogKGExMiAqIGEyMyAtIGExMyAqIGEyMikpO1xyXG4gIG91dFs1XSA9IGEwMCAqIChhMjIgKiBhMzMgLSBhMjMgKiBhMzIpIC0gYTIwICogKGEwMiAqIGEzMyAtIGEwMyAqIGEzMikgKyBhMzAgKiAoYTAyICogYTIzIC0gYTAzICogYTIyKTtcclxuICBvdXRbNl0gPSAtKGEwMCAqIChhMTIgKiBhMzMgLSBhMTMgKiBhMzIpIC0gYTEwICogKGEwMiAqIGEzMyAtIGEwMyAqIGEzMikgKyBhMzAgKiAoYTAyICogYTEzIC0gYTAzICogYTEyKSk7XHJcbiAgb3V0WzddID0gYTAwICogKGExMiAqIGEyMyAtIGExMyAqIGEyMikgLSBhMTAgKiAoYTAyICogYTIzIC0gYTAzICogYTIyKSArIGEyMCAqIChhMDIgKiBhMTMgLSBhMDMgKiBhMTIpO1xyXG4gIG91dFs4XSA9IGExMCAqIChhMjEgKiBhMzMgLSBhMjMgKiBhMzEpIC0gYTIwICogKGExMSAqIGEzMyAtIGExMyAqIGEzMSkgKyBhMzAgKiAoYTExICogYTIzIC0gYTEzICogYTIxKTtcclxuICBvdXRbOV0gPSAtKGEwMCAqIChhMjEgKiBhMzMgLSBhMjMgKiBhMzEpIC0gYTIwICogKGEwMSAqIGEzMyAtIGEwMyAqIGEzMSkgKyBhMzAgKiAoYTAxICogYTIzIC0gYTAzICogYTIxKSk7XHJcbiAgb3V0WzEwXSA9IGEwMCAqIChhMTEgKiBhMzMgLSBhMTMgKiBhMzEpIC0gYTEwICogKGEwMSAqIGEzMyAtIGEwMyAqIGEzMSkgKyBhMzAgKiAoYTAxICogYTEzIC0gYTAzICogYTExKTtcclxuICBvdXRbMTFdID0gLShhMDAgKiAoYTExICogYTIzIC0gYTEzICogYTIxKSAtIGExMCAqIChhMDEgKiBhMjMgLSBhMDMgKiBhMjEpICsgYTIwICogKGEwMSAqIGExMyAtIGEwMyAqIGExMSkpO1xyXG4gIG91dFsxMl0gPSAtKGExMCAqIChhMjEgKiBhMzIgLSBhMjIgKiBhMzEpIC0gYTIwICogKGExMSAqIGEzMiAtIGExMiAqIGEzMSkgKyBhMzAgKiAoYTExICogYTIyIC0gYTEyICogYTIxKSk7XHJcbiAgb3V0WzEzXSA9IGEwMCAqIChhMjEgKiBhMzIgLSBhMjIgKiBhMzEpIC0gYTIwICogKGEwMSAqIGEzMiAtIGEwMiAqIGEzMSkgKyBhMzAgKiAoYTAxICogYTIyIC0gYTAyICogYTIxKTtcclxuICBvdXRbMTRdID0gLShhMDAgKiAoYTExICogYTMyIC0gYTEyICogYTMxKSAtIGExMCAqIChhMDEgKiBhMzIgLSBhMDIgKiBhMzEpICsgYTMwICogKGEwMSAqIGExMiAtIGEwMiAqIGExMSkpO1xyXG4gIG91dFsxNV0gPSBhMDAgKiAoYTExICogYTIyIC0gYTEyICogYTIxKSAtIGExMCAqIChhMDEgKiBhMjIgLSBhMDIgKiBhMjEpICsgYTIwICogKGEwMSAqIGExMiAtIGEwMiAqIGExMSk7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgZGV0ZXJtaW5hbnQgb2YgYSBtYXQ0XHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBzb3VyY2UgbWF0cml4XHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRldGVybWluYW50IG9mIGFcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZGV0ZXJtaW5hbnQoYSkge1xyXG4gIHZhciBhMDAgPSBhWzBdLFxyXG4gICAgICBhMDEgPSBhWzFdLFxyXG4gICAgICBhMDIgPSBhWzJdLFxyXG4gICAgICBhMDMgPSBhWzNdO1xyXG4gIHZhciBhMTAgPSBhWzRdLFxyXG4gICAgICBhMTEgPSBhWzVdLFxyXG4gICAgICBhMTIgPSBhWzZdLFxyXG4gICAgICBhMTMgPSBhWzddO1xyXG4gIHZhciBhMjAgPSBhWzhdLFxyXG4gICAgICBhMjEgPSBhWzldLFxyXG4gICAgICBhMjIgPSBhWzEwXSxcclxuICAgICAgYTIzID0gYVsxMV07XHJcbiAgdmFyIGEzMCA9IGFbMTJdLFxyXG4gICAgICBhMzEgPSBhWzEzXSxcclxuICAgICAgYTMyID0gYVsxNF0sXHJcbiAgICAgIGEzMyA9IGFbMTVdO1xyXG4gIHZhciBiMDAgPSBhMDAgKiBhMTEgLSBhMDEgKiBhMTA7XHJcbiAgdmFyIGIwMSA9IGEwMCAqIGExMiAtIGEwMiAqIGExMDtcclxuICB2YXIgYjAyID0gYTAwICogYTEzIC0gYTAzICogYTEwO1xyXG4gIHZhciBiMDMgPSBhMDEgKiBhMTIgLSBhMDIgKiBhMTE7XHJcbiAgdmFyIGIwNCA9IGEwMSAqIGExMyAtIGEwMyAqIGExMTtcclxuICB2YXIgYjA1ID0gYTAyICogYTEzIC0gYTAzICogYTEyO1xyXG4gIHZhciBiMDYgPSBhMjAgKiBhMzEgLSBhMjEgKiBhMzA7XHJcbiAgdmFyIGIwNyA9IGEyMCAqIGEzMiAtIGEyMiAqIGEzMDtcclxuICB2YXIgYjA4ID0gYTIwICogYTMzIC0gYTIzICogYTMwO1xyXG4gIHZhciBiMDkgPSBhMjEgKiBhMzIgLSBhMjIgKiBhMzE7XHJcbiAgdmFyIGIxMCA9IGEyMSAqIGEzMyAtIGEyMyAqIGEzMTtcclxuICB2YXIgYjExID0gYTIyICogYTMzIC0gYTIzICogYTMyOyAvLyBDYWxjdWxhdGUgdGhlIGRldGVybWluYW50XHJcblxyXG4gIHJldHVybiBiMDAgKiBiMTEgLSBiMDEgKiBiMTAgKyBiMDIgKiBiMDkgKyBiMDMgKiBiMDggLSBiMDQgKiBiMDcgKyBiMDUgKiBiMDY7XHJcbn1cclxuLyoqXHJcbiAqIE11bHRpcGxpZXMgdHdvIG1hdDRzXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5KG91dCwgYSwgYikge1xyXG4gIHZhciBhMDAgPSBhWzBdLFxyXG4gICAgICBhMDEgPSBhWzFdLFxyXG4gICAgICBhMDIgPSBhWzJdLFxyXG4gICAgICBhMDMgPSBhWzNdO1xyXG4gIHZhciBhMTAgPSBhWzRdLFxyXG4gICAgICBhMTEgPSBhWzVdLFxyXG4gICAgICBhMTIgPSBhWzZdLFxyXG4gICAgICBhMTMgPSBhWzddO1xyXG4gIHZhciBhMjAgPSBhWzhdLFxyXG4gICAgICBhMjEgPSBhWzldLFxyXG4gICAgICBhMjIgPSBhWzEwXSxcclxuICAgICAgYTIzID0gYVsxMV07XHJcbiAgdmFyIGEzMCA9IGFbMTJdLFxyXG4gICAgICBhMzEgPSBhWzEzXSxcclxuICAgICAgYTMyID0gYVsxNF0sXHJcbiAgICAgIGEzMyA9IGFbMTVdOyAvLyBDYWNoZSBvbmx5IHRoZSBjdXJyZW50IGxpbmUgb2YgdGhlIHNlY29uZCBtYXRyaXhcclxuXHJcbiAgdmFyIGIwID0gYlswXSxcclxuICAgICAgYjEgPSBiWzFdLFxyXG4gICAgICBiMiA9IGJbMl0sXHJcbiAgICAgIGIzID0gYlszXTtcclxuICBvdXRbMF0gPSBiMCAqIGEwMCArIGIxICogYTEwICsgYjIgKiBhMjAgKyBiMyAqIGEzMDtcclxuICBvdXRbMV0gPSBiMCAqIGEwMSArIGIxICogYTExICsgYjIgKiBhMjEgKyBiMyAqIGEzMTtcclxuICBvdXRbMl0gPSBiMCAqIGEwMiArIGIxICogYTEyICsgYjIgKiBhMjIgKyBiMyAqIGEzMjtcclxuICBvdXRbM10gPSBiMCAqIGEwMyArIGIxICogYTEzICsgYjIgKiBhMjMgKyBiMyAqIGEzMztcclxuICBiMCA9IGJbNF07XHJcbiAgYjEgPSBiWzVdO1xyXG4gIGIyID0gYls2XTtcclxuICBiMyA9IGJbN107XHJcbiAgb3V0WzRdID0gYjAgKiBhMDAgKyBiMSAqIGExMCArIGIyICogYTIwICsgYjMgKiBhMzA7XHJcbiAgb3V0WzVdID0gYjAgKiBhMDEgKyBiMSAqIGExMSArIGIyICogYTIxICsgYjMgKiBhMzE7XHJcbiAgb3V0WzZdID0gYjAgKiBhMDIgKyBiMSAqIGExMiArIGIyICogYTIyICsgYjMgKiBhMzI7XHJcbiAgb3V0WzddID0gYjAgKiBhMDMgKyBiMSAqIGExMyArIGIyICogYTIzICsgYjMgKiBhMzM7XHJcbiAgYjAgPSBiWzhdO1xyXG4gIGIxID0gYls5XTtcclxuICBiMiA9IGJbMTBdO1xyXG4gIGIzID0gYlsxMV07XHJcbiAgb3V0WzhdID0gYjAgKiBhMDAgKyBiMSAqIGExMCArIGIyICogYTIwICsgYjMgKiBhMzA7XHJcbiAgb3V0WzldID0gYjAgKiBhMDEgKyBiMSAqIGExMSArIGIyICogYTIxICsgYjMgKiBhMzE7XHJcbiAgb3V0WzEwXSA9IGIwICogYTAyICsgYjEgKiBhMTIgKyBiMiAqIGEyMiArIGIzICogYTMyO1xyXG4gIG91dFsxMV0gPSBiMCAqIGEwMyArIGIxICogYTEzICsgYjIgKiBhMjMgKyBiMyAqIGEzMztcclxuICBiMCA9IGJbMTJdO1xyXG4gIGIxID0gYlsxM107XHJcbiAgYjIgPSBiWzE0XTtcclxuICBiMyA9IGJbMTVdO1xyXG4gIG91dFsxMl0gPSBiMCAqIGEwMCArIGIxICogYTEwICsgYjIgKiBhMjAgKyBiMyAqIGEzMDtcclxuICBvdXRbMTNdID0gYjAgKiBhMDEgKyBiMSAqIGExMSArIGIyICogYTIxICsgYjMgKiBhMzE7XHJcbiAgb3V0WzE0XSA9IGIwICogYTAyICsgYjEgKiBhMTIgKyBiMiAqIGEyMiArIGIzICogYTMyO1xyXG4gIG91dFsxNV0gPSBiMCAqIGEwMyArIGIxICogYTEzICsgYjIgKiBhMjMgKyBiMyAqIGEzMztcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBUcmFuc2xhdGUgYSBtYXQ0IGJ5IHRoZSBnaXZlbiB2ZWN0b3JcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIG1hdHJpeCB0byB0cmFuc2xhdGVcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHYgdmVjdG9yIHRvIHRyYW5zbGF0ZSBieVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zbGF0ZShvdXQsIGEsIHYpIHtcclxuICB2YXIgeCA9IHZbMF0sXHJcbiAgICAgIHkgPSB2WzFdLFxyXG4gICAgICB6ID0gdlsyXTtcclxuICB2YXIgYTAwLCBhMDEsIGEwMiwgYTAzO1xyXG4gIHZhciBhMTAsIGExMSwgYTEyLCBhMTM7XHJcbiAgdmFyIGEyMCwgYTIxLCBhMjIsIGEyMztcclxuXHJcbiAgaWYgKGEgPT09IG91dCkge1xyXG4gICAgb3V0WzEyXSA9IGFbMF0gKiB4ICsgYVs0XSAqIHkgKyBhWzhdICogeiArIGFbMTJdO1xyXG4gICAgb3V0WzEzXSA9IGFbMV0gKiB4ICsgYVs1XSAqIHkgKyBhWzldICogeiArIGFbMTNdO1xyXG4gICAgb3V0WzE0XSA9IGFbMl0gKiB4ICsgYVs2XSAqIHkgKyBhWzEwXSAqIHogKyBhWzE0XTtcclxuICAgIG91dFsxNV0gPSBhWzNdICogeCArIGFbN10gKiB5ICsgYVsxMV0gKiB6ICsgYVsxNV07XHJcbiAgfSBlbHNlIHtcclxuICAgIGEwMCA9IGFbMF07XHJcbiAgICBhMDEgPSBhWzFdO1xyXG4gICAgYTAyID0gYVsyXTtcclxuICAgIGEwMyA9IGFbM107XHJcbiAgICBhMTAgPSBhWzRdO1xyXG4gICAgYTExID0gYVs1XTtcclxuICAgIGExMiA9IGFbNl07XHJcbiAgICBhMTMgPSBhWzddO1xyXG4gICAgYTIwID0gYVs4XTtcclxuICAgIGEyMSA9IGFbOV07XHJcbiAgICBhMjIgPSBhWzEwXTtcclxuICAgIGEyMyA9IGFbMTFdO1xyXG4gICAgb3V0WzBdID0gYTAwO1xyXG4gICAgb3V0WzFdID0gYTAxO1xyXG4gICAgb3V0WzJdID0gYTAyO1xyXG4gICAgb3V0WzNdID0gYTAzO1xyXG4gICAgb3V0WzRdID0gYTEwO1xyXG4gICAgb3V0WzVdID0gYTExO1xyXG4gICAgb3V0WzZdID0gYTEyO1xyXG4gICAgb3V0WzddID0gYTEzO1xyXG4gICAgb3V0WzhdID0gYTIwO1xyXG4gICAgb3V0WzldID0gYTIxO1xyXG4gICAgb3V0WzEwXSA9IGEyMjtcclxuICAgIG91dFsxMV0gPSBhMjM7XHJcbiAgICBvdXRbMTJdID0gYTAwICogeCArIGExMCAqIHkgKyBhMjAgKiB6ICsgYVsxMl07XHJcbiAgICBvdXRbMTNdID0gYTAxICogeCArIGExMSAqIHkgKyBhMjEgKiB6ICsgYVsxM107XHJcbiAgICBvdXRbMTRdID0gYTAyICogeCArIGExMiAqIHkgKyBhMjIgKiB6ICsgYVsxNF07XHJcbiAgICBvdXRbMTVdID0gYTAzICogeCArIGExMyAqIHkgKyBhMjMgKiB6ICsgYVsxNV07XHJcbiAgfVxyXG5cclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBTY2FsZXMgdGhlIG1hdDQgYnkgdGhlIGRpbWVuc2lvbnMgaW4gdGhlIGdpdmVuIHZlYzMgbm90IHVzaW5nIHZlY3Rvcml6YXRpb25cclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIG1hdHJpeCB0byBzY2FsZVxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdiB0aGUgdmVjMyB0byBzY2FsZSB0aGUgbWF0cml4IGJ5XHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICoqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlKG91dCwgYSwgdikge1xyXG4gIHZhciB4ID0gdlswXSxcclxuICAgICAgeSA9IHZbMV0sXHJcbiAgICAgIHogPSB2WzJdO1xyXG4gIG91dFswXSA9IGFbMF0gKiB4O1xyXG4gIG91dFsxXSA9IGFbMV0gKiB4O1xyXG4gIG91dFsyXSA9IGFbMl0gKiB4O1xyXG4gIG91dFszXSA9IGFbM10gKiB4O1xyXG4gIG91dFs0XSA9IGFbNF0gKiB5O1xyXG4gIG91dFs1XSA9IGFbNV0gKiB5O1xyXG4gIG91dFs2XSA9IGFbNl0gKiB5O1xyXG4gIG91dFs3XSA9IGFbN10gKiB5O1xyXG4gIG91dFs4XSA9IGFbOF0gKiB6O1xyXG4gIG91dFs5XSA9IGFbOV0gKiB6O1xyXG4gIG91dFsxMF0gPSBhWzEwXSAqIHo7XHJcbiAgb3V0WzExXSA9IGFbMTFdICogejtcclxuICBvdXRbMTJdID0gYVsxMl07XHJcbiAgb3V0WzEzXSA9IGFbMTNdO1xyXG4gIG91dFsxNF0gPSBhWzE0XTtcclxuICBvdXRbMTVdID0gYVsxNV07XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogUm90YXRlcyBhIG1hdDQgYnkgdGhlIGdpdmVuIGFuZ2xlIGFyb3VuZCB0aGUgZ2l2ZW4gYXhpc1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIHJvdGF0ZVxyXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYXhpcyB0aGUgYXhpcyB0byByb3RhdGUgYXJvdW5kXHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlKG91dCwgYSwgcmFkLCBheGlzKSB7XHJcbiAgdmFyIHggPSBheGlzWzBdLFxyXG4gICAgICB5ID0gYXhpc1sxXSxcclxuICAgICAgeiA9IGF4aXNbMl07XHJcbiAgdmFyIGxlbiA9IE1hdGguaHlwb3QoeCwgeSwgeik7XHJcbiAgdmFyIHMsIGMsIHQ7XHJcbiAgdmFyIGEwMCwgYTAxLCBhMDIsIGEwMztcclxuICB2YXIgYTEwLCBhMTEsIGExMiwgYTEzO1xyXG4gIHZhciBhMjAsIGEyMSwgYTIyLCBhMjM7XHJcbiAgdmFyIGIwMCwgYjAxLCBiMDI7XHJcbiAgdmFyIGIxMCwgYjExLCBiMTI7XHJcbiAgdmFyIGIyMCwgYjIxLCBiMjI7XHJcblxyXG4gIGlmIChsZW4gPCBnbE1hdHJpeC5FUFNJTE9OKSB7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcblxyXG4gIGxlbiA9IDEgLyBsZW47XHJcbiAgeCAqPSBsZW47XHJcbiAgeSAqPSBsZW47XHJcbiAgeiAqPSBsZW47XHJcbiAgcyA9IE1hdGguc2luKHJhZCk7XHJcbiAgYyA9IE1hdGguY29zKHJhZCk7XHJcbiAgdCA9IDEgLSBjO1xyXG4gIGEwMCA9IGFbMF07XHJcbiAgYTAxID0gYVsxXTtcclxuICBhMDIgPSBhWzJdO1xyXG4gIGEwMyA9IGFbM107XHJcbiAgYTEwID0gYVs0XTtcclxuICBhMTEgPSBhWzVdO1xyXG4gIGExMiA9IGFbNl07XHJcbiAgYTEzID0gYVs3XTtcclxuICBhMjAgPSBhWzhdO1xyXG4gIGEyMSA9IGFbOV07XHJcbiAgYTIyID0gYVsxMF07XHJcbiAgYTIzID0gYVsxMV07IC8vIENvbnN0cnVjdCB0aGUgZWxlbWVudHMgb2YgdGhlIHJvdGF0aW9uIG1hdHJpeFxyXG5cclxuICBiMDAgPSB4ICogeCAqIHQgKyBjO1xyXG4gIGIwMSA9IHkgKiB4ICogdCArIHogKiBzO1xyXG4gIGIwMiA9IHogKiB4ICogdCAtIHkgKiBzO1xyXG4gIGIxMCA9IHggKiB5ICogdCAtIHogKiBzO1xyXG4gIGIxMSA9IHkgKiB5ICogdCArIGM7XHJcbiAgYjEyID0geiAqIHkgKiB0ICsgeCAqIHM7XHJcbiAgYjIwID0geCAqIHogKiB0ICsgeSAqIHM7XHJcbiAgYjIxID0geSAqIHogKiB0IC0geCAqIHM7XHJcbiAgYjIyID0geiAqIHogKiB0ICsgYzsgLy8gUGVyZm9ybSByb3RhdGlvbi1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cclxuXHJcbiAgb3V0WzBdID0gYTAwICogYjAwICsgYTEwICogYjAxICsgYTIwICogYjAyO1xyXG4gIG91dFsxXSA9IGEwMSAqIGIwMCArIGExMSAqIGIwMSArIGEyMSAqIGIwMjtcclxuICBvdXRbMl0gPSBhMDIgKiBiMDAgKyBhMTIgKiBiMDEgKyBhMjIgKiBiMDI7XHJcbiAgb3V0WzNdID0gYTAzICogYjAwICsgYTEzICogYjAxICsgYTIzICogYjAyO1xyXG4gIG91dFs0XSA9IGEwMCAqIGIxMCArIGExMCAqIGIxMSArIGEyMCAqIGIxMjtcclxuICBvdXRbNV0gPSBhMDEgKiBiMTAgKyBhMTEgKiBiMTEgKyBhMjEgKiBiMTI7XHJcbiAgb3V0WzZdID0gYTAyICogYjEwICsgYTEyICogYjExICsgYTIyICogYjEyO1xyXG4gIG91dFs3XSA9IGEwMyAqIGIxMCArIGExMyAqIGIxMSArIGEyMyAqIGIxMjtcclxuICBvdXRbOF0gPSBhMDAgKiBiMjAgKyBhMTAgKiBiMjEgKyBhMjAgKiBiMjI7XHJcbiAgb3V0WzldID0gYTAxICogYjIwICsgYTExICogYjIxICsgYTIxICogYjIyO1xyXG4gIG91dFsxMF0gPSBhMDIgKiBiMjAgKyBhMTIgKiBiMjEgKyBhMjIgKiBiMjI7XHJcbiAgb3V0WzExXSA9IGEwMyAqIGIyMCArIGExMyAqIGIyMSArIGEyMyAqIGIyMjtcclxuXHJcbiAgaWYgKGEgIT09IG91dCkge1xyXG4gICAgLy8gSWYgdGhlIHNvdXJjZSBhbmQgZGVzdGluYXRpb24gZGlmZmVyLCBjb3B5IHRoZSB1bmNoYW5nZWQgbGFzdCByb3dcclxuICAgIG91dFsxMl0gPSBhWzEyXTtcclxuICAgIG91dFsxM10gPSBhWzEzXTtcclxuICAgIG91dFsxNF0gPSBhWzE0XTtcclxuICAgIG91dFsxNV0gPSBhWzE1XTtcclxuICB9XHJcblxyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFJvdGF0ZXMgYSBtYXRyaXggYnkgdGhlIGdpdmVuIGFuZ2xlIGFyb3VuZCB0aGUgWCBheGlzXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gcm90YXRlXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWChvdXQsIGEsIHJhZCkge1xyXG4gIHZhciBzID0gTWF0aC5zaW4ocmFkKTtcclxuICB2YXIgYyA9IE1hdGguY29zKHJhZCk7XHJcbiAgdmFyIGExMCA9IGFbNF07XHJcbiAgdmFyIGExMSA9IGFbNV07XHJcbiAgdmFyIGExMiA9IGFbNl07XHJcbiAgdmFyIGExMyA9IGFbN107XHJcbiAgdmFyIGEyMCA9IGFbOF07XHJcbiAgdmFyIGEyMSA9IGFbOV07XHJcbiAgdmFyIGEyMiA9IGFbMTBdO1xyXG4gIHZhciBhMjMgPSBhWzExXTtcclxuXHJcbiAgaWYgKGEgIT09IG91dCkge1xyXG4gICAgLy8gSWYgdGhlIHNvdXJjZSBhbmQgZGVzdGluYXRpb24gZGlmZmVyLCBjb3B5IHRoZSB1bmNoYW5nZWQgcm93c1xyXG4gICAgb3V0WzBdID0gYVswXTtcclxuICAgIG91dFsxXSA9IGFbMV07XHJcbiAgICBvdXRbMl0gPSBhWzJdO1xyXG4gICAgb3V0WzNdID0gYVszXTtcclxuICAgIG91dFsxMl0gPSBhWzEyXTtcclxuICAgIG91dFsxM10gPSBhWzEzXTtcclxuICAgIG91dFsxNF0gPSBhWzE0XTtcclxuICAgIG91dFsxNV0gPSBhWzE1XTtcclxuICB9IC8vIFBlcmZvcm0gYXhpcy1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cclxuXHJcblxyXG4gIG91dFs0XSA9IGExMCAqIGMgKyBhMjAgKiBzO1xyXG4gIG91dFs1XSA9IGExMSAqIGMgKyBhMjEgKiBzO1xyXG4gIG91dFs2XSA9IGExMiAqIGMgKyBhMjIgKiBzO1xyXG4gIG91dFs3XSA9IGExMyAqIGMgKyBhMjMgKiBzO1xyXG4gIG91dFs4XSA9IGEyMCAqIGMgLSBhMTAgKiBzO1xyXG4gIG91dFs5XSA9IGEyMSAqIGMgLSBhMTEgKiBzO1xyXG4gIG91dFsxMF0gPSBhMjIgKiBjIC0gYTEyICogcztcclxuICBvdXRbMTFdID0gYTIzICogYyAtIGExMyAqIHM7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogUm90YXRlcyBhIG1hdHJpeCBieSB0aGUgZ2l2ZW4gYW5nbGUgYXJvdW5kIHRoZSBZIGF4aXNcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIG1hdHJpeCB0byByb3RhdGVcclxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVZKG91dCwgYSwgcmFkKSB7XHJcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpO1xyXG4gIHZhciBjID0gTWF0aC5jb3MocmFkKTtcclxuICB2YXIgYTAwID0gYVswXTtcclxuICB2YXIgYTAxID0gYVsxXTtcclxuICB2YXIgYTAyID0gYVsyXTtcclxuICB2YXIgYTAzID0gYVszXTtcclxuICB2YXIgYTIwID0gYVs4XTtcclxuICB2YXIgYTIxID0gYVs5XTtcclxuICB2YXIgYTIyID0gYVsxMF07XHJcbiAgdmFyIGEyMyA9IGFbMTFdO1xyXG5cclxuICBpZiAoYSAhPT0gb3V0KSB7XHJcbiAgICAvLyBJZiB0aGUgc291cmNlIGFuZCBkZXN0aW5hdGlvbiBkaWZmZXIsIGNvcHkgdGhlIHVuY2hhbmdlZCByb3dzXHJcbiAgICBvdXRbNF0gPSBhWzRdO1xyXG4gICAgb3V0WzVdID0gYVs1XTtcclxuICAgIG91dFs2XSA9IGFbNl07XHJcbiAgICBvdXRbN10gPSBhWzddO1xyXG4gICAgb3V0WzEyXSA9IGFbMTJdO1xyXG4gICAgb3V0WzEzXSA9IGFbMTNdO1xyXG4gICAgb3V0WzE0XSA9IGFbMTRdO1xyXG4gICAgb3V0WzE1XSA9IGFbMTVdO1xyXG4gIH0gLy8gUGVyZm9ybSBheGlzLXNwZWNpZmljIG1hdHJpeCBtdWx0aXBsaWNhdGlvblxyXG5cclxuXHJcbiAgb3V0WzBdID0gYTAwICogYyAtIGEyMCAqIHM7XHJcbiAgb3V0WzFdID0gYTAxICogYyAtIGEyMSAqIHM7XHJcbiAgb3V0WzJdID0gYTAyICogYyAtIGEyMiAqIHM7XHJcbiAgb3V0WzNdID0gYTAzICogYyAtIGEyMyAqIHM7XHJcbiAgb3V0WzhdID0gYTAwICogcyArIGEyMCAqIGM7XHJcbiAgb3V0WzldID0gYTAxICogcyArIGEyMSAqIGM7XHJcbiAgb3V0WzEwXSA9IGEwMiAqIHMgKyBhMjIgKiBjO1xyXG4gIG91dFsxMV0gPSBhMDMgKiBzICsgYTIzICogYztcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBSb3RhdGVzIGEgbWF0cml4IGJ5IHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIFogYXhpc1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIHJvdGF0ZVxyXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVoob3V0LCBhLCByYWQpIHtcclxuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XHJcbiAgdmFyIGMgPSBNYXRoLmNvcyhyYWQpO1xyXG4gIHZhciBhMDAgPSBhWzBdO1xyXG4gIHZhciBhMDEgPSBhWzFdO1xyXG4gIHZhciBhMDIgPSBhWzJdO1xyXG4gIHZhciBhMDMgPSBhWzNdO1xyXG4gIHZhciBhMTAgPSBhWzRdO1xyXG4gIHZhciBhMTEgPSBhWzVdO1xyXG4gIHZhciBhMTIgPSBhWzZdO1xyXG4gIHZhciBhMTMgPSBhWzddO1xyXG5cclxuICBpZiAoYSAhPT0gb3V0KSB7XHJcbiAgICAvLyBJZiB0aGUgc291cmNlIGFuZCBkZXN0aW5hdGlvbiBkaWZmZXIsIGNvcHkgdGhlIHVuY2hhbmdlZCBsYXN0IHJvd1xyXG4gICAgb3V0WzhdID0gYVs4XTtcclxuICAgIG91dFs5XSA9IGFbOV07XHJcbiAgICBvdXRbMTBdID0gYVsxMF07XHJcbiAgICBvdXRbMTFdID0gYVsxMV07XHJcbiAgICBvdXRbMTJdID0gYVsxMl07XHJcbiAgICBvdXRbMTNdID0gYVsxM107XHJcbiAgICBvdXRbMTRdID0gYVsxNF07XHJcbiAgICBvdXRbMTVdID0gYVsxNV07XHJcbiAgfSAvLyBQZXJmb3JtIGF4aXMtc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXHJcblxyXG5cclxuICBvdXRbMF0gPSBhMDAgKiBjICsgYTEwICogcztcclxuICBvdXRbMV0gPSBhMDEgKiBjICsgYTExICogcztcclxuICBvdXRbMl0gPSBhMDIgKiBjICsgYTEyICogcztcclxuICBvdXRbM10gPSBhMDMgKiBjICsgYTEzICogcztcclxuICBvdXRbNF0gPSBhMTAgKiBjIC0gYTAwICogcztcclxuICBvdXRbNV0gPSBhMTEgKiBjIC0gYTAxICogcztcclxuICBvdXRbNl0gPSBhMTIgKiBjIC0gYTAyICogcztcclxuICBvdXRbN10gPSBhMTMgKiBjIC0gYTAzICogcztcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSB2ZWN0b3IgdHJhbnNsYXRpb25cclxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XHJcbiAqXHJcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xyXG4gKiAgICAgbWF0NC50cmFuc2xhdGUoZGVzdCwgZGVzdCwgdmVjKTtcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdiBUcmFuc2xhdGlvbiB2ZWN0b3JcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmcm9tVHJhbnNsYXRpb24ob3V0LCB2KSB7XHJcbiAgb3V0WzBdID0gMTtcclxuICBvdXRbMV0gPSAwO1xyXG4gIG91dFsyXSA9IDA7XHJcbiAgb3V0WzNdID0gMDtcclxuICBvdXRbNF0gPSAwO1xyXG4gIG91dFs1XSA9IDE7XHJcbiAgb3V0WzZdID0gMDtcclxuICBvdXRbN10gPSAwO1xyXG4gIG91dFs4XSA9IDA7XHJcbiAgb3V0WzldID0gMDtcclxuICBvdXRbMTBdID0gMTtcclxuICBvdXRbMTFdID0gMDtcclxuICBvdXRbMTJdID0gdlswXTtcclxuICBvdXRbMTNdID0gdlsxXTtcclxuICBvdXRbMTRdID0gdlsyXTtcclxuICBvdXRbMTVdID0gMTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSB2ZWN0b3Igc2NhbGluZ1xyXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcclxuICpcclxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XHJcbiAqICAgICBtYXQ0LnNjYWxlKGRlc3QsIGRlc3QsIHZlYyk7XHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHYgU2NhbGluZyB2ZWN0b3JcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmcm9tU2NhbGluZyhvdXQsIHYpIHtcclxuICBvdXRbMF0gPSB2WzBdO1xyXG4gIG91dFsxXSA9IDA7XHJcbiAgb3V0WzJdID0gMDtcclxuICBvdXRbM10gPSAwO1xyXG4gIG91dFs0XSA9IDA7XHJcbiAgb3V0WzVdID0gdlsxXTtcclxuICBvdXRbNl0gPSAwO1xyXG4gIG91dFs3XSA9IDA7XHJcbiAgb3V0WzhdID0gMDtcclxuICBvdXRbOV0gPSAwO1xyXG4gIG91dFsxMF0gPSB2WzJdO1xyXG4gIG91dFsxMV0gPSAwO1xyXG4gIG91dFsxMl0gPSAwO1xyXG4gIG91dFsxM10gPSAwO1xyXG4gIG91dFsxNF0gPSAwO1xyXG4gIG91dFsxNV0gPSAxO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhIGdpdmVuIGFuZ2xlIGFyb3VuZCBhIGdpdmVuIGF4aXNcclxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XHJcbiAqXHJcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xyXG4gKiAgICAgbWF0NC5yb3RhdGUoZGVzdCwgZGVzdCwgcmFkLCBheGlzKTtcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxyXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYXhpcyB0aGUgYXhpcyB0byByb3RhdGUgYXJvdW5kXHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZnJvbVJvdGF0aW9uKG91dCwgcmFkLCBheGlzKSB7XHJcbiAgdmFyIHggPSBheGlzWzBdLFxyXG4gICAgICB5ID0gYXhpc1sxXSxcclxuICAgICAgeiA9IGF4aXNbMl07XHJcbiAgdmFyIGxlbiA9IE1hdGguaHlwb3QoeCwgeSwgeik7XHJcbiAgdmFyIHMsIGMsIHQ7XHJcblxyXG4gIGlmIChsZW4gPCBnbE1hdHJpeC5FUFNJTE9OKSB7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcblxyXG4gIGxlbiA9IDEgLyBsZW47XHJcbiAgeCAqPSBsZW47XHJcbiAgeSAqPSBsZW47XHJcbiAgeiAqPSBsZW47XHJcbiAgcyA9IE1hdGguc2luKHJhZCk7XHJcbiAgYyA9IE1hdGguY29zKHJhZCk7XHJcbiAgdCA9IDEgLSBjOyAvLyBQZXJmb3JtIHJvdGF0aW9uLXNwZWNpZmljIG1hdHJpeCBtdWx0aXBsaWNhdGlvblxyXG5cclxuICBvdXRbMF0gPSB4ICogeCAqIHQgKyBjO1xyXG4gIG91dFsxXSA9IHkgKiB4ICogdCArIHogKiBzO1xyXG4gIG91dFsyXSA9IHogKiB4ICogdCAtIHkgKiBzO1xyXG4gIG91dFszXSA9IDA7XHJcbiAgb3V0WzRdID0geCAqIHkgKiB0IC0geiAqIHM7XHJcbiAgb3V0WzVdID0geSAqIHkgKiB0ICsgYztcclxuICBvdXRbNl0gPSB6ICogeSAqIHQgKyB4ICogcztcclxuICBvdXRbN10gPSAwO1xyXG4gIG91dFs4XSA9IHggKiB6ICogdCArIHkgKiBzO1xyXG4gIG91dFs5XSA9IHkgKiB6ICogdCAtIHggKiBzO1xyXG4gIG91dFsxMF0gPSB6ICogeiAqIHQgKyBjO1xyXG4gIG91dFsxMV0gPSAwO1xyXG4gIG91dFsxMl0gPSAwO1xyXG4gIG91dFsxM10gPSAwO1xyXG4gIG91dFsxNF0gPSAwO1xyXG4gIG91dFsxNV0gPSAxO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSB0aGUgZ2l2ZW4gYW5nbGUgYXJvdW5kIHRoZSBYIGF4aXNcclxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XHJcbiAqXHJcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xyXG4gKiAgICAgbWF0NC5yb3RhdGVYKGRlc3QsIGRlc3QsIHJhZCk7XHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmcm9tWFJvdGF0aW9uKG91dCwgcmFkKSB7XHJcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpO1xyXG4gIHZhciBjID0gTWF0aC5jb3MocmFkKTsgLy8gUGVyZm9ybSBheGlzLXNwZWNpZmljIG1hdHJpeCBtdWx0aXBsaWNhdGlvblxyXG5cclxuICBvdXRbMF0gPSAxO1xyXG4gIG91dFsxXSA9IDA7XHJcbiAgb3V0WzJdID0gMDtcclxuICBvdXRbM10gPSAwO1xyXG4gIG91dFs0XSA9IDA7XHJcbiAgb3V0WzVdID0gYztcclxuICBvdXRbNl0gPSBzO1xyXG4gIG91dFs3XSA9IDA7XHJcbiAgb3V0WzhdID0gMDtcclxuICBvdXRbOV0gPSAtcztcclxuICBvdXRbMTBdID0gYztcclxuICBvdXRbMTFdID0gMDtcclxuICBvdXRbMTJdID0gMDtcclxuICBvdXRbMTNdID0gMDtcclxuICBvdXRbMTRdID0gMDtcclxuICBvdXRbMTVdID0gMTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gdGhlIGdpdmVuIGFuZ2xlIGFyb3VuZCB0aGUgWSBheGlzXHJcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxyXG4gKlxyXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcclxuICogICAgIG1hdDQucm90YXRlWShkZXN0LCBkZXN0LCByYWQpO1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZnJvbVlSb3RhdGlvbihvdXQsIHJhZCkge1xyXG4gIHZhciBzID0gTWF0aC5zaW4ocmFkKTtcclxuICB2YXIgYyA9IE1hdGguY29zKHJhZCk7IC8vIFBlcmZvcm0gYXhpcy1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cclxuXHJcbiAgb3V0WzBdID0gYztcclxuICBvdXRbMV0gPSAwO1xyXG4gIG91dFsyXSA9IC1zO1xyXG4gIG91dFszXSA9IDA7XHJcbiAgb3V0WzRdID0gMDtcclxuICBvdXRbNV0gPSAxO1xyXG4gIG91dFs2XSA9IDA7XHJcbiAgb3V0WzddID0gMDtcclxuICBvdXRbOF0gPSBzO1xyXG4gIG91dFs5XSA9IDA7XHJcbiAgb3V0WzEwXSA9IGM7XHJcbiAgb3V0WzExXSA9IDA7XHJcbiAgb3V0WzEyXSA9IDA7XHJcbiAgb3V0WzEzXSA9IDA7XHJcbiAgb3V0WzE0XSA9IDA7XHJcbiAgb3V0WzE1XSA9IDE7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIFogYXhpc1xyXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcclxuICpcclxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XHJcbiAqICAgICBtYXQ0LnJvdGF0ZVooZGVzdCwgZGVzdCwgcmFkKTtcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxyXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZyb21aUm90YXRpb24ob3V0LCByYWQpIHtcclxuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XHJcbiAgdmFyIGMgPSBNYXRoLmNvcyhyYWQpOyAvLyBQZXJmb3JtIGF4aXMtc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXHJcblxyXG4gIG91dFswXSA9IGM7XHJcbiAgb3V0WzFdID0gcztcclxuICBvdXRbMl0gPSAwO1xyXG4gIG91dFszXSA9IDA7XHJcbiAgb3V0WzRdID0gLXM7XHJcbiAgb3V0WzVdID0gYztcclxuICBvdXRbNl0gPSAwO1xyXG4gIG91dFs3XSA9IDA7XHJcbiAgb3V0WzhdID0gMDtcclxuICBvdXRbOV0gPSAwO1xyXG4gIG91dFsxMF0gPSAxO1xyXG4gIG91dFsxMV0gPSAwO1xyXG4gIG91dFsxMl0gPSAwO1xyXG4gIG91dFsxM10gPSAwO1xyXG4gIG91dFsxNF0gPSAwO1xyXG4gIG91dFsxNV0gPSAxO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhIHF1YXRlcm5pb24gcm90YXRpb24gYW5kIHZlY3RvciB0cmFuc2xhdGlvblxyXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcclxuICpcclxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XHJcbiAqICAgICBtYXQ0LnRyYW5zbGF0ZShkZXN0LCB2ZWMpO1xyXG4gKiAgICAgbGV0IHF1YXRNYXQgPSBtYXQ0LmNyZWF0ZSgpO1xyXG4gKiAgICAgcXVhdDQudG9NYXQ0KHF1YXQsIHF1YXRNYXQpO1xyXG4gKiAgICAgbWF0NC5tdWx0aXBseShkZXN0LCBxdWF0TWF0KTtcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxyXG4gKiBAcGFyYW0ge3F1YXQ0fSBxIFJvdGF0aW9uIHF1YXRlcm5pb25cclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHYgVHJhbnNsYXRpb24gdmVjdG9yXHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZnJvbVJvdGF0aW9uVHJhbnNsYXRpb24ob3V0LCBxLCB2KSB7XHJcbiAgLy8gUXVhdGVybmlvbiBtYXRoXHJcbiAgdmFyIHggPSBxWzBdLFxyXG4gICAgICB5ID0gcVsxXSxcclxuICAgICAgeiA9IHFbMl0sXHJcbiAgICAgIHcgPSBxWzNdO1xyXG4gIHZhciB4MiA9IHggKyB4O1xyXG4gIHZhciB5MiA9IHkgKyB5O1xyXG4gIHZhciB6MiA9IHogKyB6O1xyXG4gIHZhciB4eCA9IHggKiB4MjtcclxuICB2YXIgeHkgPSB4ICogeTI7XHJcbiAgdmFyIHh6ID0geCAqIHoyO1xyXG4gIHZhciB5eSA9IHkgKiB5MjtcclxuICB2YXIgeXogPSB5ICogejI7XHJcbiAgdmFyIHp6ID0geiAqIHoyO1xyXG4gIHZhciB3eCA9IHcgKiB4MjtcclxuICB2YXIgd3kgPSB3ICogeTI7XHJcbiAgdmFyIHd6ID0gdyAqIHoyO1xyXG4gIG91dFswXSA9IDEgLSAoeXkgKyB6eik7XHJcbiAgb3V0WzFdID0geHkgKyB3ejtcclxuICBvdXRbMl0gPSB4eiAtIHd5O1xyXG4gIG91dFszXSA9IDA7XHJcbiAgb3V0WzRdID0geHkgLSB3ejtcclxuICBvdXRbNV0gPSAxIC0gKHh4ICsgenopO1xyXG4gIG91dFs2XSA9IHl6ICsgd3g7XHJcbiAgb3V0WzddID0gMDtcclxuICBvdXRbOF0gPSB4eiArIHd5O1xyXG4gIG91dFs5XSA9IHl6IC0gd3g7XHJcbiAgb3V0WzEwXSA9IDEgLSAoeHggKyB5eSk7XHJcbiAgb3V0WzExXSA9IDA7XHJcbiAgb3V0WzEyXSA9IHZbMF07XHJcbiAgb3V0WzEzXSA9IHZbMV07XHJcbiAgb3V0WzE0XSA9IHZbMl07XHJcbiAgb3V0WzE1XSA9IDE7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ3JlYXRlcyBhIG5ldyBtYXQ0IGZyb20gYSBkdWFsIHF1YXQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IE1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgRHVhbCBRdWF0ZXJuaW9uXHJcbiAqIEByZXR1cm5zIHttYXQ0fSBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZyb21RdWF0MihvdXQsIGEpIHtcclxuICB2YXIgdHJhbnNsYXRpb24gPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtcclxuICB2YXIgYnggPSAtYVswXSxcclxuICAgICAgYnkgPSAtYVsxXSxcclxuICAgICAgYnogPSAtYVsyXSxcclxuICAgICAgYncgPSBhWzNdLFxyXG4gICAgICBheCA9IGFbNF0sXHJcbiAgICAgIGF5ID0gYVs1XSxcclxuICAgICAgYXogPSBhWzZdLFxyXG4gICAgICBhdyA9IGFbN107XHJcbiAgdmFyIG1hZ25pdHVkZSA9IGJ4ICogYnggKyBieSAqIGJ5ICsgYnogKiBieiArIGJ3ICogYnc7IC8vT25seSBzY2FsZSBpZiBpdCBtYWtlcyBzZW5zZVxyXG5cclxuICBpZiAobWFnbml0dWRlID4gMCkge1xyXG4gICAgdHJhbnNsYXRpb25bMF0gPSAoYXggKiBidyArIGF3ICogYnggKyBheSAqIGJ6IC0gYXogKiBieSkgKiAyIC8gbWFnbml0dWRlO1xyXG4gICAgdHJhbnNsYXRpb25bMV0gPSAoYXkgKiBidyArIGF3ICogYnkgKyBheiAqIGJ4IC0gYXggKiBieikgKiAyIC8gbWFnbml0dWRlO1xyXG4gICAgdHJhbnNsYXRpb25bMl0gPSAoYXogKiBidyArIGF3ICogYnogKyBheCAqIGJ5IC0gYXkgKiBieCkgKiAyIC8gbWFnbml0dWRlO1xyXG4gIH0gZWxzZSB7XHJcbiAgICB0cmFuc2xhdGlvblswXSA9IChheCAqIGJ3ICsgYXcgKiBieCArIGF5ICogYnogLSBheiAqIGJ5KSAqIDI7XHJcbiAgICB0cmFuc2xhdGlvblsxXSA9IChheSAqIGJ3ICsgYXcgKiBieSArIGF6ICogYnggLSBheCAqIGJ6KSAqIDI7XHJcbiAgICB0cmFuc2xhdGlvblsyXSA9IChheiAqIGJ3ICsgYXcgKiBieiArIGF4ICogYnkgLSBheSAqIGJ4KSAqIDI7XHJcbiAgfVxyXG5cclxuICBmcm9tUm90YXRpb25UcmFuc2xhdGlvbihvdXQsIGEsIHRyYW5zbGF0aW9uKTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSB0cmFuc2xhdGlvbiB2ZWN0b3IgY29tcG9uZW50IG9mIGEgdHJhbnNmb3JtYXRpb25cclxuICogIG1hdHJpeC4gSWYgYSBtYXRyaXggaXMgYnVpbHQgd2l0aCBmcm9tUm90YXRpb25UcmFuc2xhdGlvbixcclxuICogIHRoZSByZXR1cm5lZCB2ZWN0b3Igd2lsbCBiZSB0aGUgc2FtZSBhcyB0aGUgdHJhbnNsYXRpb24gdmVjdG9yXHJcbiAqICBvcmlnaW5hbGx5IHN1cHBsaWVkLlxyXG4gKiBAcGFyYW0gIHt2ZWMzfSBvdXQgVmVjdG9yIHRvIHJlY2VpdmUgdHJhbnNsYXRpb24gY29tcG9uZW50XHJcbiAqIEBwYXJhbSAge1JlYWRvbmx5TWF0NH0gbWF0IE1hdHJpeCB0byBiZSBkZWNvbXBvc2VkIChpbnB1dClcclxuICogQHJldHVybiB7dmVjM30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFRyYW5zbGF0aW9uKG91dCwgbWF0KSB7XHJcbiAgb3V0WzBdID0gbWF0WzEyXTtcclxuICBvdXRbMV0gPSBtYXRbMTNdO1xyXG4gIG91dFsyXSA9IG1hdFsxNF07XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogUmV0dXJucyB0aGUgc2NhbGluZyBmYWN0b3IgY29tcG9uZW50IG9mIGEgdHJhbnNmb3JtYXRpb25cclxuICogIG1hdHJpeC4gSWYgYSBtYXRyaXggaXMgYnVpbHQgd2l0aCBmcm9tUm90YXRpb25UcmFuc2xhdGlvblNjYWxlXHJcbiAqICB3aXRoIGEgbm9ybWFsaXplZCBRdWF0ZXJuaW9uIHBhcmFtdGVyLCB0aGUgcmV0dXJuZWQgdmVjdG9yIHdpbGwgYmVcclxuICogIHRoZSBzYW1lIGFzIHRoZSBzY2FsaW5nIHZlY3RvclxyXG4gKiAgb3JpZ2luYWxseSBzdXBwbGllZC5cclxuICogQHBhcmFtICB7dmVjM30gb3V0IFZlY3RvciB0byByZWNlaXZlIHNjYWxpbmcgZmFjdG9yIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0gIHtSZWFkb25seU1hdDR9IG1hdCBNYXRyaXggdG8gYmUgZGVjb21wb3NlZCAoaW5wdXQpXHJcbiAqIEByZXR1cm4ge3ZlYzN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRTY2FsaW5nKG91dCwgbWF0KSB7XHJcbiAgdmFyIG0xMSA9IG1hdFswXTtcclxuICB2YXIgbTEyID0gbWF0WzFdO1xyXG4gIHZhciBtMTMgPSBtYXRbMl07XHJcbiAgdmFyIG0yMSA9IG1hdFs0XTtcclxuICB2YXIgbTIyID0gbWF0WzVdO1xyXG4gIHZhciBtMjMgPSBtYXRbNl07XHJcbiAgdmFyIG0zMSA9IG1hdFs4XTtcclxuICB2YXIgbTMyID0gbWF0WzldO1xyXG4gIHZhciBtMzMgPSBtYXRbMTBdO1xyXG4gIG91dFswXSA9IE1hdGguaHlwb3QobTExLCBtMTIsIG0xMyk7XHJcbiAgb3V0WzFdID0gTWF0aC5oeXBvdChtMjEsIG0yMiwgbTIzKTtcclxuICBvdXRbMl0gPSBNYXRoLmh5cG90KG0zMSwgbTMyLCBtMzMpO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgYSBxdWF0ZXJuaW9uIHJlcHJlc2VudGluZyB0aGUgcm90YXRpb25hbCBjb21wb25lbnRcclxuICogIG9mIGEgdHJhbnNmb3JtYXRpb24gbWF0cml4LiBJZiBhIG1hdHJpeCBpcyBidWlsdCB3aXRoXHJcbiAqICBmcm9tUm90YXRpb25UcmFuc2xhdGlvbiwgdGhlIHJldHVybmVkIHF1YXRlcm5pb24gd2lsbCBiZSB0aGVcclxuICogIHNhbWUgYXMgdGhlIHF1YXRlcm5pb24gb3JpZ2luYWxseSBzdXBwbGllZC5cclxuICogQHBhcmFtIHtxdWF0fSBvdXQgUXVhdGVybmlvbiB0byByZWNlaXZlIHRoZSByb3RhdGlvbiBjb21wb25lbnRcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IG1hdCBNYXRyaXggdG8gYmUgZGVjb21wb3NlZCAoaW5wdXQpXHJcbiAqIEByZXR1cm4ge3F1YXR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRSb3RhdGlvbihvdXQsIG1hdCkge1xyXG4gIHZhciBzY2FsaW5nID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMyk7XHJcbiAgZ2V0U2NhbGluZyhzY2FsaW5nLCBtYXQpO1xyXG4gIHZhciBpczEgPSAxIC8gc2NhbGluZ1swXTtcclxuICB2YXIgaXMyID0gMSAvIHNjYWxpbmdbMV07XHJcbiAgdmFyIGlzMyA9IDEgLyBzY2FsaW5nWzJdO1xyXG4gIHZhciBzbTExID0gbWF0WzBdICogaXMxO1xyXG4gIHZhciBzbTEyID0gbWF0WzFdICogaXMyO1xyXG4gIHZhciBzbTEzID0gbWF0WzJdICogaXMzO1xyXG4gIHZhciBzbTIxID0gbWF0WzRdICogaXMxO1xyXG4gIHZhciBzbTIyID0gbWF0WzVdICogaXMyO1xyXG4gIHZhciBzbTIzID0gbWF0WzZdICogaXMzO1xyXG4gIHZhciBzbTMxID0gbWF0WzhdICogaXMxO1xyXG4gIHZhciBzbTMyID0gbWF0WzldICogaXMyO1xyXG4gIHZhciBzbTMzID0gbWF0WzEwXSAqIGlzMztcclxuICB2YXIgdHJhY2UgPSBzbTExICsgc20yMiArIHNtMzM7XHJcbiAgdmFyIFMgPSAwO1xyXG5cclxuICBpZiAodHJhY2UgPiAwKSB7XHJcbiAgICBTID0gTWF0aC5zcXJ0KHRyYWNlICsgMS4wKSAqIDI7XHJcbiAgICBvdXRbM10gPSAwLjI1ICogUztcclxuICAgIG91dFswXSA9IChzbTIzIC0gc20zMikgLyBTO1xyXG4gICAgb3V0WzFdID0gKHNtMzEgLSBzbTEzKSAvIFM7XHJcbiAgICBvdXRbMl0gPSAoc20xMiAtIHNtMjEpIC8gUztcclxuICB9IGVsc2UgaWYgKHNtMTEgPiBzbTIyICYmIHNtMTEgPiBzbTMzKSB7XHJcbiAgICBTID0gTWF0aC5zcXJ0KDEuMCArIHNtMTEgLSBzbTIyIC0gc20zMykgKiAyO1xyXG4gICAgb3V0WzNdID0gKHNtMjMgLSBzbTMyKSAvIFM7XHJcbiAgICBvdXRbMF0gPSAwLjI1ICogUztcclxuICAgIG91dFsxXSA9IChzbTEyICsgc20yMSkgLyBTO1xyXG4gICAgb3V0WzJdID0gKHNtMzEgKyBzbTEzKSAvIFM7XHJcbiAgfSBlbHNlIGlmIChzbTIyID4gc20zMykge1xyXG4gICAgUyA9IE1hdGguc3FydCgxLjAgKyBzbTIyIC0gc20xMSAtIHNtMzMpICogMjtcclxuICAgIG91dFszXSA9IChzbTMxIC0gc20xMykgLyBTO1xyXG4gICAgb3V0WzBdID0gKHNtMTIgKyBzbTIxKSAvIFM7XHJcbiAgICBvdXRbMV0gPSAwLjI1ICogUztcclxuICAgIG91dFsyXSA9IChzbTIzICsgc20zMikgLyBTO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBTID0gTWF0aC5zcXJ0KDEuMCArIHNtMzMgLSBzbTExIC0gc20yMikgKiAyO1xyXG4gICAgb3V0WzNdID0gKHNtMTIgLSBzbTIxKSAvIFM7XHJcbiAgICBvdXRbMF0gPSAoc20zMSArIHNtMTMpIC8gUztcclxuICAgIG91dFsxXSA9IChzbTIzICsgc20zMikgLyBTO1xyXG4gICAgb3V0WzJdID0gMC4yNSAqIFM7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSBxdWF0ZXJuaW9uIHJvdGF0aW9uLCB2ZWN0b3IgdHJhbnNsYXRpb24gYW5kIHZlY3RvciBzY2FsZVxyXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcclxuICpcclxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XHJcbiAqICAgICBtYXQ0LnRyYW5zbGF0ZShkZXN0LCB2ZWMpO1xyXG4gKiAgICAgbGV0IHF1YXRNYXQgPSBtYXQ0LmNyZWF0ZSgpO1xyXG4gKiAgICAgcXVhdDQudG9NYXQ0KHF1YXQsIHF1YXRNYXQpO1xyXG4gKiAgICAgbWF0NC5tdWx0aXBseShkZXN0LCBxdWF0TWF0KTtcclxuICogICAgIG1hdDQuc2NhbGUoZGVzdCwgc2NhbGUpXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcclxuICogQHBhcmFtIHtxdWF0NH0gcSBSb3RhdGlvbiBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IFRyYW5zbGF0aW9uIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gcyBTY2FsaW5nIHZlY3RvclxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uU2NhbGUob3V0LCBxLCB2LCBzKSB7XHJcbiAgLy8gUXVhdGVybmlvbiBtYXRoXHJcbiAgdmFyIHggPSBxWzBdLFxyXG4gICAgICB5ID0gcVsxXSxcclxuICAgICAgeiA9IHFbMl0sXHJcbiAgICAgIHcgPSBxWzNdO1xyXG4gIHZhciB4MiA9IHggKyB4O1xyXG4gIHZhciB5MiA9IHkgKyB5O1xyXG4gIHZhciB6MiA9IHogKyB6O1xyXG4gIHZhciB4eCA9IHggKiB4MjtcclxuICB2YXIgeHkgPSB4ICogeTI7XHJcbiAgdmFyIHh6ID0geCAqIHoyO1xyXG4gIHZhciB5eSA9IHkgKiB5MjtcclxuICB2YXIgeXogPSB5ICogejI7XHJcbiAgdmFyIHp6ID0geiAqIHoyO1xyXG4gIHZhciB3eCA9IHcgKiB4MjtcclxuICB2YXIgd3kgPSB3ICogeTI7XHJcbiAgdmFyIHd6ID0gdyAqIHoyO1xyXG4gIHZhciBzeCA9IHNbMF07XHJcbiAgdmFyIHN5ID0gc1sxXTtcclxuICB2YXIgc3ogPSBzWzJdO1xyXG4gIG91dFswXSA9ICgxIC0gKHl5ICsgenopKSAqIHN4O1xyXG4gIG91dFsxXSA9ICh4eSArIHd6KSAqIHN4O1xyXG4gIG91dFsyXSA9ICh4eiAtIHd5KSAqIHN4O1xyXG4gIG91dFszXSA9IDA7XHJcbiAgb3V0WzRdID0gKHh5IC0gd3opICogc3k7XHJcbiAgb3V0WzVdID0gKDEgLSAoeHggKyB6eikpICogc3k7XHJcbiAgb3V0WzZdID0gKHl6ICsgd3gpICogc3k7XHJcbiAgb3V0WzddID0gMDtcclxuICBvdXRbOF0gPSAoeHogKyB3eSkgKiBzejtcclxuICBvdXRbOV0gPSAoeXogLSB3eCkgKiBzejtcclxuICBvdXRbMTBdID0gKDEgLSAoeHggKyB5eSkpICogc3o7XHJcbiAgb3V0WzExXSA9IDA7XHJcbiAgb3V0WzEyXSA9IHZbMF07XHJcbiAgb3V0WzEzXSA9IHZbMV07XHJcbiAgb3V0WzE0XSA9IHZbMl07XHJcbiAgb3V0WzE1XSA9IDE7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgcXVhdGVybmlvbiByb3RhdGlvbiwgdmVjdG9yIHRyYW5zbGF0aW9uIGFuZCB2ZWN0b3Igc2NhbGUsIHJvdGF0aW5nIGFuZCBzY2FsaW5nIGFyb3VuZCB0aGUgZ2l2ZW4gb3JpZ2luXHJcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxyXG4gKlxyXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcclxuICogICAgIG1hdDQudHJhbnNsYXRlKGRlc3QsIHZlYyk7XHJcbiAqICAgICBtYXQ0LnRyYW5zbGF0ZShkZXN0LCBvcmlnaW4pO1xyXG4gKiAgICAgbGV0IHF1YXRNYXQgPSBtYXQ0LmNyZWF0ZSgpO1xyXG4gKiAgICAgcXVhdDQudG9NYXQ0KHF1YXQsIHF1YXRNYXQpO1xyXG4gKiAgICAgbWF0NC5tdWx0aXBseShkZXN0LCBxdWF0TWF0KTtcclxuICogICAgIG1hdDQuc2NhbGUoZGVzdCwgc2NhbGUpXHJcbiAqICAgICBtYXQ0LnRyYW5zbGF0ZShkZXN0LCBuZWdhdGl2ZU9yaWdpbik7XHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcclxuICogQHBhcmFtIHtxdWF0NH0gcSBSb3RhdGlvbiBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IFRyYW5zbGF0aW9uIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gcyBTY2FsaW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gbyBUaGUgb3JpZ2luIHZlY3RvciBhcm91bmQgd2hpY2ggdG8gc2NhbGUgYW5kIHJvdGF0ZVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uU2NhbGVPcmlnaW4ob3V0LCBxLCB2LCBzLCBvKSB7XHJcbiAgLy8gUXVhdGVybmlvbiBtYXRoXHJcbiAgdmFyIHggPSBxWzBdLFxyXG4gICAgICB5ID0gcVsxXSxcclxuICAgICAgeiA9IHFbMl0sXHJcbiAgICAgIHcgPSBxWzNdO1xyXG4gIHZhciB4MiA9IHggKyB4O1xyXG4gIHZhciB5MiA9IHkgKyB5O1xyXG4gIHZhciB6MiA9IHogKyB6O1xyXG4gIHZhciB4eCA9IHggKiB4MjtcclxuICB2YXIgeHkgPSB4ICogeTI7XHJcbiAgdmFyIHh6ID0geCAqIHoyO1xyXG4gIHZhciB5eSA9IHkgKiB5MjtcclxuICB2YXIgeXogPSB5ICogejI7XHJcbiAgdmFyIHp6ID0geiAqIHoyO1xyXG4gIHZhciB3eCA9IHcgKiB4MjtcclxuICB2YXIgd3kgPSB3ICogeTI7XHJcbiAgdmFyIHd6ID0gdyAqIHoyO1xyXG4gIHZhciBzeCA9IHNbMF07XHJcbiAgdmFyIHN5ID0gc1sxXTtcclxuICB2YXIgc3ogPSBzWzJdO1xyXG4gIHZhciBveCA9IG9bMF07XHJcbiAgdmFyIG95ID0gb1sxXTtcclxuICB2YXIgb3ogPSBvWzJdO1xyXG4gIHZhciBvdXQwID0gKDEgLSAoeXkgKyB6eikpICogc3g7XHJcbiAgdmFyIG91dDEgPSAoeHkgKyB3eikgKiBzeDtcclxuICB2YXIgb3V0MiA9ICh4eiAtIHd5KSAqIHN4O1xyXG4gIHZhciBvdXQ0ID0gKHh5IC0gd3opICogc3k7XHJcbiAgdmFyIG91dDUgPSAoMSAtICh4eCArIHp6KSkgKiBzeTtcclxuICB2YXIgb3V0NiA9ICh5eiArIHd4KSAqIHN5O1xyXG4gIHZhciBvdXQ4ID0gKHh6ICsgd3kpICogc3o7XHJcbiAgdmFyIG91dDkgPSAoeXogLSB3eCkgKiBzejtcclxuICB2YXIgb3V0MTAgPSAoMSAtICh4eCArIHl5KSkgKiBzejtcclxuICBvdXRbMF0gPSBvdXQwO1xyXG4gIG91dFsxXSA9IG91dDE7XHJcbiAgb3V0WzJdID0gb3V0MjtcclxuICBvdXRbM10gPSAwO1xyXG4gIG91dFs0XSA9IG91dDQ7XHJcbiAgb3V0WzVdID0gb3V0NTtcclxuICBvdXRbNl0gPSBvdXQ2O1xyXG4gIG91dFs3XSA9IDA7XHJcbiAgb3V0WzhdID0gb3V0ODtcclxuICBvdXRbOV0gPSBvdXQ5O1xyXG4gIG91dFsxMF0gPSBvdXQxMDtcclxuICBvdXRbMTFdID0gMDtcclxuICBvdXRbMTJdID0gdlswXSArIG94IC0gKG91dDAgKiBveCArIG91dDQgKiBveSArIG91dDggKiBveik7XHJcbiAgb3V0WzEzXSA9IHZbMV0gKyBveSAtIChvdXQxICogb3ggKyBvdXQ1ICogb3kgKyBvdXQ5ICogb3opO1xyXG4gIG91dFsxNF0gPSB2WzJdICsgb3ogLSAob3V0MiAqIG94ICsgb3V0NiAqIG95ICsgb3V0MTAgKiBveik7XHJcbiAgb3V0WzE1XSA9IDE7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ2FsY3VsYXRlcyBhIDR4NCBtYXRyaXggZnJvbSB0aGUgZ2l2ZW4gcXVhdGVybmlvblxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBxIFF1YXRlcm5pb24gdG8gY3JlYXRlIG1hdHJpeCBmcm9tXHJcbiAqXHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZnJvbVF1YXQob3V0LCBxKSB7XHJcbiAgdmFyIHggPSBxWzBdLFxyXG4gICAgICB5ID0gcVsxXSxcclxuICAgICAgeiA9IHFbMl0sXHJcbiAgICAgIHcgPSBxWzNdO1xyXG4gIHZhciB4MiA9IHggKyB4O1xyXG4gIHZhciB5MiA9IHkgKyB5O1xyXG4gIHZhciB6MiA9IHogKyB6O1xyXG4gIHZhciB4eCA9IHggKiB4MjtcclxuICB2YXIgeXggPSB5ICogeDI7XHJcbiAgdmFyIHl5ID0geSAqIHkyO1xyXG4gIHZhciB6eCA9IHogKiB4MjtcclxuICB2YXIgenkgPSB6ICogeTI7XHJcbiAgdmFyIHp6ID0geiAqIHoyO1xyXG4gIHZhciB3eCA9IHcgKiB4MjtcclxuICB2YXIgd3kgPSB3ICogeTI7XHJcbiAgdmFyIHd6ID0gdyAqIHoyO1xyXG4gIG91dFswXSA9IDEgLSB5eSAtIHp6O1xyXG4gIG91dFsxXSA9IHl4ICsgd3o7XHJcbiAgb3V0WzJdID0genggLSB3eTtcclxuICBvdXRbM10gPSAwO1xyXG4gIG91dFs0XSA9IHl4IC0gd3o7XHJcbiAgb3V0WzVdID0gMSAtIHh4IC0geno7XHJcbiAgb3V0WzZdID0genkgKyB3eDtcclxuICBvdXRbN10gPSAwO1xyXG4gIG91dFs4XSA9IHp4ICsgd3k7XHJcbiAgb3V0WzldID0genkgLSB3eDtcclxuICBvdXRbMTBdID0gMSAtIHh4IC0geXk7XHJcbiAgb3V0WzExXSA9IDA7XHJcbiAgb3V0WzEyXSA9IDA7XHJcbiAgb3V0WzEzXSA9IDA7XHJcbiAgb3V0WzE0XSA9IDA7XHJcbiAgb3V0WzE1XSA9IDE7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogR2VuZXJhdGVzIGEgZnJ1c3R1bSBtYXRyaXggd2l0aCB0aGUgZ2l2ZW4gYm91bmRzXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgZnJ1c3R1bSBtYXRyaXggd2lsbCBiZSB3cml0dGVuIGludG9cclxuICogQHBhcmFtIHtOdW1iZXJ9IGxlZnQgTGVmdCBib3VuZCBvZiB0aGUgZnJ1c3R1bVxyXG4gKiBAcGFyYW0ge051bWJlcn0gcmlnaHQgUmlnaHQgYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHBhcmFtIHtOdW1iZXJ9IGJvdHRvbSBCb3R0b20gYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHBhcmFtIHtOdW1iZXJ9IHRvcCBUb3AgYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHBhcmFtIHtOdW1iZXJ9IG5lYXIgTmVhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxyXG4gKiBAcGFyYW0ge051bWJlcn0gZmFyIEZhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZydXN0dW0ob3V0LCBsZWZ0LCByaWdodCwgYm90dG9tLCB0b3AsIG5lYXIsIGZhcikge1xyXG4gIHZhciBybCA9IDEgLyAocmlnaHQgLSBsZWZ0KTtcclxuICB2YXIgdGIgPSAxIC8gKHRvcCAtIGJvdHRvbSk7XHJcbiAgdmFyIG5mID0gMSAvIChuZWFyIC0gZmFyKTtcclxuICBvdXRbMF0gPSBuZWFyICogMiAqIHJsO1xyXG4gIG91dFsxXSA9IDA7XHJcbiAgb3V0WzJdID0gMDtcclxuICBvdXRbM10gPSAwO1xyXG4gIG91dFs0XSA9IDA7XHJcbiAgb3V0WzVdID0gbmVhciAqIDIgKiB0YjtcclxuICBvdXRbNl0gPSAwO1xyXG4gIG91dFs3XSA9IDA7XHJcbiAgb3V0WzhdID0gKHJpZ2h0ICsgbGVmdCkgKiBybDtcclxuICBvdXRbOV0gPSAodG9wICsgYm90dG9tKSAqIHRiO1xyXG4gIG91dFsxMF0gPSAoZmFyICsgbmVhcikgKiBuZjtcclxuICBvdXRbMTFdID0gLTE7XHJcbiAgb3V0WzEyXSA9IDA7XHJcbiAgb3V0WzEzXSA9IDA7XHJcbiAgb3V0WzE0XSA9IGZhciAqIG5lYXIgKiAyICogbmY7XHJcbiAgb3V0WzE1XSA9IDA7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogR2VuZXJhdGVzIGEgcGVyc3BlY3RpdmUgcHJvamVjdGlvbiBtYXRyaXggd2l0aCB0aGUgZ2l2ZW4gYm91bmRzLlxyXG4gKiBUaGUgbmVhci9mYXIgY2xpcCBwbGFuZXMgY29ycmVzcG9uZCB0byBhIG5vcm1hbGl6ZWQgZGV2aWNlIGNvb3JkaW5hdGUgWiByYW5nZSBvZiBbLTEsIDFdLFxyXG4gKiB3aGljaCBtYXRjaGVzIFdlYkdML09wZW5HTCdzIGNsaXAgdm9sdW1lLlxyXG4gKiBQYXNzaW5nIG51bGwvdW5kZWZpbmVkL25vIHZhbHVlIGZvciBmYXIgd2lsbCBnZW5lcmF0ZSBpbmZpbml0ZSBwcm9qZWN0aW9uIG1hdHJpeC5cclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xyXG4gKiBAcGFyYW0ge251bWJlcn0gZm92eSBWZXJ0aWNhbCBmaWVsZCBvZiB2aWV3IGluIHJhZGlhbnNcclxuICogQHBhcmFtIHtudW1iZXJ9IGFzcGVjdCBBc3BlY3QgcmF0aW8uIHR5cGljYWxseSB2aWV3cG9ydCB3aWR0aC9oZWlnaHRcclxuICogQHBhcmFtIHtudW1iZXJ9IG5lYXIgTmVhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxyXG4gKiBAcGFyYW0ge251bWJlcn0gZmFyIEZhciBib3VuZCBvZiB0aGUgZnJ1c3R1bSwgY2FuIGJlIG51bGwgb3IgSW5maW5pdHlcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBwZXJzcGVjdGl2ZU5PKG91dCwgZm92eSwgYXNwZWN0LCBuZWFyLCBmYXIpIHtcclxuICB2YXIgZiA9IDEuMCAvIE1hdGgudGFuKGZvdnkgLyAyKSxcclxuICAgICAgbmY7XHJcbiAgb3V0WzBdID0gZiAvIGFzcGVjdDtcclxuICBvdXRbMV0gPSAwO1xyXG4gIG91dFsyXSA9IDA7XHJcbiAgb3V0WzNdID0gMDtcclxuICBvdXRbNF0gPSAwO1xyXG4gIG91dFs1XSA9IGY7XHJcbiAgb3V0WzZdID0gMDtcclxuICBvdXRbN10gPSAwO1xyXG4gIG91dFs4XSA9IDA7XHJcbiAgb3V0WzldID0gMDtcclxuICBvdXRbMTFdID0gLTE7XHJcbiAgb3V0WzEyXSA9IDA7XHJcbiAgb3V0WzEzXSA9IDA7XHJcbiAgb3V0WzE1XSA9IDA7XHJcblxyXG4gIGlmIChmYXIgIT0gbnVsbCAmJiBmYXIgIT09IEluZmluaXR5KSB7XHJcbiAgICBuZiA9IDEgLyAobmVhciAtIGZhcik7XHJcbiAgICBvdXRbMTBdID0gKGZhciArIG5lYXIpICogbmY7XHJcbiAgICBvdXRbMTRdID0gMiAqIGZhciAqIG5lYXIgKiBuZjtcclxuICB9IGVsc2Uge1xyXG4gICAgb3V0WzEwXSA9IC0xO1xyXG4gICAgb3V0WzE0XSA9IC0yICogbmVhcjtcclxuICB9XHJcblxyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIEFsaWFzIGZvciB7QGxpbmsgbWF0NC5wZXJzcGVjdGl2ZU5PfVxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgdmFyIHBlcnNwZWN0aXZlID0gcGVyc3BlY3RpdmVOTztcclxuLyoqXHJcbiAqIEdlbmVyYXRlcyBhIHBlcnNwZWN0aXZlIHByb2plY3Rpb24gbWF0cml4IHN1aXRhYmxlIGZvciBXZWJHUFUgd2l0aCB0aGUgZ2l2ZW4gYm91bmRzLlxyXG4gKiBUaGUgbmVhci9mYXIgY2xpcCBwbGFuZXMgY29ycmVzcG9uZCB0byBhIG5vcm1hbGl6ZWQgZGV2aWNlIGNvb3JkaW5hdGUgWiByYW5nZSBvZiBbMCwgMV0sXHJcbiAqIHdoaWNoIG1hdGNoZXMgV2ViR1BVL1Z1bGthbi9EaXJlY3RYL01ldGFsJ3MgY2xpcCB2b2x1bWUuXHJcbiAqIFBhc3NpbmcgbnVsbC91bmRlZmluZWQvbm8gdmFsdWUgZm9yIGZhciB3aWxsIGdlbmVyYXRlIGluZmluaXRlIHByb2plY3Rpb24gbWF0cml4LlxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBmb3Z5IFZlcnRpY2FsIGZpZWxkIG9mIHZpZXcgaW4gcmFkaWFuc1xyXG4gKiBAcGFyYW0ge251bWJlcn0gYXNwZWN0IEFzcGVjdCByYXRpby4gdHlwaWNhbGx5IHZpZXdwb3J0IHdpZHRoL2hlaWdodFxyXG4gKiBAcGFyYW0ge251bWJlcn0gbmVhciBOZWFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBmYXIgRmFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtLCBjYW4gYmUgbnVsbCBvciBJbmZpbml0eVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHBlcnNwZWN0aXZlWk8ob3V0LCBmb3Z5LCBhc3BlY3QsIG5lYXIsIGZhcikge1xyXG4gIHZhciBmID0gMS4wIC8gTWF0aC50YW4oZm92eSAvIDIpLFxyXG4gICAgICBuZjtcclxuICBvdXRbMF0gPSBmIC8gYXNwZWN0O1xyXG4gIG91dFsxXSA9IDA7XHJcbiAgb3V0WzJdID0gMDtcclxuICBvdXRbM10gPSAwO1xyXG4gIG91dFs0XSA9IDA7XHJcbiAgb3V0WzVdID0gZjtcclxuICBvdXRbNl0gPSAwO1xyXG4gIG91dFs3XSA9IDA7XHJcbiAgb3V0WzhdID0gMDtcclxuICBvdXRbOV0gPSAwO1xyXG4gIG91dFsxMV0gPSAtMTtcclxuICBvdXRbMTJdID0gMDtcclxuICBvdXRbMTNdID0gMDtcclxuICBvdXRbMTVdID0gMDtcclxuXHJcbiAgaWYgKGZhciAhPSBudWxsICYmIGZhciAhPT0gSW5maW5pdHkpIHtcclxuICAgIG5mID0gMSAvIChuZWFyIC0gZmFyKTtcclxuICAgIG91dFsxMF0gPSBmYXIgKiBuZjtcclxuICAgIG91dFsxNF0gPSBmYXIgKiBuZWFyICogbmY7XHJcbiAgfSBlbHNlIHtcclxuICAgIG91dFsxMF0gPSAtMTtcclxuICAgIG91dFsxNF0gPSAtbmVhcjtcclxuICB9XHJcblxyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIEdlbmVyYXRlcyBhIHBlcnNwZWN0aXZlIHByb2plY3Rpb24gbWF0cml4IHdpdGggdGhlIGdpdmVuIGZpZWxkIG9mIHZpZXcuXHJcbiAqIFRoaXMgaXMgcHJpbWFyaWx5IHVzZWZ1bCBmb3IgZ2VuZXJhdGluZyBwcm9qZWN0aW9uIG1hdHJpY2VzIHRvIGJlIHVzZWRcclxuICogd2l0aCB0aGUgc3RpbGwgZXhwZXJpZW1lbnRhbCBXZWJWUiBBUEkuXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgZnJ1c3R1bSBtYXRyaXggd2lsbCBiZSB3cml0dGVuIGludG9cclxuICogQHBhcmFtIHtPYmplY3R9IGZvdiBPYmplY3QgY29udGFpbmluZyB0aGUgZm9sbG93aW5nIHZhbHVlczogdXBEZWdyZWVzLCBkb3duRGVncmVlcywgbGVmdERlZ3JlZXMsIHJpZ2h0RGVncmVlc1xyXG4gKiBAcGFyYW0ge251bWJlcn0gbmVhciBOZWFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBmYXIgRmFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcGVyc3BlY3RpdmVGcm9tRmllbGRPZlZpZXcob3V0LCBmb3YsIG5lYXIsIGZhcikge1xyXG4gIHZhciB1cFRhbiA9IE1hdGgudGFuKGZvdi51cERlZ3JlZXMgKiBNYXRoLlBJIC8gMTgwLjApO1xyXG4gIHZhciBkb3duVGFuID0gTWF0aC50YW4oZm92LmRvd25EZWdyZWVzICogTWF0aC5QSSAvIDE4MC4wKTtcclxuICB2YXIgbGVmdFRhbiA9IE1hdGgudGFuKGZvdi5sZWZ0RGVncmVlcyAqIE1hdGguUEkgLyAxODAuMCk7XHJcbiAgdmFyIHJpZ2h0VGFuID0gTWF0aC50YW4oZm92LnJpZ2h0RGVncmVlcyAqIE1hdGguUEkgLyAxODAuMCk7XHJcbiAgdmFyIHhTY2FsZSA9IDIuMCAvIChsZWZ0VGFuICsgcmlnaHRUYW4pO1xyXG4gIHZhciB5U2NhbGUgPSAyLjAgLyAodXBUYW4gKyBkb3duVGFuKTtcclxuICBvdXRbMF0gPSB4U2NhbGU7XHJcbiAgb3V0WzFdID0gMC4wO1xyXG4gIG91dFsyXSA9IDAuMDtcclxuICBvdXRbM10gPSAwLjA7XHJcbiAgb3V0WzRdID0gMC4wO1xyXG4gIG91dFs1XSA9IHlTY2FsZTtcclxuICBvdXRbNl0gPSAwLjA7XHJcbiAgb3V0WzddID0gMC4wO1xyXG4gIG91dFs4XSA9IC0oKGxlZnRUYW4gLSByaWdodFRhbikgKiB4U2NhbGUgKiAwLjUpO1xyXG4gIG91dFs5XSA9ICh1cFRhbiAtIGRvd25UYW4pICogeVNjYWxlICogMC41O1xyXG4gIG91dFsxMF0gPSBmYXIgLyAobmVhciAtIGZhcik7XHJcbiAgb3V0WzExXSA9IC0xLjA7XHJcbiAgb3V0WzEyXSA9IDAuMDtcclxuICBvdXRbMTNdID0gMC4wO1xyXG4gIG91dFsxNF0gPSBmYXIgKiBuZWFyIC8gKG5lYXIgLSBmYXIpO1xyXG4gIG91dFsxNV0gPSAwLjA7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogR2VuZXJhdGVzIGEgb3J0aG9nb25hbCBwcm9qZWN0aW9uIG1hdHJpeCB3aXRoIHRoZSBnaXZlbiBib3VuZHMuXHJcbiAqIFRoZSBuZWFyL2ZhciBjbGlwIHBsYW5lcyBjb3JyZXNwb25kIHRvIGEgbm9ybWFsaXplZCBkZXZpY2UgY29vcmRpbmF0ZSBaIHJhbmdlIG9mIFstMSwgMV0sXHJcbiAqIHdoaWNoIG1hdGNoZXMgV2ViR0wvT3BlbkdMJ3MgY2xpcCB2b2x1bWUuXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgZnJ1c3R1bSBtYXRyaXggd2lsbCBiZSB3cml0dGVuIGludG9cclxuICogQHBhcmFtIHtudW1iZXJ9IGxlZnQgTGVmdCBib3VuZCBvZiB0aGUgZnJ1c3R1bVxyXG4gKiBAcGFyYW0ge251bWJlcn0gcmlnaHQgUmlnaHQgYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHBhcmFtIHtudW1iZXJ9IGJvdHRvbSBCb3R0b20gYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHBhcmFtIHtudW1iZXJ9IHRvcCBUb3AgYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHBhcmFtIHtudW1iZXJ9IG5lYXIgTmVhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxyXG4gKiBAcGFyYW0ge251bWJlcn0gZmFyIEZhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG9ydGhvTk8ob3V0LCBsZWZ0LCByaWdodCwgYm90dG9tLCB0b3AsIG5lYXIsIGZhcikge1xyXG4gIHZhciBsciA9IDEgLyAobGVmdCAtIHJpZ2h0KTtcclxuICB2YXIgYnQgPSAxIC8gKGJvdHRvbSAtIHRvcCk7XHJcbiAgdmFyIG5mID0gMSAvIChuZWFyIC0gZmFyKTtcclxuICBvdXRbMF0gPSAtMiAqIGxyO1xyXG4gIG91dFsxXSA9IDA7XHJcbiAgb3V0WzJdID0gMDtcclxuICBvdXRbM10gPSAwO1xyXG4gIG91dFs0XSA9IDA7XHJcbiAgb3V0WzVdID0gLTIgKiBidDtcclxuICBvdXRbNl0gPSAwO1xyXG4gIG91dFs3XSA9IDA7XHJcbiAgb3V0WzhdID0gMDtcclxuICBvdXRbOV0gPSAwO1xyXG4gIG91dFsxMF0gPSAyICogbmY7XHJcbiAgb3V0WzExXSA9IDA7XHJcbiAgb3V0WzEyXSA9IChsZWZ0ICsgcmlnaHQpICogbHI7XHJcbiAgb3V0WzEzXSA9ICh0b3AgKyBib3R0b20pICogYnQ7XHJcbiAgb3V0WzE0XSA9IChmYXIgKyBuZWFyKSAqIG5mO1xyXG4gIG91dFsxNV0gPSAxO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIEFsaWFzIGZvciB7QGxpbmsgbWF0NC5vcnRob05PfVxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgdmFyIG9ydGhvID0gb3J0aG9OTztcclxuLyoqXHJcbiAqIEdlbmVyYXRlcyBhIG9ydGhvZ29uYWwgcHJvamVjdGlvbiBtYXRyaXggd2l0aCB0aGUgZ2l2ZW4gYm91bmRzLlxyXG4gKiBUaGUgbmVhci9mYXIgY2xpcCBwbGFuZXMgY29ycmVzcG9uZCB0byBhIG5vcm1hbGl6ZWQgZGV2aWNlIGNvb3JkaW5hdGUgWiByYW5nZSBvZiBbMCwgMV0sXHJcbiAqIHdoaWNoIG1hdGNoZXMgV2ViR1BVL1Z1bGthbi9EaXJlY3RYL01ldGFsJ3MgY2xpcCB2b2x1bWUuXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgZnJ1c3R1bSBtYXRyaXggd2lsbCBiZSB3cml0dGVuIGludG9cclxuICogQHBhcmFtIHtudW1iZXJ9IGxlZnQgTGVmdCBib3VuZCBvZiB0aGUgZnJ1c3R1bVxyXG4gKiBAcGFyYW0ge251bWJlcn0gcmlnaHQgUmlnaHQgYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHBhcmFtIHtudW1iZXJ9IGJvdHRvbSBCb3R0b20gYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHBhcmFtIHtudW1iZXJ9IHRvcCBUb3AgYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHBhcmFtIHtudW1iZXJ9IG5lYXIgTmVhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxyXG4gKiBAcGFyYW0ge251bWJlcn0gZmFyIEZhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG9ydGhvWk8ob3V0LCBsZWZ0LCByaWdodCwgYm90dG9tLCB0b3AsIG5lYXIsIGZhcikge1xyXG4gIHZhciBsciA9IDEgLyAobGVmdCAtIHJpZ2h0KTtcclxuICB2YXIgYnQgPSAxIC8gKGJvdHRvbSAtIHRvcCk7XHJcbiAgdmFyIG5mID0gMSAvIChuZWFyIC0gZmFyKTtcclxuICBvdXRbMF0gPSAtMiAqIGxyO1xyXG4gIG91dFsxXSA9IDA7XHJcbiAgb3V0WzJdID0gMDtcclxuICBvdXRbM10gPSAwO1xyXG4gIG91dFs0XSA9IDA7XHJcbiAgb3V0WzVdID0gLTIgKiBidDtcclxuICBvdXRbNl0gPSAwO1xyXG4gIG91dFs3XSA9IDA7XHJcbiAgb3V0WzhdID0gMDtcclxuICBvdXRbOV0gPSAwO1xyXG4gIG91dFsxMF0gPSBuZjtcclxuICBvdXRbMTFdID0gMDtcclxuICBvdXRbMTJdID0gKGxlZnQgKyByaWdodCkgKiBscjtcclxuICBvdXRbMTNdID0gKHRvcCArIGJvdHRvbSkgKiBidDtcclxuICBvdXRbMTRdID0gbmVhciAqIG5mO1xyXG4gIG91dFsxNV0gPSAxO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIEdlbmVyYXRlcyBhIGxvb2stYXQgbWF0cml4IHdpdGggdGhlIGdpdmVuIGV5ZSBwb3NpdGlvbiwgZm9jYWwgcG9pbnQsIGFuZCB1cCBheGlzLlxyXG4gKiBJZiB5b3Ugd2FudCBhIG1hdHJpeCB0aGF0IGFjdHVhbGx5IG1ha2VzIGFuIG9iamVjdCBsb29rIGF0IGFub3RoZXIgb2JqZWN0LCB5b3Ugc2hvdWxkIHVzZSB0YXJnZXRUbyBpbnN0ZWFkLlxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBleWUgUG9zaXRpb24gb2YgdGhlIHZpZXdlclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gY2VudGVyIFBvaW50IHRoZSB2aWV3ZXIgaXMgbG9va2luZyBhdFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdXAgdmVjMyBwb2ludGluZyB1cFxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGxvb2tBdChvdXQsIGV5ZSwgY2VudGVyLCB1cCkge1xyXG4gIHZhciB4MCwgeDEsIHgyLCB5MCwgeTEsIHkyLCB6MCwgejEsIHoyLCBsZW47XHJcbiAgdmFyIGV5ZXggPSBleWVbMF07XHJcbiAgdmFyIGV5ZXkgPSBleWVbMV07XHJcbiAgdmFyIGV5ZXogPSBleWVbMl07XHJcbiAgdmFyIHVweCA9IHVwWzBdO1xyXG4gIHZhciB1cHkgPSB1cFsxXTtcclxuICB2YXIgdXB6ID0gdXBbMl07XHJcbiAgdmFyIGNlbnRlcnggPSBjZW50ZXJbMF07XHJcbiAgdmFyIGNlbnRlcnkgPSBjZW50ZXJbMV07XHJcbiAgdmFyIGNlbnRlcnogPSBjZW50ZXJbMl07XHJcblxyXG4gIGlmIChNYXRoLmFicyhleWV4IC0gY2VudGVyeCkgPCBnbE1hdHJpeC5FUFNJTE9OICYmIE1hdGguYWJzKGV5ZXkgLSBjZW50ZXJ5KSA8IGdsTWF0cml4LkVQU0lMT04gJiYgTWF0aC5hYnMoZXlleiAtIGNlbnRlcnopIDwgZ2xNYXRyaXguRVBTSUxPTikge1xyXG4gICAgcmV0dXJuIGlkZW50aXR5KG91dCk7XHJcbiAgfVxyXG5cclxuICB6MCA9IGV5ZXggLSBjZW50ZXJ4O1xyXG4gIHoxID0gZXlleSAtIGNlbnRlcnk7XHJcbiAgejIgPSBleWV6IC0gY2VudGVyejtcclxuICBsZW4gPSAxIC8gTWF0aC5oeXBvdCh6MCwgejEsIHoyKTtcclxuICB6MCAqPSBsZW47XHJcbiAgejEgKj0gbGVuO1xyXG4gIHoyICo9IGxlbjtcclxuICB4MCA9IHVweSAqIHoyIC0gdXB6ICogejE7XHJcbiAgeDEgPSB1cHogKiB6MCAtIHVweCAqIHoyO1xyXG4gIHgyID0gdXB4ICogejEgLSB1cHkgKiB6MDtcclxuICBsZW4gPSBNYXRoLmh5cG90KHgwLCB4MSwgeDIpO1xyXG5cclxuICBpZiAoIWxlbikge1xyXG4gICAgeDAgPSAwO1xyXG4gICAgeDEgPSAwO1xyXG4gICAgeDIgPSAwO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBsZW4gPSAxIC8gbGVuO1xyXG4gICAgeDAgKj0gbGVuO1xyXG4gICAgeDEgKj0gbGVuO1xyXG4gICAgeDIgKj0gbGVuO1xyXG4gIH1cclxuXHJcbiAgeTAgPSB6MSAqIHgyIC0gejIgKiB4MTtcclxuICB5MSA9IHoyICogeDAgLSB6MCAqIHgyO1xyXG4gIHkyID0gejAgKiB4MSAtIHoxICogeDA7XHJcbiAgbGVuID0gTWF0aC5oeXBvdCh5MCwgeTEsIHkyKTtcclxuXHJcbiAgaWYgKCFsZW4pIHtcclxuICAgIHkwID0gMDtcclxuICAgIHkxID0gMDtcclxuICAgIHkyID0gMDtcclxuICB9IGVsc2Uge1xyXG4gICAgbGVuID0gMSAvIGxlbjtcclxuICAgIHkwICo9IGxlbjtcclxuICAgIHkxICo9IGxlbjtcclxuICAgIHkyICo9IGxlbjtcclxuICB9XHJcblxyXG4gIG91dFswXSA9IHgwO1xyXG4gIG91dFsxXSA9IHkwO1xyXG4gIG91dFsyXSA9IHowO1xyXG4gIG91dFszXSA9IDA7XHJcbiAgb3V0WzRdID0geDE7XHJcbiAgb3V0WzVdID0geTE7XHJcbiAgb3V0WzZdID0gejE7XHJcbiAgb3V0WzddID0gMDtcclxuICBvdXRbOF0gPSB4MjtcclxuICBvdXRbOV0gPSB5MjtcclxuICBvdXRbMTBdID0gejI7XHJcbiAgb3V0WzExXSA9IDA7XHJcbiAgb3V0WzEyXSA9IC0oeDAgKiBleWV4ICsgeDEgKiBleWV5ICsgeDIgKiBleWV6KTtcclxuICBvdXRbMTNdID0gLSh5MCAqIGV5ZXggKyB5MSAqIGV5ZXkgKyB5MiAqIGV5ZXopO1xyXG4gIG91dFsxNF0gPSAtKHowICogZXlleCArIHoxICogZXlleSArIHoyICogZXlleik7XHJcbiAgb3V0WzE1XSA9IDE7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogR2VuZXJhdGVzIGEgbWF0cml4IHRoYXQgbWFrZXMgc29tZXRoaW5nIGxvb2sgYXQgc29tZXRoaW5nIGVsc2UuXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgZnJ1c3R1bSBtYXRyaXggd2lsbCBiZSB3cml0dGVuIGludG9cclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGV5ZSBQb3NpdGlvbiBvZiB0aGUgdmlld2VyXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBjZW50ZXIgUG9pbnQgdGhlIHZpZXdlciBpcyBsb29raW5nIGF0XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB1cCB2ZWMzIHBvaW50aW5nIHVwXHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdGFyZ2V0VG8ob3V0LCBleWUsIHRhcmdldCwgdXApIHtcclxuICB2YXIgZXlleCA9IGV5ZVswXSxcclxuICAgICAgZXlleSA9IGV5ZVsxXSxcclxuICAgICAgZXlleiA9IGV5ZVsyXSxcclxuICAgICAgdXB4ID0gdXBbMF0sXHJcbiAgICAgIHVweSA9IHVwWzFdLFxyXG4gICAgICB1cHogPSB1cFsyXTtcclxuICB2YXIgejAgPSBleWV4IC0gdGFyZ2V0WzBdLFxyXG4gICAgICB6MSA9IGV5ZXkgLSB0YXJnZXRbMV0sXHJcbiAgICAgIHoyID0gZXlleiAtIHRhcmdldFsyXTtcclxuICB2YXIgbGVuID0gejAgKiB6MCArIHoxICogejEgKyB6MiAqIHoyO1xyXG5cclxuICBpZiAobGVuID4gMCkge1xyXG4gICAgbGVuID0gMSAvIE1hdGguc3FydChsZW4pO1xyXG4gICAgejAgKj0gbGVuO1xyXG4gICAgejEgKj0gbGVuO1xyXG4gICAgejIgKj0gbGVuO1xyXG4gIH1cclxuXHJcbiAgdmFyIHgwID0gdXB5ICogejIgLSB1cHogKiB6MSxcclxuICAgICAgeDEgPSB1cHogKiB6MCAtIHVweCAqIHoyLFxyXG4gICAgICB4MiA9IHVweCAqIHoxIC0gdXB5ICogejA7XHJcbiAgbGVuID0geDAgKiB4MCArIHgxICogeDEgKyB4MiAqIHgyO1xyXG5cclxuICBpZiAobGVuID4gMCkge1xyXG4gICAgbGVuID0gMSAvIE1hdGguc3FydChsZW4pO1xyXG4gICAgeDAgKj0gbGVuO1xyXG4gICAgeDEgKj0gbGVuO1xyXG4gICAgeDIgKj0gbGVuO1xyXG4gIH1cclxuXHJcbiAgb3V0WzBdID0geDA7XHJcbiAgb3V0WzFdID0geDE7XHJcbiAgb3V0WzJdID0geDI7XHJcbiAgb3V0WzNdID0gMDtcclxuICBvdXRbNF0gPSB6MSAqIHgyIC0gejIgKiB4MTtcclxuICBvdXRbNV0gPSB6MiAqIHgwIC0gejAgKiB4MjtcclxuICBvdXRbNl0gPSB6MCAqIHgxIC0gejEgKiB4MDtcclxuICBvdXRbN10gPSAwO1xyXG4gIG91dFs4XSA9IHowO1xyXG4gIG91dFs5XSA9IHoxO1xyXG4gIG91dFsxMF0gPSB6MjtcclxuICBvdXRbMTFdID0gMDtcclxuICBvdXRbMTJdID0gZXlleDtcclxuICBvdXRbMTNdID0gZXlleTtcclxuICBvdXRbMTRdID0gZXllejtcclxuICBvdXRbMTVdID0gMTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGEgbWF0NFxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSBtYXRyaXggdG8gcmVwcmVzZW50IGFzIGEgc3RyaW5nXHJcbiAqIEByZXR1cm5zIHtTdHJpbmd9IHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgbWF0cml4XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHN0cihhKSB7XHJcbiAgcmV0dXJuIFwibWF0NChcIiArIGFbMF0gKyBcIiwgXCIgKyBhWzFdICsgXCIsIFwiICsgYVsyXSArIFwiLCBcIiArIGFbM10gKyBcIiwgXCIgKyBhWzRdICsgXCIsIFwiICsgYVs1XSArIFwiLCBcIiArIGFbNl0gKyBcIiwgXCIgKyBhWzddICsgXCIsIFwiICsgYVs4XSArIFwiLCBcIiArIGFbOV0gKyBcIiwgXCIgKyBhWzEwXSArIFwiLCBcIiArIGFbMTFdICsgXCIsIFwiICsgYVsxMl0gKyBcIiwgXCIgKyBhWzEzXSArIFwiLCBcIiArIGFbMTRdICsgXCIsIFwiICsgYVsxNV0gKyBcIilcIjtcclxufVxyXG4vKipcclxuICogUmV0dXJucyBGcm9iZW5pdXMgbm9ybSBvZiBhIG1hdDRcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIG1hdHJpeCB0byBjYWxjdWxhdGUgRnJvYmVuaXVzIG5vcm0gb2ZcclxuICogQHJldHVybnMge051bWJlcn0gRnJvYmVuaXVzIG5vcm1cclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZnJvYihhKSB7XHJcbiAgcmV0dXJuIE1hdGguaHlwb3QoYVswXSwgYVsxXSwgYVsyXSwgYVszXSwgYVs0XSwgYVs1XSwgYVs2XSwgYVs3XSwgYVs4XSwgYVs5XSwgYVsxMF0sIGFbMTFdLCBhWzEyXSwgYVsxM10sIGFbMTRdLCBhWzE1XSk7XHJcbn1cclxuLyoqXHJcbiAqIEFkZHMgdHdvIG1hdDQnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhZGQob3V0LCBhLCBiKSB7XHJcbiAgb3V0WzBdID0gYVswXSArIGJbMF07XHJcbiAgb3V0WzFdID0gYVsxXSArIGJbMV07XHJcbiAgb3V0WzJdID0gYVsyXSArIGJbMl07XHJcbiAgb3V0WzNdID0gYVszXSArIGJbM107XHJcbiAgb3V0WzRdID0gYVs0XSArIGJbNF07XHJcbiAgb3V0WzVdID0gYVs1XSArIGJbNV07XHJcbiAgb3V0WzZdID0gYVs2XSArIGJbNl07XHJcbiAgb3V0WzddID0gYVs3XSArIGJbN107XHJcbiAgb3V0WzhdID0gYVs4XSArIGJbOF07XHJcbiAgb3V0WzldID0gYVs5XSArIGJbOV07XHJcbiAgb3V0WzEwXSA9IGFbMTBdICsgYlsxMF07XHJcbiAgb3V0WzExXSA9IGFbMTFdICsgYlsxMV07XHJcbiAgb3V0WzEyXSA9IGFbMTJdICsgYlsxMl07XHJcbiAgb3V0WzEzXSA9IGFbMTNdICsgYlsxM107XHJcbiAgb3V0WzE0XSA9IGFbMTRdICsgYlsxNF07XHJcbiAgb3V0WzE1XSA9IGFbMTVdICsgYlsxNV07XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogU3VidHJhY3RzIG1hdHJpeCBiIGZyb20gbWF0cml4IGFcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc3VidHJhY3Qob3V0LCBhLCBiKSB7XHJcbiAgb3V0WzBdID0gYVswXSAtIGJbMF07XHJcbiAgb3V0WzFdID0gYVsxXSAtIGJbMV07XHJcbiAgb3V0WzJdID0gYVsyXSAtIGJbMl07XHJcbiAgb3V0WzNdID0gYVszXSAtIGJbM107XHJcbiAgb3V0WzRdID0gYVs0XSAtIGJbNF07XHJcbiAgb3V0WzVdID0gYVs1XSAtIGJbNV07XHJcbiAgb3V0WzZdID0gYVs2XSAtIGJbNl07XHJcbiAgb3V0WzddID0gYVs3XSAtIGJbN107XHJcbiAgb3V0WzhdID0gYVs4XSAtIGJbOF07XHJcbiAgb3V0WzldID0gYVs5XSAtIGJbOV07XHJcbiAgb3V0WzEwXSA9IGFbMTBdIC0gYlsxMF07XHJcbiAgb3V0WzExXSA9IGFbMTFdIC0gYlsxMV07XHJcbiAgb3V0WzEyXSA9IGFbMTJdIC0gYlsxMl07XHJcbiAgb3V0WzEzXSA9IGFbMTNdIC0gYlsxM107XHJcbiAgb3V0WzE0XSA9IGFbMTRdIC0gYlsxNF07XHJcbiAgb3V0WzE1XSA9IGFbMTVdIC0gYlsxNV07XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogTXVsdGlwbHkgZWFjaCBlbGVtZW50IG9mIHRoZSBtYXRyaXggYnkgYSBzY2FsYXIuXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gc2NhbGVcclxuICogQHBhcmFtIHtOdW1iZXJ9IGIgYW1vdW50IHRvIHNjYWxlIHRoZSBtYXRyaXgncyBlbGVtZW50cyBieVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5U2NhbGFyKG91dCwgYSwgYikge1xyXG4gIG91dFswXSA9IGFbMF0gKiBiO1xyXG4gIG91dFsxXSA9IGFbMV0gKiBiO1xyXG4gIG91dFsyXSA9IGFbMl0gKiBiO1xyXG4gIG91dFszXSA9IGFbM10gKiBiO1xyXG4gIG91dFs0XSA9IGFbNF0gKiBiO1xyXG4gIG91dFs1XSA9IGFbNV0gKiBiO1xyXG4gIG91dFs2XSA9IGFbNl0gKiBiO1xyXG4gIG91dFs3XSA9IGFbN10gKiBiO1xyXG4gIG91dFs4XSA9IGFbOF0gKiBiO1xyXG4gIG91dFs5XSA9IGFbOV0gKiBiO1xyXG4gIG91dFsxMF0gPSBhWzEwXSAqIGI7XHJcbiAgb3V0WzExXSA9IGFbMTFdICogYjtcclxuICBvdXRbMTJdID0gYVsxMl0gKiBiO1xyXG4gIG91dFsxM10gPSBhWzEzXSAqIGI7XHJcbiAgb3V0WzE0XSA9IGFbMTRdICogYjtcclxuICBvdXRbMTVdID0gYVsxNV0gKiBiO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIEFkZHMgdHdvIG1hdDQncyBhZnRlciBtdWx0aXBseWluZyBlYWNoIGVsZW1lbnQgb2YgdGhlIHNlY29uZCBvcGVyYW5kIGJ5IGEgc2NhbGFyIHZhbHVlLlxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlIHRoZSBhbW91bnQgdG8gc2NhbGUgYidzIGVsZW1lbnRzIGJ5IGJlZm9yZSBhZGRpbmdcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseVNjYWxhckFuZEFkZChvdXQsIGEsIGIsIHNjYWxlKSB7XHJcbiAgb3V0WzBdID0gYVswXSArIGJbMF0gKiBzY2FsZTtcclxuICBvdXRbMV0gPSBhWzFdICsgYlsxXSAqIHNjYWxlO1xyXG4gIG91dFsyXSA9IGFbMl0gKyBiWzJdICogc2NhbGU7XHJcbiAgb3V0WzNdID0gYVszXSArIGJbM10gKiBzY2FsZTtcclxuICBvdXRbNF0gPSBhWzRdICsgYls0XSAqIHNjYWxlO1xyXG4gIG91dFs1XSA9IGFbNV0gKyBiWzVdICogc2NhbGU7XHJcbiAgb3V0WzZdID0gYVs2XSArIGJbNl0gKiBzY2FsZTtcclxuICBvdXRbN10gPSBhWzddICsgYls3XSAqIHNjYWxlO1xyXG4gIG91dFs4XSA9IGFbOF0gKyBiWzhdICogc2NhbGU7XHJcbiAgb3V0WzldID0gYVs5XSArIGJbOV0gKiBzY2FsZTtcclxuICBvdXRbMTBdID0gYVsxMF0gKyBiWzEwXSAqIHNjYWxlO1xyXG4gIG91dFsxMV0gPSBhWzExXSArIGJbMTFdICogc2NhbGU7XHJcbiAgb3V0WzEyXSA9IGFbMTJdICsgYlsxMl0gKiBzY2FsZTtcclxuICBvdXRbMTNdID0gYVsxM10gKyBiWzEzXSAqIHNjYWxlO1xyXG4gIG91dFsxNF0gPSBhWzE0XSArIGJbMTRdICogc2NhbGU7XHJcbiAgb3V0WzE1XSA9IGFbMTVdICsgYlsxNV0gKiBzY2FsZTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBtYXRyaWNlcyBoYXZlIGV4YWN0bHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24gKHdoZW4gY29tcGFyZWQgd2l0aCA9PT0pXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIFRoZSBmaXJzdCBtYXRyaXguXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBiIFRoZSBzZWNvbmQgbWF0cml4LlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgbWF0cmljZXMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGV4YWN0RXF1YWxzKGEsIGIpIHtcclxuICByZXR1cm4gYVswXSA9PT0gYlswXSAmJiBhWzFdID09PSBiWzFdICYmIGFbMl0gPT09IGJbMl0gJiYgYVszXSA9PT0gYlszXSAmJiBhWzRdID09PSBiWzRdICYmIGFbNV0gPT09IGJbNV0gJiYgYVs2XSA9PT0gYls2XSAmJiBhWzddID09PSBiWzddICYmIGFbOF0gPT09IGJbOF0gJiYgYVs5XSA9PT0gYls5XSAmJiBhWzEwXSA9PT0gYlsxMF0gJiYgYVsxMV0gPT09IGJbMTFdICYmIGFbMTJdID09PSBiWzEyXSAmJiBhWzEzXSA9PT0gYlsxM10gJiYgYVsxNF0gPT09IGJbMTRdICYmIGFbMTVdID09PSBiWzE1XTtcclxufVxyXG4vKipcclxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgbWF0cmljZXMgaGF2ZSBhcHByb3hpbWF0ZWx5IHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uLlxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSBUaGUgZmlyc3QgbWF0cml4LlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYiBUaGUgc2Vjb25kIG1hdHJpeC5cclxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIG1hdHJpY2VzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBlcXVhbHMoYSwgYikge1xyXG4gIHZhciBhMCA9IGFbMF0sXHJcbiAgICAgIGExID0gYVsxXSxcclxuICAgICAgYTIgPSBhWzJdLFxyXG4gICAgICBhMyA9IGFbM107XHJcbiAgdmFyIGE0ID0gYVs0XSxcclxuICAgICAgYTUgPSBhWzVdLFxyXG4gICAgICBhNiA9IGFbNl0sXHJcbiAgICAgIGE3ID0gYVs3XTtcclxuICB2YXIgYTggPSBhWzhdLFxyXG4gICAgICBhOSA9IGFbOV0sXHJcbiAgICAgIGExMCA9IGFbMTBdLFxyXG4gICAgICBhMTEgPSBhWzExXTtcclxuICB2YXIgYTEyID0gYVsxMl0sXHJcbiAgICAgIGExMyA9IGFbMTNdLFxyXG4gICAgICBhMTQgPSBhWzE0XSxcclxuICAgICAgYTE1ID0gYVsxNV07XHJcbiAgdmFyIGIwID0gYlswXSxcclxuICAgICAgYjEgPSBiWzFdLFxyXG4gICAgICBiMiA9IGJbMl0sXHJcbiAgICAgIGIzID0gYlszXTtcclxuICB2YXIgYjQgPSBiWzRdLFxyXG4gICAgICBiNSA9IGJbNV0sXHJcbiAgICAgIGI2ID0gYls2XSxcclxuICAgICAgYjcgPSBiWzddO1xyXG4gIHZhciBiOCA9IGJbOF0sXHJcbiAgICAgIGI5ID0gYls5XSxcclxuICAgICAgYjEwID0gYlsxMF0sXHJcbiAgICAgIGIxMSA9IGJbMTFdO1xyXG4gIHZhciBiMTIgPSBiWzEyXSxcclxuICAgICAgYjEzID0gYlsxM10sXHJcbiAgICAgIGIxNCA9IGJbMTRdLFxyXG4gICAgICBiMTUgPSBiWzE1XTtcclxuICByZXR1cm4gTWF0aC5hYnMoYTAgLSBiMCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTApLCBNYXRoLmFicyhiMCkpICYmIE1hdGguYWJzKGExIC0gYjEpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExKSwgTWF0aC5hYnMoYjEpKSAmJiBNYXRoLmFicyhhMiAtIGIyKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMiksIE1hdGguYWJzKGIyKSkgJiYgTWF0aC5hYnMoYTMgLSBiMykgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTMpLCBNYXRoLmFicyhiMykpICYmIE1hdGguYWJzKGE0IC0gYjQpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE0KSwgTWF0aC5hYnMoYjQpKSAmJiBNYXRoLmFicyhhNSAtIGI1KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNSksIE1hdGguYWJzKGI1KSkgJiYgTWF0aC5hYnMoYTYgLSBiNikgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTYpLCBNYXRoLmFicyhiNikpICYmIE1hdGguYWJzKGE3IC0gYjcpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE3KSwgTWF0aC5hYnMoYjcpKSAmJiBNYXRoLmFicyhhOCAtIGI4KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhOCksIE1hdGguYWJzKGI4KSkgJiYgTWF0aC5hYnMoYTkgLSBiOSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTkpLCBNYXRoLmFicyhiOSkpICYmIE1hdGguYWJzKGExMCAtIGIxMCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTEwKSwgTWF0aC5hYnMoYjEwKSkgJiYgTWF0aC5hYnMoYTExIC0gYjExKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMTEpLCBNYXRoLmFicyhiMTEpKSAmJiBNYXRoLmFicyhhMTIgLSBiMTIpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExMiksIE1hdGguYWJzKGIxMikpICYmIE1hdGguYWJzKGExMyAtIGIxMykgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTEzKSwgTWF0aC5hYnMoYjEzKSkgJiYgTWF0aC5hYnMoYTE0IC0gYjE0KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMTQpLCBNYXRoLmFicyhiMTQpKSAmJiBNYXRoLmFicyhhMTUgLSBiMTUpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExNSksIE1hdGguYWJzKGIxNSkpO1xyXG59XHJcbi8qKlxyXG4gKiBBbGlhcyBmb3Ige0BsaW5rIG1hdDQubXVsdGlwbHl9XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgbXVsID0gbXVsdGlwbHk7XHJcbi8qKlxyXG4gKiBBbGlhcyBmb3Ige0BsaW5rIG1hdDQuc3VidHJhY3R9XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgc3ViID0gc3VidHJhY3Q7IiwgImltcG9ydCAqIGFzIGdsTWF0cml4IGZyb20gXCIuL2NvbW1vbi5qc1wiO1xyXG5pbXBvcnQgKiBhcyBtYXQzIGZyb20gXCIuL21hdDMuanNcIjtcclxuaW1wb3J0ICogYXMgdmVjMyBmcm9tIFwiLi92ZWMzLmpzXCI7XHJcbmltcG9ydCAqIGFzIHZlYzQgZnJvbSBcIi4vdmVjNC5qc1wiO1xyXG4vKipcclxuICogUXVhdGVybmlvblxyXG4gKiBAbW9kdWxlIHF1YXRcclxuICovXHJcblxyXG4vKipcclxuICogQ3JlYXRlcyBhIG5ldyBpZGVudGl0eSBxdWF0XHJcbiAqXHJcbiAqIEByZXR1cm5zIHtxdWF0fSBhIG5ldyBxdWF0ZXJuaW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcclxuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoNCk7XHJcblxyXG4gIGlmIChnbE1hdHJpeC5BUlJBWV9UWVBFICE9IEZsb2F0MzJBcnJheSkge1xyXG4gICAgb3V0WzBdID0gMDtcclxuICAgIG91dFsxXSA9IDA7XHJcbiAgICBvdXRbMl0gPSAwO1xyXG4gIH1cclxuXHJcbiAgb3V0WzNdID0gMTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBTZXQgYSBxdWF0IHRvIHRoZSBpZGVudGl0eSBxdWF0ZXJuaW9uXHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxyXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlkZW50aXR5KG91dCkge1xyXG4gIG91dFswXSA9IDA7XHJcbiAgb3V0WzFdID0gMDtcclxuICBvdXRbMl0gPSAwO1xyXG4gIG91dFszXSA9IDE7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogU2V0cyBhIHF1YXQgZnJvbSB0aGUgZ2l2ZW4gYW5nbGUgYW5kIHJvdGF0aW9uIGF4aXMsXHJcbiAqIHRoZW4gcmV0dXJucyBpdC5cclxuICpcclxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBheGlzIHRoZSBheGlzIGFyb3VuZCB3aGljaCB0byByb3RhdGVcclxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgaW4gcmFkaWFuc1xyXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XHJcbiAqKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRBeGlzQW5nbGUob3V0LCBheGlzLCByYWQpIHtcclxuICByYWQgPSByYWQgKiAwLjU7XHJcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpO1xyXG4gIG91dFswXSA9IHMgKiBheGlzWzBdO1xyXG4gIG91dFsxXSA9IHMgKiBheGlzWzFdO1xyXG4gIG91dFsyXSA9IHMgKiBheGlzWzJdO1xyXG4gIG91dFszXSA9IE1hdGguY29zKHJhZCk7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogR2V0cyB0aGUgcm90YXRpb24gYXhpcyBhbmQgYW5nbGUgZm9yIGEgZ2l2ZW5cclxuICogIHF1YXRlcm5pb24uIElmIGEgcXVhdGVybmlvbiBpcyBjcmVhdGVkIHdpdGhcclxuICogIHNldEF4aXNBbmdsZSwgdGhpcyBtZXRob2Qgd2lsbCByZXR1cm4gdGhlIHNhbWVcclxuICogIHZhbHVlcyBhcyBwcm92aWRpZWQgaW4gdGhlIG9yaWdpbmFsIHBhcmFtZXRlciBsaXN0XHJcbiAqICBPUiBmdW5jdGlvbmFsbHkgZXF1aXZhbGVudCB2YWx1ZXMuXHJcbiAqIEV4YW1wbGU6IFRoZSBxdWF0ZXJuaW9uIGZvcm1lZCBieSBheGlzIFswLCAwLCAxXSBhbmRcclxuICogIGFuZ2xlIC05MCBpcyB0aGUgc2FtZSBhcyB0aGUgcXVhdGVybmlvbiBmb3JtZWQgYnlcclxuICogIFswLCAwLCAxXSBhbmQgMjcwLiBUaGlzIG1ldGhvZCBmYXZvcnMgdGhlIGxhdHRlci5cclxuICogQHBhcmFtICB7dmVjM30gb3V0X2F4aXMgIFZlY3RvciByZWNlaXZpbmcgdGhlIGF4aXMgb2Ygcm90YXRpb25cclxuICogQHBhcmFtICB7UmVhZG9ubHlRdWF0fSBxICAgICBRdWF0ZXJuaW9uIHRvIGJlIGRlY29tcG9zZWRcclxuICogQHJldHVybiB7TnVtYmVyfSAgICAgQW5nbGUsIGluIHJhZGlhbnMsIG9mIHRoZSByb3RhdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRBeGlzQW5nbGUob3V0X2F4aXMsIHEpIHtcclxuICB2YXIgcmFkID0gTWF0aC5hY29zKHFbM10pICogMi4wO1xyXG4gIHZhciBzID0gTWF0aC5zaW4ocmFkIC8gMi4wKTtcclxuXHJcbiAgaWYgKHMgPiBnbE1hdHJpeC5FUFNJTE9OKSB7XHJcbiAgICBvdXRfYXhpc1swXSA9IHFbMF0gLyBzO1xyXG4gICAgb3V0X2F4aXNbMV0gPSBxWzFdIC8gcztcclxuICAgIG91dF9heGlzWzJdID0gcVsyXSAvIHM7XHJcbiAgfSBlbHNlIHtcclxuICAgIC8vIElmIHMgaXMgemVybywgcmV0dXJuIGFueSBheGlzIChubyByb3RhdGlvbiAtIGF4aXMgZG9lcyBub3QgbWF0dGVyKVxyXG4gICAgb3V0X2F4aXNbMF0gPSAxO1xyXG4gICAgb3V0X2F4aXNbMV0gPSAwO1xyXG4gICAgb3V0X2F4aXNbMl0gPSAwO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHJhZDtcclxufVxyXG4vKipcclxuICogR2V0cyB0aGUgYW5ndWxhciBkaXN0YW5jZSBiZXR3ZWVuIHR3byB1bml0IHF1YXRlcm5pb25zXHJcbiAqXHJcbiAqIEBwYXJhbSAge1JlYWRvbmx5UXVhdH0gYSAgICAgT3JpZ2luIHVuaXQgcXVhdGVybmlvblxyXG4gKiBAcGFyYW0gIHtSZWFkb25seVF1YXR9IGIgICAgIERlc3RpbmF0aW9uIHVuaXQgcXVhdGVybmlvblxyXG4gKiBAcmV0dXJuIHtOdW1iZXJ9ICAgICBBbmdsZSwgaW4gcmFkaWFucywgYmV0d2VlbiB0aGUgdHdvIHF1YXRlcm5pb25zXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEFuZ2xlKGEsIGIpIHtcclxuICB2YXIgZG90cHJvZHVjdCA9IGRvdChhLCBiKTtcclxuICByZXR1cm4gTWF0aC5hY29zKDIgKiBkb3Rwcm9kdWN0ICogZG90cHJvZHVjdCAtIDEpO1xyXG59XHJcbi8qKlxyXG4gKiBNdWx0aXBsaWVzIHR3byBxdWF0J3NcclxuICpcclxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5KG91dCwgYSwgYikge1xyXG4gIHZhciBheCA9IGFbMF0sXHJcbiAgICAgIGF5ID0gYVsxXSxcclxuICAgICAgYXogPSBhWzJdLFxyXG4gICAgICBhdyA9IGFbM107XHJcbiAgdmFyIGJ4ID0gYlswXSxcclxuICAgICAgYnkgPSBiWzFdLFxyXG4gICAgICBieiA9IGJbMl0sXHJcbiAgICAgIGJ3ID0gYlszXTtcclxuICBvdXRbMF0gPSBheCAqIGJ3ICsgYXcgKiBieCArIGF5ICogYnogLSBheiAqIGJ5O1xyXG4gIG91dFsxXSA9IGF5ICogYncgKyBhdyAqIGJ5ICsgYXogKiBieCAtIGF4ICogYno7XHJcbiAgb3V0WzJdID0gYXogKiBidyArIGF3ICogYnogKyBheCAqIGJ5IC0gYXkgKiBieDtcclxuICBvdXRbM10gPSBhdyAqIGJ3IC0gYXggKiBieCAtIGF5ICogYnkgLSBheiAqIGJ6O1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFJvdGF0ZXMgYSBxdWF0ZXJuaW9uIGJ5IHRoZSBnaXZlbiBhbmdsZSBhYm91dCB0aGUgWCBheGlzXHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHF1YXQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgcXVhdCB0byByb3RhdGVcclxuICogQHBhcmFtIHtudW1iZXJ9IHJhZCBhbmdsZSAoaW4gcmFkaWFucykgdG8gcm90YXRlXHJcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWChvdXQsIGEsIHJhZCkge1xyXG4gIHJhZCAqPSAwLjU7XHJcbiAgdmFyIGF4ID0gYVswXSxcclxuICAgICAgYXkgPSBhWzFdLFxyXG4gICAgICBheiA9IGFbMl0sXHJcbiAgICAgIGF3ID0gYVszXTtcclxuICB2YXIgYnggPSBNYXRoLnNpbihyYWQpLFxyXG4gICAgICBidyA9IE1hdGguY29zKHJhZCk7XHJcbiAgb3V0WzBdID0gYXggKiBidyArIGF3ICogYng7XHJcbiAgb3V0WzFdID0gYXkgKiBidyArIGF6ICogYng7XHJcbiAgb3V0WzJdID0gYXogKiBidyAtIGF5ICogYng7XHJcbiAgb3V0WzNdID0gYXcgKiBidyAtIGF4ICogYng7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogUm90YXRlcyBhIHF1YXRlcm5pb24gYnkgdGhlIGdpdmVuIGFuZ2xlIGFib3V0IHRoZSBZIGF4aXNcclxuICpcclxuICogQHBhcmFtIHtxdWF0fSBvdXQgcXVhdCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSBxdWF0IHRvIHJvdGF0ZVxyXG4gKiBAcGFyYW0ge251bWJlcn0gcmFkIGFuZ2xlIChpbiByYWRpYW5zKSB0byByb3RhdGVcclxuICogQHJldHVybnMge3F1YXR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVZKG91dCwgYSwgcmFkKSB7XHJcbiAgcmFkICo9IDAuNTtcclxuICB2YXIgYXggPSBhWzBdLFxyXG4gICAgICBheSA9IGFbMV0sXHJcbiAgICAgIGF6ID0gYVsyXSxcclxuICAgICAgYXcgPSBhWzNdO1xyXG4gIHZhciBieSA9IE1hdGguc2luKHJhZCksXHJcbiAgICAgIGJ3ID0gTWF0aC5jb3MocmFkKTtcclxuICBvdXRbMF0gPSBheCAqIGJ3IC0gYXogKiBieTtcclxuICBvdXRbMV0gPSBheSAqIGJ3ICsgYXcgKiBieTtcclxuICBvdXRbMl0gPSBheiAqIGJ3ICsgYXggKiBieTtcclxuICBvdXRbM10gPSBhdyAqIGJ3IC0gYXkgKiBieTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBSb3RhdGVzIGEgcXVhdGVybmlvbiBieSB0aGUgZ2l2ZW4gYW5nbGUgYWJvdXQgdGhlIFogYXhpc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXR9IG91dCBxdWF0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHF1YXQgdG8gcm90YXRlXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSByYWQgYW5nbGUgKGluIHJhZGlhbnMpIHRvIHJvdGF0ZVxyXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVoob3V0LCBhLCByYWQpIHtcclxuICByYWQgKj0gMC41O1xyXG4gIHZhciBheCA9IGFbMF0sXHJcbiAgICAgIGF5ID0gYVsxXSxcclxuICAgICAgYXogPSBhWzJdLFxyXG4gICAgICBhdyA9IGFbM107XHJcbiAgdmFyIGJ6ID0gTWF0aC5zaW4ocmFkKSxcclxuICAgICAgYncgPSBNYXRoLmNvcyhyYWQpO1xyXG4gIG91dFswXSA9IGF4ICogYncgKyBheSAqIGJ6O1xyXG4gIG91dFsxXSA9IGF5ICogYncgLSBheCAqIGJ6O1xyXG4gIG91dFsyXSA9IGF6ICogYncgKyBhdyAqIGJ6O1xyXG4gIG91dFszXSA9IGF3ICogYncgLSBheiAqIGJ6O1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgdGhlIFcgY29tcG9uZW50IG9mIGEgcXVhdCBmcm9tIHRoZSBYLCBZLCBhbmQgWiBjb21wb25lbnRzLlxyXG4gKiBBc3N1bWVzIHRoYXQgcXVhdGVybmlvbiBpcyAxIHVuaXQgaW4gbGVuZ3RoLlxyXG4gKiBBbnkgZXhpc3RpbmcgVyBjb21wb25lbnQgd2lsbCBiZSBpZ25vcmVkLlxyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgcXVhdCB0byBjYWxjdWxhdGUgVyBjb21wb25lbnQgb2ZcclxuICogQHJldHVybnMge3F1YXR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVXKG91dCwgYSkge1xyXG4gIHZhciB4ID0gYVswXSxcclxuICAgICAgeSA9IGFbMV0sXHJcbiAgICAgIHogPSBhWzJdO1xyXG4gIG91dFswXSA9IHg7XHJcbiAgb3V0WzFdID0geTtcclxuICBvdXRbMl0gPSB6O1xyXG4gIG91dFszXSA9IE1hdGguc3FydChNYXRoLmFicygxLjAgLSB4ICogeCAtIHkgKiB5IC0geiAqIHopKTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDYWxjdWxhdGUgdGhlIGV4cG9uZW50aWFsIG9mIGEgdW5pdCBxdWF0ZXJuaW9uLlxyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgcXVhdCB0byBjYWxjdWxhdGUgdGhlIGV4cG9uZW50aWFsIG9mXHJcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZXhwKG91dCwgYSkge1xyXG4gIHZhciB4ID0gYVswXSxcclxuICAgICAgeSA9IGFbMV0sXHJcbiAgICAgIHogPSBhWzJdLFxyXG4gICAgICB3ID0gYVszXTtcclxuICB2YXIgciA9IE1hdGguc3FydCh4ICogeCArIHkgKiB5ICsgeiAqIHopO1xyXG4gIHZhciBldCA9IE1hdGguZXhwKHcpO1xyXG4gIHZhciBzID0gciA+IDAgPyBldCAqIE1hdGguc2luKHIpIC8gciA6IDA7XHJcbiAgb3V0WzBdID0geCAqIHM7XHJcbiAgb3V0WzFdID0geSAqIHM7XHJcbiAgb3V0WzJdID0geiAqIHM7XHJcbiAgb3V0WzNdID0gZXQgKiBNYXRoLmNvcyhyKTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDYWxjdWxhdGUgdGhlIG5hdHVyYWwgbG9nYXJpdGhtIG9mIGEgdW5pdCBxdWF0ZXJuaW9uLlxyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgcXVhdCB0byBjYWxjdWxhdGUgdGhlIGV4cG9uZW50aWFsIG9mXHJcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbG4ob3V0LCBhKSB7XHJcbiAgdmFyIHggPSBhWzBdLFxyXG4gICAgICB5ID0gYVsxXSxcclxuICAgICAgeiA9IGFbMl0sXHJcbiAgICAgIHcgPSBhWzNdO1xyXG4gIHZhciByID0gTWF0aC5zcXJ0KHggKiB4ICsgeSAqIHkgKyB6ICogeik7XHJcbiAgdmFyIHQgPSByID4gMCA/IE1hdGguYXRhbjIociwgdykgLyByIDogMDtcclxuICBvdXRbMF0gPSB4ICogdDtcclxuICBvdXRbMV0gPSB5ICogdDtcclxuICBvdXRbMl0gPSB6ICogdDtcclxuICBvdXRbM10gPSAwLjUgKiBNYXRoLmxvZyh4ICogeCArIHkgKiB5ICsgeiAqIHogKyB3ICogdyk7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ2FsY3VsYXRlIHRoZSBzY2FsYXIgcG93ZXIgb2YgYSB1bml0IHF1YXRlcm5pb24uXHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSBxdWF0IHRvIGNhbGN1bGF0ZSB0aGUgZXhwb25lbnRpYWwgb2ZcclxuICogQHBhcmFtIHtOdW1iZXJ9IGIgYW1vdW50IHRvIHNjYWxlIHRoZSBxdWF0ZXJuaW9uIGJ5XHJcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcG93KG91dCwgYSwgYikge1xyXG4gIGxuKG91dCwgYSk7XHJcbiAgc2NhbGUob3V0LCBvdXQsIGIpO1xyXG4gIGV4cChvdXQsIG91dCk7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogUGVyZm9ybXMgYSBzcGhlcmljYWwgbGluZWFyIGludGVycG9sYXRpb24gYmV0d2VlbiB0d28gcXVhdFxyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB0IGludGVycG9sYXRpb24gYW1vdW50LCBpbiB0aGUgcmFuZ2UgWzAtMV0sIGJldHdlZW4gdGhlIHR3byBpbnB1dHNcclxuICogQHJldHVybnMge3F1YXR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzbGVycChvdXQsIGEsIGIsIHQpIHtcclxuICAvLyBiZW5jaG1hcmtzOlxyXG4gIC8vICAgIGh0dHA6Ly9qc3BlcmYuY29tL3F1YXRlcm5pb24tc2xlcnAtaW1wbGVtZW50YXRpb25zXHJcbiAgdmFyIGF4ID0gYVswXSxcclxuICAgICAgYXkgPSBhWzFdLFxyXG4gICAgICBheiA9IGFbMl0sXHJcbiAgICAgIGF3ID0gYVszXTtcclxuICB2YXIgYnggPSBiWzBdLFxyXG4gICAgICBieSA9IGJbMV0sXHJcbiAgICAgIGJ6ID0gYlsyXSxcclxuICAgICAgYncgPSBiWzNdO1xyXG4gIHZhciBvbWVnYSwgY29zb20sIHNpbm9tLCBzY2FsZTAsIHNjYWxlMTsgLy8gY2FsYyBjb3NpbmVcclxuXHJcbiAgY29zb20gPSBheCAqIGJ4ICsgYXkgKiBieSArIGF6ICogYnogKyBhdyAqIGJ3OyAvLyBhZGp1c3Qgc2lnbnMgKGlmIG5lY2Vzc2FyeSlcclxuXHJcbiAgaWYgKGNvc29tIDwgMC4wKSB7XHJcbiAgICBjb3NvbSA9IC1jb3NvbTtcclxuICAgIGJ4ID0gLWJ4O1xyXG4gICAgYnkgPSAtYnk7XHJcbiAgICBieiA9IC1iejtcclxuICAgIGJ3ID0gLWJ3O1xyXG4gIH0gLy8gY2FsY3VsYXRlIGNvZWZmaWNpZW50c1xyXG5cclxuXHJcbiAgaWYgKDEuMCAtIGNvc29tID4gZ2xNYXRyaXguRVBTSUxPTikge1xyXG4gICAgLy8gc3RhbmRhcmQgY2FzZSAoc2xlcnApXHJcbiAgICBvbWVnYSA9IE1hdGguYWNvcyhjb3NvbSk7XHJcbiAgICBzaW5vbSA9IE1hdGguc2luKG9tZWdhKTtcclxuICAgIHNjYWxlMCA9IE1hdGguc2luKCgxLjAgLSB0KSAqIG9tZWdhKSAvIHNpbm9tO1xyXG4gICAgc2NhbGUxID0gTWF0aC5zaW4odCAqIG9tZWdhKSAvIHNpbm9tO1xyXG4gIH0gZWxzZSB7XHJcbiAgICAvLyBcImZyb21cIiBhbmQgXCJ0b1wiIHF1YXRlcm5pb25zIGFyZSB2ZXJ5IGNsb3NlXHJcbiAgICAvLyAgLi4uIHNvIHdlIGNhbiBkbyBhIGxpbmVhciBpbnRlcnBvbGF0aW9uXHJcbiAgICBzY2FsZTAgPSAxLjAgLSB0O1xyXG4gICAgc2NhbGUxID0gdDtcclxuICB9IC8vIGNhbGN1bGF0ZSBmaW5hbCB2YWx1ZXNcclxuXHJcblxyXG4gIG91dFswXSA9IHNjYWxlMCAqIGF4ICsgc2NhbGUxICogYng7XHJcbiAgb3V0WzFdID0gc2NhbGUwICogYXkgKyBzY2FsZTEgKiBieTtcclxuICBvdXRbMl0gPSBzY2FsZTAgKiBheiArIHNjYWxlMSAqIGJ6O1xyXG4gIG91dFszXSA9IHNjYWxlMCAqIGF3ICsgc2NhbGUxICogYnc7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogR2VuZXJhdGVzIGEgcmFuZG9tIHVuaXQgcXVhdGVybmlvblxyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cclxuICogQHJldHVybnMge3F1YXR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByYW5kb20ob3V0KSB7XHJcbiAgLy8gSW1wbGVtZW50YXRpb24gb2YgaHR0cDovL3BsYW5uaW5nLmNzLnVpdWMuZWR1L25vZGUxOTguaHRtbFxyXG4gIC8vIFRPRE86IENhbGxpbmcgcmFuZG9tIDMgdGltZXMgaXMgcHJvYmFibHkgbm90IHRoZSBmYXN0ZXN0IHNvbHV0aW9uXHJcbiAgdmFyIHUxID0gZ2xNYXRyaXguUkFORE9NKCk7XHJcbiAgdmFyIHUyID0gZ2xNYXRyaXguUkFORE9NKCk7XHJcbiAgdmFyIHUzID0gZ2xNYXRyaXguUkFORE9NKCk7XHJcbiAgdmFyIHNxcnQxTWludXNVMSA9IE1hdGguc3FydCgxIC0gdTEpO1xyXG4gIHZhciBzcXJ0VTEgPSBNYXRoLnNxcnQodTEpO1xyXG4gIG91dFswXSA9IHNxcnQxTWludXNVMSAqIE1hdGguc2luKDIuMCAqIE1hdGguUEkgKiB1Mik7XHJcbiAgb3V0WzFdID0gc3FydDFNaW51c1UxICogTWF0aC5jb3MoMi4wICogTWF0aC5QSSAqIHUyKTtcclxuICBvdXRbMl0gPSBzcXJ0VTEgKiBNYXRoLnNpbigyLjAgKiBNYXRoLlBJICogdTMpO1xyXG4gIG91dFszXSA9IHNxcnRVMSAqIE1hdGguY29zKDIuMCAqIE1hdGguUEkgKiB1Myk7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgaW52ZXJzZSBvZiBhIHF1YXRcclxuICpcclxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHF1YXQgdG8gY2FsY3VsYXRlIGludmVyc2Ugb2ZcclxuICogQHJldHVybnMge3F1YXR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbnZlcnQob3V0LCBhKSB7XHJcbiAgdmFyIGEwID0gYVswXSxcclxuICAgICAgYTEgPSBhWzFdLFxyXG4gICAgICBhMiA9IGFbMl0sXHJcbiAgICAgIGEzID0gYVszXTtcclxuICB2YXIgZG90ID0gYTAgKiBhMCArIGExICogYTEgKyBhMiAqIGEyICsgYTMgKiBhMztcclxuICB2YXIgaW52RG90ID0gZG90ID8gMS4wIC8gZG90IDogMDsgLy8gVE9ETzogV291bGQgYmUgZmFzdGVyIHRvIHJldHVybiBbMCwwLDAsMF0gaW1tZWRpYXRlbHkgaWYgZG90ID09IDBcclxuXHJcbiAgb3V0WzBdID0gLWEwICogaW52RG90O1xyXG4gIG91dFsxXSA9IC1hMSAqIGludkRvdDtcclxuICBvdXRbMl0gPSAtYTIgKiBpbnZEb3Q7XHJcbiAgb3V0WzNdID0gYTMgKiBpbnZEb3Q7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgY29uanVnYXRlIG9mIGEgcXVhdFxyXG4gKiBJZiB0aGUgcXVhdGVybmlvbiBpcyBub3JtYWxpemVkLCB0aGlzIGZ1bmN0aW9uIGlzIGZhc3RlciB0aGFuIHF1YXQuaW52ZXJzZSBhbmQgcHJvZHVjZXMgdGhlIHNhbWUgcmVzdWx0LlxyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgcXVhdCB0byBjYWxjdWxhdGUgY29uanVnYXRlIG9mXHJcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY29uanVnYXRlKG91dCwgYSkge1xyXG4gIG91dFswXSA9IC1hWzBdO1xyXG4gIG91dFsxXSA9IC1hWzFdO1xyXG4gIG91dFsyXSA9IC1hWzJdO1xyXG4gIG91dFszXSA9IGFbM107XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ3JlYXRlcyBhIHF1YXRlcm5pb24gZnJvbSB0aGUgZ2l2ZW4gM3gzIHJvdGF0aW9uIG1hdHJpeC5cclxuICpcclxuICogTk9URTogVGhlIHJlc3VsdGFudCBxdWF0ZXJuaW9uIGlzIG5vdCBub3JtYWxpemVkLCBzbyB5b3Ugc2hvdWxkIGJlIHN1cmVcclxuICogdG8gcmVub3JtYWxpemUgdGhlIHF1YXRlcm5pb24geW91cnNlbGYgd2hlcmUgbmVjZXNzYXJ5LlxyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cclxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IG0gcm90YXRpb24gbWF0cml4XHJcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZyb21NYXQzKG91dCwgbSkge1xyXG4gIC8vIEFsZ29yaXRobSBpbiBLZW4gU2hvZW1ha2UncyBhcnRpY2xlIGluIDE5ODcgU0lHR1JBUEggY291cnNlIG5vdGVzXHJcbiAgLy8gYXJ0aWNsZSBcIlF1YXRlcm5pb24gQ2FsY3VsdXMgYW5kIEZhc3QgQW5pbWF0aW9uXCIuXHJcbiAgdmFyIGZUcmFjZSA9IG1bMF0gKyBtWzRdICsgbVs4XTtcclxuICB2YXIgZlJvb3Q7XHJcblxyXG4gIGlmIChmVHJhY2UgPiAwLjApIHtcclxuICAgIC8vIHx3fCA+IDEvMiwgbWF5IGFzIHdlbGwgY2hvb3NlIHcgPiAxLzJcclxuICAgIGZSb290ID0gTWF0aC5zcXJ0KGZUcmFjZSArIDEuMCk7IC8vIDJ3XHJcblxyXG4gICAgb3V0WzNdID0gMC41ICogZlJvb3Q7XHJcbiAgICBmUm9vdCA9IDAuNSAvIGZSb290OyAvLyAxLyg0dylcclxuXHJcbiAgICBvdXRbMF0gPSAobVs1XSAtIG1bN10pICogZlJvb3Q7XHJcbiAgICBvdXRbMV0gPSAobVs2XSAtIG1bMl0pICogZlJvb3Q7XHJcbiAgICBvdXRbMl0gPSAobVsxXSAtIG1bM10pICogZlJvb3Q7XHJcbiAgfSBlbHNlIHtcclxuICAgIC8vIHx3fCA8PSAxLzJcclxuICAgIHZhciBpID0gMDtcclxuICAgIGlmIChtWzRdID4gbVswXSkgaSA9IDE7XHJcbiAgICBpZiAobVs4XSA+IG1baSAqIDMgKyBpXSkgaSA9IDI7XHJcbiAgICB2YXIgaiA9IChpICsgMSkgJSAzO1xyXG4gICAgdmFyIGsgPSAoaSArIDIpICUgMztcclxuICAgIGZSb290ID0gTWF0aC5zcXJ0KG1baSAqIDMgKyBpXSAtIG1baiAqIDMgKyBqXSAtIG1bayAqIDMgKyBrXSArIDEuMCk7XHJcbiAgICBvdXRbaV0gPSAwLjUgKiBmUm9vdDtcclxuICAgIGZSb290ID0gMC41IC8gZlJvb3Q7XHJcbiAgICBvdXRbM10gPSAobVtqICogMyArIGtdIC0gbVtrICogMyArIGpdKSAqIGZSb290O1xyXG4gICAgb3V0W2pdID0gKG1baiAqIDMgKyBpXSArIG1baSAqIDMgKyBqXSkgKiBmUm9vdDtcclxuICAgIG91dFtrXSA9IChtW2sgKiAzICsgaV0gKyBtW2kgKiAzICsga10pICogZlJvb3Q7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgcXVhdGVybmlvbiBmcm9tIHRoZSBnaXZlbiBldWxlciBhbmdsZSB4LCB5LCB6LlxyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cclxuICogQHBhcmFtIHt4fSBBbmdsZSB0byByb3RhdGUgYXJvdW5kIFggYXhpcyBpbiBkZWdyZWVzLlxyXG4gKiBAcGFyYW0ge3l9IEFuZ2xlIHRvIHJvdGF0ZSBhcm91bmQgWSBheGlzIGluIGRlZ3JlZXMuXHJcbiAqIEBwYXJhbSB7en0gQW5nbGUgdG8gcm90YXRlIGFyb3VuZCBaIGF4aXMgaW4gZGVncmVlcy5cclxuICogQHJldHVybnMge3F1YXR9IG91dFxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZnJvbUV1bGVyKG91dCwgeCwgeSwgeikge1xyXG4gIHZhciBoYWxmVG9SYWQgPSAwLjUgKiBNYXRoLlBJIC8gMTgwLjA7XHJcbiAgeCAqPSBoYWxmVG9SYWQ7XHJcbiAgeSAqPSBoYWxmVG9SYWQ7XHJcbiAgeiAqPSBoYWxmVG9SYWQ7XHJcbiAgdmFyIHN4ID0gTWF0aC5zaW4oeCk7XHJcbiAgdmFyIGN4ID0gTWF0aC5jb3MoeCk7XHJcbiAgdmFyIHN5ID0gTWF0aC5zaW4oeSk7XHJcbiAgdmFyIGN5ID0gTWF0aC5jb3MoeSk7XHJcbiAgdmFyIHN6ID0gTWF0aC5zaW4oeik7XHJcbiAgdmFyIGN6ID0gTWF0aC5jb3Moeik7XHJcbiAgb3V0WzBdID0gc3ggKiBjeSAqIGN6IC0gY3ggKiBzeSAqIHN6O1xyXG4gIG91dFsxXSA9IGN4ICogc3kgKiBjeiArIHN4ICogY3kgKiBzejtcclxuICBvdXRbMl0gPSBjeCAqIGN5ICogc3ogLSBzeCAqIHN5ICogY3o7XHJcbiAgb3V0WzNdID0gY3ggKiBjeSAqIGN6ICsgc3ggKiBzeSAqIHN6O1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBxdWF0ZW5pb25cclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgdmVjdG9yIHRvIHJlcHJlc2VudCBhcyBhIHN0cmluZ1xyXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIHZlY3RvclxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzdHIoYSkge1xyXG4gIHJldHVybiBcInF1YXQoXCIgKyBhWzBdICsgXCIsIFwiICsgYVsxXSArIFwiLCBcIiArIGFbMl0gKyBcIiwgXCIgKyBhWzNdICsgXCIpXCI7XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBuZXcgcXVhdCBpbml0aWFsaXplZCB3aXRoIHZhbHVlcyBmcm9tIGFuIGV4aXN0aW5nIHF1YXRlcm5pb25cclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgcXVhdGVybmlvbiB0byBjbG9uZVxyXG4gKiBAcmV0dXJucyB7cXVhdH0gYSBuZXcgcXVhdGVybmlvblxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgdmFyIGNsb25lID0gdmVjNC5jbG9uZTtcclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBuZXcgcXVhdCBpbml0aWFsaXplZCB3aXRoIHRoZSBnaXZlbiB2YWx1ZXNcclxuICpcclxuICogQHBhcmFtIHtOdW1iZXJ9IHggWCBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHkgWSBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHogWiBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHcgVyBjb21wb25lbnRcclxuICogQHJldHVybnMge3F1YXR9IGEgbmV3IHF1YXRlcm5pb25cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBmcm9tVmFsdWVzID0gdmVjNC5mcm9tVmFsdWVzO1xyXG4vKipcclxuICogQ29weSB0aGUgdmFsdWVzIGZyb20gb25lIHF1YXQgdG8gYW5vdGhlclxyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgdGhlIHNvdXJjZSBxdWF0ZXJuaW9uXHJcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBjb3B5ID0gdmVjNC5jb3B5O1xyXG4vKipcclxuICogU2V0IHRoZSBjb21wb25lbnRzIG9mIGEgcXVhdCB0byB0aGUgZ2l2ZW4gdmFsdWVzXHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge051bWJlcn0geCBYIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge051bWJlcn0geSBZIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge051bWJlcn0geiBaIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge051bWJlcn0gdyBXIGNvbXBvbmVudFxyXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgc2V0ID0gdmVjNC5zZXQ7XHJcbi8qKlxyXG4gKiBBZGRzIHR3byBxdWF0J3NcclxuICpcclxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgYWRkID0gdmVjNC5hZGQ7XHJcbi8qKlxyXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHF1YXQubXVsdGlwbHl9XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgbXVsID0gbXVsdGlwbHk7XHJcbi8qKlxyXG4gKiBTY2FsZXMgYSBxdWF0IGJ5IGEgc2NhbGFyIG51bWJlclxyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSB0aGUgdmVjdG9yIHRvIHNjYWxlXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBiIGFtb3VudCB0byBzY2FsZSB0aGUgdmVjdG9yIGJ5XHJcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBzY2FsZSA9IHZlYzQuc2NhbGU7XHJcbi8qKlxyXG4gKiBDYWxjdWxhdGVzIHRoZSBkb3QgcHJvZHVjdCBvZiB0d28gcXVhdCdzXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBkb3QgcHJvZHVjdCBvZiBhIGFuZCBiXHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgZG90ID0gdmVjNC5kb3Q7XHJcbi8qKlxyXG4gKiBQZXJmb3JtcyBhIGxpbmVhciBpbnRlcnBvbGF0aW9uIGJldHdlZW4gdHdvIHF1YXQnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB0IGludGVycG9sYXRpb24gYW1vdW50LCBpbiB0aGUgcmFuZ2UgWzAtMV0sIGJldHdlZW4gdGhlIHR3byBpbnB1dHNcclxuICogQHJldHVybnMge3F1YXR9IG91dFxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgdmFyIGxlcnAgPSB2ZWM0LmxlcnA7XHJcbi8qKlxyXG4gKiBDYWxjdWxhdGVzIHRoZSBsZW5ndGggb2YgYSBxdWF0XHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHZlY3RvciB0byBjYWxjdWxhdGUgbGVuZ3RoIG9mXHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGxlbmd0aCBvZiBhXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBsZW5ndGggPSB2ZWM0Lmxlbmd0aDtcclxuLyoqXHJcbiAqIEFsaWFzIGZvciB7QGxpbmsgcXVhdC5sZW5ndGh9XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgbGVuID0gbGVuZ3RoO1xyXG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgc3F1YXJlZCBsZW5ndGggb2YgYSBxdWF0XHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHZlY3RvciB0byBjYWxjdWxhdGUgc3F1YXJlZCBsZW5ndGggb2ZcclxuICogQHJldHVybnMge051bWJlcn0gc3F1YXJlZCBsZW5ndGggb2YgYVxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgdmFyIHNxdWFyZWRMZW5ndGggPSB2ZWM0LnNxdWFyZWRMZW5ndGg7XHJcbi8qKlxyXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHF1YXQuc3F1YXJlZExlbmd0aH1cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBzcXJMZW4gPSBzcXVhcmVkTGVuZ3RoO1xyXG4vKipcclxuICogTm9ybWFsaXplIGEgcXVhdFxyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgcXVhdGVybmlvbiB0byBub3JtYWxpemVcclxuICogQHJldHVybnMge3F1YXR9IG91dFxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgdmFyIG5vcm1hbGl6ZSA9IHZlYzQubm9ybWFsaXplO1xyXG4vKipcclxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgcXVhdGVybmlvbnMgaGF2ZSBleGFjdGx5IHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uICh3aGVuIGNvbXBhcmVkIHdpdGggPT09KVxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSBUaGUgZmlyc3QgcXVhdGVybmlvbi5cclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGIgVGhlIHNlY29uZCBxdWF0ZXJuaW9uLlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmVjdG9ycyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cclxuICovXHJcblxyXG5leHBvcnQgdmFyIGV4YWN0RXF1YWxzID0gdmVjNC5leGFjdEVxdWFscztcclxuLyoqXHJcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIHF1YXRlcm5pb25zIGhhdmUgYXBwcm94aW1hdGVseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbi5cclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgVGhlIGZpcnN0IHZlY3Rvci5cclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGIgVGhlIHNlY29uZCB2ZWN0b3IuXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSB2ZWN0b3JzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgZXF1YWxzID0gdmVjNC5lcXVhbHM7XHJcbi8qKlxyXG4gKiBTZXRzIGEgcXVhdGVybmlvbiB0byByZXByZXNlbnQgdGhlIHNob3J0ZXN0IHJvdGF0aW9uIGZyb20gb25lXHJcbiAqIHZlY3RvciB0byBhbm90aGVyLlxyXG4gKlxyXG4gKiBCb3RoIHZlY3RvcnMgYXJlIGFzc3VtZWQgdG8gYmUgdW5pdCBsZW5ndGguXHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvbi5cclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGluaXRpYWwgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBkZXN0aW5hdGlvbiB2ZWN0b3JcclxuICogQHJldHVybnMge3F1YXR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgcm90YXRpb25UbyA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgdG1wdmVjMyA9IHZlYzMuY3JlYXRlKCk7XHJcbiAgdmFyIHhVbml0VmVjMyA9IHZlYzMuZnJvbVZhbHVlcygxLCAwLCAwKTtcclxuICB2YXIgeVVuaXRWZWMzID0gdmVjMy5mcm9tVmFsdWVzKDAsIDEsIDApO1xyXG4gIHJldHVybiBmdW5jdGlvbiAob3V0LCBhLCBiKSB7XHJcbiAgICB2YXIgZG90ID0gdmVjMy5kb3QoYSwgYik7XHJcblxyXG4gICAgaWYgKGRvdCA8IC0wLjk5OTk5OSkge1xyXG4gICAgICB2ZWMzLmNyb3NzKHRtcHZlYzMsIHhVbml0VmVjMywgYSk7XHJcbiAgICAgIGlmICh2ZWMzLmxlbih0bXB2ZWMzKSA8IDAuMDAwMDAxKSB2ZWMzLmNyb3NzKHRtcHZlYzMsIHlVbml0VmVjMywgYSk7XHJcbiAgICAgIHZlYzMubm9ybWFsaXplKHRtcHZlYzMsIHRtcHZlYzMpO1xyXG4gICAgICBzZXRBeGlzQW5nbGUob3V0LCB0bXB2ZWMzLCBNYXRoLlBJKTtcclxuICAgICAgcmV0dXJuIG91dDtcclxuICAgIH0gZWxzZSBpZiAoZG90ID4gMC45OTk5OTkpIHtcclxuICAgICAgb3V0WzBdID0gMDtcclxuICAgICAgb3V0WzFdID0gMDtcclxuICAgICAgb3V0WzJdID0gMDtcclxuICAgICAgb3V0WzNdID0gMTtcclxuICAgICAgcmV0dXJuIG91dDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHZlYzMuY3Jvc3ModG1wdmVjMywgYSwgYik7XHJcbiAgICAgIG91dFswXSA9IHRtcHZlYzNbMF07XHJcbiAgICAgIG91dFsxXSA9IHRtcHZlYzNbMV07XHJcbiAgICAgIG91dFsyXSA9IHRtcHZlYzNbMl07XHJcbiAgICAgIG91dFszXSA9IDEgKyBkb3Q7XHJcbiAgICAgIHJldHVybiBub3JtYWxpemUob3V0LCBvdXQpO1xyXG4gICAgfVxyXG4gIH07XHJcbn0oKTtcclxuLyoqXHJcbiAqIFBlcmZvcm1zIGEgc3BoZXJpY2FsIGxpbmVhciBpbnRlcnBvbGF0aW9uIHdpdGggdHdvIGNvbnRyb2wgcG9pbnRzXHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGMgdGhlIHRoaXJkIG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGQgdGhlIGZvdXJ0aCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB0IGludGVycG9sYXRpb24gYW1vdW50LCBpbiB0aGUgcmFuZ2UgWzAtMV0sIGJldHdlZW4gdGhlIHR3byBpbnB1dHNcclxuICogQHJldHVybnMge3F1YXR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgc3FsZXJwID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciB0ZW1wMSA9IGNyZWF0ZSgpO1xyXG4gIHZhciB0ZW1wMiA9IGNyZWF0ZSgpO1xyXG4gIHJldHVybiBmdW5jdGlvbiAob3V0LCBhLCBiLCBjLCBkLCB0KSB7XHJcbiAgICBzbGVycCh0ZW1wMSwgYSwgZCwgdCk7XHJcbiAgICBzbGVycCh0ZW1wMiwgYiwgYywgdCk7XHJcbiAgICBzbGVycChvdXQsIHRlbXAxLCB0ZW1wMiwgMiAqIHQgKiAoMSAtIHQpKTtcclxuICAgIHJldHVybiBvdXQ7XHJcbiAgfTtcclxufSgpO1xyXG4vKipcclxuICogU2V0cyB0aGUgc3BlY2lmaWVkIHF1YXRlcm5pb24gd2l0aCB2YWx1ZXMgY29ycmVzcG9uZGluZyB0byB0aGUgZ2l2ZW5cclxuICogYXhlcy4gRWFjaCBheGlzIGlzIGEgdmVjMyBhbmQgaXMgZXhwZWN0ZWQgdG8gYmUgdW5pdCBsZW5ndGggYW5kXHJcbiAqIHBlcnBlbmRpY3VsYXIgdG8gYWxsIG90aGVyIHNwZWNpZmllZCBheGVzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdmlldyAgdGhlIHZlY3RvciByZXByZXNlbnRpbmcgdGhlIHZpZXdpbmcgZGlyZWN0aW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSByaWdodCB0aGUgdmVjdG9yIHJlcHJlc2VudGluZyB0aGUgbG9jYWwgXCJyaWdodFwiIGRpcmVjdGlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdXAgICAgdGhlIHZlY3RvciByZXByZXNlbnRpbmcgdGhlIGxvY2FsIFwidXBcIiBkaXJlY3Rpb25cclxuICogQHJldHVybnMge3F1YXR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgc2V0QXhlcyA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgbWF0ciA9IG1hdDMuY3JlYXRlKCk7XHJcbiAgcmV0dXJuIGZ1bmN0aW9uIChvdXQsIHZpZXcsIHJpZ2h0LCB1cCkge1xyXG4gICAgbWF0clswXSA9IHJpZ2h0WzBdO1xyXG4gICAgbWF0clszXSA9IHJpZ2h0WzFdO1xyXG4gICAgbWF0cls2XSA9IHJpZ2h0WzJdO1xyXG4gICAgbWF0clsxXSA9IHVwWzBdO1xyXG4gICAgbWF0cls0XSA9IHVwWzFdO1xyXG4gICAgbWF0cls3XSA9IHVwWzJdO1xyXG4gICAgbWF0clsyXSA9IC12aWV3WzBdO1xyXG4gICAgbWF0cls1XSA9IC12aWV3WzFdO1xyXG4gICAgbWF0cls4XSA9IC12aWV3WzJdO1xyXG4gICAgcmV0dXJuIG5vcm1hbGl6ZShvdXQsIGZyb21NYXQzKG91dCwgbWF0cikpO1xyXG4gIH07XHJcbn0oKTsiLCAiaW1wb3J0ICogYXMgZ2xNYXRyaXggZnJvbSBcIi4vY29tbW9uLmpzXCI7XHJcbi8qKlxyXG4gKiAzIERpbWVuc2lvbmFsIFZlY3RvclxyXG4gKiBAbW9kdWxlIHZlYzNcclxuICovXHJcblxyXG4vKipcclxuICogQ3JlYXRlcyBhIG5ldywgZW1wdHkgdmVjM1xyXG4gKlxyXG4gKiBAcmV0dXJucyB7dmVjM30gYSBuZXcgM0QgdmVjdG9yXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcclxuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMyk7XHJcblxyXG4gIGlmIChnbE1hdHJpeC5BUlJBWV9UWVBFICE9IEZsb2F0MzJBcnJheSkge1xyXG4gICAgb3V0WzBdID0gMDtcclxuICAgIG91dFsxXSA9IDA7XHJcbiAgICBvdXRbMl0gPSAwO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ3JlYXRlcyBhIG5ldyB2ZWMzIGluaXRpYWxpemVkIHdpdGggdmFsdWVzIGZyb20gYW4gZXhpc3RpbmcgdmVjdG9yXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBjbG9uZVxyXG4gKiBAcmV0dXJucyB7dmVjM30gYSBuZXcgM0QgdmVjdG9yXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNsb25lKGEpIHtcclxuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMyk7XHJcbiAgb3V0WzBdID0gYVswXTtcclxuICBvdXRbMV0gPSBhWzFdO1xyXG4gIG91dFsyXSA9IGFbMl07XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgbGVuZ3RoIG9mIGEgdmVjM1xyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gY2FsY3VsYXRlIGxlbmd0aCBvZlxyXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBsZW5ndGggb2YgYVxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBsZW5ndGgoYSkge1xyXG4gIHZhciB4ID0gYVswXTtcclxuICB2YXIgeSA9IGFbMV07XHJcbiAgdmFyIHogPSBhWzJdO1xyXG4gIHJldHVybiBNYXRoLmh5cG90KHgsIHksIHopO1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgbmV3IHZlYzMgaW5pdGlhbGl6ZWQgd2l0aCB0aGUgZ2l2ZW4gdmFsdWVzXHJcbiAqXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB4IFggY29tcG9uZW50XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB5IFkgY29tcG9uZW50XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB6IFogY29tcG9uZW50XHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBhIG5ldyAzRCB2ZWN0b3JcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZnJvbVZhbHVlcyh4LCB5LCB6KSB7XHJcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDMpO1xyXG4gIG91dFswXSA9IHg7XHJcbiAgb3V0WzFdID0geTtcclxuICBvdXRbMl0gPSB6O1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENvcHkgdGhlIHZhbHVlcyBmcm9tIG9uZSB2ZWMzIHRvIGFub3RoZXJcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIHNvdXJjZSB2ZWN0b3JcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjb3B5KG91dCwgYSkge1xyXG4gIG91dFswXSA9IGFbMF07XHJcbiAgb3V0WzFdID0gYVsxXTtcclxuICBvdXRbMl0gPSBhWzJdO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFNldCB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzMgdG8gdGhlIGdpdmVuIHZhbHVlc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge051bWJlcn0geCBYIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge051bWJlcn0geSBZIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge051bWJlcn0geiBaIGNvbXBvbmVudFxyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNldChvdXQsIHgsIHksIHopIHtcclxuICBvdXRbMF0gPSB4O1xyXG4gIG91dFsxXSA9IHk7XHJcbiAgb3V0WzJdID0gejtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBBZGRzIHR3byB2ZWMzJ3NcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYWRkKG91dCwgYSwgYikge1xyXG4gIG91dFswXSA9IGFbMF0gKyBiWzBdO1xyXG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdO1xyXG4gIG91dFsyXSA9IGFbMl0gKyBiWzJdO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFN1YnRyYWN0cyB2ZWN0b3IgYiBmcm9tIHZlY3RvciBhXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHN1YnRyYWN0KG91dCwgYSwgYikge1xyXG4gIG91dFswXSA9IGFbMF0gLSBiWzBdO1xyXG4gIG91dFsxXSA9IGFbMV0gLSBiWzFdO1xyXG4gIG91dFsyXSA9IGFbMl0gLSBiWzJdO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIE11bHRpcGxpZXMgdHdvIHZlYzMnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseShvdXQsIGEsIGIpIHtcclxuICBvdXRbMF0gPSBhWzBdICogYlswXTtcclxuICBvdXRbMV0gPSBhWzFdICogYlsxXTtcclxuICBvdXRbMl0gPSBhWzJdICogYlsyXTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBEaXZpZGVzIHR3byB2ZWMzJ3NcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZGl2aWRlKG91dCwgYSwgYikge1xyXG4gIG91dFswXSA9IGFbMF0gLyBiWzBdO1xyXG4gIG91dFsxXSA9IGFbMV0gLyBiWzFdO1xyXG4gIG91dFsyXSA9IGFbMl0gLyBiWzJdO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIE1hdGguY2VpbCB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzNcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIGNlaWxcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjZWlsKG91dCwgYSkge1xyXG4gIG91dFswXSA9IE1hdGguY2VpbChhWzBdKTtcclxuICBvdXRbMV0gPSBNYXRoLmNlaWwoYVsxXSk7XHJcbiAgb3V0WzJdID0gTWF0aC5jZWlsKGFbMl0pO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIE1hdGguZmxvb3IgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBmbG9vclxyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZsb29yKG91dCwgYSkge1xyXG4gIG91dFswXSA9IE1hdGguZmxvb3IoYVswXSk7XHJcbiAgb3V0WzFdID0gTWF0aC5mbG9vcihhWzFdKTtcclxuICBvdXRbMl0gPSBNYXRoLmZsb29yKGFbMl0pO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgdGhlIG1pbmltdW0gb2YgdHdvIHZlYzMnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtaW4ob3V0LCBhLCBiKSB7XHJcbiAgb3V0WzBdID0gTWF0aC5taW4oYVswXSwgYlswXSk7XHJcbiAgb3V0WzFdID0gTWF0aC5taW4oYVsxXSwgYlsxXSk7XHJcbiAgb3V0WzJdID0gTWF0aC5taW4oYVsyXSwgYlsyXSk7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogUmV0dXJucyB0aGUgbWF4aW11bSBvZiB0d28gdmVjMydzXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1heChvdXQsIGEsIGIpIHtcclxuICBvdXRbMF0gPSBNYXRoLm1heChhWzBdLCBiWzBdKTtcclxuICBvdXRbMV0gPSBNYXRoLm1heChhWzFdLCBiWzFdKTtcclxuICBvdXRbMl0gPSBNYXRoLm1heChhWzJdLCBiWzJdKTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBNYXRoLnJvdW5kIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjM1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gcm91bmRcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByb3VuZChvdXQsIGEpIHtcclxuICBvdXRbMF0gPSBNYXRoLnJvdW5kKGFbMF0pO1xyXG4gIG91dFsxXSA9IE1hdGgucm91bmQoYVsxXSk7XHJcbiAgb3V0WzJdID0gTWF0aC5yb3VuZChhWzJdKTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBTY2FsZXMgYSB2ZWMzIGJ5IGEgc2NhbGFyIG51bWJlclxyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgdmVjdG9yIHRvIHNjYWxlXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBiIGFtb3VudCB0byBzY2FsZSB0aGUgdmVjdG9yIGJ5XHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2NhbGUob3V0LCBhLCBiKSB7XHJcbiAgb3V0WzBdID0gYVswXSAqIGI7XHJcbiAgb3V0WzFdID0gYVsxXSAqIGI7XHJcbiAgb3V0WzJdID0gYVsyXSAqIGI7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQWRkcyB0d28gdmVjMydzIGFmdGVyIHNjYWxpbmcgdGhlIHNlY29uZCBvcGVyYW5kIGJ5IGEgc2NhbGFyIHZhbHVlXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge051bWJlcn0gc2NhbGUgdGhlIGFtb3VudCB0byBzY2FsZSBiIGJ5IGJlZm9yZSBhZGRpbmdcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzY2FsZUFuZEFkZChvdXQsIGEsIGIsIHNjYWxlKSB7XHJcbiAgb3V0WzBdID0gYVswXSArIGJbMF0gKiBzY2FsZTtcclxuICBvdXRbMV0gPSBhWzFdICsgYlsxXSAqIHNjYWxlO1xyXG4gIG91dFsyXSA9IGFbMl0gKyBiWzJdICogc2NhbGU7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgZXVjbGlkaWFuIGRpc3RhbmNlIGJldHdlZW4gdHdvIHZlYzMnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge051bWJlcn0gZGlzdGFuY2UgYmV0d2VlbiBhIGFuZCBiXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRpc3RhbmNlKGEsIGIpIHtcclxuICB2YXIgeCA9IGJbMF0gLSBhWzBdO1xyXG4gIHZhciB5ID0gYlsxXSAtIGFbMV07XHJcbiAgdmFyIHogPSBiWzJdIC0gYVsyXTtcclxuICByZXR1cm4gTWF0aC5oeXBvdCh4LCB5LCB6KTtcclxufVxyXG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgc3F1YXJlZCBldWNsaWRpYW4gZGlzdGFuY2UgYmV0d2VlbiB0d28gdmVjMydzXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBzcXVhcmVkIGRpc3RhbmNlIGJldHdlZW4gYSBhbmQgYlxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzcXVhcmVkRGlzdGFuY2UoYSwgYikge1xyXG4gIHZhciB4ID0gYlswXSAtIGFbMF07XHJcbiAgdmFyIHkgPSBiWzFdIC0gYVsxXTtcclxuICB2YXIgeiA9IGJbMl0gLSBhWzJdO1xyXG4gIHJldHVybiB4ICogeCArIHkgKiB5ICsgeiAqIHo7XHJcbn1cclxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgdGhlIHNxdWFyZWQgbGVuZ3RoIG9mIGEgdmVjM1xyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gY2FsY3VsYXRlIHNxdWFyZWQgbGVuZ3RoIG9mXHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IHNxdWFyZWQgbGVuZ3RoIG9mIGFcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc3F1YXJlZExlbmd0aChhKSB7XHJcbiAgdmFyIHggPSBhWzBdO1xyXG4gIHZhciB5ID0gYVsxXTtcclxuICB2YXIgeiA9IGFbMl07XHJcbiAgcmV0dXJuIHggKiB4ICsgeSAqIHkgKyB6ICogejtcclxufVxyXG4vKipcclxuICogTmVnYXRlcyB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzNcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIG5lZ2F0ZVxyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG5lZ2F0ZShvdXQsIGEpIHtcclxuICBvdXRbMF0gPSAtYVswXTtcclxuICBvdXRbMV0gPSAtYVsxXTtcclxuICBvdXRbMl0gPSAtYVsyXTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBpbnZlcnNlIG9mIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjM1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gaW52ZXJ0XHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW52ZXJzZShvdXQsIGEpIHtcclxuICBvdXRbMF0gPSAxLjAgLyBhWzBdO1xyXG4gIG91dFsxXSA9IDEuMCAvIGFbMV07XHJcbiAgb3V0WzJdID0gMS4wIC8gYVsyXTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBOb3JtYWxpemUgYSB2ZWMzXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBub3JtYWxpemVcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemUob3V0LCBhKSB7XHJcbiAgdmFyIHggPSBhWzBdO1xyXG4gIHZhciB5ID0gYVsxXTtcclxuICB2YXIgeiA9IGFbMl07XHJcbiAgdmFyIGxlbiA9IHggKiB4ICsgeSAqIHkgKyB6ICogejtcclxuXHJcbiAgaWYgKGxlbiA+IDApIHtcclxuICAgIC8vVE9ETzogZXZhbHVhdGUgdXNlIG9mIGdsbV9pbnZzcXJ0IGhlcmU/XHJcbiAgICBsZW4gPSAxIC8gTWF0aC5zcXJ0KGxlbik7XHJcbiAgfVxyXG5cclxuICBvdXRbMF0gPSBhWzBdICogbGVuO1xyXG4gIG91dFsxXSA9IGFbMV0gKiBsZW47XHJcbiAgb3V0WzJdID0gYVsyXSAqIGxlbjtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDYWxjdWxhdGVzIHRoZSBkb3QgcHJvZHVjdCBvZiB0d28gdmVjMydzXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBkb3QgcHJvZHVjdCBvZiBhIGFuZCBiXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRvdChhLCBiKSB7XHJcbiAgcmV0dXJuIGFbMF0gKiBiWzBdICsgYVsxXSAqIGJbMV0gKyBhWzJdICogYlsyXTtcclxufVxyXG4vKipcclxuICogQ29tcHV0ZXMgdGhlIGNyb3NzIHByb2R1Y3Qgb2YgdHdvIHZlYzMnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcm9zcyhvdXQsIGEsIGIpIHtcclxuICB2YXIgYXggPSBhWzBdLFxyXG4gICAgICBheSA9IGFbMV0sXHJcbiAgICAgIGF6ID0gYVsyXTtcclxuICB2YXIgYnggPSBiWzBdLFxyXG4gICAgICBieSA9IGJbMV0sXHJcbiAgICAgIGJ6ID0gYlsyXTtcclxuICBvdXRbMF0gPSBheSAqIGJ6IC0gYXogKiBieTtcclxuICBvdXRbMV0gPSBheiAqIGJ4IC0gYXggKiBiejtcclxuICBvdXRbMl0gPSBheCAqIGJ5IC0gYXkgKiBieDtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBQZXJmb3JtcyBhIGxpbmVhciBpbnRlcnBvbGF0aW9uIGJldHdlZW4gdHdvIHZlYzMnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0c1xyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGxlcnAob3V0LCBhLCBiLCB0KSB7XHJcbiAgdmFyIGF4ID0gYVswXTtcclxuICB2YXIgYXkgPSBhWzFdO1xyXG4gIHZhciBheiA9IGFbMl07XHJcbiAgb3V0WzBdID0gYXggKyB0ICogKGJbMF0gLSBheCk7XHJcbiAgb3V0WzFdID0gYXkgKyB0ICogKGJbMV0gLSBheSk7XHJcbiAgb3V0WzJdID0gYXogKyB0ICogKGJbMl0gLSBheik7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogUGVyZm9ybXMgYSBoZXJtaXRlIGludGVycG9sYXRpb24gd2l0aCB0d28gY29udHJvbCBwb2ludHNcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBjIHRoZSB0aGlyZCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBkIHRoZSBmb3VydGggb3BlcmFuZFxyXG4gKiBAcGFyYW0ge051bWJlcn0gdCBpbnRlcnBvbGF0aW9uIGFtb3VudCwgaW4gdGhlIHJhbmdlIFswLTFdLCBiZXR3ZWVuIHRoZSB0d28gaW5wdXRzXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaGVybWl0ZShvdXQsIGEsIGIsIGMsIGQsIHQpIHtcclxuICB2YXIgZmFjdG9yVGltZXMyID0gdCAqIHQ7XHJcbiAgdmFyIGZhY3RvcjEgPSBmYWN0b3JUaW1lczIgKiAoMiAqIHQgLSAzKSArIDE7XHJcbiAgdmFyIGZhY3RvcjIgPSBmYWN0b3JUaW1lczIgKiAodCAtIDIpICsgdDtcclxuICB2YXIgZmFjdG9yMyA9IGZhY3RvclRpbWVzMiAqICh0IC0gMSk7XHJcbiAgdmFyIGZhY3RvcjQgPSBmYWN0b3JUaW1lczIgKiAoMyAtIDIgKiB0KTtcclxuICBvdXRbMF0gPSBhWzBdICogZmFjdG9yMSArIGJbMF0gKiBmYWN0b3IyICsgY1swXSAqIGZhY3RvcjMgKyBkWzBdICogZmFjdG9yNDtcclxuICBvdXRbMV0gPSBhWzFdICogZmFjdG9yMSArIGJbMV0gKiBmYWN0b3IyICsgY1sxXSAqIGZhY3RvcjMgKyBkWzFdICogZmFjdG9yNDtcclxuICBvdXRbMl0gPSBhWzJdICogZmFjdG9yMSArIGJbMl0gKiBmYWN0b3IyICsgY1syXSAqIGZhY3RvcjMgKyBkWzJdICogZmFjdG9yNDtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBQZXJmb3JtcyBhIGJlemllciBpbnRlcnBvbGF0aW9uIHdpdGggdHdvIGNvbnRyb2wgcG9pbnRzXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYyB0aGUgdGhpcmQgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gZCB0aGUgZm91cnRoIG9wZXJhbmRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0c1xyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGJlemllcihvdXQsIGEsIGIsIGMsIGQsIHQpIHtcclxuICB2YXIgaW52ZXJzZUZhY3RvciA9IDEgLSB0O1xyXG4gIHZhciBpbnZlcnNlRmFjdG9yVGltZXNUd28gPSBpbnZlcnNlRmFjdG9yICogaW52ZXJzZUZhY3RvcjtcclxuICB2YXIgZmFjdG9yVGltZXMyID0gdCAqIHQ7XHJcbiAgdmFyIGZhY3RvcjEgPSBpbnZlcnNlRmFjdG9yVGltZXNUd28gKiBpbnZlcnNlRmFjdG9yO1xyXG4gIHZhciBmYWN0b3IyID0gMyAqIHQgKiBpbnZlcnNlRmFjdG9yVGltZXNUd287XHJcbiAgdmFyIGZhY3RvcjMgPSAzICogZmFjdG9yVGltZXMyICogaW52ZXJzZUZhY3RvcjtcclxuICB2YXIgZmFjdG9yNCA9IGZhY3RvclRpbWVzMiAqIHQ7XHJcbiAgb3V0WzBdID0gYVswXSAqIGZhY3RvcjEgKyBiWzBdICogZmFjdG9yMiArIGNbMF0gKiBmYWN0b3IzICsgZFswXSAqIGZhY3RvcjQ7XHJcbiAgb3V0WzFdID0gYVsxXSAqIGZhY3RvcjEgKyBiWzFdICogZmFjdG9yMiArIGNbMV0gKiBmYWN0b3IzICsgZFsxXSAqIGZhY3RvcjQ7XHJcbiAgb3V0WzJdID0gYVsyXSAqIGZhY3RvcjEgKyBiWzJdICogZmFjdG9yMiArIGNbMl0gKiBmYWN0b3IzICsgZFsyXSAqIGZhY3RvcjQ7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogR2VuZXJhdGVzIGEgcmFuZG9tIHZlY3RvciB3aXRoIHRoZSBnaXZlbiBzY2FsZVxyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge051bWJlcn0gW3NjYWxlXSBMZW5ndGggb2YgdGhlIHJlc3VsdGluZyB2ZWN0b3IuIElmIG9tbWl0dGVkLCBhIHVuaXQgdmVjdG9yIHdpbGwgYmUgcmV0dXJuZWRcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByYW5kb20ob3V0LCBzY2FsZSkge1xyXG4gIHNjYWxlID0gc2NhbGUgfHwgMS4wO1xyXG4gIHZhciByID0gZ2xNYXRyaXguUkFORE9NKCkgKiAyLjAgKiBNYXRoLlBJO1xyXG4gIHZhciB6ID0gZ2xNYXRyaXguUkFORE9NKCkgKiAyLjAgLSAxLjA7XHJcbiAgdmFyIHpTY2FsZSA9IE1hdGguc3FydCgxLjAgLSB6ICogeikgKiBzY2FsZTtcclxuICBvdXRbMF0gPSBNYXRoLmNvcyhyKSAqIHpTY2FsZTtcclxuICBvdXRbMV0gPSBNYXRoLnNpbihyKSAqIHpTY2FsZTtcclxuICBvdXRbMl0gPSB6ICogc2NhbGU7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogVHJhbnNmb3JtcyB0aGUgdmVjMyB3aXRoIGEgbWF0NC5cclxuICogNHRoIHZlY3RvciBjb21wb25lbnQgaXMgaW1wbGljaXRseSAnMSdcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIHZlY3RvciB0byB0cmFuc2Zvcm1cclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IG0gbWF0cml4IHRvIHRyYW5zZm9ybSB3aXRoXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtTWF0NChvdXQsIGEsIG0pIHtcclxuICB2YXIgeCA9IGFbMF0sXHJcbiAgICAgIHkgPSBhWzFdLFxyXG4gICAgICB6ID0gYVsyXTtcclxuICB2YXIgdyA9IG1bM10gKiB4ICsgbVs3XSAqIHkgKyBtWzExXSAqIHogKyBtWzE1XTtcclxuICB3ID0gdyB8fCAxLjA7XHJcbiAgb3V0WzBdID0gKG1bMF0gKiB4ICsgbVs0XSAqIHkgKyBtWzhdICogeiArIG1bMTJdKSAvIHc7XHJcbiAgb3V0WzFdID0gKG1bMV0gKiB4ICsgbVs1XSAqIHkgKyBtWzldICogeiArIG1bMTNdKSAvIHc7XHJcbiAgb3V0WzJdID0gKG1bMl0gKiB4ICsgbVs2XSAqIHkgKyBtWzEwXSAqIHogKyBtWzE0XSkgLyB3O1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFRyYW5zZm9ybXMgdGhlIHZlYzMgd2l0aCBhIG1hdDMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSB2ZWN0b3IgdG8gdHJhbnNmb3JtXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBtIHRoZSAzeDMgbWF0cml4IHRvIHRyYW5zZm9ybSB3aXRoXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtTWF0MyhvdXQsIGEsIG0pIHtcclxuICB2YXIgeCA9IGFbMF0sXHJcbiAgICAgIHkgPSBhWzFdLFxyXG4gICAgICB6ID0gYVsyXTtcclxuICBvdXRbMF0gPSB4ICogbVswXSArIHkgKiBtWzNdICsgeiAqIG1bNl07XHJcbiAgb3V0WzFdID0geCAqIG1bMV0gKyB5ICogbVs0XSArIHogKiBtWzddO1xyXG4gIG91dFsyXSA9IHggKiBtWzJdICsgeSAqIG1bNV0gKyB6ICogbVs4XTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBUcmFuc2Zvcm1zIHRoZSB2ZWMzIHdpdGggYSBxdWF0XHJcbiAqIENhbiBhbHNvIGJlIHVzZWQgZm9yIGR1YWwgcXVhdGVybmlvbnMuIChNdWx0aXBseSBpdCB3aXRoIHRoZSByZWFsIHBhcnQpXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSB2ZWN0b3IgdG8gdHJhbnNmb3JtXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBxIHF1YXRlcm5pb24gdG8gdHJhbnNmb3JtIHdpdGhcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1RdWF0KG91dCwgYSwgcSkge1xyXG4gIC8vIGJlbmNobWFya3M6IGh0dHBzOi8vanNwZXJmLmNvbS9xdWF0ZXJuaW9uLXRyYW5zZm9ybS12ZWMzLWltcGxlbWVudGF0aW9ucy1maXhlZFxyXG4gIHZhciBxeCA9IHFbMF0sXHJcbiAgICAgIHF5ID0gcVsxXSxcclxuICAgICAgcXogPSBxWzJdLFxyXG4gICAgICBxdyA9IHFbM107XHJcbiAgdmFyIHggPSBhWzBdLFxyXG4gICAgICB5ID0gYVsxXSxcclxuICAgICAgeiA9IGFbMl07IC8vIHZhciBxdmVjID0gW3F4LCBxeSwgcXpdO1xyXG4gIC8vIHZhciB1diA9IHZlYzMuY3Jvc3MoW10sIHF2ZWMsIGEpO1xyXG5cclxuICB2YXIgdXZ4ID0gcXkgKiB6IC0gcXogKiB5LFxyXG4gICAgICB1dnkgPSBxeiAqIHggLSBxeCAqIHosXHJcbiAgICAgIHV2eiA9IHF4ICogeSAtIHF5ICogeDsgLy8gdmFyIHV1diA9IHZlYzMuY3Jvc3MoW10sIHF2ZWMsIHV2KTtcclxuXHJcbiAgdmFyIHV1dnggPSBxeSAqIHV2eiAtIHF6ICogdXZ5LFxyXG4gICAgICB1dXZ5ID0gcXogKiB1dnggLSBxeCAqIHV2eixcclxuICAgICAgdXV2eiA9IHF4ICogdXZ5IC0gcXkgKiB1dng7IC8vIHZlYzMuc2NhbGUodXYsIHV2LCAyICogdyk7XHJcblxyXG4gIHZhciB3MiA9IHF3ICogMjtcclxuICB1dnggKj0gdzI7XHJcbiAgdXZ5ICo9IHcyO1xyXG4gIHV2eiAqPSB3MjsgLy8gdmVjMy5zY2FsZSh1dXYsIHV1diwgMik7XHJcblxyXG4gIHV1dnggKj0gMjtcclxuICB1dXZ5ICo9IDI7XHJcbiAgdXV2eiAqPSAyOyAvLyByZXR1cm4gdmVjMy5hZGQob3V0LCBhLCB2ZWMzLmFkZChvdXQsIHV2LCB1dXYpKTtcclxuXHJcbiAgb3V0WzBdID0geCArIHV2eCArIHV1dng7XHJcbiAgb3V0WzFdID0geSArIHV2eSArIHV1dnk7XHJcbiAgb3V0WzJdID0geiArIHV2eiArIHV1dno7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogUm90YXRlIGEgM0QgdmVjdG9yIGFyb3VuZCB0aGUgeC1heGlzXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IFRoZSByZWNlaXZpbmcgdmVjM1xyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSBUaGUgdmVjMyBwb2ludCB0byByb3RhdGVcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgVGhlIG9yaWdpbiBvZiB0aGUgcm90YXRpb25cclxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCBUaGUgYW5nbGUgb2Ygcm90YXRpb24gaW4gcmFkaWFuc1xyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVgob3V0LCBhLCBiLCByYWQpIHtcclxuICB2YXIgcCA9IFtdLFxyXG4gICAgICByID0gW107IC8vVHJhbnNsYXRlIHBvaW50IHRvIHRoZSBvcmlnaW5cclxuXHJcbiAgcFswXSA9IGFbMF0gLSBiWzBdO1xyXG4gIHBbMV0gPSBhWzFdIC0gYlsxXTtcclxuICBwWzJdID0gYVsyXSAtIGJbMl07IC8vcGVyZm9ybSByb3RhdGlvblxyXG5cclxuICByWzBdID0gcFswXTtcclxuICByWzFdID0gcFsxXSAqIE1hdGguY29zKHJhZCkgLSBwWzJdICogTWF0aC5zaW4ocmFkKTtcclxuICByWzJdID0gcFsxXSAqIE1hdGguc2luKHJhZCkgKyBwWzJdICogTWF0aC5jb3MocmFkKTsgLy90cmFuc2xhdGUgdG8gY29ycmVjdCBwb3NpdGlvblxyXG5cclxuICBvdXRbMF0gPSByWzBdICsgYlswXTtcclxuICBvdXRbMV0gPSByWzFdICsgYlsxXTtcclxuICBvdXRbMl0gPSByWzJdICsgYlsyXTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBSb3RhdGUgYSAzRCB2ZWN0b3IgYXJvdW5kIHRoZSB5LWF4aXNcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgVGhlIHJlY2VpdmluZyB2ZWMzXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIFRoZSB2ZWMzIHBvaW50IHRvIHJvdGF0ZVxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiBUaGUgb3JpZ2luIG9mIHRoZSByb3RhdGlvblxyXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIFRoZSBhbmdsZSBvZiByb3RhdGlvbiBpbiByYWRpYW5zXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWShvdXQsIGEsIGIsIHJhZCkge1xyXG4gIHZhciBwID0gW10sXHJcbiAgICAgIHIgPSBbXTsgLy9UcmFuc2xhdGUgcG9pbnQgdG8gdGhlIG9yaWdpblxyXG5cclxuICBwWzBdID0gYVswXSAtIGJbMF07XHJcbiAgcFsxXSA9IGFbMV0gLSBiWzFdO1xyXG4gIHBbMl0gPSBhWzJdIC0gYlsyXTsgLy9wZXJmb3JtIHJvdGF0aW9uXHJcblxyXG4gIHJbMF0gPSBwWzJdICogTWF0aC5zaW4ocmFkKSArIHBbMF0gKiBNYXRoLmNvcyhyYWQpO1xyXG4gIHJbMV0gPSBwWzFdO1xyXG4gIHJbMl0gPSBwWzJdICogTWF0aC5jb3MocmFkKSAtIHBbMF0gKiBNYXRoLnNpbihyYWQpOyAvL3RyYW5zbGF0ZSB0byBjb3JyZWN0IHBvc2l0aW9uXHJcblxyXG4gIG91dFswXSA9IHJbMF0gKyBiWzBdO1xyXG4gIG91dFsxXSA9IHJbMV0gKyBiWzFdO1xyXG4gIG91dFsyXSA9IHJbMl0gKyBiWzJdO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFJvdGF0ZSBhIDNEIHZlY3RvciBhcm91bmQgdGhlIHotYXhpc1xyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCBUaGUgcmVjZWl2aW5nIHZlYzNcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgVGhlIHZlYzMgcG9pbnQgdG8gcm90YXRlXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBvcmlnaW4gb2YgdGhlIHJvdGF0aW9uXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgVGhlIGFuZ2xlIG9mIHJvdGF0aW9uIGluIHJhZGlhbnNcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVaKG91dCwgYSwgYiwgcmFkKSB7XHJcbiAgdmFyIHAgPSBbXSxcclxuICAgICAgciA9IFtdOyAvL1RyYW5zbGF0ZSBwb2ludCB0byB0aGUgb3JpZ2luXHJcblxyXG4gIHBbMF0gPSBhWzBdIC0gYlswXTtcclxuICBwWzFdID0gYVsxXSAtIGJbMV07XHJcbiAgcFsyXSA9IGFbMl0gLSBiWzJdOyAvL3BlcmZvcm0gcm90YXRpb25cclxuXHJcbiAgclswXSA9IHBbMF0gKiBNYXRoLmNvcyhyYWQpIC0gcFsxXSAqIE1hdGguc2luKHJhZCk7XHJcbiAgclsxXSA9IHBbMF0gKiBNYXRoLnNpbihyYWQpICsgcFsxXSAqIE1hdGguY29zKHJhZCk7XHJcbiAgclsyXSA9IHBbMl07IC8vdHJhbnNsYXRlIHRvIGNvcnJlY3QgcG9zaXRpb25cclxuXHJcbiAgb3V0WzBdID0gclswXSArIGJbMF07XHJcbiAgb3V0WzFdID0gclsxXSArIGJbMV07XHJcbiAgb3V0WzJdID0gclsyXSArIGJbMl07XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogR2V0IHRoZSBhbmdsZSBiZXR3ZWVuIHR3byAzRCB2ZWN0b3JzXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIFRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgYW5nbGUgaW4gcmFkaWFuc1xyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhbmdsZShhLCBiKSB7XHJcbiAgdmFyIGF4ID0gYVswXSxcclxuICAgICAgYXkgPSBhWzFdLFxyXG4gICAgICBheiA9IGFbMl0sXHJcbiAgICAgIGJ4ID0gYlswXSxcclxuICAgICAgYnkgPSBiWzFdLFxyXG4gICAgICBieiA9IGJbMl0sXHJcbiAgICAgIG1hZzEgPSBNYXRoLnNxcnQoYXggKiBheCArIGF5ICogYXkgKyBheiAqIGF6KSxcclxuICAgICAgbWFnMiA9IE1hdGguc3FydChieCAqIGJ4ICsgYnkgKiBieSArIGJ6ICogYnopLFxyXG4gICAgICBtYWcgPSBtYWcxICogbWFnMixcclxuICAgICAgY29zaW5lID0gbWFnICYmIGRvdChhLCBiKSAvIG1hZztcclxuICByZXR1cm4gTWF0aC5hY29zKE1hdGgubWluKE1hdGgubWF4KGNvc2luZSwgLTEpLCAxKSk7XHJcbn1cclxuLyoqXHJcbiAqIFNldCB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzMgdG8gemVyb1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHplcm8ob3V0KSB7XHJcbiAgb3V0WzBdID0gMC4wO1xyXG4gIG91dFsxXSA9IDAuMDtcclxuICBvdXRbMl0gPSAwLjA7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhIHZlY3RvclxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gcmVwcmVzZW50IGFzIGEgc3RyaW5nXHJcbiAqIEByZXR1cm5zIHtTdHJpbmd9IHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgdmVjdG9yXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHN0cihhKSB7XHJcbiAgcmV0dXJuIFwidmVjMyhcIiArIGFbMF0gKyBcIiwgXCIgKyBhWzFdICsgXCIsIFwiICsgYVsyXSArIFwiKVwiO1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSB2ZWN0b3JzIGhhdmUgZXhhY3RseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbiAod2hlbiBjb21wYXJlZCB3aXRoID09PSlcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgVGhlIGZpcnN0IHZlY3Rvci5cclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgVGhlIHNlY29uZCB2ZWN0b3IuXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSB2ZWN0b3JzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBleGFjdEVxdWFscyhhLCBiKSB7XHJcbiAgcmV0dXJuIGFbMF0gPT09IGJbMF0gJiYgYVsxXSA9PT0gYlsxXSAmJiBhWzJdID09PSBiWzJdO1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSB2ZWN0b3JzIGhhdmUgYXBwcm94aW1hdGVseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbi5cclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgVGhlIGZpcnN0IHZlY3Rvci5cclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgVGhlIHNlY29uZCB2ZWN0b3IuXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSB2ZWN0b3JzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBlcXVhbHMoYSwgYikge1xyXG4gIHZhciBhMCA9IGFbMF0sXHJcbiAgICAgIGExID0gYVsxXSxcclxuICAgICAgYTIgPSBhWzJdO1xyXG4gIHZhciBiMCA9IGJbMF0sXHJcbiAgICAgIGIxID0gYlsxXSxcclxuICAgICAgYjIgPSBiWzJdO1xyXG4gIHJldHVybiBNYXRoLmFicyhhMCAtIGIwKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMCksIE1hdGguYWJzKGIwKSkgJiYgTWF0aC5hYnMoYTEgLSBiMSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTEpLCBNYXRoLmFicyhiMSkpICYmIE1hdGguYWJzKGEyIC0gYjIpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEyKSwgTWF0aC5hYnMoYjIpKTtcclxufVxyXG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLnN1YnRyYWN0fVxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgdmFyIHN1YiA9IHN1YnRyYWN0O1xyXG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLm11bHRpcGx5fVxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgdmFyIG11bCA9IG11bHRpcGx5O1xyXG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLmRpdmlkZX1cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBkaXYgPSBkaXZpZGU7XHJcbi8qKlxyXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzMuZGlzdGFuY2V9XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgZGlzdCA9IGRpc3RhbmNlO1xyXG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLnNxdWFyZWREaXN0YW5jZX1cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBzcXJEaXN0ID0gc3F1YXJlZERpc3RhbmNlO1xyXG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLmxlbmd0aH1cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBsZW4gPSBsZW5ndGg7XHJcbi8qKlxyXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzMuc3F1YXJlZExlbmd0aH1cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBzcXJMZW4gPSBzcXVhcmVkTGVuZ3RoO1xyXG4vKipcclxuICogUGVyZm9ybSBzb21lIG9wZXJhdGlvbiBvdmVyIGFuIGFycmF5IG9mIHZlYzNzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge0FycmF5fSBhIHRoZSBhcnJheSBvZiB2ZWN0b3JzIHRvIGl0ZXJhdGUgb3ZlclxyXG4gKiBAcGFyYW0ge051bWJlcn0gc3RyaWRlIE51bWJlciBvZiBlbGVtZW50cyBiZXR3ZWVuIHRoZSBzdGFydCBvZiBlYWNoIHZlYzMuIElmIDAgYXNzdW1lcyB0aWdodGx5IHBhY2tlZFxyXG4gKiBAcGFyYW0ge051bWJlcn0gb2Zmc2V0IE51bWJlciBvZiBlbGVtZW50cyB0byBza2lwIGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIGFycmF5XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBjb3VudCBOdW1iZXIgb2YgdmVjM3MgdG8gaXRlcmF0ZSBvdmVyLiBJZiAwIGl0ZXJhdGVzIG92ZXIgZW50aXJlIGFycmF5XHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIEZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggdmVjdG9yIGluIHRoZSBhcnJheVxyXG4gKiBAcGFyYW0ge09iamVjdH0gW2FyZ10gYWRkaXRpb25hbCBhcmd1bWVudCB0byBwYXNzIHRvIGZuXHJcbiAqIEByZXR1cm5zIHtBcnJheX0gYVxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgdmFyIGZvckVhY2ggPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIHZlYyA9IGNyZWF0ZSgpO1xyXG4gIHJldHVybiBmdW5jdGlvbiAoYSwgc3RyaWRlLCBvZmZzZXQsIGNvdW50LCBmbiwgYXJnKSB7XHJcbiAgICB2YXIgaSwgbDtcclxuXHJcbiAgICBpZiAoIXN0cmlkZSkge1xyXG4gICAgICBzdHJpZGUgPSAzO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghb2Zmc2V0KSB7XHJcbiAgICAgIG9mZnNldCA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGNvdW50KSB7XHJcbiAgICAgIGwgPSBNYXRoLm1pbihjb3VudCAqIHN0cmlkZSArIG9mZnNldCwgYS5sZW5ndGgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbCA9IGEubGVuZ3RoO1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAoaSA9IG9mZnNldDsgaSA8IGw7IGkgKz0gc3RyaWRlKSB7XHJcbiAgICAgIHZlY1swXSA9IGFbaV07XHJcbiAgICAgIHZlY1sxXSA9IGFbaSArIDFdO1xyXG4gICAgICB2ZWNbMl0gPSBhW2kgKyAyXTtcclxuICAgICAgZm4odmVjLCB2ZWMsIGFyZyk7XHJcbiAgICAgIGFbaV0gPSB2ZWNbMF07XHJcbiAgICAgIGFbaSArIDFdID0gdmVjWzFdO1xyXG4gICAgICBhW2kgKyAyXSA9IHZlY1syXTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gYTtcclxuICB9O1xyXG59KCk7IiwgImltcG9ydCAqIGFzIGdsTWF0cml4IGZyb20gXCIuL2NvbW1vbi5qc1wiO1xyXG4vKipcclxuICogNCBEaW1lbnNpb25hbCBWZWN0b3JcclxuICogQG1vZHVsZSB2ZWM0XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBuZXcsIGVtcHR5IHZlYzRcclxuICpcclxuICogQHJldHVybnMge3ZlYzR9IGEgbmV3IDREIHZlY3RvclxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoKSB7XHJcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDQpO1xyXG5cclxuICBpZiAoZ2xNYXRyaXguQVJSQVlfVFlQRSAhPSBGbG9hdDMyQXJyYXkpIHtcclxuICAgIG91dFswXSA9IDA7XHJcbiAgICBvdXRbMV0gPSAwO1xyXG4gICAgb3V0WzJdID0gMDtcclxuICAgIG91dFszXSA9IDA7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgbmV3IHZlYzQgaW5pdGlhbGl6ZWQgd2l0aCB2YWx1ZXMgZnJvbSBhbiBleGlzdGluZyB2ZWN0b3JcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdmVjdG9yIHRvIGNsb25lXHJcbiAqIEByZXR1cm5zIHt2ZWM0fSBhIG5ldyA0RCB2ZWN0b3JcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2xvbmUoYSkge1xyXG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg0KTtcclxuICBvdXRbMF0gPSBhWzBdO1xyXG4gIG91dFsxXSA9IGFbMV07XHJcbiAgb3V0WzJdID0gYVsyXTtcclxuICBvdXRbM10gPSBhWzNdO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBuZXcgdmVjNCBpbml0aWFsaXplZCB3aXRoIHRoZSBnaXZlbiB2YWx1ZXNcclxuICpcclxuICogQHBhcmFtIHtOdW1iZXJ9IHggWCBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHkgWSBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHogWiBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHcgVyBjb21wb25lbnRcclxuICogQHJldHVybnMge3ZlYzR9IGEgbmV3IDREIHZlY3RvclxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmcm9tVmFsdWVzKHgsIHksIHosIHcpIHtcclxuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoNCk7XHJcbiAgb3V0WzBdID0geDtcclxuICBvdXRbMV0gPSB5O1xyXG4gIG91dFsyXSA9IHo7XHJcbiAgb3V0WzNdID0gdztcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDb3B5IHRoZSB2YWx1ZXMgZnJvbSBvbmUgdmVjNCB0byBhbm90aGVyXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBzb3VyY2UgdmVjdG9yXHJcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY29weShvdXQsIGEpIHtcclxuICBvdXRbMF0gPSBhWzBdO1xyXG4gIG91dFsxXSA9IGFbMV07XHJcbiAgb3V0WzJdID0gYVsyXTtcclxuICBvdXRbM10gPSBhWzNdO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFNldCB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzQgdG8gdGhlIGdpdmVuIHZhbHVlc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge051bWJlcn0geCBYIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge051bWJlcn0geSBZIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge051bWJlcn0geiBaIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge051bWJlcn0gdyBXIGNvbXBvbmVudFxyXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNldChvdXQsIHgsIHksIHosIHcpIHtcclxuICBvdXRbMF0gPSB4O1xyXG4gIG91dFsxXSA9IHk7XHJcbiAgb3V0WzJdID0gejtcclxuICBvdXRbM10gPSB3O1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIEFkZHMgdHdvIHZlYzQnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge3ZlYzR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhZGQob3V0LCBhLCBiKSB7XHJcbiAgb3V0WzBdID0gYVswXSArIGJbMF07XHJcbiAgb3V0WzFdID0gYVsxXSArIGJbMV07XHJcbiAgb3V0WzJdID0gYVsyXSArIGJbMl07XHJcbiAgb3V0WzNdID0gYVszXSArIGJbM107XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogU3VidHJhY3RzIHZlY3RvciBiIGZyb20gdmVjdG9yIGFcclxuICpcclxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc3VidHJhY3Qob3V0LCBhLCBiKSB7XHJcbiAgb3V0WzBdID0gYVswXSAtIGJbMF07XHJcbiAgb3V0WzFdID0gYVsxXSAtIGJbMV07XHJcbiAgb3V0WzJdID0gYVsyXSAtIGJbMl07XHJcbiAgb3V0WzNdID0gYVszXSAtIGJbM107XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogTXVsdGlwbGllcyB0d28gdmVjNCdzXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5KG91dCwgYSwgYikge1xyXG4gIG91dFswXSA9IGFbMF0gKiBiWzBdO1xyXG4gIG91dFsxXSA9IGFbMV0gKiBiWzFdO1xyXG4gIG91dFsyXSA9IGFbMl0gKiBiWzJdO1xyXG4gIG91dFszXSA9IGFbM10gKiBiWzNdO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIERpdmlkZXMgdHdvIHZlYzQnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge3ZlYzR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBkaXZpZGUob3V0LCBhLCBiKSB7XHJcbiAgb3V0WzBdID0gYVswXSAvIGJbMF07XHJcbiAgb3V0WzFdID0gYVsxXSAvIGJbMV07XHJcbiAgb3V0WzJdID0gYVsyXSAvIGJbMl07XHJcbiAgb3V0WzNdID0gYVszXSAvIGJbM107XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogTWF0aC5jZWlsIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjNFxyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gY2VpbFxyXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNlaWwob3V0LCBhKSB7XHJcbiAgb3V0WzBdID0gTWF0aC5jZWlsKGFbMF0pO1xyXG4gIG91dFsxXSA9IE1hdGguY2VpbChhWzFdKTtcclxuICBvdXRbMl0gPSBNYXRoLmNlaWwoYVsyXSk7XHJcbiAgb3V0WzNdID0gTWF0aC5jZWlsKGFbM10pO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIE1hdGguZmxvb3IgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWM0XHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHZlY3RvciB0byBmbG9vclxyXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZsb29yKG91dCwgYSkge1xyXG4gIG91dFswXSA9IE1hdGguZmxvb3IoYVswXSk7XHJcbiAgb3V0WzFdID0gTWF0aC5mbG9vcihhWzFdKTtcclxuICBvdXRbMl0gPSBNYXRoLmZsb29yKGFbMl0pO1xyXG4gIG91dFszXSA9IE1hdGguZmxvb3IoYVszXSk7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogUmV0dXJucyB0aGUgbWluaW11bSBvZiB0d28gdmVjNCdzXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1pbihvdXQsIGEsIGIpIHtcclxuICBvdXRbMF0gPSBNYXRoLm1pbihhWzBdLCBiWzBdKTtcclxuICBvdXRbMV0gPSBNYXRoLm1pbihhWzFdLCBiWzFdKTtcclxuICBvdXRbMl0gPSBNYXRoLm1pbihhWzJdLCBiWzJdKTtcclxuICBvdXRbM10gPSBNYXRoLm1pbihhWzNdLCBiWzNdKTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBtYXhpbXVtIG9mIHR3byB2ZWM0J3NcclxuICpcclxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbWF4KG91dCwgYSwgYikge1xyXG4gIG91dFswXSA9IE1hdGgubWF4KGFbMF0sIGJbMF0pO1xyXG4gIG91dFsxXSA9IE1hdGgubWF4KGFbMV0sIGJbMV0pO1xyXG4gIG91dFsyXSA9IE1hdGgubWF4KGFbMl0sIGJbMl0pO1xyXG4gIG91dFszXSA9IE1hdGgubWF4KGFbM10sIGJbM10pO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIE1hdGgucm91bmQgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWM0XHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHZlY3RvciB0byByb3VuZFxyXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJvdW5kKG91dCwgYSkge1xyXG4gIG91dFswXSA9IE1hdGgucm91bmQoYVswXSk7XHJcbiAgb3V0WzFdID0gTWF0aC5yb3VuZChhWzFdKTtcclxuICBvdXRbMl0gPSBNYXRoLnJvdW5kKGFbMl0pO1xyXG4gIG91dFszXSA9IE1hdGgucm91bmQoYVszXSk7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogU2NhbGVzIGEgdmVjNCBieSBhIHNjYWxhciBudW1iZXJcclxuICpcclxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIHZlY3RvciB0byBzY2FsZVxyXG4gKiBAcGFyYW0ge051bWJlcn0gYiBhbW91bnQgdG8gc2NhbGUgdGhlIHZlY3RvciBieVxyXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlKG91dCwgYSwgYikge1xyXG4gIG91dFswXSA9IGFbMF0gKiBiO1xyXG4gIG91dFsxXSA9IGFbMV0gKiBiO1xyXG4gIG91dFsyXSA9IGFbMl0gKiBiO1xyXG4gIG91dFszXSA9IGFbM10gKiBiO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIEFkZHMgdHdvIHZlYzQncyBhZnRlciBzY2FsaW5nIHRoZSBzZWNvbmQgb3BlcmFuZCBieSBhIHNjYWxhciB2YWx1ZVxyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlIHRoZSBhbW91bnQgdG8gc2NhbGUgYiBieSBiZWZvcmUgYWRkaW5nXHJcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2NhbGVBbmRBZGQob3V0LCBhLCBiLCBzY2FsZSkge1xyXG4gIG91dFswXSA9IGFbMF0gKyBiWzBdICogc2NhbGU7XHJcbiAgb3V0WzFdID0gYVsxXSArIGJbMV0gKiBzY2FsZTtcclxuICBvdXRbMl0gPSBhWzJdICsgYlsyXSAqIHNjYWxlO1xyXG4gIG91dFszXSA9IGFbM10gKyBiWzNdICogc2NhbGU7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgZXVjbGlkaWFuIGRpc3RhbmNlIGJldHdlZW4gdHdvIHZlYzQnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge051bWJlcn0gZGlzdGFuY2UgYmV0d2VlbiBhIGFuZCBiXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRpc3RhbmNlKGEsIGIpIHtcclxuICB2YXIgeCA9IGJbMF0gLSBhWzBdO1xyXG4gIHZhciB5ID0gYlsxXSAtIGFbMV07XHJcbiAgdmFyIHogPSBiWzJdIC0gYVsyXTtcclxuICB2YXIgdyA9IGJbM10gLSBhWzNdO1xyXG4gIHJldHVybiBNYXRoLmh5cG90KHgsIHksIHosIHcpO1xyXG59XHJcbi8qKlxyXG4gKiBDYWxjdWxhdGVzIHRoZSBzcXVhcmVkIGV1Y2xpZGlhbiBkaXN0YW5jZSBiZXR3ZWVuIHR3byB2ZWM0J3NcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IHNxdWFyZWQgZGlzdGFuY2UgYmV0d2VlbiBhIGFuZCBiXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNxdWFyZWREaXN0YW5jZShhLCBiKSB7XHJcbiAgdmFyIHggPSBiWzBdIC0gYVswXTtcclxuICB2YXIgeSA9IGJbMV0gLSBhWzFdO1xyXG4gIHZhciB6ID0gYlsyXSAtIGFbMl07XHJcbiAgdmFyIHcgPSBiWzNdIC0gYVszXTtcclxuICByZXR1cm4geCAqIHggKyB5ICogeSArIHogKiB6ICsgdyAqIHc7XHJcbn1cclxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgdGhlIGxlbmd0aCBvZiBhIHZlYzRcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdmVjdG9yIHRvIGNhbGN1bGF0ZSBsZW5ndGggb2ZcclxuICogQHJldHVybnMge051bWJlcn0gbGVuZ3RoIG9mIGFcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbGVuZ3RoKGEpIHtcclxuICB2YXIgeCA9IGFbMF07XHJcbiAgdmFyIHkgPSBhWzFdO1xyXG4gIHZhciB6ID0gYVsyXTtcclxuICB2YXIgdyA9IGFbM107XHJcbiAgcmV0dXJuIE1hdGguaHlwb3QoeCwgeSwgeiwgdyk7XHJcbn1cclxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgdGhlIHNxdWFyZWQgbGVuZ3RoIG9mIGEgdmVjNFxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gY2FsY3VsYXRlIHNxdWFyZWQgbGVuZ3RoIG9mXHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IHNxdWFyZWQgbGVuZ3RoIG9mIGFcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc3F1YXJlZExlbmd0aChhKSB7XHJcbiAgdmFyIHggPSBhWzBdO1xyXG4gIHZhciB5ID0gYVsxXTtcclxuICB2YXIgeiA9IGFbMl07XHJcbiAgdmFyIHcgPSBhWzNdO1xyXG4gIHJldHVybiB4ICogeCArIHkgKiB5ICsgeiAqIHogKyB3ICogdztcclxufVxyXG4vKipcclxuICogTmVnYXRlcyB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzRcclxuICpcclxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdmVjdG9yIHRvIG5lZ2F0ZVxyXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG5lZ2F0ZShvdXQsIGEpIHtcclxuICBvdXRbMF0gPSAtYVswXTtcclxuICBvdXRbMV0gPSAtYVsxXTtcclxuICBvdXRbMl0gPSAtYVsyXTtcclxuICBvdXRbM10gPSAtYVszXTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBpbnZlcnNlIG9mIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjNFxyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gaW52ZXJ0XHJcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW52ZXJzZShvdXQsIGEpIHtcclxuICBvdXRbMF0gPSAxLjAgLyBhWzBdO1xyXG4gIG91dFsxXSA9IDEuMCAvIGFbMV07XHJcbiAgb3V0WzJdID0gMS4wIC8gYVsyXTtcclxuICBvdXRbM10gPSAxLjAgLyBhWzNdO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIE5vcm1hbGl6ZSBhIHZlYzRcclxuICpcclxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdmVjdG9yIHRvIG5vcm1hbGl6ZVxyXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZShvdXQsIGEpIHtcclxuICB2YXIgeCA9IGFbMF07XHJcbiAgdmFyIHkgPSBhWzFdO1xyXG4gIHZhciB6ID0gYVsyXTtcclxuICB2YXIgdyA9IGFbM107XHJcbiAgdmFyIGxlbiA9IHggKiB4ICsgeSAqIHkgKyB6ICogeiArIHcgKiB3O1xyXG5cclxuICBpZiAobGVuID4gMCkge1xyXG4gICAgbGVuID0gMSAvIE1hdGguc3FydChsZW4pO1xyXG4gIH1cclxuXHJcbiAgb3V0WzBdID0geCAqIGxlbjtcclxuICBvdXRbMV0gPSB5ICogbGVuO1xyXG4gIG91dFsyXSA9IHogKiBsZW47XHJcbiAgb3V0WzNdID0gdyAqIGxlbjtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDYWxjdWxhdGVzIHRoZSBkb3QgcHJvZHVjdCBvZiB0d28gdmVjNCdzXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBkb3QgcHJvZHVjdCBvZiBhIGFuZCBiXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRvdChhLCBiKSB7XHJcbiAgcmV0dXJuIGFbMF0gKiBiWzBdICsgYVsxXSAqIGJbMV0gKyBhWzJdICogYlsyXSArIGFbM10gKiBiWzNdO1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBjcm9zcy1wcm9kdWN0IG9mIHRocmVlIHZlY3RvcnMgaW4gYSA0LWRpbWVuc2lvbmFsIHNwYWNlXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSByZXN1bHQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IFUgdGhlIGZpcnN0IHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gViB0aGUgc2Vjb25kIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gVyB0aGUgdGhpcmQgdmVjdG9yXHJcbiAqIEByZXR1cm5zIHt2ZWM0fSByZXN1bHRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3Jvc3Mob3V0LCB1LCB2LCB3KSB7XHJcbiAgdmFyIEEgPSB2WzBdICogd1sxXSAtIHZbMV0gKiB3WzBdLFxyXG4gICAgICBCID0gdlswXSAqIHdbMl0gLSB2WzJdICogd1swXSxcclxuICAgICAgQyA9IHZbMF0gKiB3WzNdIC0gdlszXSAqIHdbMF0sXHJcbiAgICAgIEQgPSB2WzFdICogd1syXSAtIHZbMl0gKiB3WzFdLFxyXG4gICAgICBFID0gdlsxXSAqIHdbM10gLSB2WzNdICogd1sxXSxcclxuICAgICAgRiA9IHZbMl0gKiB3WzNdIC0gdlszXSAqIHdbMl07XHJcbiAgdmFyIEcgPSB1WzBdO1xyXG4gIHZhciBIID0gdVsxXTtcclxuICB2YXIgSSA9IHVbMl07XHJcbiAgdmFyIEogPSB1WzNdO1xyXG4gIG91dFswXSA9IEggKiBGIC0gSSAqIEUgKyBKICogRDtcclxuICBvdXRbMV0gPSAtKEcgKiBGKSArIEkgKiBDIC0gSiAqIEI7XHJcbiAgb3V0WzJdID0gRyAqIEUgLSBIICogQyArIEogKiBBO1xyXG4gIG91dFszXSA9IC0oRyAqIEQpICsgSCAqIEIgLSBJICogQTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBQZXJmb3JtcyBhIGxpbmVhciBpbnRlcnBvbGF0aW9uIGJldHdlZW4gdHdvIHZlYzQnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0c1xyXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGxlcnAob3V0LCBhLCBiLCB0KSB7XHJcbiAgdmFyIGF4ID0gYVswXTtcclxuICB2YXIgYXkgPSBhWzFdO1xyXG4gIHZhciBheiA9IGFbMl07XHJcbiAgdmFyIGF3ID0gYVszXTtcclxuICBvdXRbMF0gPSBheCArIHQgKiAoYlswXSAtIGF4KTtcclxuICBvdXRbMV0gPSBheSArIHQgKiAoYlsxXSAtIGF5KTtcclxuICBvdXRbMl0gPSBheiArIHQgKiAoYlsyXSAtIGF6KTtcclxuICBvdXRbM10gPSBhdyArIHQgKiAoYlszXSAtIGF3KTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBHZW5lcmF0ZXMgYSByYW5kb20gdmVjdG9yIHdpdGggdGhlIGdpdmVuIHNjYWxlXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBbc2NhbGVdIExlbmd0aCBvZiB0aGUgcmVzdWx0aW5nIHZlY3Rvci4gSWYgb21taXR0ZWQsIGEgdW5pdCB2ZWN0b3Igd2lsbCBiZSByZXR1cm5lZFxyXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbShvdXQsIHNjYWxlKSB7XHJcbiAgc2NhbGUgPSBzY2FsZSB8fCAxLjA7IC8vIE1hcnNhZ2xpYSwgR2VvcmdlLiBDaG9vc2luZyBhIFBvaW50IGZyb20gdGhlIFN1cmZhY2Ugb2YgYVxyXG4gIC8vIFNwaGVyZS4gQW5uLiBNYXRoLiBTdGF0aXN0LiA0MyAoMTk3MiksIG5vLiAyLCA2NDUtLTY0Ni5cclxuICAvLyBodHRwOi8vcHJvamVjdGV1Y2xpZC5vcmcvZXVjbGlkLmFvbXMvMTE3NzY5MjY0NDtcclxuXHJcbiAgdmFyIHYxLCB2MiwgdjMsIHY0O1xyXG4gIHZhciBzMSwgczI7XHJcblxyXG4gIGRvIHtcclxuICAgIHYxID0gZ2xNYXRyaXguUkFORE9NKCkgKiAyIC0gMTtcclxuICAgIHYyID0gZ2xNYXRyaXguUkFORE9NKCkgKiAyIC0gMTtcclxuICAgIHMxID0gdjEgKiB2MSArIHYyICogdjI7XHJcbiAgfSB3aGlsZSAoczEgPj0gMSk7XHJcblxyXG4gIGRvIHtcclxuICAgIHYzID0gZ2xNYXRyaXguUkFORE9NKCkgKiAyIC0gMTtcclxuICAgIHY0ID0gZ2xNYXRyaXguUkFORE9NKCkgKiAyIC0gMTtcclxuICAgIHMyID0gdjMgKiB2MyArIHY0ICogdjQ7XHJcbiAgfSB3aGlsZSAoczIgPj0gMSk7XHJcblxyXG4gIHZhciBkID0gTWF0aC5zcXJ0KCgxIC0gczEpIC8gczIpO1xyXG4gIG91dFswXSA9IHNjYWxlICogdjE7XHJcbiAgb3V0WzFdID0gc2NhbGUgKiB2MjtcclxuICBvdXRbMl0gPSBzY2FsZSAqIHYzICogZDtcclxuICBvdXRbM10gPSBzY2FsZSAqIHY0ICogZDtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBUcmFuc2Zvcm1zIHRoZSB2ZWM0IHdpdGggYSBtYXQ0LlxyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgdmVjdG9yIHRvIHRyYW5zZm9ybVxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gbSBtYXRyaXggdG8gdHJhbnNmb3JtIHdpdGhcclxuICogQHJldHVybnMge3ZlYzR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1NYXQ0KG91dCwgYSwgbSkge1xyXG4gIHZhciB4ID0gYVswXSxcclxuICAgICAgeSA9IGFbMV0sXHJcbiAgICAgIHogPSBhWzJdLFxyXG4gICAgICB3ID0gYVszXTtcclxuICBvdXRbMF0gPSBtWzBdICogeCArIG1bNF0gKiB5ICsgbVs4XSAqIHogKyBtWzEyXSAqIHc7XHJcbiAgb3V0WzFdID0gbVsxXSAqIHggKyBtWzVdICogeSArIG1bOV0gKiB6ICsgbVsxM10gKiB3O1xyXG4gIG91dFsyXSA9IG1bMl0gKiB4ICsgbVs2XSAqIHkgKyBtWzEwXSAqIHogKyBtWzE0XSAqIHc7XHJcbiAgb3V0WzNdID0gbVszXSAqIHggKyBtWzddICogeSArIG1bMTFdICogeiArIG1bMTVdICogdztcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBUcmFuc2Zvcm1zIHRoZSB2ZWM0IHdpdGggYSBxdWF0XHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSB2ZWN0b3IgdG8gdHJhbnNmb3JtXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBxIHF1YXRlcm5pb24gdG8gdHJhbnNmb3JtIHdpdGhcclxuICogQHJldHVybnMge3ZlYzR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1RdWF0KG91dCwgYSwgcSkge1xyXG4gIHZhciB4ID0gYVswXSxcclxuICAgICAgeSA9IGFbMV0sXHJcbiAgICAgIHogPSBhWzJdO1xyXG4gIHZhciBxeCA9IHFbMF0sXHJcbiAgICAgIHF5ID0gcVsxXSxcclxuICAgICAgcXogPSBxWzJdLFxyXG4gICAgICBxdyA9IHFbM107IC8vIGNhbGN1bGF0ZSBxdWF0ICogdmVjXHJcblxyXG4gIHZhciBpeCA9IHF3ICogeCArIHF5ICogeiAtIHF6ICogeTtcclxuICB2YXIgaXkgPSBxdyAqIHkgKyBxeiAqIHggLSBxeCAqIHo7XHJcbiAgdmFyIGl6ID0gcXcgKiB6ICsgcXggKiB5IC0gcXkgKiB4O1xyXG4gIHZhciBpdyA9IC1xeCAqIHggLSBxeSAqIHkgLSBxeiAqIHo7IC8vIGNhbGN1bGF0ZSByZXN1bHQgKiBpbnZlcnNlIHF1YXRcclxuXHJcbiAgb3V0WzBdID0gaXggKiBxdyArIGl3ICogLXF4ICsgaXkgKiAtcXogLSBpeiAqIC1xeTtcclxuICBvdXRbMV0gPSBpeSAqIHF3ICsgaXcgKiAtcXkgKyBpeiAqIC1xeCAtIGl4ICogLXF6O1xyXG4gIG91dFsyXSA9IGl6ICogcXcgKyBpdyAqIC1xeiArIGl4ICogLXF5IC0gaXkgKiAtcXg7XHJcbiAgb3V0WzNdID0gYVszXTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWM0IHRvIHplcm9cclxuICpcclxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHJldHVybnMge3ZlYzR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB6ZXJvKG91dCkge1xyXG4gIG91dFswXSA9IDAuMDtcclxuICBvdXRbMV0gPSAwLjA7XHJcbiAgb3V0WzJdID0gMC4wO1xyXG4gIG91dFszXSA9IDAuMDtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGEgdmVjdG9yXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHZlY3RvciB0byByZXByZXNlbnQgYXMgYSBzdHJpbmdcclxuICogQHJldHVybnMge1N0cmluZ30gc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSB2ZWN0b3JcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc3RyKGEpIHtcclxuICByZXR1cm4gXCJ2ZWM0KFwiICsgYVswXSArIFwiLCBcIiArIGFbMV0gKyBcIiwgXCIgKyBhWzJdICsgXCIsIFwiICsgYVszXSArIFwiKVwiO1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSB2ZWN0b3JzIGhhdmUgZXhhY3RseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbiAod2hlbiBjb21wYXJlZCB3aXRoID09PSlcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgVGhlIGZpcnN0IHZlY3Rvci5cclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgVGhlIHNlY29uZCB2ZWN0b3IuXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSB2ZWN0b3JzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBleGFjdEVxdWFscyhhLCBiKSB7XHJcbiAgcmV0dXJuIGFbMF0gPT09IGJbMF0gJiYgYVsxXSA9PT0gYlsxXSAmJiBhWzJdID09PSBiWzJdICYmIGFbM10gPT09IGJbM107XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIHZlY3RvcnMgaGF2ZSBhcHByb3hpbWF0ZWx5IHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uLlxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSBUaGUgZmlyc3QgdmVjdG9yLlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiBUaGUgc2Vjb25kIHZlY3Rvci5cclxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIHZlY3RvcnMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhhLCBiKSB7XHJcbiAgdmFyIGEwID0gYVswXSxcclxuICAgICAgYTEgPSBhWzFdLFxyXG4gICAgICBhMiA9IGFbMl0sXHJcbiAgICAgIGEzID0gYVszXTtcclxuICB2YXIgYjAgPSBiWzBdLFxyXG4gICAgICBiMSA9IGJbMV0sXHJcbiAgICAgIGIyID0gYlsyXSxcclxuICAgICAgYjMgPSBiWzNdO1xyXG4gIHJldHVybiBNYXRoLmFicyhhMCAtIGIwKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMCksIE1hdGguYWJzKGIwKSkgJiYgTWF0aC5hYnMoYTEgLSBiMSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTEpLCBNYXRoLmFicyhiMSkpICYmIE1hdGguYWJzKGEyIC0gYjIpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEyKSwgTWF0aC5hYnMoYjIpKSAmJiBNYXRoLmFicyhhMyAtIGIzKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMyksIE1hdGguYWJzKGIzKSk7XHJcbn1cclxuLyoqXHJcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjNC5zdWJ0cmFjdH1cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBzdWIgPSBzdWJ0cmFjdDtcclxuLyoqXHJcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjNC5tdWx0aXBseX1cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBtdWwgPSBtdWx0aXBseTtcclxuLyoqXHJcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjNC5kaXZpZGV9XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgZGl2ID0gZGl2aWRlO1xyXG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayB2ZWM0LmRpc3RhbmNlfVxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgdmFyIGRpc3QgPSBkaXN0YW5jZTtcclxuLyoqXHJcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjNC5zcXVhcmVkRGlzdGFuY2V9XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgc3FyRGlzdCA9IHNxdWFyZWREaXN0YW5jZTtcclxuLyoqXHJcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjNC5sZW5ndGh9XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgbGVuID0gbGVuZ3RoO1xyXG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayB2ZWM0LnNxdWFyZWRMZW5ndGh9XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgc3FyTGVuID0gc3F1YXJlZExlbmd0aDtcclxuLyoqXHJcbiAqIFBlcmZvcm0gc29tZSBvcGVyYXRpb24gb3ZlciBhbiBhcnJheSBvZiB2ZWM0cy5cclxuICpcclxuICogQHBhcmFtIHtBcnJheX0gYSB0aGUgYXJyYXkgb2YgdmVjdG9ycyB0byBpdGVyYXRlIG92ZXJcclxuICogQHBhcmFtIHtOdW1iZXJ9IHN0cmlkZSBOdW1iZXIgb2YgZWxlbWVudHMgYmV0d2VlbiB0aGUgc3RhcnQgb2YgZWFjaCB2ZWM0LiBJZiAwIGFzc3VtZXMgdGlnaHRseSBwYWNrZWRcclxuICogQHBhcmFtIHtOdW1iZXJ9IG9mZnNldCBOdW1iZXIgb2YgZWxlbWVudHMgdG8gc2tpcCBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBhcnJheVxyXG4gKiBAcGFyYW0ge051bWJlcn0gY291bnQgTnVtYmVyIG9mIHZlYzRzIHRvIGl0ZXJhdGUgb3Zlci4gSWYgMCBpdGVyYXRlcyBvdmVyIGVudGlyZSBhcnJheVxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBGdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIHZlY3RvciBpbiB0aGUgYXJyYXlcclxuICogQHBhcmFtIHtPYmplY3R9IFthcmddIGFkZGl0aW9uYWwgYXJndW1lbnQgdG8gcGFzcyB0byBmblxyXG4gKiBAcmV0dXJucyB7QXJyYXl9IGFcclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBmb3JFYWNoID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciB2ZWMgPSBjcmVhdGUoKTtcclxuICByZXR1cm4gZnVuY3Rpb24gKGEsIHN0cmlkZSwgb2Zmc2V0LCBjb3VudCwgZm4sIGFyZykge1xyXG4gICAgdmFyIGksIGw7XHJcblxyXG4gICAgaWYgKCFzdHJpZGUpIHtcclxuICAgICAgc3RyaWRlID0gNDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIW9mZnNldCkge1xyXG4gICAgICBvZmZzZXQgPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjb3VudCkge1xyXG4gICAgICBsID0gTWF0aC5taW4oY291bnQgKiBzdHJpZGUgKyBvZmZzZXQsIGEubGVuZ3RoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGwgPSBhLmxlbmd0aDtcclxuICAgIH1cclxuXHJcbiAgICBmb3IgKGkgPSBvZmZzZXQ7IGkgPCBsOyBpICs9IHN0cmlkZSkge1xyXG4gICAgICB2ZWNbMF0gPSBhW2ldO1xyXG4gICAgICB2ZWNbMV0gPSBhW2kgKyAxXTtcclxuICAgICAgdmVjWzJdID0gYVtpICsgMl07XHJcbiAgICAgIHZlY1szXSA9IGFbaSArIDNdO1xyXG4gICAgICBmbih2ZWMsIHZlYywgYXJnKTtcclxuICAgICAgYVtpXSA9IHZlY1swXTtcclxuICAgICAgYVtpICsgMV0gPSB2ZWNbMV07XHJcbiAgICAgIGFbaSArIDJdID0gdmVjWzJdO1xyXG4gICAgICBhW2kgKyAzXSA9IHZlY1szXTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gYTtcclxuICB9O1xyXG59KCk7IiwgImltcG9ydCAqIGFzIGdsTWF0cml4IGZyb20gXCIuL2NvbW1vbi5qc1wiO1xyXG5pbXBvcnQgKiBhcyBxdWF0IGZyb20gXCIuL3F1YXQuanNcIjtcclxuaW1wb3J0ICogYXMgbWF0NCBmcm9tIFwiLi9tYXQ0LmpzXCI7XHJcbi8qKlxyXG4gKiBEdWFsIFF1YXRlcm5pb248YnI+XHJcbiAqIEZvcm1hdDogW3JlYWwsIGR1YWxdPGJyPlxyXG4gKiBRdWF0ZXJuaW9uIGZvcm1hdDogWFlaVzxicj5cclxuICogTWFrZSBzdXJlIHRvIGhhdmUgbm9ybWFsaXplZCBkdWFsIHF1YXRlcm5pb25zLCBvdGhlcndpc2UgdGhlIGZ1bmN0aW9ucyBtYXkgbm90IHdvcmsgYXMgaW50ZW5kZWQuPGJyPlxyXG4gKiBAbW9kdWxlIHF1YXQyXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBuZXcgaWRlbnRpdHkgZHVhbCBxdWF0XHJcbiAqXHJcbiAqIEByZXR1cm5zIHtxdWF0Mn0gYSBuZXcgZHVhbCBxdWF0ZXJuaW9uIFtyZWFsIC0+IHJvdGF0aW9uLCBkdWFsIC0+IHRyYW5zbGF0aW9uXVxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoKSB7XHJcbiAgdmFyIGRxID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoOCk7XHJcblxyXG4gIGlmIChnbE1hdHJpeC5BUlJBWV9UWVBFICE9IEZsb2F0MzJBcnJheSkge1xyXG4gICAgZHFbMF0gPSAwO1xyXG4gICAgZHFbMV0gPSAwO1xyXG4gICAgZHFbMl0gPSAwO1xyXG4gICAgZHFbNF0gPSAwO1xyXG4gICAgZHFbNV0gPSAwO1xyXG4gICAgZHFbNl0gPSAwO1xyXG4gICAgZHFbN10gPSAwO1xyXG4gIH1cclxuXHJcbiAgZHFbM10gPSAxO1xyXG4gIHJldHVybiBkcTtcclxufVxyXG4vKipcclxuICogQ3JlYXRlcyBhIG5ldyBxdWF0IGluaXRpYWxpemVkIHdpdGggdmFsdWVzIGZyb20gYW4gZXhpc3RpbmcgcXVhdGVybmlvblxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgZHVhbCBxdWF0ZXJuaW9uIHRvIGNsb25lXHJcbiAqIEByZXR1cm5zIHtxdWF0Mn0gbmV3IGR1YWwgcXVhdGVybmlvblxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2xvbmUoYSkge1xyXG4gIHZhciBkcSA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDgpO1xyXG4gIGRxWzBdID0gYVswXTtcclxuICBkcVsxXSA9IGFbMV07XHJcbiAgZHFbMl0gPSBhWzJdO1xyXG4gIGRxWzNdID0gYVszXTtcclxuICBkcVs0XSA9IGFbNF07XHJcbiAgZHFbNV0gPSBhWzVdO1xyXG4gIGRxWzZdID0gYVs2XTtcclxuICBkcVs3XSA9IGFbN107XHJcbiAgcmV0dXJuIGRxO1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgbmV3IGR1YWwgcXVhdCBpbml0aWFsaXplZCB3aXRoIHRoZSBnaXZlbiB2YWx1ZXNcclxuICpcclxuICogQHBhcmFtIHtOdW1iZXJ9IHgxIFggY29tcG9uZW50XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB5MSBZIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge051bWJlcn0gejEgWiBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHcxIFcgY29tcG9uZW50XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB4MiBYIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge051bWJlcn0geTIgWSBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHoyIFogY29tcG9uZW50XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB3MiBXIGNvbXBvbmVudFxyXG4gKiBAcmV0dXJucyB7cXVhdDJ9IG5ldyBkdWFsIHF1YXRlcm5pb25cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZyb21WYWx1ZXMoeDEsIHkxLCB6MSwgdzEsIHgyLCB5MiwgejIsIHcyKSB7XHJcbiAgdmFyIGRxID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoOCk7XHJcbiAgZHFbMF0gPSB4MTtcclxuICBkcVsxXSA9IHkxO1xyXG4gIGRxWzJdID0gejE7XHJcbiAgZHFbM10gPSB3MTtcclxuICBkcVs0XSA9IHgyO1xyXG4gIGRxWzVdID0geTI7XHJcbiAgZHFbNl0gPSB6MjtcclxuICBkcVs3XSA9IHcyO1xyXG4gIHJldHVybiBkcTtcclxufVxyXG4vKipcclxuICogQ3JlYXRlcyBhIG5ldyBkdWFsIHF1YXQgZnJvbSB0aGUgZ2l2ZW4gdmFsdWVzIChxdWF0IGFuZCB0cmFuc2xhdGlvbilcclxuICpcclxuICogQHBhcmFtIHtOdW1iZXJ9IHgxIFggY29tcG9uZW50XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB5MSBZIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge051bWJlcn0gejEgWiBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHcxIFcgY29tcG9uZW50XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB4MiBYIGNvbXBvbmVudCAodHJhbnNsYXRpb24pXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB5MiBZIGNvbXBvbmVudCAodHJhbnNsYXRpb24pXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB6MiBaIGNvbXBvbmVudCAodHJhbnNsYXRpb24pXHJcbiAqIEByZXR1cm5zIHtxdWF0Mn0gbmV3IGR1YWwgcXVhdGVybmlvblxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZnJvbVJvdGF0aW9uVHJhbnNsYXRpb25WYWx1ZXMoeDEsIHkxLCB6MSwgdzEsIHgyLCB5MiwgejIpIHtcclxuICB2YXIgZHEgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg4KTtcclxuICBkcVswXSA9IHgxO1xyXG4gIGRxWzFdID0geTE7XHJcbiAgZHFbMl0gPSB6MTtcclxuICBkcVszXSA9IHcxO1xyXG4gIHZhciBheCA9IHgyICogMC41LFxyXG4gICAgICBheSA9IHkyICogMC41LFxyXG4gICAgICBheiA9IHoyICogMC41O1xyXG4gIGRxWzRdID0gYXggKiB3MSArIGF5ICogejEgLSBheiAqIHkxO1xyXG4gIGRxWzVdID0gYXkgKiB3MSArIGF6ICogeDEgLSBheCAqIHoxO1xyXG4gIGRxWzZdID0gYXogKiB3MSArIGF4ICogeTEgLSBheSAqIHgxO1xyXG4gIGRxWzddID0gLWF4ICogeDEgLSBheSAqIHkxIC0gYXogKiB6MTtcclxuICByZXR1cm4gZHE7XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBkdWFsIHF1YXQgZnJvbSBhIHF1YXRlcm5pb24gYW5kIGEgdHJhbnNsYXRpb25cclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBkdWFsIHF1YXRlcm5pb24gcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IHEgYSBub3JtYWxpemVkIHF1YXRlcm5pb25cclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHQgdHJhbmxhdGlvbiB2ZWN0b3JcclxuICogQHJldHVybnMge3F1YXQyfSBkdWFsIHF1YXRlcm5pb24gcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uKG91dCwgcSwgdCkge1xyXG4gIHZhciBheCA9IHRbMF0gKiAwLjUsXHJcbiAgICAgIGF5ID0gdFsxXSAqIDAuNSxcclxuICAgICAgYXogPSB0WzJdICogMC41LFxyXG4gICAgICBieCA9IHFbMF0sXHJcbiAgICAgIGJ5ID0gcVsxXSxcclxuICAgICAgYnogPSBxWzJdLFxyXG4gICAgICBidyA9IHFbM107XHJcbiAgb3V0WzBdID0gYng7XHJcbiAgb3V0WzFdID0gYnk7XHJcbiAgb3V0WzJdID0gYno7XHJcbiAgb3V0WzNdID0gYnc7XHJcbiAgb3V0WzRdID0gYXggKiBidyArIGF5ICogYnogLSBheiAqIGJ5O1xyXG4gIG91dFs1XSA9IGF5ICogYncgKyBheiAqIGJ4IC0gYXggKiBiejtcclxuICBvdXRbNl0gPSBheiAqIGJ3ICsgYXggKiBieSAtIGF5ICogYng7XHJcbiAgb3V0WzddID0gLWF4ICogYnggLSBheSAqIGJ5IC0gYXogKiBiejtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgZHVhbCBxdWF0IGZyb20gYSB0cmFuc2xhdGlvblxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGR1YWwgcXVhdGVybmlvbiByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdCB0cmFuc2xhdGlvbiB2ZWN0b3JcclxuICogQHJldHVybnMge3F1YXQyfSBkdWFsIHF1YXRlcm5pb24gcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZyb21UcmFuc2xhdGlvbihvdXQsIHQpIHtcclxuICBvdXRbMF0gPSAwO1xyXG4gIG91dFsxXSA9IDA7XHJcbiAgb3V0WzJdID0gMDtcclxuICBvdXRbM10gPSAxO1xyXG4gIG91dFs0XSA9IHRbMF0gKiAwLjU7XHJcbiAgb3V0WzVdID0gdFsxXSAqIDAuNTtcclxuICBvdXRbNl0gPSB0WzJdICogMC41O1xyXG4gIG91dFs3XSA9IDA7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ3JlYXRlcyBhIGR1YWwgcXVhdCBmcm9tIGEgcXVhdGVybmlvblxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGR1YWwgcXVhdGVybmlvbiByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gcSB0aGUgcXVhdGVybmlvblxyXG4gKiBAcmV0dXJucyB7cXVhdDJ9IGR1YWwgcXVhdGVybmlvbiByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZnJvbVJvdGF0aW9uKG91dCwgcSkge1xyXG4gIG91dFswXSA9IHFbMF07XHJcbiAgb3V0WzFdID0gcVsxXTtcclxuICBvdXRbMl0gPSBxWzJdO1xyXG4gIG91dFszXSA9IHFbM107XHJcbiAgb3V0WzRdID0gMDtcclxuICBvdXRbNV0gPSAwO1xyXG4gIG91dFs2XSA9IDA7XHJcbiAgb3V0WzddID0gMDtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgbmV3IGR1YWwgcXVhdCBmcm9tIGEgbWF0cml4ICg0eDQpXHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdDJ9IG91dCB0aGUgZHVhbCBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXhcclxuICogQHJldHVybnMge3F1YXQyfSBkdWFsIHF1YXQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZyb21NYXQ0KG91dCwgYSkge1xyXG4gIC8vVE9ETyBPcHRpbWl6ZSB0aGlzXHJcbiAgdmFyIG91dGVyID0gcXVhdC5jcmVhdGUoKTtcclxuICBtYXQ0LmdldFJvdGF0aW9uKG91dGVyLCBhKTtcclxuICB2YXIgdCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDMpO1xyXG4gIG1hdDQuZ2V0VHJhbnNsYXRpb24odCwgYSk7XHJcbiAgZnJvbVJvdGF0aW9uVHJhbnNsYXRpb24ob3V0LCBvdXRlciwgdCk7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ29weSB0aGUgdmFsdWVzIGZyb20gb25lIGR1YWwgcXVhdCB0byBhbm90aGVyXHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdDJ9IG91dCB0aGUgcmVjZWl2aW5nIGR1YWwgcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgdGhlIHNvdXJjZSBkdWFsIHF1YXRlcm5pb25cclxuICogQHJldHVybnMge3F1YXQyfSBvdXRcclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNvcHkob3V0LCBhKSB7XHJcbiAgb3V0WzBdID0gYVswXTtcclxuICBvdXRbMV0gPSBhWzFdO1xyXG4gIG91dFsyXSA9IGFbMl07XHJcbiAgb3V0WzNdID0gYVszXTtcclxuICBvdXRbNF0gPSBhWzRdO1xyXG4gIG91dFs1XSA9IGFbNV07XHJcbiAgb3V0WzZdID0gYVs2XTtcclxuICBvdXRbN10gPSBhWzddO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFNldCBhIGR1YWwgcXVhdCB0byB0aGUgaWRlbnRpdHkgZHVhbCBxdWF0ZXJuaW9uXHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdDJ9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cclxuICogQHJldHVybnMge3F1YXQyfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaWRlbnRpdHkob3V0KSB7XHJcbiAgb3V0WzBdID0gMDtcclxuICBvdXRbMV0gPSAwO1xyXG4gIG91dFsyXSA9IDA7XHJcbiAgb3V0WzNdID0gMTtcclxuICBvdXRbNF0gPSAwO1xyXG4gIG91dFs1XSA9IDA7XHJcbiAgb3V0WzZdID0gMDtcclxuICBvdXRbN10gPSAwO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFNldCB0aGUgY29tcG9uZW50cyBvZiBhIGR1YWwgcXVhdCB0byB0aGUgZ2l2ZW4gdmFsdWVzXHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdDJ9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cclxuICogQHBhcmFtIHtOdW1iZXJ9IHgxIFggY29tcG9uZW50XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB5MSBZIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge051bWJlcn0gejEgWiBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHcxIFcgY29tcG9uZW50XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB4MiBYIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge051bWJlcn0geTIgWSBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHoyIFogY29tcG9uZW50XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB3MiBXIGNvbXBvbmVudFxyXG4gKiBAcmV0dXJucyB7cXVhdDJ9IG91dFxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0KG91dCwgeDEsIHkxLCB6MSwgdzEsIHgyLCB5MiwgejIsIHcyKSB7XHJcbiAgb3V0WzBdID0geDE7XHJcbiAgb3V0WzFdID0geTE7XHJcbiAgb3V0WzJdID0gejE7XHJcbiAgb3V0WzNdID0gdzE7XHJcbiAgb3V0WzRdID0geDI7XHJcbiAgb3V0WzVdID0geTI7XHJcbiAgb3V0WzZdID0gejI7XHJcbiAgb3V0WzddID0gdzI7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogR2V0cyB0aGUgcmVhbCBwYXJ0IG9mIGEgZHVhbCBxdWF0XHJcbiAqIEBwYXJhbSAge3F1YXR9IG91dCByZWFsIHBhcnRcclxuICogQHBhcmFtICB7UmVhZG9ubHlRdWF0Mn0gYSBEdWFsIFF1YXRlcm5pb25cclxuICogQHJldHVybiB7cXVhdH0gcmVhbCBwYXJ0XHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBnZXRSZWFsID0gcXVhdC5jb3B5O1xyXG4vKipcclxuICogR2V0cyB0aGUgZHVhbCBwYXJ0IG9mIGEgZHVhbCBxdWF0XHJcbiAqIEBwYXJhbSAge3F1YXR9IG91dCBkdWFsIHBhcnRcclxuICogQHBhcmFtICB7UmVhZG9ubHlRdWF0Mn0gYSBEdWFsIFF1YXRlcm5pb25cclxuICogQHJldHVybiB7cXVhdH0gZHVhbCBwYXJ0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldER1YWwob3V0LCBhKSB7XHJcbiAgb3V0WzBdID0gYVs0XTtcclxuICBvdXRbMV0gPSBhWzVdO1xyXG4gIG91dFsyXSA9IGFbNl07XHJcbiAgb3V0WzNdID0gYVs3XTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBTZXQgdGhlIHJlYWwgY29tcG9uZW50IG9mIGEgZHVhbCBxdWF0IHRvIHRoZSBnaXZlbiBxdWF0ZXJuaW9uXHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdDJ9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IHEgYSBxdWF0ZXJuaW9uIHJlcHJlc2VudGluZyB0aGUgcmVhbCBwYXJ0XHJcbiAqIEByZXR1cm5zIHtxdWF0Mn0gb3V0XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgc2V0UmVhbCA9IHF1YXQuY29weTtcclxuLyoqXHJcbiAqIFNldCB0aGUgZHVhbCBjb21wb25lbnQgb2YgYSBkdWFsIHF1YXQgdG8gdGhlIGdpdmVuIHF1YXRlcm5pb25cclxuICpcclxuICogQHBhcmFtIHtxdWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gcSBhIHF1YXRlcm5pb24gcmVwcmVzZW50aW5nIHRoZSBkdWFsIHBhcnRcclxuICogQHJldHVybnMge3F1YXQyfSBvdXRcclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNldER1YWwob3V0LCBxKSB7XHJcbiAgb3V0WzRdID0gcVswXTtcclxuICBvdXRbNV0gPSBxWzFdO1xyXG4gIG91dFs2XSA9IHFbMl07XHJcbiAgb3V0WzddID0gcVszXTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBHZXRzIHRoZSB0cmFuc2xhdGlvbiBvZiBhIG5vcm1hbGl6ZWQgZHVhbCBxdWF0XHJcbiAqIEBwYXJhbSAge3ZlYzN9IG91dCB0cmFuc2xhdGlvblxyXG4gKiBAcGFyYW0gIHtSZWFkb25seVF1YXQyfSBhIER1YWwgUXVhdGVybmlvbiB0byBiZSBkZWNvbXBvc2VkXHJcbiAqIEByZXR1cm4ge3ZlYzN9IHRyYW5zbGF0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFRyYW5zbGF0aW9uKG91dCwgYSkge1xyXG4gIHZhciBheCA9IGFbNF0sXHJcbiAgICAgIGF5ID0gYVs1XSxcclxuICAgICAgYXogPSBhWzZdLFxyXG4gICAgICBhdyA9IGFbN10sXHJcbiAgICAgIGJ4ID0gLWFbMF0sXHJcbiAgICAgIGJ5ID0gLWFbMV0sXHJcbiAgICAgIGJ6ID0gLWFbMl0sXHJcbiAgICAgIGJ3ID0gYVszXTtcclxuICBvdXRbMF0gPSAoYXggKiBidyArIGF3ICogYnggKyBheSAqIGJ6IC0gYXogKiBieSkgKiAyO1xyXG4gIG91dFsxXSA9IChheSAqIGJ3ICsgYXcgKiBieSArIGF6ICogYnggLSBheCAqIGJ6KSAqIDI7XHJcbiAgb3V0WzJdID0gKGF6ICogYncgKyBhdyAqIGJ6ICsgYXggKiBieSAtIGF5ICogYngpICogMjtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBUcmFuc2xhdGVzIGEgZHVhbCBxdWF0IGJ5IHRoZSBnaXZlbiB2ZWN0b3JcclxuICpcclxuICogQHBhcmFtIHtxdWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgZHVhbCBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSB0aGUgZHVhbCBxdWF0ZXJuaW9uIHRvIHRyYW5zbGF0ZVxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdiB2ZWN0b3IgdG8gdHJhbnNsYXRlIGJ5XHJcbiAqIEByZXR1cm5zIHtxdWF0Mn0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zbGF0ZShvdXQsIGEsIHYpIHtcclxuICB2YXIgYXgxID0gYVswXSxcclxuICAgICAgYXkxID0gYVsxXSxcclxuICAgICAgYXoxID0gYVsyXSxcclxuICAgICAgYXcxID0gYVszXSxcclxuICAgICAgYngxID0gdlswXSAqIDAuNSxcclxuICAgICAgYnkxID0gdlsxXSAqIDAuNSxcclxuICAgICAgYnoxID0gdlsyXSAqIDAuNSxcclxuICAgICAgYXgyID0gYVs0XSxcclxuICAgICAgYXkyID0gYVs1XSxcclxuICAgICAgYXoyID0gYVs2XSxcclxuICAgICAgYXcyID0gYVs3XTtcclxuICBvdXRbMF0gPSBheDE7XHJcbiAgb3V0WzFdID0gYXkxO1xyXG4gIG91dFsyXSA9IGF6MTtcclxuICBvdXRbM10gPSBhdzE7XHJcbiAgb3V0WzRdID0gYXcxICogYngxICsgYXkxICogYnoxIC0gYXoxICogYnkxICsgYXgyO1xyXG4gIG91dFs1XSA9IGF3MSAqIGJ5MSArIGF6MSAqIGJ4MSAtIGF4MSAqIGJ6MSArIGF5MjtcclxuICBvdXRbNl0gPSBhdzEgKiBiejEgKyBheDEgKiBieTEgLSBheTEgKiBieDEgKyBhejI7XHJcbiAgb3V0WzddID0gLWF4MSAqIGJ4MSAtIGF5MSAqIGJ5MSAtIGF6MSAqIGJ6MSArIGF3MjtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBSb3RhdGVzIGEgZHVhbCBxdWF0IGFyb3VuZCB0aGUgWCBheGlzXHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdDJ9IG91dCB0aGUgcmVjZWl2aW5nIGR1YWwgcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgdGhlIGR1YWwgcXVhdGVybmlvbiB0byByb3RhdGVcclxuICogQHBhcmFtIHtudW1iZXJ9IHJhZCBob3cgZmFyIHNob3VsZCB0aGUgcm90YXRpb24gYmVcclxuICogQHJldHVybnMge3F1YXQyfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWChvdXQsIGEsIHJhZCkge1xyXG4gIHZhciBieCA9IC1hWzBdLFxyXG4gICAgICBieSA9IC1hWzFdLFxyXG4gICAgICBieiA9IC1hWzJdLFxyXG4gICAgICBidyA9IGFbM10sXHJcbiAgICAgIGF4ID0gYVs0XSxcclxuICAgICAgYXkgPSBhWzVdLFxyXG4gICAgICBheiA9IGFbNl0sXHJcbiAgICAgIGF3ID0gYVs3XSxcclxuICAgICAgYXgxID0gYXggKiBidyArIGF3ICogYnggKyBheSAqIGJ6IC0gYXogKiBieSxcclxuICAgICAgYXkxID0gYXkgKiBidyArIGF3ICogYnkgKyBheiAqIGJ4IC0gYXggKiBieixcclxuICAgICAgYXoxID0gYXogKiBidyArIGF3ICogYnogKyBheCAqIGJ5IC0gYXkgKiBieCxcclxuICAgICAgYXcxID0gYXcgKiBidyAtIGF4ICogYnggLSBheSAqIGJ5IC0gYXogKiBiejtcclxuICBxdWF0LnJvdGF0ZVgob3V0LCBhLCByYWQpO1xyXG4gIGJ4ID0gb3V0WzBdO1xyXG4gIGJ5ID0gb3V0WzFdO1xyXG4gIGJ6ID0gb3V0WzJdO1xyXG4gIGJ3ID0gb3V0WzNdO1xyXG4gIG91dFs0XSA9IGF4MSAqIGJ3ICsgYXcxICogYnggKyBheTEgKiBieiAtIGF6MSAqIGJ5O1xyXG4gIG91dFs1XSA9IGF5MSAqIGJ3ICsgYXcxICogYnkgKyBhejEgKiBieCAtIGF4MSAqIGJ6O1xyXG4gIG91dFs2XSA9IGF6MSAqIGJ3ICsgYXcxICogYnogKyBheDEgKiBieSAtIGF5MSAqIGJ4O1xyXG4gIG91dFs3XSA9IGF3MSAqIGJ3IC0gYXgxICogYnggLSBheTEgKiBieSAtIGF6MSAqIGJ6O1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFJvdGF0ZXMgYSBkdWFsIHF1YXQgYXJvdW5kIHRoZSBZIGF4aXNcclxuICpcclxuICogQHBhcmFtIHtxdWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgZHVhbCBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSB0aGUgZHVhbCBxdWF0ZXJuaW9uIHRvIHJvdGF0ZVxyXG4gKiBAcGFyYW0ge251bWJlcn0gcmFkIGhvdyBmYXIgc2hvdWxkIHRoZSByb3RhdGlvbiBiZVxyXG4gKiBAcmV0dXJucyB7cXVhdDJ9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVZKG91dCwgYSwgcmFkKSB7XHJcbiAgdmFyIGJ4ID0gLWFbMF0sXHJcbiAgICAgIGJ5ID0gLWFbMV0sXHJcbiAgICAgIGJ6ID0gLWFbMl0sXHJcbiAgICAgIGJ3ID0gYVszXSxcclxuICAgICAgYXggPSBhWzRdLFxyXG4gICAgICBheSA9IGFbNV0sXHJcbiAgICAgIGF6ID0gYVs2XSxcclxuICAgICAgYXcgPSBhWzddLFxyXG4gICAgICBheDEgPSBheCAqIGJ3ICsgYXcgKiBieCArIGF5ICogYnogLSBheiAqIGJ5LFxyXG4gICAgICBheTEgPSBheSAqIGJ3ICsgYXcgKiBieSArIGF6ICogYnggLSBheCAqIGJ6LFxyXG4gICAgICBhejEgPSBheiAqIGJ3ICsgYXcgKiBieiArIGF4ICogYnkgLSBheSAqIGJ4LFxyXG4gICAgICBhdzEgPSBhdyAqIGJ3IC0gYXggKiBieCAtIGF5ICogYnkgLSBheiAqIGJ6O1xyXG4gIHF1YXQucm90YXRlWShvdXQsIGEsIHJhZCk7XHJcbiAgYnggPSBvdXRbMF07XHJcbiAgYnkgPSBvdXRbMV07XHJcbiAgYnogPSBvdXRbMl07XHJcbiAgYncgPSBvdXRbM107XHJcbiAgb3V0WzRdID0gYXgxICogYncgKyBhdzEgKiBieCArIGF5MSAqIGJ6IC0gYXoxICogYnk7XHJcbiAgb3V0WzVdID0gYXkxICogYncgKyBhdzEgKiBieSArIGF6MSAqIGJ4IC0gYXgxICogYno7XHJcbiAgb3V0WzZdID0gYXoxICogYncgKyBhdzEgKiBieiArIGF4MSAqIGJ5IC0gYXkxICogYng7XHJcbiAgb3V0WzddID0gYXcxICogYncgLSBheDEgKiBieCAtIGF5MSAqIGJ5IC0gYXoxICogYno7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogUm90YXRlcyBhIGR1YWwgcXVhdCBhcm91bmQgdGhlIFogYXhpc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIHJlY2VpdmluZyBkdWFsIHF1YXRlcm5pb25cclxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIHRoZSBkdWFsIHF1YXRlcm5pb24gdG8gcm90YXRlXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSByYWQgaG93IGZhciBzaG91bGQgdGhlIHJvdGF0aW9uIGJlXHJcbiAqIEByZXR1cm5zIHtxdWF0Mn0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVoob3V0LCBhLCByYWQpIHtcclxuICB2YXIgYnggPSAtYVswXSxcclxuICAgICAgYnkgPSAtYVsxXSxcclxuICAgICAgYnogPSAtYVsyXSxcclxuICAgICAgYncgPSBhWzNdLFxyXG4gICAgICBheCA9IGFbNF0sXHJcbiAgICAgIGF5ID0gYVs1XSxcclxuICAgICAgYXogPSBhWzZdLFxyXG4gICAgICBhdyA9IGFbN10sXHJcbiAgICAgIGF4MSA9IGF4ICogYncgKyBhdyAqIGJ4ICsgYXkgKiBieiAtIGF6ICogYnksXHJcbiAgICAgIGF5MSA9IGF5ICogYncgKyBhdyAqIGJ5ICsgYXogKiBieCAtIGF4ICogYnosXHJcbiAgICAgIGF6MSA9IGF6ICogYncgKyBhdyAqIGJ6ICsgYXggKiBieSAtIGF5ICogYngsXHJcbiAgICAgIGF3MSA9IGF3ICogYncgLSBheCAqIGJ4IC0gYXkgKiBieSAtIGF6ICogYno7XHJcbiAgcXVhdC5yb3RhdGVaKG91dCwgYSwgcmFkKTtcclxuICBieCA9IG91dFswXTtcclxuICBieSA9IG91dFsxXTtcclxuICBieiA9IG91dFsyXTtcclxuICBidyA9IG91dFszXTtcclxuICBvdXRbNF0gPSBheDEgKiBidyArIGF3MSAqIGJ4ICsgYXkxICogYnogLSBhejEgKiBieTtcclxuICBvdXRbNV0gPSBheTEgKiBidyArIGF3MSAqIGJ5ICsgYXoxICogYnggLSBheDEgKiBiejtcclxuICBvdXRbNl0gPSBhejEgKiBidyArIGF3MSAqIGJ6ICsgYXgxICogYnkgLSBheTEgKiBieDtcclxuICBvdXRbN10gPSBhdzEgKiBidyAtIGF4MSAqIGJ4IC0gYXkxICogYnkgLSBhejEgKiBiejtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBSb3RhdGVzIGEgZHVhbCBxdWF0IGJ5IGEgZ2l2ZW4gcXVhdGVybmlvbiAoYSAqIHEpXHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdDJ9IG91dCB0aGUgcmVjZWl2aW5nIGR1YWwgcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgdGhlIGR1YWwgcXVhdGVybmlvbiB0byByb3RhdGVcclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IHEgcXVhdGVybmlvbiB0byByb3RhdGUgYnlcclxuICogQHJldHVybnMge3F1YXQyfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlQnlRdWF0QXBwZW5kKG91dCwgYSwgcSkge1xyXG4gIHZhciBxeCA9IHFbMF0sXHJcbiAgICAgIHF5ID0gcVsxXSxcclxuICAgICAgcXogPSBxWzJdLFxyXG4gICAgICBxdyA9IHFbM10sXHJcbiAgICAgIGF4ID0gYVswXSxcclxuICAgICAgYXkgPSBhWzFdLFxyXG4gICAgICBheiA9IGFbMl0sXHJcbiAgICAgIGF3ID0gYVszXTtcclxuICBvdXRbMF0gPSBheCAqIHF3ICsgYXcgKiBxeCArIGF5ICogcXogLSBheiAqIHF5O1xyXG4gIG91dFsxXSA9IGF5ICogcXcgKyBhdyAqIHF5ICsgYXogKiBxeCAtIGF4ICogcXo7XHJcbiAgb3V0WzJdID0gYXogKiBxdyArIGF3ICogcXogKyBheCAqIHF5IC0gYXkgKiBxeDtcclxuICBvdXRbM10gPSBhdyAqIHF3IC0gYXggKiBxeCAtIGF5ICogcXkgLSBheiAqIHF6O1xyXG4gIGF4ID0gYVs0XTtcclxuICBheSA9IGFbNV07XHJcbiAgYXogPSBhWzZdO1xyXG4gIGF3ID0gYVs3XTtcclxuICBvdXRbNF0gPSBheCAqIHF3ICsgYXcgKiBxeCArIGF5ICogcXogLSBheiAqIHF5O1xyXG4gIG91dFs1XSA9IGF5ICogcXcgKyBhdyAqIHF5ICsgYXogKiBxeCAtIGF4ICogcXo7XHJcbiAgb3V0WzZdID0gYXogKiBxdyArIGF3ICogcXogKyBheCAqIHF5IC0gYXkgKiBxeDtcclxuICBvdXRbN10gPSBhdyAqIHF3IC0gYXggKiBxeCAtIGF5ICogcXkgLSBheiAqIHF6O1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFJvdGF0ZXMgYSBkdWFsIHF1YXQgYnkgYSBnaXZlbiBxdWF0ZXJuaW9uIChxICogYSlcclxuICpcclxuICogQHBhcmFtIHtxdWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgZHVhbCBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBxIHF1YXRlcm5pb24gdG8gcm90YXRlIGJ5XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSB0aGUgZHVhbCBxdWF0ZXJuaW9uIHRvIHJvdGF0ZVxyXG4gKiBAcmV0dXJucyB7cXVhdDJ9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVCeVF1YXRQcmVwZW5kKG91dCwgcSwgYSkge1xyXG4gIHZhciBxeCA9IHFbMF0sXHJcbiAgICAgIHF5ID0gcVsxXSxcclxuICAgICAgcXogPSBxWzJdLFxyXG4gICAgICBxdyA9IHFbM10sXHJcbiAgICAgIGJ4ID0gYVswXSxcclxuICAgICAgYnkgPSBhWzFdLFxyXG4gICAgICBieiA9IGFbMl0sXHJcbiAgICAgIGJ3ID0gYVszXTtcclxuICBvdXRbMF0gPSBxeCAqIGJ3ICsgcXcgKiBieCArIHF5ICogYnogLSBxeiAqIGJ5O1xyXG4gIG91dFsxXSA9IHF5ICogYncgKyBxdyAqIGJ5ICsgcXogKiBieCAtIHF4ICogYno7XHJcbiAgb3V0WzJdID0gcXogKiBidyArIHF3ICogYnogKyBxeCAqIGJ5IC0gcXkgKiBieDtcclxuICBvdXRbM10gPSBxdyAqIGJ3IC0gcXggKiBieCAtIHF5ICogYnkgLSBxeiAqIGJ6O1xyXG4gIGJ4ID0gYVs0XTtcclxuICBieSA9IGFbNV07XHJcbiAgYnogPSBhWzZdO1xyXG4gIGJ3ID0gYVs3XTtcclxuICBvdXRbNF0gPSBxeCAqIGJ3ICsgcXcgKiBieCArIHF5ICogYnogLSBxeiAqIGJ5O1xyXG4gIG91dFs1XSA9IHF5ICogYncgKyBxdyAqIGJ5ICsgcXogKiBieCAtIHF4ICogYno7XHJcbiAgb3V0WzZdID0gcXogKiBidyArIHF3ICogYnogKyBxeCAqIGJ5IC0gcXkgKiBieDtcclxuICBvdXRbN10gPSBxdyAqIGJ3IC0gcXggKiBieCAtIHF5ICogYnkgLSBxeiAqIGJ6O1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFJvdGF0ZXMgYSBkdWFsIHF1YXQgYXJvdW5kIGEgZ2l2ZW4gYXhpcy4gRG9lcyB0aGUgbm9ybWFsaXNhdGlvbiBhdXRvbWF0aWNhbGx5XHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdDJ9IG91dCB0aGUgcmVjZWl2aW5nIGR1YWwgcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgdGhlIGR1YWwgcXVhdGVybmlvbiB0byByb3RhdGVcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGF4aXMgdGhlIGF4aXMgdG8gcm90YXRlIGFyb3VuZFxyXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIGhvdyBmYXIgdGhlIHJvdGF0aW9uIHNob3VsZCBiZVxyXG4gKiBAcmV0dXJucyB7cXVhdDJ9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVBcm91bmRBeGlzKG91dCwgYSwgYXhpcywgcmFkKSB7XHJcbiAgLy9TcGVjaWFsIGNhc2UgZm9yIHJhZCA9IDBcclxuICBpZiAoTWF0aC5hYnMocmFkKSA8IGdsTWF0cml4LkVQU0lMT04pIHtcclxuICAgIHJldHVybiBjb3B5KG91dCwgYSk7XHJcbiAgfVxyXG5cclxuICB2YXIgYXhpc0xlbmd0aCA9IE1hdGguaHlwb3QoYXhpc1swXSwgYXhpc1sxXSwgYXhpc1syXSk7XHJcbiAgcmFkID0gcmFkICogMC41O1xyXG4gIHZhciBzID0gTWF0aC5zaW4ocmFkKTtcclxuICB2YXIgYnggPSBzICogYXhpc1swXSAvIGF4aXNMZW5ndGg7XHJcbiAgdmFyIGJ5ID0gcyAqIGF4aXNbMV0gLyBheGlzTGVuZ3RoO1xyXG4gIHZhciBieiA9IHMgKiBheGlzWzJdIC8gYXhpc0xlbmd0aDtcclxuICB2YXIgYncgPSBNYXRoLmNvcyhyYWQpO1xyXG4gIHZhciBheDEgPSBhWzBdLFxyXG4gICAgICBheTEgPSBhWzFdLFxyXG4gICAgICBhejEgPSBhWzJdLFxyXG4gICAgICBhdzEgPSBhWzNdO1xyXG4gIG91dFswXSA9IGF4MSAqIGJ3ICsgYXcxICogYnggKyBheTEgKiBieiAtIGF6MSAqIGJ5O1xyXG4gIG91dFsxXSA9IGF5MSAqIGJ3ICsgYXcxICogYnkgKyBhejEgKiBieCAtIGF4MSAqIGJ6O1xyXG4gIG91dFsyXSA9IGF6MSAqIGJ3ICsgYXcxICogYnogKyBheDEgKiBieSAtIGF5MSAqIGJ4O1xyXG4gIG91dFszXSA9IGF3MSAqIGJ3IC0gYXgxICogYnggLSBheTEgKiBieSAtIGF6MSAqIGJ6O1xyXG4gIHZhciBheCA9IGFbNF0sXHJcbiAgICAgIGF5ID0gYVs1XSxcclxuICAgICAgYXogPSBhWzZdLFxyXG4gICAgICBhdyA9IGFbN107XHJcbiAgb3V0WzRdID0gYXggKiBidyArIGF3ICogYnggKyBheSAqIGJ6IC0gYXogKiBieTtcclxuICBvdXRbNV0gPSBheSAqIGJ3ICsgYXcgKiBieSArIGF6ICogYnggLSBheCAqIGJ6O1xyXG4gIG91dFs2XSA9IGF6ICogYncgKyBhdyAqIGJ6ICsgYXggKiBieSAtIGF5ICogYng7XHJcbiAgb3V0WzddID0gYXcgKiBidyAtIGF4ICogYnggLSBheSAqIGJ5IC0gYXogKiBiejtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBBZGRzIHR3byBkdWFsIHF1YXQnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIHJlY2VpdmluZyBkdWFsIHF1YXRlcm5pb25cclxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge3F1YXQyfSBvdXRcclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFkZChvdXQsIGEsIGIpIHtcclxuICBvdXRbMF0gPSBhWzBdICsgYlswXTtcclxuICBvdXRbMV0gPSBhWzFdICsgYlsxXTtcclxuICBvdXRbMl0gPSBhWzJdICsgYlsyXTtcclxuICBvdXRbM10gPSBhWzNdICsgYlszXTtcclxuICBvdXRbNF0gPSBhWzRdICsgYls0XTtcclxuICBvdXRbNV0gPSBhWzVdICsgYls1XTtcclxuICBvdXRbNl0gPSBhWzZdICsgYls2XTtcclxuICBvdXRbN10gPSBhWzddICsgYls3XTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBNdWx0aXBsaWVzIHR3byBkdWFsIHF1YXQnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIHJlY2VpdmluZyBkdWFsIHF1YXRlcm5pb25cclxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge3F1YXQyfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHkob3V0LCBhLCBiKSB7XHJcbiAgdmFyIGF4MCA9IGFbMF0sXHJcbiAgICAgIGF5MCA9IGFbMV0sXHJcbiAgICAgIGF6MCA9IGFbMl0sXHJcbiAgICAgIGF3MCA9IGFbM10sXHJcbiAgICAgIGJ4MSA9IGJbNF0sXHJcbiAgICAgIGJ5MSA9IGJbNV0sXHJcbiAgICAgIGJ6MSA9IGJbNl0sXHJcbiAgICAgIGJ3MSA9IGJbN10sXHJcbiAgICAgIGF4MSA9IGFbNF0sXHJcbiAgICAgIGF5MSA9IGFbNV0sXHJcbiAgICAgIGF6MSA9IGFbNl0sXHJcbiAgICAgIGF3MSA9IGFbN10sXHJcbiAgICAgIGJ4MCA9IGJbMF0sXHJcbiAgICAgIGJ5MCA9IGJbMV0sXHJcbiAgICAgIGJ6MCA9IGJbMl0sXHJcbiAgICAgIGJ3MCA9IGJbM107XHJcbiAgb3V0WzBdID0gYXgwICogYncwICsgYXcwICogYngwICsgYXkwICogYnowIC0gYXowICogYnkwO1xyXG4gIG91dFsxXSA9IGF5MCAqIGJ3MCArIGF3MCAqIGJ5MCArIGF6MCAqIGJ4MCAtIGF4MCAqIGJ6MDtcclxuICBvdXRbMl0gPSBhejAgKiBidzAgKyBhdzAgKiBiejAgKyBheDAgKiBieTAgLSBheTAgKiBieDA7XHJcbiAgb3V0WzNdID0gYXcwICogYncwIC0gYXgwICogYngwIC0gYXkwICogYnkwIC0gYXowICogYnowO1xyXG4gIG91dFs0XSA9IGF4MCAqIGJ3MSArIGF3MCAqIGJ4MSArIGF5MCAqIGJ6MSAtIGF6MCAqIGJ5MSArIGF4MSAqIGJ3MCArIGF3MSAqIGJ4MCArIGF5MSAqIGJ6MCAtIGF6MSAqIGJ5MDtcclxuICBvdXRbNV0gPSBheTAgKiBidzEgKyBhdzAgKiBieTEgKyBhejAgKiBieDEgLSBheDAgKiBiejEgKyBheTEgKiBidzAgKyBhdzEgKiBieTAgKyBhejEgKiBieDAgLSBheDEgKiBiejA7XHJcbiAgb3V0WzZdID0gYXowICogYncxICsgYXcwICogYnoxICsgYXgwICogYnkxIC0gYXkwICogYngxICsgYXoxICogYncwICsgYXcxICogYnowICsgYXgxICogYnkwIC0gYXkxICogYngwO1xyXG4gIG91dFs3XSA9IGF3MCAqIGJ3MSAtIGF4MCAqIGJ4MSAtIGF5MCAqIGJ5MSAtIGF6MCAqIGJ6MSArIGF3MSAqIGJ3MCAtIGF4MSAqIGJ4MCAtIGF5MSAqIGJ5MCAtIGF6MSAqIGJ6MDtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHF1YXQyLm11bHRpcGx5fVxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgdmFyIG11bCA9IG11bHRpcGx5O1xyXG4vKipcclxuICogU2NhbGVzIGEgZHVhbCBxdWF0IGJ5IGEgc2NhbGFyIG51bWJlclxyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIHJlY2VpdmluZyBkdWFsIHF1YXRcclxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIHRoZSBkdWFsIHF1YXQgdG8gc2NhbGVcclxuICogQHBhcmFtIHtOdW1iZXJ9IGIgYW1vdW50IHRvIHNjYWxlIHRoZSBkdWFsIHF1YXQgYnlcclxuICogQHJldHVybnMge3F1YXQyfSBvdXRcclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlKG91dCwgYSwgYikge1xyXG4gIG91dFswXSA9IGFbMF0gKiBiO1xyXG4gIG91dFsxXSA9IGFbMV0gKiBiO1xyXG4gIG91dFsyXSA9IGFbMl0gKiBiO1xyXG4gIG91dFszXSA9IGFbM10gKiBiO1xyXG4gIG91dFs0XSA9IGFbNF0gKiBiO1xyXG4gIG91dFs1XSA9IGFbNV0gKiBiO1xyXG4gIG91dFs2XSA9IGFbNl0gKiBiO1xyXG4gIG91dFs3XSA9IGFbN10gKiBiO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgdGhlIGRvdCBwcm9kdWN0IG9mIHR3byBkdWFsIHF1YXQncyAoVGhlIGRvdCBwcm9kdWN0IG9mIHRoZSByZWFsIHBhcnRzKVxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBkb3QgcHJvZHVjdCBvZiBhIGFuZCBiXHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgZG90ID0gcXVhdC5kb3Q7XHJcbi8qKlxyXG4gKiBQZXJmb3JtcyBhIGxpbmVhciBpbnRlcnBvbGF0aW9uIGJldHdlZW4gdHdvIGR1YWwgcXVhdHMnc1xyXG4gKiBOT1RFOiBUaGUgcmVzdWx0aW5nIGR1YWwgcXVhdGVybmlvbnMgd29uJ3QgYWx3YXlzIGJlIG5vcm1hbGl6ZWQgKFRoZSBlcnJvciBpcyBtb3N0IG5vdGljZWFibGUgd2hlbiB0ID0gMC41KVxyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIHJlY2VpdmluZyBkdWFsIHF1YXRcclxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0c1xyXG4gKiBAcmV0dXJucyB7cXVhdDJ9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBsZXJwKG91dCwgYSwgYiwgdCkge1xyXG4gIHZhciBtdCA9IDEgLSB0O1xyXG4gIGlmIChkb3QoYSwgYikgPCAwKSB0ID0gLXQ7XHJcbiAgb3V0WzBdID0gYVswXSAqIG10ICsgYlswXSAqIHQ7XHJcbiAgb3V0WzFdID0gYVsxXSAqIG10ICsgYlsxXSAqIHQ7XHJcbiAgb3V0WzJdID0gYVsyXSAqIG10ICsgYlsyXSAqIHQ7XHJcbiAgb3V0WzNdID0gYVszXSAqIG10ICsgYlszXSAqIHQ7XHJcbiAgb3V0WzRdID0gYVs0XSAqIG10ICsgYls0XSAqIHQ7XHJcbiAgb3V0WzVdID0gYVs1XSAqIG10ICsgYls1XSAqIHQ7XHJcbiAgb3V0WzZdID0gYVs2XSAqIG10ICsgYls2XSAqIHQ7XHJcbiAgb3V0WzddID0gYVs3XSAqIG10ICsgYls3XSAqIHQ7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgaW52ZXJzZSBvZiBhIGR1YWwgcXVhdC4gSWYgdGhleSBhcmUgbm9ybWFsaXplZCwgY29uanVnYXRlIGlzIGNoZWFwZXJcclxuICpcclxuICogQHBhcmFtIHtxdWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgZHVhbCBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSBkdWFsIHF1YXQgdG8gY2FsY3VsYXRlIGludmVyc2Ugb2ZcclxuICogQHJldHVybnMge3F1YXQyfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW52ZXJ0KG91dCwgYSkge1xyXG4gIHZhciBzcWxlbiA9IHNxdWFyZWRMZW5ndGgoYSk7XHJcbiAgb3V0WzBdID0gLWFbMF0gLyBzcWxlbjtcclxuICBvdXRbMV0gPSAtYVsxXSAvIHNxbGVuO1xyXG4gIG91dFsyXSA9IC1hWzJdIC8gc3FsZW47XHJcbiAgb3V0WzNdID0gYVszXSAvIHNxbGVuO1xyXG4gIG91dFs0XSA9IC1hWzRdIC8gc3FsZW47XHJcbiAgb3V0WzVdID0gLWFbNV0gLyBzcWxlbjtcclxuICBvdXRbNl0gPSAtYVs2XSAvIHNxbGVuO1xyXG4gIG91dFs3XSA9IGFbN10gLyBzcWxlbjtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDYWxjdWxhdGVzIHRoZSBjb25qdWdhdGUgb2YgYSBkdWFsIHF1YXRcclxuICogSWYgdGhlIGR1YWwgcXVhdGVybmlvbiBpcyBub3JtYWxpemVkLCB0aGlzIGZ1bmN0aW9uIGlzIGZhc3RlciB0aGFuIHF1YXQyLmludmVyc2UgYW5kIHByb2R1Y2VzIHRoZSBzYW1lIHJlc3VsdC5cclxuICpcclxuICogQHBhcmFtIHtxdWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgcXVhdCB0byBjYWxjdWxhdGUgY29uanVnYXRlIG9mXHJcbiAqIEByZXR1cm5zIHtxdWF0Mn0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNvbmp1Z2F0ZShvdXQsIGEpIHtcclxuICBvdXRbMF0gPSAtYVswXTtcclxuICBvdXRbMV0gPSAtYVsxXTtcclxuICBvdXRbMl0gPSAtYVsyXTtcclxuICBvdXRbM10gPSBhWzNdO1xyXG4gIG91dFs0XSA9IC1hWzRdO1xyXG4gIG91dFs1XSA9IC1hWzVdO1xyXG4gIG91dFs2XSA9IC1hWzZdO1xyXG4gIG91dFs3XSA9IGFbN107XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgbGVuZ3RoIG9mIGEgZHVhbCBxdWF0XHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSBkdWFsIHF1YXQgdG8gY2FsY3VsYXRlIGxlbmd0aCBvZlxyXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBsZW5ndGggb2YgYVxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgdmFyIGxlbmd0aCA9IHF1YXQubGVuZ3RoO1xyXG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayBxdWF0Mi5sZW5ndGh9XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgbGVuID0gbGVuZ3RoO1xyXG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgc3F1YXJlZCBsZW5ndGggb2YgYSBkdWFsIHF1YXRcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIGR1YWwgcXVhdCB0byBjYWxjdWxhdGUgc3F1YXJlZCBsZW5ndGggb2ZcclxuICogQHJldHVybnMge051bWJlcn0gc3F1YXJlZCBsZW5ndGggb2YgYVxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgdmFyIHNxdWFyZWRMZW5ndGggPSBxdWF0LnNxdWFyZWRMZW5ndGg7XHJcbi8qKlxyXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHF1YXQyLnNxdWFyZWRMZW5ndGh9XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgc3FyTGVuID0gc3F1YXJlZExlbmd0aDtcclxuLyoqXHJcbiAqIE5vcm1hbGl6ZSBhIGR1YWwgcXVhdFxyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIHJlY2VpdmluZyBkdWFsIHF1YXRlcm5pb25cclxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIGR1YWwgcXVhdGVybmlvbiB0byBub3JtYWxpemVcclxuICogQHJldHVybnMge3F1YXQyfSBvdXRcclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZShvdXQsIGEpIHtcclxuICB2YXIgbWFnbml0dWRlID0gc3F1YXJlZExlbmd0aChhKTtcclxuXHJcbiAgaWYgKG1hZ25pdHVkZSA+IDApIHtcclxuICAgIG1hZ25pdHVkZSA9IE1hdGguc3FydChtYWduaXR1ZGUpO1xyXG4gICAgdmFyIGEwID0gYVswXSAvIG1hZ25pdHVkZTtcclxuICAgIHZhciBhMSA9IGFbMV0gLyBtYWduaXR1ZGU7XHJcbiAgICB2YXIgYTIgPSBhWzJdIC8gbWFnbml0dWRlO1xyXG4gICAgdmFyIGEzID0gYVszXSAvIG1hZ25pdHVkZTtcclxuICAgIHZhciBiMCA9IGFbNF07XHJcbiAgICB2YXIgYjEgPSBhWzVdO1xyXG4gICAgdmFyIGIyID0gYVs2XTtcclxuICAgIHZhciBiMyA9IGFbN107XHJcbiAgICB2YXIgYV9kb3RfYiA9IGEwICogYjAgKyBhMSAqIGIxICsgYTIgKiBiMiArIGEzICogYjM7XHJcbiAgICBvdXRbMF0gPSBhMDtcclxuICAgIG91dFsxXSA9IGExO1xyXG4gICAgb3V0WzJdID0gYTI7XHJcbiAgICBvdXRbM10gPSBhMztcclxuICAgIG91dFs0XSA9IChiMCAtIGEwICogYV9kb3RfYikgLyBtYWduaXR1ZGU7XHJcbiAgICBvdXRbNV0gPSAoYjEgLSBhMSAqIGFfZG90X2IpIC8gbWFnbml0dWRlO1xyXG4gICAgb3V0WzZdID0gKGIyIC0gYTIgKiBhX2RvdF9iKSAvIG1hZ25pdHVkZTtcclxuICAgIG91dFs3XSA9IChiMyAtIGEzICogYV9kb3RfYikgLyBtYWduaXR1ZGU7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGEgZHVhbCBxdWF0ZW5pb25cclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIGR1YWwgcXVhdGVybmlvbiB0byByZXByZXNlbnQgYXMgYSBzdHJpbmdcclxuICogQHJldHVybnMge1N0cmluZ30gc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBkdWFsIHF1YXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc3RyKGEpIHtcclxuICByZXR1cm4gXCJxdWF0MihcIiArIGFbMF0gKyBcIiwgXCIgKyBhWzFdICsgXCIsIFwiICsgYVsyXSArIFwiLCBcIiArIGFbM10gKyBcIiwgXCIgKyBhWzRdICsgXCIsIFwiICsgYVs1XSArIFwiLCBcIiArIGFbNl0gKyBcIiwgXCIgKyBhWzddICsgXCIpXCI7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIGR1YWwgcXVhdGVybmlvbnMgaGF2ZSBleGFjdGx5IHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uICh3aGVuIGNvbXBhcmVkIHdpdGggPT09KVxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgdGhlIGZpcnN0IGR1YWwgcXVhdGVybmlvbi5cclxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBiIHRoZSBzZWNvbmQgZHVhbCBxdWF0ZXJuaW9uLlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gdHJ1ZSBpZiB0aGUgZHVhbCBxdWF0ZXJuaW9ucyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZXhhY3RFcXVhbHMoYSwgYikge1xyXG4gIHJldHVybiBhWzBdID09PSBiWzBdICYmIGFbMV0gPT09IGJbMV0gJiYgYVsyXSA9PT0gYlsyXSAmJiBhWzNdID09PSBiWzNdICYmIGFbNF0gPT09IGJbNF0gJiYgYVs1XSA9PT0gYls1XSAmJiBhWzZdID09PSBiWzZdICYmIGFbN10gPT09IGJbN107XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIGR1YWwgcXVhdGVybmlvbnMgaGF2ZSBhcHByb3hpbWF0ZWx5IHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uLlxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgdGhlIGZpcnN0IGR1YWwgcXVhdC5cclxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBiIHRoZSBzZWNvbmQgZHVhbCBxdWF0LlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gdHJ1ZSBpZiB0aGUgZHVhbCBxdWF0cyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxzKGEsIGIpIHtcclxuICB2YXIgYTAgPSBhWzBdLFxyXG4gICAgICBhMSA9IGFbMV0sXHJcbiAgICAgIGEyID0gYVsyXSxcclxuICAgICAgYTMgPSBhWzNdLFxyXG4gICAgICBhNCA9IGFbNF0sXHJcbiAgICAgIGE1ID0gYVs1XSxcclxuICAgICAgYTYgPSBhWzZdLFxyXG4gICAgICBhNyA9IGFbN107XHJcbiAgdmFyIGIwID0gYlswXSxcclxuICAgICAgYjEgPSBiWzFdLFxyXG4gICAgICBiMiA9IGJbMl0sXHJcbiAgICAgIGIzID0gYlszXSxcclxuICAgICAgYjQgPSBiWzRdLFxyXG4gICAgICBiNSA9IGJbNV0sXHJcbiAgICAgIGI2ID0gYls2XSxcclxuICAgICAgYjcgPSBiWzddO1xyXG4gIHJldHVybiBNYXRoLmFicyhhMCAtIGIwKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMCksIE1hdGguYWJzKGIwKSkgJiYgTWF0aC5hYnMoYTEgLSBiMSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTEpLCBNYXRoLmFicyhiMSkpICYmIE1hdGguYWJzKGEyIC0gYjIpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEyKSwgTWF0aC5hYnMoYjIpKSAmJiBNYXRoLmFicyhhMyAtIGIzKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMyksIE1hdGguYWJzKGIzKSkgJiYgTWF0aC5hYnMoYTQgLSBiNCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTQpLCBNYXRoLmFicyhiNCkpICYmIE1hdGguYWJzKGE1IC0gYjUpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE1KSwgTWF0aC5hYnMoYjUpKSAmJiBNYXRoLmFicyhhNiAtIGI2KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNiksIE1hdGguYWJzKGI2KSkgJiYgTWF0aC5hYnMoYTcgLSBiNykgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTcpLCBNYXRoLmFicyhiNykpO1xyXG59IiwgInZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn07XHJcbmltcG9ydCB7IENvbXBvbmVudCwgRW1pdHRlciB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbmltcG9ydCB7IHByb3BlcnR5IH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpL2RlY29yYXRvcnMuanMnO1xyXG5pbXBvcnQgeyBzZXRYUlJpZ2lkVHJhbnNmb3JtTG9jYWwgfSBmcm9tICcuL3V0aWxzL3dlYnhyLmpzJztcclxuLyoqXHJcbiAqIFNldHMgdXAgYSBbV2ViWFIgRGV2aWNlIEFQSSBcIkhpdCBUZXN0XCJdKGh0dHBzOi8vaW1tZXJzaXZlLXdlYi5naXRodWIuaW8vaGl0LXRlc3QvKVxyXG4gKiBhbmQgcGxhY2VzIHRoZSBvYmplY3QgdG8gdGhlIGhpdCBsb2NhdGlvbi5cclxuICpcclxuICogKipSZXF1aXJlbWVudHM6KipcclxuICogIC0gU3BlY2lmeSBgJ2hpdC10ZXN0J2AgaW4gdGhlIHJlcXVpcmVkIG9yIG9wdGlvbmFsIGZlYXR1cmVzIG9uIHRoZSBBUiBidXR0b24gaW4geW91ciBodG1sIGZpbGUuXHJcbiAqICAgIFNlZSBbV2FzdGVwYXBlcmJpbiBBUl0oL3Nob3djYXNlL3dwYi1hcikgYXMgYW4gZXhhbXBsZS5cclxuICovXHJcbmNsYXNzIEhpdFRlc3RMb2NhdGlvbiBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnaGl0LXRlc3QtbG9jYXRpb24nO1xyXG4gICAgdGVtcFNjYWxpbmcgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG4gICAgdmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgeHJIaXRUZXN0U291cmNlID0gbnVsbDtcclxuICAgIC8qKiBSZWZlcmVuY2Ugc3BhY2UgZm9yIGNyZWF0aW5nIHRoZSBoaXQgdGVzdCB3aGVuIHRoZSBzZXNzaW9uIHN0YXJ0cyAqL1xyXG4gICAgeHJSZWZlcmVuY2VTcGFjZSA9IG51bGw7XHJcbiAgICAvKipcclxuICAgICAqIEZvciBtYWludGFpbmluZyBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eTogV2hldGhlciB0byBzY2FsZSB0aGUgb2JqZWN0IHRvIDAgYW5kIGJhY2suXHJcbiAgICAgKiBAZGVwcmVjYXRlZCBVc2Ugb25IaXRMb3N0IGFuZCBvbkhpdEZvdW5kIGluc3RlYWQuXHJcbiAgICAgKi9cclxuICAgIHNjYWxlT2JqZWN0ID0gdHJ1ZTtcclxuICAgIC8qKiBFbWl0cyBhbiBldmVudCB3aGVuIHRoZSBoaXQgdGVzdCBzd2l0Y2hlcyBmcm9tIHZpc2libGUgdG8gaW52aXNpYmxlICovXHJcbiAgICBvbkhpdExvc3QgPSBuZXcgRW1pdHRlcigpO1xyXG4gICAgLyoqIEVtaXRzIGFuIGV2ZW50IHdoZW4gdGhlIGhpdCB0ZXN0IHN3aXRjaGVzIGZyb20gaW52aXNpYmxlIHRvIHZpc2libGUgKi9cclxuICAgIG9uSGl0Rm91bmQgPSBuZXcgRW1pdHRlcigpO1xyXG4gICAgb25TZXNzaW9uU3RhcnRDYWxsYmFjayA9IG51bGw7XHJcbiAgICBvblNlc3Npb25FbmRDYWxsYmFjayA9IG51bGw7XHJcbiAgICBzdGFydCgpIHtcclxuICAgICAgICB0aGlzLm9uU2Vzc2lvblN0YXJ0Q2FsbGJhY2sgPSB0aGlzLm9uWFJTZXNzaW9uU3RhcnQuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLm9uU2Vzc2lvbkVuZENhbGxiYWNrID0gdGhpcy5vblhSU2Vzc2lvbkVuZC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIGlmICh0aGlzLnNjYWxlT2JqZWN0KSB7XHJcbiAgICAgICAgICAgIHRoaXMudGVtcFNjYWxpbmcuc2V0KHRoaXMub2JqZWN0LnNjYWxpbmdMb2NhbCk7XHJcbiAgICAgICAgICAgIHRoaXMub2JqZWN0LnNjYWxlKFswLCAwLCAwXSk7XHJcbiAgICAgICAgICAgIHRoaXMub25IaXRMb3N0LmFkZCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRlbXBTY2FsaW5nLnNldCh0aGlzLm9iamVjdC5zY2FsaW5nTG9jYWwpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vYmplY3Quc2NhbGUoWzAsIDAsIDBdKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMub25IaXRGb3VuZC5hZGQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vYmplY3Quc2NhbGluZ0xvY2FsLnNldCh0aGlzLnRlbXBTY2FsaW5nKTtcclxuICAgICAgICAgICAgICAgIHRoaXMub2JqZWN0LnNldERpcnR5KCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIG9uQWN0aXZhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5lbmdpbmUub25YUlNlc3Npb25TdGFydC5hZGQodGhpcy5vblNlc3Npb25TdGFydENhbGxiYWNrKTtcclxuICAgICAgICB0aGlzLmVuZ2luZS5vblhSU2Vzc2lvbkVuZC5hZGQodGhpcy5vblNlc3Npb25FbmRDYWxsYmFjayk7XHJcbiAgICB9XHJcbiAgICBvbkRlYWN0aXZhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5lbmdpbmUub25YUlNlc3Npb25TdGFydC5yZW1vdmUodGhpcy5vblNlc3Npb25TdGFydENhbGxiYWNrKTtcclxuICAgICAgICB0aGlzLmVuZ2luZS5vblhSU2Vzc2lvbkVuZC5yZW1vdmUodGhpcy5vblNlc3Npb25FbmRDYWxsYmFjayk7XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgY29uc3Qgd2FzVmlzaWJsZSA9IHRoaXMudmlzaWJsZTtcclxuICAgICAgICBpZiAodGhpcy54ckhpdFRlc3RTb3VyY2UpIHtcclxuICAgICAgICAgICAgY29uc3QgZnJhbWUgPSB0aGlzLmVuZ2luZS54ckZyYW1lO1xyXG4gICAgICAgICAgICBpZiAoIWZyYW1lKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICBsZXQgaGl0VGVzdFJlc3VsdHMgPSBmcmFtZS5nZXRIaXRUZXN0UmVzdWx0cyh0aGlzLnhySGl0VGVzdFNvdXJjZSk7XHJcbiAgICAgICAgICAgIGlmIChoaXRUZXN0UmVzdWx0cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgcG9zZSA9IGhpdFRlc3RSZXN1bHRzWzBdLmdldFBvc2UodGhpcy5lbmdpbmUueHIuY3VycmVudFJlZmVyZW5jZVNwYWNlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudmlzaWJsZSA9ICEhcG9zZTtcclxuICAgICAgICAgICAgICAgIGlmIChwb3NlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0WFJSaWdpZFRyYW5zZm9ybUxvY2FsKHRoaXMub2JqZWN0LCBwb3NlLnRyYW5zZm9ybSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvKiBFbWl0IGV2ZW50cyBmb3IgdmlzaWJsZSBzdGF0ZSBjaGFuZ2UgKi9cclxuICAgICAgICBpZiAodGhpcy52aXNpYmxlICE9IHdhc1Zpc2libGUpIHtcclxuICAgICAgICAgICAgKHRoaXMudmlzaWJsZSA/IHRoaXMub25IaXRGb3VuZCA6IHRoaXMub25IaXRMb3N0KS5ub3RpZnkodGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZ2V0SGl0VGVzdFJlc3VsdHMoZnJhbWUgPSB0aGlzLmVuZ2luZS54cj8uZnJhbWUgPz8gbnVsbCkge1xyXG4gICAgICAgIGlmICghZnJhbWUpXHJcbiAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICAvKiBNYXkgaGFwcGVuIGlmIHRoZSBoaXQgdGVzdCBzb3VyY2UgY291bGRuJ3QgYmUgY3JlYXRlZCAqL1xyXG4gICAgICAgIGlmICghdGhpcy54ckhpdFRlc3RTb3VyY2UpXHJcbiAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICByZXR1cm4gZnJhbWUuZ2V0SGl0VGVzdFJlc3VsdHModGhpcy54ckhpdFRlc3RTb3VyY2UpO1xyXG4gICAgfVxyXG4gICAgb25YUlNlc3Npb25TdGFydChzZXNzaW9uKSB7XHJcbiAgICAgICAgaWYgKHNlc3Npb24ucmVxdWVzdEhpdFRlc3RTb3VyY2UgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdoaXQtdGVzdC1sb2NhdGlvbjogaGl0IHRlc3QgZmVhdHVyZSBub3QgYXZhaWxhYmxlLiBEZWFjdGl2YXRpbmcgY29tcG9uZW50LicpO1xyXG4gICAgICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNlc3Npb25cclxuICAgICAgICAgICAgLnJlcXVlc3RIaXRUZXN0U291cmNlKHtcclxuICAgICAgICAgICAgc3BhY2U6IHRoaXMueHJSZWZlcmVuY2VTcGFjZSA/P1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbmdpbmUueHIucmVmZXJlbmNlU3BhY2VGb3JUeXBlKCd2aWV3ZXInKSxcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGhlbigoaGl0VGVzdFNvdXJjZSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnhySGl0VGVzdFNvdXJjZSA9IGhpdFRlc3RTb3VyY2U7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xyXG4gICAgfVxyXG4gICAgb25YUlNlc3Npb25FbmQoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnhySGl0VGVzdFNvdXJjZSlcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMueHJIaXRUZXN0U291cmNlLmNhbmNlbCgpO1xyXG4gICAgICAgIHRoaXMueHJIaXRUZXN0U291cmNlID0gbnVsbDtcclxuICAgIH1cclxufVxyXG5fX2RlY29yYXRlKFtcclxuICAgIHByb3BlcnR5LmJvb2wodHJ1ZSlcclxuXSwgSGl0VGVzdExvY2F0aW9uLnByb3RvdHlwZSwgXCJzY2FsZU9iamVjdFwiLCB2b2lkIDApO1xyXG5leHBvcnQgeyBIaXRUZXN0TG9jYXRpb24gfTtcclxuIiwgInZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn07XHJcbmltcG9ydCB7IENvbXBvbmVudCwgVmlld0NvbXBvbmVudCwgRW1pdHRlciwgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xyXG5pbXBvcnQgeyBwcm9wZXJ0eSB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaS9kZWNvcmF0b3JzLmpzJztcclxuaW1wb3J0IHsgdmVjMywgbWF0NCB9IGZyb20gJ2dsLW1hdHJpeCc7XHJcbmltcG9ydCB7IEN1cnNvclRhcmdldCB9IGZyb20gJy4vY3Vyc29yLXRhcmdldC5qcyc7XHJcbmltcG9ydCB7IEhpdFRlc3RMb2NhdGlvbiB9IGZyb20gJy4vaGl0LXRlc3QtbG9jYXRpb24uanMnO1xyXG5jb25zdCB0ZW1wVmVjID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuLyoqIEdsb2JhbCB0YXJnZXQgZm9yIHtAbGluayBDdXJzb3J9ICovXHJcbmNsYXNzIEN1cnNvclRhcmdldEVtaXR0ZXJzIHtcclxuICAgIC8qKiBFbWl0dGVyIGZvciBldmVudHMgd2hlbiB0aGUgdGFyZ2V0IGlzIGhvdmVyZWQgKi9cclxuICAgIG9uSG92ZXIgPSBuZXcgRW1pdHRlcigpO1xyXG4gICAgLyoqIEVtaXR0ZXIgZm9yIGV2ZW50cyB3aGVuIHRoZSB0YXJnZXQgaXMgdW5ob3ZlcmVkICovXHJcbiAgICBvblVuaG92ZXIgPSBuZXcgRW1pdHRlcigpO1xyXG4gICAgLyoqIEVtaXR0ZXIgZm9yIGV2ZW50cyB3aGVuIHRoZSB0YXJnZXQgaXMgY2xpY2tlZCAqL1xyXG4gICAgb25DbGljayA9IG5ldyBFbWl0dGVyKCk7XHJcbiAgICAvKiogRW1pdHRlciBmb3IgZXZlbnRzIHdoZW4gdGhlIGN1cnNvciBtb3ZlcyBvbiB0aGUgdGFyZ2V0ICovXHJcbiAgICBvbk1vdmUgPSBuZXcgRW1pdHRlcigpO1xyXG4gICAgLyoqIEVtaXR0ZXIgZm9yIGV2ZW50cyB3aGVuIHRoZSB1c2VyIHByZXNzZWQgdGhlIHNlbGVjdCBidXR0b24gb24gdGhlIHRhcmdldCAqL1xyXG4gICAgb25Eb3duID0gbmV3IEVtaXR0ZXIoKTtcclxuICAgIC8qKiBFbWl0dGVyIGZvciBldmVudHMgd2hlbiB0aGUgdXNlciB1bnByZXNzZWQgdGhlIHNlbGVjdCBidXR0b24gb24gdGhlIHRhcmdldCAqL1xyXG4gICAgb25VcCA9IG5ldyBFbWl0dGVyKCk7XHJcbn1cclxuLyoqXHJcbiAqIDNEIGN1cnNvciBmb3IgZGVza3RvcC9tb2JpbGUvVlIuXHJcbiAqXHJcbiAqIEltcGxlbWVudHMgYSByYXktY2FzdGluZyBjdXJzb3IgaW50byB0aGUgc2NlbmUuIFRvIHJlYWN0IHRvXHJcbiAqIGNsaWNraW5nL2hvdmVyL3VuaG92ZXIvY3Vyc29yIGRvd24vY3Vyc29yIHVwL21vdmUgdXNlIGFcclxuICogW2N1cnNvci10YXJnZXRdKCNjdXJzb3ItdGFyZ2V0KS5cclxuICpcclxuICogRm9yIFZSLCB0aGUgcmF5IGlzIGNhc3QgaW4gZGlyZWN0aW9uIG9mXHJcbiAqIFt0aGlzLm9iamVjdC5nZXRGb3J3YXJkKCldKC9qc2FwaS9vYmplY3QvI2dldGZvcndhcmQpLiBGb3IgZGVza3RvcCBhbmQgbW9iaWxlLCB0aGVcclxuICogZm9yd2FyZCB2ZWN0b3IgaXMgaW52ZXJzZS1wcm9qZWN0ZWQgdG8gYWNjb3VudCBmb3Igd2hlcmUgb24gc2NyZWVuIHRoZSB1c2VyIGNsaWNrZWQuXHJcbiAqXHJcbiAqIGAuZ2xvYmFsVGFyZ2V0YCBjYW4gYmUgdXNlZCB0byBjYWxsIGNhbGxiYWNrcyBmb3IgYWxsIG9iamVjdHMsIGV2ZW4gdGhvc2UgdGhhdFxyXG4gKiBkbyBub3QgaGF2ZSBhIGN1cnNvciB0YXJnZXQgYXR0YWNoZWQsIGJ1dCBtYXRjaCB0aGUgY29sbGlzaW9uIGdyb3VwLlxyXG4gKlxyXG4gKiBgLmhpdFRlc3RUYXJnZXRgIGNhbiBiZSB1c2VkIHRvIGNhbGwgY2FsbGJhY2tzIFdlYlhSIGhpdCB0ZXN0IHJlc3VsdHMsXHJcbiAqXHJcbiAqIFNlZSBbQW5pbWF0aW9uIEV4YW1wbGVdKC9zaG93Y2FzZS9hbmltYXRpb24pLlxyXG4gKi9cclxuY2xhc3MgQ3Vyc29yIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdjdXJzb3InO1xyXG4gICAgLyogRGVwZW5kZW5jaWVzIGlzIGRlcHJlY2F0ZWQsIGJ1dCB3ZSBrZWVwIGl0IGhlcmUgZm9yIGNvbXBhdGliaWxpdHlcclxuICAgICAqIHdpdGggMS4wLjAtcmMyIHVudGlsIDEuMC4wIGlzIHJlbGVhc2VkICovXHJcbiAgICBzdGF0aWMgRGVwZW5kZW5jaWVzID0gW0hpdFRlc3RMb2NhdGlvbl07XHJcbiAgICBzdGF0aWMgb25SZWdpc3RlcihlbmdpbmUpIHtcclxuICAgICAgICBlbmdpbmUucmVnaXN0ZXJDb21wb25lbnQoSGl0VGVzdExvY2F0aW9uKTtcclxuICAgIH1cclxuICAgIF9jb2xsaXNpb25NYXNrID0gMDtcclxuICAgIF9vbkRlYWN0aXZhdGVDYWxsYmFja3MgPSBbXTtcclxuICAgIF9pbnB1dCA9IG51bGw7XHJcbiAgICBfb3JpZ2luID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuICAgIF9jdXJzb3JPYmpTY2FsZSA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbiAgICBfZGlyZWN0aW9uID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuICAgIF9wcm9qZWN0aW9uTWF0cml4ID0gbmV3IEZsb2F0MzJBcnJheSgxNik7XHJcbiAgICBfdmlld0NvbXBvbmVudCA9IG51bGw7XHJcbiAgICBfaXNEb3duID0gZmFsc2U7XHJcbiAgICBfbGFzdElzRG93biA9IGZhbHNlO1xyXG4gICAgX2FyVG91Y2hEb3duID0gZmFsc2U7XHJcbiAgICBfbGFzdFBvaW50ZXJQb3MgPSBuZXcgRmxvYXQzMkFycmF5KDIpO1xyXG4gICAgX2xhc3RDdXJzb3JQb3NPblRhcmdldCA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbiAgICBfY3Vyc29yUmF5U2NhbGUgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG4gICAgX2hpdFRlc3RMb2NhdGlvbiA9IG51bGw7XHJcbiAgICBfaGl0VGVzdE9iamVjdCA9IG51bGw7XHJcbiAgICBfb25TZXNzaW9uU3RhcnRDYWxsYmFjayA9IG51bGw7XHJcbiAgICAvKipcclxuICAgICAqIFdoZXRoZXIgdGhlIGN1cnNvciAoYW5kIGN1cnNvck9iamVjdCkgaXMgdmlzaWJsZSwgaS5lLiBwb2ludGluZyBhdCBhbiBvYmplY3RcclxuICAgICAqIHRoYXQgbWF0Y2hlcyB0aGUgY29sbGlzaW9uIGdyb3VwXHJcbiAgICAgKi9cclxuICAgIHZpc2libGUgPSB0cnVlO1xyXG4gICAgLyoqIEN1cnJlbnRseSBob3ZlcmVkIG9iamVjdCAqL1xyXG4gICAgaG92ZXJpbmdPYmplY3QgPSBudWxsO1xyXG4gICAgLyoqIEN1cnNvclRhcmdldCBjb21wb25lbnQgb2YgdGhlIGN1cnJlbnRseSBob3ZlcmVkIG9iamVjdCAqL1xyXG4gICAgaG92ZXJpbmdPYmplY3RUYXJnZXQgPSBudWxsO1xyXG4gICAgLyoqIFdoZXRoZXIgdGhlIGN1cnNvciBpcyBob3ZlcmluZyByZWFsaXR5IHZpYSBoaXQtdGVzdCAqL1xyXG4gICAgaG92ZXJpbmdSZWFsaXR5ID0gZmFsc2U7XHJcbiAgICAvKipcclxuICAgICAqIEdsb2JhbCB0YXJnZXQgbGV0cyB5b3UgcmVjZWl2ZSBnbG9iYWwgY3Vyc29yIGV2ZW50cyBvbiBhbnkgb2JqZWN0LlxyXG4gICAgICovXHJcbiAgICBnbG9iYWxUYXJnZXQgPSBuZXcgQ3Vyc29yVGFyZ2V0RW1pdHRlcnMoKTtcclxuICAgIC8qKlxyXG4gICAgICogSGl0IHRlc3QgdGFyZ2V0IGxldHMgeW91IHJlY2VpdmUgY3Vyc29yIGV2ZW50cyBmb3IgXCJyZWFsaXR5XCIsIGlmXHJcbiAgICAgKiBgdXNlV2ViWFJIaXRUZXN0YCBpcyBzZXQgdG8gYHRydWVgLlxyXG4gICAgICpcclxuICAgICAqIEBleGFtcGxlXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogY3Vyc29yLmhpdFRlc3RUYXJnZXQub25DbGljay5hZGQoKGhpdCwgY3Vyc29yKSA9PiB7XHJcbiAgICAgKiAgICAgLy8gVXNlciBjbGlja2VkIG9uIHJlYWxpdHlcclxuICAgICAqIH0pO1xyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIGhpdFRlc3RUYXJnZXQgPSBuZXcgQ3Vyc29yVGFyZ2V0RW1pdHRlcnMoKTtcclxuICAgIC8qKiBXb3JsZCBwb3NpdGlvbiBvZiB0aGUgY3Vyc29yICovXHJcbiAgICBjdXJzb3JQb3MgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG4gICAgLyoqIENvbGxpc2lvbiBncm91cCBmb3IgdGhlIHJheSBjYXN0LiBPbmx5IG9iamVjdHMgaW4gdGhpcyBncm91cCB3aWxsIGJlIGFmZmVjdGVkIGJ5IHRoaXMgY3Vyc29yLiAqL1xyXG4gICAgY29sbGlzaW9uR3JvdXAgPSAxO1xyXG4gICAgLyoqIChvcHRpb25hbCkgT2JqZWN0IHRoYXQgdmlzdWFsaXplcyB0aGUgY3Vyc29yJ3MgcmF5LiAqL1xyXG4gICAgY3Vyc29yUmF5T2JqZWN0ID0gbnVsbDtcclxuICAgIC8qKiBBeGlzIGFsb25nIHdoaWNoIHRvIHNjYWxlIHRoZSBgY3Vyc29yUmF5T2JqZWN0YC4gKi9cclxuICAgIGN1cnNvclJheVNjYWxpbmdBeGlzID0gMjtcclxuICAgIC8qKiAob3B0aW9uYWwpIE9iamVjdCB0aGF0IHZpc3VhbGl6ZXMgdGhlIGN1cnNvcidzIGhpdCBsb2NhdGlvbi4gKi9cclxuICAgIGN1cnNvck9iamVjdCA9IG51bGw7XHJcbiAgICAvKiogSGFuZGVkbmVzcyBmb3IgVlIgY3Vyc29ycyB0byBhY2NlcHQgdHJpZ2dlciBldmVudHMgb25seSBmcm9tIHJlc3BlY3RpdmUgY29udHJvbGxlci4gKi9cclxuICAgIGhhbmRlZG5lc3MgPSAwO1xyXG4gICAgLyoqIE1vZGUgZm9yIHJheWNhc3RpbmcsIHdoZXRoZXIgdG8gdXNlIFBoeXNYIG9yIHNpbXBsZSBjb2xsaXNpb24gY29tcG9uZW50cyAqL1xyXG4gICAgcmF5Q2FzdE1vZGUgPSAwO1xyXG4gICAgLyoqIE1heGltdW0gZGlzdGFuY2UgZm9yIHRoZSBjdXJzb3IncyByYXkgY2FzdC4gKi9cclxuICAgIG1heERpc3RhbmNlID0gMTAwO1xyXG4gICAgLyoqIFdoZXRoZXIgdG8gc2V0IHRoZSBDU1Mgc3R5bGUgb2YgdGhlIG1vdXNlIGN1cnNvciBvbiBkZXNrdG9wICovXHJcbiAgICBzdHlsZUN1cnNvciA9IHRydWU7XHJcbiAgICAvKipcclxuICAgICAqIFVzZSBXZWJYUiBoaXQtdGVzdCBpZiBhdmFpbGFibGUuXHJcbiAgICAgKlxyXG4gICAgICogQXR0YWNoZXMgYSBoaXQtdGVzdC1sb2NhdGlvbiBjb21wb25lbnQgdG8gdGhlIGN1cnNvck9iamVjdCwgd2hpY2ggd2lsbCBiZSB1c2VkXHJcbiAgICAgKiBieSB0aGUgY3Vyc29yIHRvIHNlbmQgZXZlbnRzIHRvIHRoZSBoaXRUZXN0VGFyZ2V0IHdpdGggSGl0VGVzdFJlc3VsdC5cclxuICAgICAqL1xyXG4gICAgdXNlV2ViWFJIaXRUZXN0ID0gZmFsc2U7XHJcbiAgICBfb25WaWV3cG9ydFJlc2l6ZSA9ICgpID0+IHtcclxuICAgICAgICBpZiAoIXRoaXMuX3ZpZXdDb21wb25lbnQpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAvKiBQcm9qZWN0aW9uIG1hdHJpeCB3aWxsIGNoYW5nZSBpZiB0aGUgdmlld3BvcnQgaXMgcmVzaXplZCwgd2hpY2ggd2lsbCBhZmZlY3QgdGhlXHJcbiAgICAgICAgICogcHJvamVjdGlvbiBtYXRyaXggYmVjYXVzZSBvZiB0aGUgYXNwZWN0IHJhdGlvLiAqL1xyXG4gICAgICAgIG1hdDQuaW52ZXJ0KHRoaXMuX3Byb2plY3Rpb25NYXRyaXgsIHRoaXMuX3ZpZXdDb21wb25lbnQucHJvamVjdGlvbk1hdHJpeCk7XHJcbiAgICB9O1xyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgdGhpcy5fY29sbGlzaW9uTWFzayA9IDEgPDwgdGhpcy5jb2xsaXNpb25Hcm91cDtcclxuICAgICAgICBpZiAodGhpcy5oYW5kZWRuZXNzID09IDApIHtcclxuICAgICAgICAgICAgY29uc3QgaW5wdXRDb21wID0gdGhpcy5vYmplY3QuZ2V0Q29tcG9uZW50KCdpbnB1dCcpO1xyXG4gICAgICAgICAgICBpZiAoIWlucHV0Q29tcCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdjdXJzb3IgY29tcG9uZW50IG9uIG9iamVjdCcsIHRoaXMub2JqZWN0Lm5hbWUsICd3YXMgY29uZmlndXJlZCB3aXRoIGhhbmRlZG5lc3MgXCJpbnB1dCBjb21wb25lbnRcIiwgJyArXHJcbiAgICAgICAgICAgICAgICAgICAgJ2J1dCBvYmplY3QgaGFzIG5vIGlucHV0IGNvbXBvbmVudC4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGVkbmVzcyA9IGlucHV0Q29tcC5oYW5kZWRuZXNzIHx8ICdub25lJztcclxuICAgICAgICAgICAgICAgIHRoaXMuX2lucHV0ID0gaW5wdXRDb21wO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmhhbmRlZG5lc3MgPSBbJ2xlZnQnLCAncmlnaHQnLCAnbm9uZSddW3RoaXMuaGFuZGVkbmVzcyAtIDFdO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl92aWV3Q29tcG9uZW50ID0gdGhpcy5vYmplY3QuZ2V0Q29tcG9uZW50KFZpZXdDb21wb25lbnQpO1xyXG4gICAgICAgIGlmICh0aGlzLnVzZVdlYlhSSGl0VGVzdCkge1xyXG4gICAgICAgICAgICB0aGlzLl9oaXRUZXN0T2JqZWN0ID0gdGhpcy5lbmdpbmUuc2NlbmUuYWRkT2JqZWN0KHRoaXMub2JqZWN0KTtcclxuICAgICAgICAgICAgdGhpcy5faGl0VGVzdExvY2F0aW9uID1cclxuICAgICAgICAgICAgICAgIHRoaXMuX2hpdFRlc3RPYmplY3QuYWRkQ29tcG9uZW50KEhpdFRlc3RMb2NhdGlvbiwge1xyXG4gICAgICAgICAgICAgICAgICAgIHNjYWxlT2JqZWN0OiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIH0pID8/IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX29uU2Vzc2lvblN0YXJ0Q2FsbGJhY2sgPSB0aGlzLnNldHVwVlJFdmVudHMuYmluZCh0aGlzKTtcclxuICAgIH1cclxuICAgIG9uQWN0aXZhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5lbmdpbmUub25YUlNlc3Npb25TdGFydC5hZGQodGhpcy5fb25TZXNzaW9uU3RhcnRDYWxsYmFjayk7XHJcbiAgICAgICAgdGhpcy5lbmdpbmUub25SZXNpemUuYWRkKHRoaXMuX29uVmlld3BvcnRSZXNpemUpO1xyXG4gICAgICAgIHRoaXMuX3NldEN1cnNvclZpc2liaWxpdHkodHJ1ZSk7XHJcbiAgICAgICAgLyogSWYgdGhpcyBvYmplY3QgYWxzbyBoYXMgYSB2aWV3IGNvbXBvbmVudCwgd2Ugd2lsbCBlbmFibGUgaW52ZXJzZS1wcm9qZWN0ZWQgbW91c2UgY2xpY2tzLFxyXG4gICAgICAgICAqIG90aGVyd2lzZSBqdXN0IHVzZSB0aGUgb2JqZWN0cyB0cmFuc2Zvcm1hdGlvbiAqL1xyXG4gICAgICAgIGlmICh0aGlzLl92aWV3Q29tcG9uZW50ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgY29uc3QgY2FudmFzID0gdGhpcy5lbmdpbmUuY2FudmFzO1xyXG4gICAgICAgICAgICBjb25zdCBvbkNsaWNrID0gdGhpcy5vbkNsaWNrLmJpbmQodGhpcyk7XHJcbiAgICAgICAgICAgIGNvbnN0IG9uUG9pbnRlck1vdmUgPSB0aGlzLm9uUG9pbnRlck1vdmUuYmluZCh0aGlzKTtcclxuICAgICAgICAgICAgY29uc3Qgb25Qb2ludGVyRG93biA9IHRoaXMub25Qb2ludGVyRG93bi5iaW5kKHRoaXMpO1xyXG4gICAgICAgICAgICBjb25zdCBvblBvaW50ZXJVcCA9IHRoaXMub25Qb2ludGVyVXAuYmluZCh0aGlzKTtcclxuICAgICAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25DbGljayk7XHJcbiAgICAgICAgICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIG9uUG9pbnRlck1vdmUpO1xyXG4gICAgICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCBvblBvaW50ZXJEb3duKTtcclxuICAgICAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJ1cCcsIG9uUG9pbnRlclVwKTtcclxuICAgICAgICAgICAgdGhpcy5fb25EZWFjdGl2YXRlQ2FsbGJhY2tzLnB1c2goKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25DbGljayk7XHJcbiAgICAgICAgICAgICAgICBjYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcm1vdmUnLCBvblBvaW50ZXJNb3ZlKTtcclxuICAgICAgICAgICAgICAgIGNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIG9uUG9pbnRlckRvd24pO1xyXG4gICAgICAgICAgICAgICAgY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJ1cCcsIG9uUG9pbnRlclVwKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX29uVmlld3BvcnRSZXNpemUoKTtcclxuICAgIH1cclxuICAgIF9zZXRDdXJzb3JSYXlUcmFuc2Zvcm0oaGl0UG9zaXRpb24pIHtcclxuICAgICAgICBpZiAoIXRoaXMuY3Vyc29yUmF5T2JqZWN0KVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgY29uc3QgZGlzdCA9IHZlYzMuZGlzdCh0aGlzLl9vcmlnaW4sIGhpdFBvc2l0aW9uKTtcclxuICAgICAgICB0aGlzLmN1cnNvclJheU9iamVjdC5zZXRUcmFuc2xhdGlvbkxvY2FsKFswLjAsIDAuMCwgLWRpc3QgLyAyXSk7XHJcbiAgICAgICAgaWYgKHRoaXMuY3Vyc29yUmF5U2NhbGluZ0F4aXMgIT0gNCkge1xyXG4gICAgICAgICAgICB0aGlzLmN1cnNvclJheU9iamVjdC5yZXNldFNjYWxpbmcoKTtcclxuICAgICAgICAgICAgdGhpcy5fY3Vyc29yUmF5U2NhbGVbdGhpcy5jdXJzb3JSYXlTY2FsaW5nQXhpc10gPSBkaXN0IC8gMjtcclxuICAgICAgICAgICAgdGhpcy5jdXJzb3JSYXlPYmplY3Quc2NhbGUodGhpcy5fY3Vyc29yUmF5U2NhbGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9zZXRDdXJzb3JWaXNpYmlsaXR5KHZpc2libGUpIHtcclxuICAgICAgICBpZiAodGhpcy52aXNpYmxlID09IHZpc2libGUpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB0aGlzLnZpc2libGUgPSB2aXNpYmxlO1xyXG4gICAgICAgIGlmICghdGhpcy5jdXJzb3JPYmplY3QpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICBpZiAodmlzaWJsZSkge1xyXG4gICAgICAgICAgICB0aGlzLmN1cnNvck9iamVjdC5zZXRTY2FsaW5nV29ybGQodGhpcy5fY3Vyc29yT2JqU2NhbGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5jdXJzb3JPYmplY3QuZ2V0U2NhbGluZ1dvcmxkKHRoaXMuX2N1cnNvck9ialNjYWxlKTtcclxuICAgICAgICAgICAgdGhpcy5jdXJzb3JPYmplY3Quc2NhbGVMb2NhbChbMCwgMCwgMF0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICAvKiBJZiBpbiBWUiwgc2V0IHRoZSBjdXJzb3IgcmF5IGJhc2VkIG9uIG9iamVjdCB0cmFuc2Zvcm0gKi9cclxuICAgICAgICAvKiBTaW5jZSBHb29nbGUgQ2FyZGJvYXJkIHRhcCBpcyByZWdpc3RlcmVkIGFzIGFyVG91Y2hEb3duIHdpdGhvdXQgYSBnYW1lcGFkLCB3ZSBuZWVkIHRvIGNoZWNrIGZvciBnYW1lcGFkIHByZXNlbmNlICovXHJcbiAgICAgICAgaWYgKHRoaXMuZW5naW5lLnhyICYmXHJcbiAgICAgICAgICAgIHRoaXMuX2FyVG91Y2hEb3duICYmXHJcbiAgICAgICAgICAgIHRoaXMuX2lucHV0ICYmXHJcbiAgICAgICAgICAgIHRoaXMuZW5naW5lLnhyLnNlc3Npb24uaW5wdXRTb3VyY2VzWzBdLmhhbmRlZG5lc3MgPT09ICdub25lJyAmJlxyXG4gICAgICAgICAgICB0aGlzLmVuZ2luZS54ci5zZXNzaW9uLmlucHV0U291cmNlc1swXS5nYW1lcGFkKSB7XHJcbiAgICAgICAgICAgIC8qIFdlYlhSIEFSIGlucHV0ICovXHJcbiAgICAgICAgICAgIGNvbnN0IHAgPSB0aGlzLmVuZ2luZS54ci5zZXNzaW9uLmlucHV0U291cmNlc1swXS5nYW1lcGFkLmF4ZXM7XHJcbiAgICAgICAgICAgIC8qIFNjcmVlbnNwYWNlIFkgaXMgaW52ZXJ0ZWQgKi9cclxuICAgICAgICAgICAgdGhpcy5fZGlyZWN0aW9uWzBdID0gcFswXTtcclxuICAgICAgICAgICAgdGhpcy5fZGlyZWN0aW9uWzFdID0gLXBbMV07XHJcbiAgICAgICAgICAgIHRoaXMuX2RpcmVjdGlvblsyXSA9IC0xLjA7XHJcbiAgICAgICAgICAgIHRoaXMuYXBwbHlUcmFuc2Zvcm1BbmRQcm9qZWN0RGlyZWN0aW9uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZW5naW5lLnhyICYmIHRoaXMuX2lucHV0ICYmIHRoaXMuX2lucHV0LnhySW5wdXRTb3VyY2UpIHtcclxuICAgICAgICAgICAgLyogV2ViWFIgVlIgaW5wdXQgKi9cclxuICAgICAgICAgICAgdGhpcy5fZGlyZWN0aW9uWzBdID0gMDtcclxuICAgICAgICAgICAgdGhpcy5fZGlyZWN0aW9uWzFdID0gMDtcclxuICAgICAgICAgICAgdGhpcy5fZGlyZWN0aW9uWzJdID0gLTEuMDtcclxuICAgICAgICAgICAgdGhpcy5hcHBseVRyYW5zZm9ybVRvRGlyZWN0aW9uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMuX3ZpZXdDb21wb25lbnQpIHtcclxuICAgICAgICAgICAgLyogQXBwbHkgcG90ZW50aWFsbHkgY2hhbmdlZCB0cmFuc2Zvcm0gdG8gbGFzdCBzdG9yZWQgcG9pbnRlclxyXG4gICAgICAgICAgICAgKiBwb3NpdGlvbiAqL1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZURpcmVjdGlvbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnJheUNhc3QobnVsbCwgdGhpcy5lbmdpbmUueHI/LmZyYW1lKTtcclxuICAgICAgICBpZiAodGhpcy5jdXJzb3JPYmplY3QpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaG92ZXJpbmdPYmplY3QgJiZcclxuICAgICAgICAgICAgICAgICh0aGlzLmN1cnNvclBvc1swXSAhPSAwIHx8IHRoaXMuY3Vyc29yUG9zWzFdICE9IDAgfHwgdGhpcy5jdXJzb3JQb3NbMl0gIT0gMCkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3NldEN1cnNvclZpc2liaWxpdHkodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnNvck9iamVjdC5zZXRUcmFuc2xhdGlvbldvcmxkKHRoaXMuY3Vyc29yUG9zKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3NldEN1cnNvclJheVRyYW5zZm9ybSh0aGlzLmN1cnNvclBvcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zZXRDdXJzb3JWaXNpYmlsaXR5KGZhbHNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qIFJldHVybnMgdGhlIGhvdmVyZWQgY3Vyc29yIHRhcmdldCwgaWYgYXZhaWxhYmxlICovXHJcbiAgICBub3RpZnkoZXZlbnQsIG9yaWdpbmFsRXZlbnQpIHtcclxuICAgICAgICBjb25zdCB0YXJnZXQgPSB0aGlzLmhvdmVyaW5nT2JqZWN0O1xyXG4gICAgICAgIGlmICh0YXJnZXQpIHtcclxuICAgICAgICAgICAgY29uc3QgY3Vyc29yVGFyZ2V0ID0gdGhpcy5ob3ZlcmluZ09iamVjdFRhcmdldDtcclxuICAgICAgICAgICAgaWYgKGN1cnNvclRhcmdldClcclxuICAgICAgICAgICAgICAgIGN1cnNvclRhcmdldFtldmVudF0ubm90aWZ5KHRhcmdldCwgdGhpcywgb3JpZ2luYWxFdmVudCA/PyB1bmRlZmluZWQpO1xyXG4gICAgICAgICAgICB0aGlzLmdsb2JhbFRhcmdldFtldmVudF0ubm90aWZ5KHRhcmdldCwgdGhpcywgb3JpZ2luYWxFdmVudCA/PyB1bmRlZmluZWQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGhvdmVyQmVoYXZpb3VyKHJheUhpdCwgaGl0VGVzdFJlc3VsdCwgZG9DbGljaywgb3JpZ2luYWxFdmVudCkge1xyXG4gICAgICAgIC8qIE9sZCBBUEkgdmVyc2lvbiBkb2VzIG5vdCByZXR1cm4gbnVsbCBmb3Igb2JqZWN0c1swXSBpZiBubyBoaXQgKi9cclxuICAgICAgICBjb25zdCBoaXQgPSAhdGhpcy5ob3ZlcmluZ1JlYWxpdHkgJiYgcmF5SGl0LmhpdENvdW50ID4gMCA/IHJheUhpdC5vYmplY3RzWzBdIDogbnVsbDtcclxuICAgICAgICBpZiAoaGl0KSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5ob3ZlcmluZ09iamVjdCB8fCAhdGhpcy5ob3ZlcmluZ09iamVjdC5lcXVhbHMoaGl0KSkge1xyXG4gICAgICAgICAgICAgICAgLyogVW5ob3ZlciBwcmV2aW91cywgaWYgZXhpc3RzICovXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ob3ZlcmluZ09iamVjdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubm90aWZ5KCdvblVuaG92ZXInLCBvcmlnaW5hbEV2ZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8qIEhvdmVyIG5ldyBvYmplY3QgKi9cclxuICAgICAgICAgICAgICAgIHRoaXMuaG92ZXJpbmdPYmplY3QgPSBoaXQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhvdmVyaW5nT2JqZWN0VGFyZ2V0ID0gdGhpcy5ob3ZlcmluZ09iamVjdC5nZXRDb21wb25lbnQoQ3Vyc29yVGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0eWxlQ3Vyc29yKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5naW5lLmNhbnZhcy5zdHlsZS5jdXJzb3IgPSAncG9pbnRlcic7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeSgnb25Ib3ZlcicsIG9yaWdpbmFsRXZlbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMuaG92ZXJpbmdPYmplY3QpIHtcclxuICAgICAgICAgICAgLyogUHJldmlvdXNseSBob3ZlcmluZyBvYmplY3QsIG5vdyBob3ZlcmluZyBub3RoaW5nICovXHJcbiAgICAgICAgICAgIHRoaXMubm90aWZ5KCdvblVuaG92ZXInLCBvcmlnaW5hbEV2ZW50KTtcclxuICAgICAgICAgICAgdGhpcy5ob3ZlcmluZ09iamVjdCA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuaG92ZXJpbmdPYmplY3RUYXJnZXQgPSBudWxsO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zdHlsZUN1cnNvcilcclxuICAgICAgICAgICAgICAgIHRoaXMuZW5naW5lLmNhbnZhcy5zdHlsZS5jdXJzb3IgPSAnZGVmYXVsdCc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmhvdmVyaW5nT2JqZWN0KSB7XHJcbiAgICAgICAgICAgIC8qIG9uRG93bi9vblVwIGZvciBvYmplY3QgKi9cclxuICAgICAgICAgICAgaWYgKHRoaXMuX2lzRG93biAhPT0gdGhpcy5fbGFzdElzRG93bikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ub3RpZnkodGhpcy5faXNEb3duID8gJ29uRG93bicgOiAnb25VcCcsIG9yaWdpbmFsRXZlbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8qIG9uQ2xpY2sgZm9yIG9iamVjdCAqL1xyXG4gICAgICAgICAgICBpZiAoZG9DbGljaylcclxuICAgICAgICAgICAgICAgIHRoaXMubm90aWZ5KCdvbkNsaWNrJywgb3JpZ2luYWxFdmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMuaG92ZXJpbmdSZWFsaXR5KSB7XHJcbiAgICAgICAgICAgIC8qIG9uRG93bi9vblVwIGZvciBoaXQgdGVzdCAqL1xyXG4gICAgICAgICAgICBpZiAodGhpcy5faXNEb3duICE9PSB0aGlzLl9sYXN0SXNEb3duKSB7XHJcbiAgICAgICAgICAgICAgICAodGhpcy5faXNEb3duID8gdGhpcy5oaXRUZXN0VGFyZ2V0Lm9uRG93biA6IHRoaXMuaGl0VGVzdFRhcmdldC5vblVwKS5ub3RpZnkoaGl0VGVzdFJlc3VsdCwgdGhpcywgb3JpZ2luYWxFdmVudCA/PyB1bmRlZmluZWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8qIG9uQ2xpY2sgZm9yIGhpdCB0ZXN0ICovXHJcbiAgICAgICAgICAgIGlmIChkb0NsaWNrKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5oaXRUZXN0VGFyZ2V0Lm9uQ2xpY2subm90aWZ5KGhpdFRlc3RSZXN1bHQsIHRoaXMsIG9yaWdpbmFsRXZlbnQgPz8gdW5kZWZpbmVkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLyogb25Nb3ZlICovXHJcbiAgICAgICAgaWYgKGhpdCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5ob3ZlcmluZ09iamVjdCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ob3ZlcmluZ09iamVjdC50cmFuc2Zvcm1Qb2ludEludmVyc2VXb3JsZCh0ZW1wVmVjLCB0aGlzLmN1cnNvclBvcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0ZW1wVmVjLnNldCh0aGlzLmN1cnNvclBvcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCF2ZWMzLmVxdWFscyh0aGlzLl9sYXN0Q3Vyc29yUG9zT25UYXJnZXQsIHRlbXBWZWMpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeSgnb25Nb3ZlJywgb3JpZ2luYWxFdmVudCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9sYXN0Q3Vyc29yUG9zT25UYXJnZXQuc2V0KHRlbXBWZWMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMuaG92ZXJpbmdSZWFsaXR5KSB7XHJcbiAgICAgICAgICAgIGlmICghdmVjMy5lcXVhbHModGhpcy5fbGFzdEN1cnNvclBvc09uVGFyZ2V0LCB0aGlzLmN1cnNvclBvcykpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGl0VGVzdFRhcmdldC5vbk1vdmUubm90aWZ5KGhpdFRlc3RSZXN1bHQsIHRoaXMsIG9yaWdpbmFsRXZlbnQgPz8gdW5kZWZpbmVkKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2xhc3RDdXJzb3JQb3NPblRhcmdldC5zZXQodGhpcy5jdXJzb3JQb3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9sYXN0Q3Vyc29yUG9zT25UYXJnZXQuc2V0KHRoaXMuY3Vyc29yUG9zKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fbGFzdElzRG93biA9IHRoaXMuX2lzRG93bjtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0dXAgZXZlbnQgbGlzdGVuZXJzIG9uIHNlc3Npb24gb2JqZWN0XHJcbiAgICAgKiBAcGFyYW0gcyBXZWJYUiBzZXNzaW9uXHJcbiAgICAgKlxyXG4gICAgICogU2V0cyB1cCAnc2VsZWN0JyBhbmQgJ2VuZCcgZXZlbnRzLlxyXG4gICAgICovXHJcbiAgICBzZXR1cFZSRXZlbnRzKHMpIHtcclxuICAgICAgICBpZiAoIXMpXHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ3NldHVwVlJFdmVudHMgY2FsbGVkIHdpdGhvdXQgYSB2YWxpZCBzZXNzaW9uJyk7XHJcbiAgICAgICAgLyogSWYgaW4gVlIsIG9uZS10aW1lIGJpbmQgdGhlIGxpc3RlbmVyICovXHJcbiAgICAgICAgY29uc3Qgb25TZWxlY3QgPSB0aGlzLm9uU2VsZWN0LmJpbmQodGhpcyk7XHJcbiAgICAgICAgcy5hZGRFdmVudExpc3RlbmVyKCdzZWxlY3QnLCBvblNlbGVjdCk7XHJcbiAgICAgICAgY29uc3Qgb25TZWxlY3RTdGFydCA9IHRoaXMub25TZWxlY3RTdGFydC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHMuYWRkRXZlbnRMaXN0ZW5lcignc2VsZWN0c3RhcnQnLCBvblNlbGVjdFN0YXJ0KTtcclxuICAgICAgICBjb25zdCBvblNlbGVjdEVuZCA9IHRoaXMub25TZWxlY3RFbmQuYmluZCh0aGlzKTtcclxuICAgICAgICBzLmFkZEV2ZW50TGlzdGVuZXIoJ3NlbGVjdGVuZCcsIG9uU2VsZWN0RW5kKTtcclxuICAgICAgICB0aGlzLl9vbkRlYWN0aXZhdGVDYWxsYmFja3MucHVzaCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5lbmdpbmUueHJTZXNzaW9uKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICBzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NlbGVjdCcsIG9uU2VsZWN0KTtcclxuICAgICAgICAgICAgcy5yZW1vdmVFdmVudExpc3RlbmVyKCdzZWxlY3RzdGFydCcsIG9uU2VsZWN0U3RhcnQpO1xyXG4gICAgICAgICAgICBzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NlbGVjdGVuZCcsIG9uU2VsZWN0RW5kKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKiBBZnRlciBBUiBzZXNzaW9uIHdhcyBlbnRlcmVkLCB0aGUgcHJvamVjdGlvbiBtYXRyaXggY2hhbmdlZCAqL1xyXG4gICAgICAgIHRoaXMuX29uVmlld3BvcnRSZXNpemUoKTtcclxuICAgIH1cclxuICAgIG9uRGVhY3RpdmF0ZSgpIHtcclxuICAgICAgICB0aGlzLmVuZ2luZS5vblhSU2Vzc2lvblN0YXJ0LnJlbW92ZSh0aGlzLl9vblNlc3Npb25TdGFydENhbGxiYWNrKTtcclxuICAgICAgICB0aGlzLmVuZ2luZS5vblJlc2l6ZS5yZW1vdmUodGhpcy5fb25WaWV3cG9ydFJlc2l6ZSk7XHJcbiAgICAgICAgdGhpcy5fc2V0Q3Vyc29yVmlzaWJpbGl0eShmYWxzZSk7XHJcbiAgICAgICAgaWYgKHRoaXMuaG92ZXJpbmdPYmplY3QpXHJcbiAgICAgICAgICAgIHRoaXMubm90aWZ5KCdvblVuaG92ZXInLCBudWxsKTtcclxuICAgICAgICBpZiAodGhpcy5jdXJzb3JSYXlPYmplY3QpXHJcbiAgICAgICAgICAgIHRoaXMuY3Vyc29yUmF5T2JqZWN0LnNjYWxlKFswLCAwLCAwXSk7XHJcbiAgICAgICAgLyogRW5zdXJlIGFsbCBldmVudCBsaXN0ZW5lcnMgYXJlIHJlbW92ZWQgKi9cclxuICAgICAgICBmb3IgKGNvbnN0IGYgb2YgdGhpcy5fb25EZWFjdGl2YXRlQ2FsbGJhY2tzKVxyXG4gICAgICAgICAgICBmKCk7XHJcbiAgICAgICAgdGhpcy5fb25EZWFjdGl2YXRlQ2FsbGJhY2tzLmxlbmd0aCA9IDA7XHJcbiAgICB9XHJcbiAgICBvbkRlc3Ryb3koKSB7XHJcbiAgICAgICAgdGhpcy5faGl0VGVzdE9iamVjdD8uZGVzdHJveSgpO1xyXG4gICAgfVxyXG4gICAgLyoqICdzZWxlY3QnIGV2ZW50IGxpc3RlbmVyICovXHJcbiAgICBvblNlbGVjdChlKSB7XHJcbiAgICAgICAgaWYgKGUuaW5wdXRTb3VyY2UuaGFuZGVkbmVzcyAhPSB0aGlzLmhhbmRlZG5lc3MpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB0aGlzLnJheUNhc3QoZSwgZS5mcmFtZSwgdHJ1ZSk7XHJcbiAgICB9XHJcbiAgICAvKiogJ3NlbGVjdHN0YXJ0JyBldmVudCBsaXN0ZW5lciAqL1xyXG4gICAgb25TZWxlY3RTdGFydChlKSB7XHJcbiAgICAgICAgdGhpcy5fYXJUb3VjaERvd24gPSB0cnVlO1xyXG4gICAgICAgIGlmIChlLmlucHV0U291cmNlLmhhbmRlZG5lc3MgPT0gdGhpcy5oYW5kZWRuZXNzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2lzRG93biA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMucmF5Q2FzdChlLCBlLmZyYW1lKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKiogJ3NlbGVjdGVuZCcgZXZlbnQgbGlzdGVuZXIgKi9cclxuICAgIG9uU2VsZWN0RW5kKGUpIHtcclxuICAgICAgICB0aGlzLl9hclRvdWNoRG93biA9IGZhbHNlO1xyXG4gICAgICAgIGlmIChlLmlucHV0U291cmNlLmhhbmRlZG5lc3MgPT0gdGhpcy5oYW5kZWRuZXNzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2lzRG93biA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLnJheUNhc3QoZSwgZS5mcmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqICdwb2ludGVybW92ZScgZXZlbnQgbGlzdGVuZXIgKi9cclxuICAgIG9uUG9pbnRlck1vdmUoZSkge1xyXG4gICAgICAgIC8qIERvbid0IGNhcmUgYWJvdXQgc2Vjb25kYXJ5IHBvaW50ZXJzICovXHJcbiAgICAgICAgaWYgKCFlLmlzUHJpbWFyeSlcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMudXBkYXRlTW91c2VQb3MoZSk7XHJcbiAgICAgICAgdGhpcy5yYXlDYXN0KGUsIG51bGwpO1xyXG4gICAgfVxyXG4gICAgLyoqICdjbGljaycgZXZlbnQgbGlzdGVuZXIgKi9cclxuICAgIG9uQ2xpY2soZSkge1xyXG4gICAgICAgIHRoaXMudXBkYXRlTW91c2VQb3MoZSk7XHJcbiAgICAgICAgdGhpcy5yYXlDYXN0KGUsIG51bGwsIHRydWUpO1xyXG4gICAgfVxyXG4gICAgLyoqICdwb2ludGVyZG93bicgZXZlbnQgbGlzdGVuZXIgKi9cclxuICAgIG9uUG9pbnRlckRvd24oZSkge1xyXG4gICAgICAgIC8qIERvbid0IGNhcmUgYWJvdXQgc2Vjb25kYXJ5IHBvaW50ZXJzIG9yIG5vbi1sZWZ0IGNsaWNrcyAqL1xyXG4gICAgICAgIGlmICghZS5pc1ByaW1hcnkgfHwgZS5idXR0b24gIT09IDApXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB0aGlzLnVwZGF0ZU1vdXNlUG9zKGUpO1xyXG4gICAgICAgIHRoaXMuX2lzRG93biA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5yYXlDYXN0KGUpO1xyXG4gICAgfVxyXG4gICAgLyoqICdwb2ludGVydXAnIGV2ZW50IGxpc3RlbmVyICovXHJcbiAgICBvblBvaW50ZXJVcChlKSB7XHJcbiAgICAgICAgLyogRG9uJ3QgY2FyZSBhYm91dCBzZWNvbmRhcnkgcG9pbnRlcnMgb3Igbm9uLWxlZnQgY2xpY2tzICovXHJcbiAgICAgICAgaWYgKCFlLmlzUHJpbWFyeSB8fCBlLmJ1dHRvbiAhPT0gMClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMudXBkYXRlTW91c2VQb3MoZSk7XHJcbiAgICAgICAgdGhpcy5faXNEb3duID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5yYXlDYXN0KGUpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBVcGRhdGUgbW91c2UgcG9zaXRpb24gaW4gbm9uLVZSIG1vZGUgYW5kIHJheWNhc3QgZm9yIG5ldyBwb3NpdGlvblxyXG4gICAgICogQHJldHVybnMgQHJlZiBXTC5SYXlIaXQgZm9yIG5ldyBwb3NpdGlvbi5cclxuICAgICAqL1xyXG4gICAgdXBkYXRlTW91c2VQb3MoZSkge1xyXG4gICAgICAgIHRoaXMuX2xhc3RQb2ludGVyUG9zWzBdID0gZS5jbGllbnRYO1xyXG4gICAgICAgIHRoaXMuX2xhc3RQb2ludGVyUG9zWzFdID0gZS5jbGllbnRZO1xyXG4gICAgICAgIHRoaXMudXBkYXRlRGlyZWN0aW9uKCk7XHJcbiAgICB9XHJcbiAgICB1cGRhdGVEaXJlY3Rpb24oKSB7XHJcbiAgICAgICAgY29uc3QgYm91bmRzID0gdGhpcy5lbmdpbmUuY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgIC8qIEdldCBkaXJlY3Rpb24gaW4gbm9ybWFsaXplZCBkZXZpY2UgY29vcmRpbmF0ZSBzcGFjZSBmcm9tIG1vdXNlIHBvc2l0aW9uICovXHJcbiAgICAgICAgY29uc3QgbGVmdCA9IHRoaXMuX2xhc3RQb2ludGVyUG9zWzBdIC8gYm91bmRzLndpZHRoO1xyXG4gICAgICAgIGNvbnN0IHRvcCA9IHRoaXMuX2xhc3RQb2ludGVyUG9zWzFdIC8gYm91bmRzLmhlaWdodDtcclxuICAgICAgICB0aGlzLl9kaXJlY3Rpb25bMF0gPSBsZWZ0ICogMiAtIDE7XHJcbiAgICAgICAgdGhpcy5fZGlyZWN0aW9uWzFdID0gLXRvcCAqIDIgKyAxO1xyXG4gICAgICAgIHRoaXMuX2RpcmVjdGlvblsyXSA9IC0xLjA7XHJcbiAgICAgICAgdGhpcy5hcHBseVRyYW5zZm9ybUFuZFByb2plY3REaXJlY3Rpb24oKTtcclxuICAgIH1cclxuICAgIGFwcGx5VHJhbnNmb3JtQW5kUHJvamVjdERpcmVjdGlvbigpIHtcclxuICAgICAgICAvKiBSZXZlcnNlLXByb2plY3QgdGhlIGRpcmVjdGlvbiBpbnRvIHZpZXcgc3BhY2UgKi9cclxuICAgICAgICB2ZWMzLnRyYW5zZm9ybU1hdDQodGhpcy5fZGlyZWN0aW9uLCB0aGlzLl9kaXJlY3Rpb24sIHRoaXMuX3Byb2plY3Rpb25NYXRyaXgpO1xyXG4gICAgICAgIHZlYzMubm9ybWFsaXplKHRoaXMuX2RpcmVjdGlvbiwgdGhpcy5fZGlyZWN0aW9uKTtcclxuICAgICAgICB0aGlzLmFwcGx5VHJhbnNmb3JtVG9EaXJlY3Rpb24oKTtcclxuICAgIH1cclxuICAgIGFwcGx5VHJhbnNmb3JtVG9EaXJlY3Rpb24oKSB7XHJcbiAgICAgICAgdmVjMy50cmFuc2Zvcm1RdWF0KHRoaXMuX2RpcmVjdGlvbiwgdGhpcy5fZGlyZWN0aW9uLCB0aGlzLm9iamVjdC50cmFuc2Zvcm1Xb3JsZCk7XHJcbiAgICAgICAgdGhpcy5vYmplY3QuZ2V0VHJhbnNsYXRpb25Xb3JsZCh0aGlzLl9vcmlnaW4pO1xyXG4gICAgfVxyXG4gICAgcmF5Q2FzdChvcmlnaW5hbEV2ZW50LCBmcmFtZSA9IG51bGwsIGRvQ2xpY2sgPSBmYWxzZSkge1xyXG4gICAgICAgIGNvbnN0IHJheUhpdCA9IHRoaXMucmF5Q2FzdE1vZGUgPT0gMFxyXG4gICAgICAgICAgICA/IHRoaXMuZW5naW5lLnNjZW5lLnJheUNhc3QodGhpcy5fb3JpZ2luLCB0aGlzLl9kaXJlY3Rpb24sIHRoaXMuX2NvbGxpc2lvbk1hc2spXHJcbiAgICAgICAgICAgIDogdGhpcy5lbmdpbmUucGh5c2ljcy5yYXlDYXN0KHRoaXMuX29yaWdpbiwgdGhpcy5fZGlyZWN0aW9uLCB0aGlzLl9jb2xsaXNpb25NYXNrLCB0aGlzLm1heERpc3RhbmNlKTtcclxuICAgICAgICBsZXQgaGl0UmVzdWx0RGlzdGFuY2UgPSBJbmZpbml0eTtcclxuICAgICAgICBsZXQgaGl0VGVzdFJlc3VsdCA9IG51bGw7XHJcbiAgICAgICAgaWYgKHRoaXMuX2hpdFRlc3RMb2NhdGlvbj8udmlzaWJsZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9oaXRUZXN0T2JqZWN0LmdldFRyYW5zbGF0aW9uV29ybGQodGhpcy5jdXJzb3JQb3MpO1xyXG4gICAgICAgICAgICBoaXRSZXN1bHREaXN0YW5jZSA9IHZlYzMuZGlzdGFuY2UodGhpcy5vYmplY3QuZ2V0VHJhbnNsYXRpb25Xb3JsZCh0ZW1wVmVjKSwgdGhpcy5jdXJzb3JQb3MpO1xyXG4gICAgICAgICAgICBoaXRUZXN0UmVzdWx0ID0gdGhpcy5faGl0VGVzdExvY2F0aW9uPy5nZXRIaXRUZXN0UmVzdWx0cyhmcmFtZSlbMF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBob3ZlcmluZ1JlYWxpdHkgPSBmYWxzZTtcclxuICAgICAgICBpZiAocmF5SGl0LmhpdENvdW50ID4gMCkge1xyXG4gICAgICAgICAgICBjb25zdCBkID0gcmF5SGl0LmRpc3RhbmNlc1swXTtcclxuICAgICAgICAgICAgaWYgKGhpdFJlc3VsdERpc3RhbmNlID49IGQpIHtcclxuICAgICAgICAgICAgICAgIC8qIE92ZXJyaWRlIGN1cnNvclBvcyBzZXQgYnkgaGl0IHRlc3QgbG9jYXRpb24gKi9cclxuICAgICAgICAgICAgICAgIHRoaXMuY3Vyc29yUG9zLnNldChyYXlIaXQubG9jYXRpb25zWzBdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGhvdmVyaW5nUmVhbGl0eSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaGl0UmVzdWx0RGlzdGFuY2UgPCBJbmZpbml0eSkge1xyXG4gICAgICAgICAgICAvKiBjdXJzb3JQb3MgYWxyZWFkeSBzZXQgKi9cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3Vyc29yUG9zLmZpbGwoMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChob3ZlcmluZ1JlYWxpdHkgJiYgIXRoaXMuaG92ZXJpbmdSZWFsaXR5KSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGl0VGVzdFRhcmdldC5vbkhvdmVyLm5vdGlmeShoaXRUZXN0UmVzdWx0LCB0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoIWhvdmVyaW5nUmVhbGl0eSAmJiB0aGlzLmhvdmVyaW5nUmVhbGl0eSkge1xyXG4gICAgICAgICAgICB0aGlzLmhpdFRlc3RUYXJnZXQub25VbmhvdmVyLm5vdGlmeShoaXRUZXN0UmVzdWx0LCB0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5ob3ZlcmluZ1JlYWxpdHkgPSBob3ZlcmluZ1JlYWxpdHk7XHJcbiAgICAgICAgdGhpcy5ob3ZlckJlaGF2aW91cihyYXlIaXQsIGhpdFRlc3RSZXN1bHQsIGRvQ2xpY2ssIG9yaWdpbmFsRXZlbnQpO1xyXG4gICAgICAgIHJldHVybiByYXlIaXQ7XHJcbiAgICB9XHJcbn1cclxuX19kZWNvcmF0ZShbXHJcbiAgICBwcm9wZXJ0eS5pbnQoMSlcclxuXSwgQ3Vyc29yLnByb3RvdHlwZSwgXCJjb2xsaXNpb25Hcm91cFwiLCB2b2lkIDApO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIHByb3BlcnR5Lm9iamVjdCgpXHJcbl0sIEN1cnNvci5wcm90b3R5cGUsIFwiY3Vyc29yUmF5T2JqZWN0XCIsIHZvaWQgMCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgcHJvcGVydHkuZW51bShbJ3gnLCAneScsICd6JywgJ25vbmUnXSwgJ3onKVxyXG5dLCBDdXJzb3IucHJvdG90eXBlLCBcImN1cnNvclJheVNjYWxpbmdBeGlzXCIsIHZvaWQgMCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgcHJvcGVydHkub2JqZWN0KClcclxuXSwgQ3Vyc29yLnByb3RvdHlwZSwgXCJjdXJzb3JPYmplY3RcIiwgdm9pZCAwKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBwcm9wZXJ0eS5lbnVtKFsnaW5wdXQgY29tcG9uZW50JywgJ2xlZnQnLCAncmlnaHQnLCAnbm9uZSddLCAnaW5wdXQgY29tcG9uZW50JylcclxuXSwgQ3Vyc29yLnByb3RvdHlwZSwgXCJoYW5kZWRuZXNzXCIsIHZvaWQgMCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgcHJvcGVydHkuZW51bShbJ2NvbGxpc2lvbicsICdwaHlzeCddLCAnY29sbGlzaW9uJylcclxuXSwgQ3Vyc29yLnByb3RvdHlwZSwgXCJyYXlDYXN0TW9kZVwiLCB2b2lkIDApO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIHByb3BlcnR5LmZsb2F0KDEwMClcclxuXSwgQ3Vyc29yLnByb3RvdHlwZSwgXCJtYXhEaXN0YW5jZVwiLCB2b2lkIDApO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIHByb3BlcnR5LmJvb2wodHJ1ZSlcclxuXSwgQ3Vyc29yLnByb3RvdHlwZSwgXCJzdHlsZUN1cnNvclwiLCB2b2lkIDApO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIHByb3BlcnR5LmJvb2woZmFsc2UpXHJcbl0sIEN1cnNvci5wcm90b3R5cGUsIFwidXNlV2ViWFJIaXRUZXN0XCIsIHZvaWQgMCk7XHJcbmV4cG9ydCB7IEN1cnNvciB9O1xyXG4iLCAidmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufTtcclxuaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuaW1wb3J0IHsgcHJvcGVydHkgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGkvZGVjb3JhdG9ycy5qcyc7XHJcbmltcG9ydCB7IHF1YXQyIH0gZnJvbSAnZ2wtbWF0cml4JztcclxuLyoqXHJcbiAqIFByaW50cyBzb21lIGxpbWl0ZWQgZGVidWcgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG9iamVjdC5cclxuICpcclxuICogSW5mb3JtYXRpb24gY29uc2lzdHMgb2Y6IFRoaXMgb2JqZWN0J3MgbmFtZSwgYW4gb2JqZWN0IHBhcmFtZXRlcidzIG5hbWUsXHJcbiAqIHRoZSBvYmplY3QncyB3b3JsZCB0cmFuc2xhdGlvbiwgd29ybGQgdHJhbnNmb3JtIGFuZCBsb2NhbCB0cmFuc2Zvcm0uXHJcbiAqXHJcbiAqIE1haW5seSB1c2VkIGJ5IGVuZ2luZSBkZXZlbG9wZXJzIGZvciBkZWJ1ZyBwdXJwb3NlcyBvciBhcyBleGFtcGxlIGNvZGUuXHJcbiAqL1xyXG5jbGFzcyBEZWJ1Z09iamVjdCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnZGVidWctb2JqZWN0JztcclxuICAgIC8qKiBBIHNlY29uZCBvYmplY3QgdG8gcHJpbnQgdGhlIG5hbWUgb2YgKi9cclxuICAgIG9iaiA9IG51bGw7XHJcbiAgICBzdGFydCgpIHtcclxuICAgICAgICBsZXQgb3JpZ2luID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuICAgICAgICBxdWF0Mi5nZXRUcmFuc2xhdGlvbihvcmlnaW4sIHRoaXMub2JqZWN0LnRyYW5zZm9ybVdvcmxkKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnRGVidWcgb2JqZWN0OicsIHRoaXMub2JqZWN0Lm5hbWUpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdPdGhlciBvYmplY3Q6JywgdGhpcy5vYmo/Lm5hbWUpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdcXHR0cmFuc2xhdGlvbicsIG9yaWdpbik7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1xcdHRyYW5zZm9ybVdvcmxkJywgdGhpcy5vYmplY3QudHJhbnNmb3JtV29ybGQpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdcXHR0cmFuc2Zvcm1Mb2NhbCcsIHRoaXMub2JqZWN0LnRyYW5zZm9ybUxvY2FsKTtcclxuICAgIH1cclxufVxyXG5fX2RlY29yYXRlKFtcclxuICAgIHByb3BlcnR5Lm9iamVjdCgpXHJcbl0sIERlYnVnT2JqZWN0LnByb3RvdHlwZSwgXCJvYmpcIiwgdm9pZCAwKTtcclxuZXhwb3J0IHsgRGVidWdPYmplY3QgfTtcclxuIiwgImltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbi8qKlxyXG4gKiBGdW5jdGlvbiB0byBjb252ZXJ0IGEgRXVsZXIgaW4gWVhaIG9yZGVyIHRvIGEgcXVhdGVybmlvblxyXG4gKi9cclxuZnVuY3Rpb24gcXVhdEZyb21FdWxlcllYWihvdXQsIHgsIHksIHopIHtcclxuICAgIGNvbnN0IGMxID0gTWF0aC5jb3MoeCAvIDIpO1xyXG4gICAgY29uc3QgYzIgPSBNYXRoLmNvcyh5IC8gMik7XHJcbiAgICBjb25zdCBjMyA9IE1hdGguY29zKHogLyAyKTtcclxuICAgIGNvbnN0IHMxID0gTWF0aC5zaW4oeCAvIDIpO1xyXG4gICAgY29uc3QgczIgPSBNYXRoLnNpbih5IC8gMik7XHJcbiAgICBjb25zdCBzMyA9IE1hdGguc2luKHogLyAyKTtcclxuICAgIG91dFswXSA9IHMxICogYzIgKiBjMyArIGMxICogczIgKiBzMztcclxuICAgIG91dFsxXSA9IGMxICogczIgKiBjMyAtIHMxICogYzIgKiBzMztcclxuICAgIG91dFsyXSA9IGMxICogYzIgKiBzMyAtIHMxICogczIgKiBjMztcclxuICAgIG91dFszXSA9IGMxICogYzIgKiBjMyArIHMxICogczIgKiBzMztcclxufVxyXG4vKipcclxuICogUmV0cmlldmUgZGV2aWNlIG9yaWVudGF0aW9uIGZyb20gYSBtb2JpbGUgZGV2aWNlIGFuZCBzZXQgdGhlIG9iamVjdCdzXHJcbiAqIG9yaWVudGF0aW9uIGFjY29yZGluZ2x5LlxyXG4gKlxyXG4gKiBVc2VmdWwgZm9yIG1hZ2ljIHdpbmRvdyBleHBlcmllbmNlcy5cclxuICovXHJcbmNsYXNzIERldmljZU9yaWVudGF0aW9uTG9vayBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnZGV2aWNlLW9yaWVudGF0aW9uLWxvb2snO1xyXG4gICAgc3RhdGljIFByb3BlcnRpZXMgPSB7fTtcclxuICAgIHN0YXJ0KCkge1xyXG4gICAgICAgIHRoaXMucm90YXRpb25YID0gMDtcclxuICAgICAgICB0aGlzLnJvdGF0aW9uWSA9IDA7XHJcbiAgICAgICAgdGhpcy5sYXN0Q2xpZW50WCA9IC0xO1xyXG4gICAgICAgIHRoaXMubGFzdENsaWVudFkgPSAtMTtcclxuICAgIH1cclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgLyogSW5pdGlhbGl6ZSBkZXZpY2Ugb3JpZW50YXRpb24gd2l0aCBJZGVudGl0eSBRdWF0ZXJuaW9uICovXHJcbiAgICAgICAgdGhpcy5kZXZpY2VPcmllbnRhdGlvbiA9IFswLCAwLCAwLCAxXTtcclxuICAgICAgICB0aGlzLnNjcmVlbk9yaWVudGF0aW9uID0gd2luZG93LmlubmVySGVpZ2h0ID4gd2luZG93LmlubmVyV2lkdGggPyAwIDogOTA7XHJcbiAgICAgICAgdGhpcy5fb3JpZ2luID0gWzAsIDAsIDBdO1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdkZXZpY2VvcmllbnRhdGlvbicsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGxldCBhbHBoYSA9IGUuYWxwaGEgfHwgMDtcclxuICAgICAgICAgICAgbGV0IGJldGEgPSBlLmJldGEgfHwgMDtcclxuICAgICAgICAgICAgbGV0IGdhbW1hID0gZS5nYW1tYSB8fCAwO1xyXG4gICAgICAgICAgICBjb25zdCB0b1JhZCA9IE1hdGguUEkgLyAxODA7XHJcbiAgICAgICAgICAgIHF1YXRGcm9tRXVsZXJZWFoodGhpcy5kZXZpY2VPcmllbnRhdGlvbiwgYmV0YSAqIHRvUmFkLCBhbHBoYSAqIHRvUmFkLCAtZ2FtbWEgKiB0b1JhZCk7XHJcbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb3JpZW50YXRpb25jaGFuZ2UnLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLnNjcmVlbk9yaWVudGF0aW9uID0gd2luZG93Lm9yaWVudGF0aW9uIHx8IDA7XHJcbiAgICAgICAgfS5iaW5kKHRoaXMpLCBmYWxzZSk7XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgLyogRG9uJ3QgdXNlIGRldmljZSBvcmllbnRhdGlvbiBpbiBWUiAqL1xyXG4gICAgICAgIGlmICh0aGlzLmVuZ2luZS54cilcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMub2JqZWN0LmdldFRyYW5zbGF0aW9uTG9jYWwodGhpcy5fb3JpZ2luKTtcclxuICAgICAgICB0aGlzLm9iamVjdC5yZXNldFRyYW5zZm9ybSgpO1xyXG4gICAgICAgIGlmICh0aGlzLnNjcmVlbk9yaWVudGF0aW9uICE9IDApIHtcclxuICAgICAgICAgICAgdGhpcy5vYmplY3Qucm90YXRlQXhpc0FuZ2xlRGVnKFswLCAwLCAtMV0sIHRoaXMuc2NyZWVuT3JpZW50YXRpb24pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm9iamVjdC5yb3RhdGUoWy1NYXRoLnNxcnQoMC41KSwgMCwgMCwgTWF0aC5zcXJ0KDAuNSldKTtcclxuICAgICAgICB0aGlzLm9iamVjdC5yb3RhdGUodGhpcy5kZXZpY2VPcmllbnRhdGlvbik7XHJcbiAgICAgICAgdGhpcy5vYmplY3QudHJhbnNsYXRlKHRoaXMuX29yaWdpbik7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IHsgRGV2aWNlT3JpZW50YXRpb25Mb29rIH07XHJcbiIsICJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xyXG4vKipcclxuICogRW5hYmxlcyBpbnRlcmFjdGlvbiB3aXRoIGN1cnNvci10YXJnZXRzIHRocm91Z2ggY29sbGlzaW9uIG92ZXJsYXBzLFxyXG4gKiBlLmcuIG9uIHRoZSB0aXAgb2YgYSBmaW5nZXIgb24gYSB0cmFja2VkIGhhbmQuXHJcbiAqXHJcbiAqICoqUmVxdWlyZW1lbnRzOioqXHJcbiAqICAtIEEgY29sbGlzaW9uIGNvbXBvbmVudCAodXN1YWxseSBhIHNwaGVyZSB3aXRoIGAwLjA1YCByYWRpdXMpIG9uIHRoZSBzYW1lIG9iamVjdFxyXG4gKlxyXG4gKiBAc2luY2UgMC44LjVcclxuICovXHJcbmNsYXNzIEZpbmdlckN1cnNvciBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnZmluZ2VyLWN1cnNvcic7XHJcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHt9O1xyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICB0aGlzLmxhc3RUYXJnZXQgPSBudWxsO1xyXG4gICAgfVxyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgdGhpcy50aXAgPSB0aGlzLm9iamVjdC5nZXRDb21wb25lbnQoJ2NvbGxpc2lvbicpO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIGNvbnN0IG92ZXJsYXBzID0gdGhpcy50aXAucXVlcnlPdmVybGFwcygpO1xyXG4gICAgICAgIGxldCBvdmVybGFwRm91bmQgPSBudWxsO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3ZlcmxhcHMubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgY29uc3QgbyA9IG92ZXJsYXBzW2ldLm9iamVjdDtcclxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gby5nZXRDb21wb25lbnQoJ2N1cnNvci10YXJnZXQnKTtcclxuICAgICAgICAgICAgaWYgKHRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0YXJnZXQuZXF1YWxzKHRoaXMubGFzdFRhcmdldCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQub25Ib3ZlcihvLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQub25DbGljayhvLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG92ZXJsYXBGb3VuZCA9IHRhcmdldDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghb3ZlcmxhcEZvdW5kKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmxhc3RUYXJnZXQpXHJcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RUYXJnZXQub25VbmhvdmVyKHRoaXMubGFzdFRhcmdldC5vYmplY3QsIHRoaXMpO1xyXG4gICAgICAgICAgICB0aGlzLmxhc3RUYXJnZXQgPSBudWxsO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmxhc3RUYXJnZXQgPSBvdmVybGFwRm91bmQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydCB7IEZpbmdlckN1cnNvciB9O1xyXG4iLCAiaW1wb3J0IHsgQ29tcG9uZW50LCBUeXBlIH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuLyoqXHJcbiAqIEFwcGxpZXMgW2ZpeGVkIGZvdmVhdGlvbl0oaHR0cHM6Ly93d3cudzMub3JnL1RSL3dlYnhybGF5ZXJzLTEvI2RvbS14cmNvbXBvc2l0aW9ubGF5ZXItZml4ZWRmb3ZlYXRpb24pXHJcbiAqIG9uY2UgYSBXZWJYUiBzZXNzaW9uIGlzIHN0YXJ0ZWRcclxuICpcclxuICogRml4ZWQgZm92ZWF0aW9uIHJlZHVjZXMgc2hhZGluZyBjb3N0IGF0IHRoZSBwZXJpcGhlcnkgYnkgcmVuZGVyaW5nIGF0IGxvd2VyIHJlc29sdXRpb25zIGF0IHRoZVxyXG4gKiBlZGdlcyBvZiB0aGUgdXNlcnMgdmlzaW9uLlxyXG4gKi9cclxuY2xhc3MgRml4ZWRGb3ZlYXRpb24gZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ2ZpeGVkLWZvdmVhdGlvbic7XHJcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcclxuICAgICAgICAvKiogQW1vdW50IHRvIGFwcGx5IGZyb20gMCAobm9uZSkgdG8gMSAoZnVsbCkgKi9cclxuICAgICAgICBmaXhlZEZvdmVhdGlvbjogeyB0eXBlOiBUeXBlLkZsb2F0LCBkZWZhdWx0OiAwLjUgfSxcclxuICAgIH07XHJcbiAgICBzdGFydCgpIHtcclxuICAgICAgICB0aGlzLm9uU2Vzc2lvblN0YXJ0Q2FsbGJhY2sgPSB0aGlzLnNldEZpeGVkRm92ZWF0aW9uLmJpbmQodGhpcyk7XHJcbiAgICB9XHJcbiAgICBvbkFjdGl2YXRlKCkge1xyXG4gICAgICAgIHRoaXMuZW5naW5lLm9uWFJTZXNzaW9uU3RhcnQuYWRkKHRoaXMub25TZXNzaW9uU3RhcnRDYWxsYmFjayk7XHJcbiAgICB9XHJcbiAgICBvbkRlYWN0aXZhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5lbmdpbmUub25YUlNlc3Npb25TdGFydC5yZW1vdmUodGhpcy5vblNlc3Npb25TdGFydENhbGxiYWNrKTtcclxuICAgIH1cclxuICAgIHNldEZpeGVkRm92ZWF0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuZW5naW5lLnhyLmJhc2VMYXllci5maXhlZEZvdmVhdGlvbiA9IHRoaXMuZml4ZWRGb3ZlYXRpb247XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IHsgRml4ZWRGb3ZlYXRpb24gfTtcclxuIiwgImltcG9ydCB7IENvbXBvbmVudCwgTWVzaENvbXBvbmVudCwgVHlwZSB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbmltcG9ydCB7IHZlYzMsIHF1YXQsIHF1YXQyIH0gZnJvbSAnZ2wtbWF0cml4JztcclxuaW1wb3J0IHsgc2V0WFJSaWdpZFRyYW5zZm9ybUxvY2FsIH0gZnJvbSAnLi91dGlscy93ZWJ4ci5qcyc7XHJcbmNvbnN0IE9SREVSRURfSk9JTlRTID0gW1xyXG4gICAgJ3dyaXN0JyxcclxuICAgICd0aHVtYi1tZXRhY2FycGFsJyxcclxuICAgICd0aHVtYi1waGFsYW54LXByb3hpbWFsJyxcclxuICAgICd0aHVtYi1waGFsYW54LWRpc3RhbCcsXHJcbiAgICAndGh1bWItdGlwJyxcclxuICAgICdpbmRleC1maW5nZXItbWV0YWNhcnBhbCcsXHJcbiAgICAnaW5kZXgtZmluZ2VyLXBoYWxhbngtcHJveGltYWwnLFxyXG4gICAgJ2luZGV4LWZpbmdlci1waGFsYW54LWludGVybWVkaWF0ZScsXHJcbiAgICAnaW5kZXgtZmluZ2VyLXBoYWxhbngtZGlzdGFsJyxcclxuICAgICdpbmRleC1maW5nZXItdGlwJyxcclxuICAgICdtaWRkbGUtZmluZ2VyLW1ldGFjYXJwYWwnLFxyXG4gICAgJ21pZGRsZS1maW5nZXItcGhhbGFueC1wcm94aW1hbCcsXHJcbiAgICAnbWlkZGxlLWZpbmdlci1waGFsYW54LWludGVybWVkaWF0ZScsXHJcbiAgICAnbWlkZGxlLWZpbmdlci1waGFsYW54LWRpc3RhbCcsXHJcbiAgICAnbWlkZGxlLWZpbmdlci10aXAnLFxyXG4gICAgJ3JpbmctZmluZ2VyLW1ldGFjYXJwYWwnLFxyXG4gICAgJ3JpbmctZmluZ2VyLXBoYWxhbngtcHJveGltYWwnLFxyXG4gICAgJ3JpbmctZmluZ2VyLXBoYWxhbngtaW50ZXJtZWRpYXRlJyxcclxuICAgICdyaW5nLWZpbmdlci1waGFsYW54LWRpc3RhbCcsXHJcbiAgICAncmluZy1maW5nZXItdGlwJyxcclxuICAgICdwaW5reS1maW5nZXItbWV0YWNhcnBhbCcsXHJcbiAgICAncGlua3ktZmluZ2VyLXBoYWxhbngtcHJveGltYWwnLFxyXG4gICAgJ3Bpbmt5LWZpbmdlci1waGFsYW54LWludGVybWVkaWF0ZScsXHJcbiAgICAncGlua3ktZmluZ2VyLXBoYWxhbngtZGlzdGFsJyxcclxuICAgICdwaW5reS1maW5nZXItdGlwJyxcclxuXTtcclxuY29uc3QgaW52VHJhbnNsYXRpb24gPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG5jb25zdCBpbnZSb3RhdGlvbiA9IG5ldyBGbG9hdDMyQXJyYXkoNCk7XHJcbi8qKlxyXG4gKiBFYXN5IGhhbmQgdHJhY2tpbmcgdGhyb3VnaCB0aGUgV2ViWFIgRGV2aWNlIEFQSVxyXG4gKiBbXCJIYW5kIElucHV0XCIgQVBJXShodHRwczovL2ltbWVyc2l2ZS13ZWIuZ2l0aHViLmlvL3dlYnhyLWhhbmQtaW5wdXQvKS5cclxuICpcclxuICogQWxsb3dzIGRpc3BsYXlpbmcgaGFuZHMgZWl0aGVyIGFzIHNwaGVyZS1qb2ludHMgb3Igc2tpbm5lZCBtZXNoLlxyXG4gKlxyXG4gKiBUbyByZWFjdCB0byBncmFiYmluZywgdXNlIGB0aGlzLmlzR3JhYmJpbmcoKWAuIEZvciBvdGhlciBnZXN0dXJlcywgcmVmZXJcclxuICogdG8gYHRoaXMuam9pbnRzYCAtIGFuIGFycmF5IG9mIFtXTC5PYmplY3RdKC9qc2FwaS9vYmplY3QpIGFuZCB1c2UgdGhlIGpvaW50XHJcbiAqIGluZGljZXMgbGlzdGVkIFtpbiB0aGUgV2ViWFIgSGFuZCBJbnB1dCBzcGVjaWZpY2F0aW9uXShodHRwczovL2ltbWVyc2l2ZS13ZWIuZ2l0aHViLmlvL3dlYnhyLWhhbmQtaW5wdXQvI3NrZWxldG9uLWpvaW50cy1zZWN0aW9uKS5cclxuICpcclxuICogSXQgaXMgb2Z0ZW4gZGVzaXJlZCB0byB1c2UgZWl0aGVyIGhhbmQgdHJhY2tpbmcgb3IgY29udHJvbGxlcnMsIG5vdCBib3RoLlxyXG4gKiBUaGlzIGNvbXBvbmVudCBwcm92aWRlcyBgZGVhY3RpdmF0ZUNoaWxkcmVuV2l0aG91dFBvc2VgIHRvIGhpZGUgdGhlIGhhbmRcclxuICogdHJhY2tpbmcgdmlzdWFsaXphdGlvbiBpZiBubyBwb3NlIGlzIGF2YWlsYWJsZSBhbmQgYGNvbnRyb2xsZXJUb0RlYWN0aXZhdGVgXHJcbiAqIGZvciBkaXNhYmxpbmcgYW5vdGhlciBvYmplY3Qgb25jZSBhIGhhbmQgdHJhY2tpbmcgcG9zZSAqaXMqIGF2YWlsYWJsZS5cclxuICogT3V0c2lkZSBvZiBYUiBzZXNzaW9ucywgdHJhY2tpbmcgb3IgY29udHJvbGxlcnMgYXJlIG5laXRoZXIgZW5hYmxlZCBub3IgZGlzYWJsZWRcclxuICogdG8gcGxheSB3ZWxsIHdpdGggdGhlIFt2ci1tb2RlLWFjdGl2ZS1zd2l0Y2hdKCN2ci1tb2RlLWFjdGl2ZS1zd2l0Y2gpIGNvbXBvbmVudC5cclxuICpcclxuICogKipSZXF1aXJlbWVudHM6KipcclxuICogIC0gVG8gdXNlIGhhbmQtdHJhY2tpbmcsIGVuYWJsZSBcImpvaW50IHRyYWNraW5nXCIgaW4gYGNocm9tZTovL2ZsYWdzYCBvblxyXG4gKiAgICBPY3VsdXMgQnJvd3NlciBmb3IgT2N1bHVzIFF1ZXN0L09jdWx1cyBRdWVzdCAyLlxyXG4gKlxyXG4gKiBTZWUgW0hhbmQgVHJhY2tpbmcgRXhhbXBsZV0oL3Nob3djYXNlL2hhbmQtdHJhY2tpbmcpLlxyXG4gKi9cclxuY2xhc3MgSGFuZFRyYWNraW5nIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdoYW5kLXRyYWNraW5nJztcclxuICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge1xyXG4gICAgICAgIC8qKiBIYW5kZWRuZXNzIGRldGVybWluaW5nIHdoZXRoZXIgdG8gcmVjZWl2ZSB0cmFja2luZyBpbnB1dCBmcm9tIHJpZ2h0IG9yIGxlZnQgaGFuZCAqL1xyXG4gICAgICAgIGhhbmRlZG5lc3M6IHsgdHlwZTogVHlwZS5FbnVtLCBkZWZhdWx0OiAnbGVmdCcsIHZhbHVlczogWydsZWZ0JywgJ3JpZ2h0J10gfSxcclxuICAgICAgICAvKiogKG9wdGlvbmFsKSBNZXNoIHRvIHVzZSB0byB2aXN1YWxpemUgam9pbnRzICovXHJcbiAgICAgICAgam9pbnRNZXNoOiB7IHR5cGU6IFR5cGUuTWVzaCwgZGVmYXVsdDogbnVsbCB9LFxyXG4gICAgICAgIC8qKiBNYXRlcmlhbCB0byB1c2UgZm9yIGRpc3BsYXkuIEFwcGxpZWQgdG8gZWl0aGVyIHRoZSBzcGF3bmVkIHNraW5uZWQgbWVzaCBvciB0aGUgam9pbnQgc3BoZXJlcy4gKi9cclxuICAgICAgICBqb2ludE1hdGVyaWFsOiB7IHR5cGU6IFR5cGUuTWF0ZXJpYWwsIGRlZmF1bHQ6IG51bGwgfSxcclxuICAgICAgICAvKiogKG9wdGlvbmFsKSBTa2luIHRvIGFwcGx5IHRyYWNrZWQgam9pbnQgcG9zZXMgdG8uIElmIG5vdCBwcmVzZW50LCBqb2ludCBzcGhlcmVzIHdpbGwgYmUgdXNlZCBmb3IgZGlzcGxheSBpbnN0ZWFkLiAqL1xyXG4gICAgICAgIGhhbmRTa2luOiB7IHR5cGU6IFR5cGUuU2tpbiwgZGVmYXVsdDogbnVsbCB9LFxyXG4gICAgICAgIC8qKiBEZWFjdGl2YXRlIGNoaWxkcmVuIGlmIG5vIHBvc2Ugd2FzIHRyYWNrZWQgKi9cclxuICAgICAgICBkZWFjdGl2YXRlQ2hpbGRyZW5XaXRob3V0UG9zZTogeyB0eXBlOiBUeXBlLkJvb2wsIGRlZmF1bHQ6IHRydWUgfSxcclxuICAgICAgICAvKiogQ29udHJvbGxlciBvYmplY3RzIHRvIGFjdGl2YXRlIGluY2x1ZGluZyBjaGlsZHJlbiBpZiBubyBwb3NlIGlzIGF2YWlsYWJsZSAqL1xyXG4gICAgICAgIGNvbnRyb2xsZXJUb0RlYWN0aXZhdGU6IHsgdHlwZTogVHlwZS5PYmplY3QgfSxcclxuICAgIH07XHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIHRoaXMuaGFuZGVkbmVzcyA9IFsnbGVmdCcsICdyaWdodCddW3RoaXMuaGFuZGVkbmVzc107XHJcbiAgICB9XHJcbiAgICBqb2ludHMgPSB7fTtcclxuICAgIHNlc3Npb24gPSBudWxsO1xyXG4gICAgLyogV2hldGhlciBsYXN0IHVwZGF0ZSBoYWQgYSBoYW5kIHBvc2UgKi9cclxuICAgIGhhc1Bvc2UgPSBmYWxzZTtcclxuICAgIF9jaGlsZHJlbkFjdGl2ZSA9IHRydWU7XHJcbiAgICBzdGFydCgpIHtcclxuICAgICAgICBpZiAoISgnWFJIYW5kJyBpbiB3aW5kb3cpKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignV2ViWFIgSGFuZCBUcmFja2luZyBub3Qgc3VwcG9ydGVkIGJ5IHRoaXMgYnJvd3Nlci4nKTtcclxuICAgICAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5oYW5kU2tpbikge1xyXG4gICAgICAgICAgICBsZXQgc2tpbiA9IHRoaXMuaGFuZFNraW47XHJcbiAgICAgICAgICAgIGxldCBqb2ludElkcyA9IHNraW4uam9pbnRJZHM7XHJcbiAgICAgICAgICAgIC8qIE1hcCB0aGUgd3Jpc3QgKi9cclxuICAgICAgICAgICAgdGhpcy5qb2ludHNbT1JERVJFRF9KT0lOVFNbMF1dID0gdGhpcy5lbmdpbmUud3JhcE9iamVjdChqb2ludElkc1swXSk7XHJcbiAgICAgICAgICAgIC8qIEluZGV4IGluIE9SREVSRURfSk9JTlRTIHRoYXQgd2UgYXJlIG1hcHBpbmcgdG8gb3VyIGpvaW50cyAqL1xyXG4gICAgICAgICAgICAvKiBTa2lwIHRodW1iMCBqb2ludCwgc3RhcnQgYXQgdGh1bWIxICovXHJcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgam9pbnRJZHMubGVuZ3RoOyArK2opIHtcclxuICAgICAgICAgICAgICAgIGxldCBqb2ludCA9IHRoaXMuZW5naW5lLndyYXBPYmplY3Qoam9pbnRJZHNbal0pO1xyXG4gICAgICAgICAgICAgICAgLyogdGlwIGpvaW50cyBhcmUgb25seSBuZWVkZWQgZm9yIGpvaW50IHJlbmRlcmluZywgc28gd2Ugc2tpcCB0aG9zZSB3aGlsZSBtYXBwaW5nICovXHJcbiAgICAgICAgICAgICAgICB0aGlzLmpvaW50c1tqb2ludC5uYW1lXSA9IGpvaW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8qIElmIHdlIGhhdmUgYSBoYW5kIHNraW4sIG5vIG5lZWQgdG8gc3Bhd24gdGhlIGpvaW50cy1iYXNlZCBvbmUgKi9cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKiBTcGF3biBqb2ludHMgKi9cclxuICAgICAgICBjb25zdCBqb2ludE9iamVjdHMgPSB0aGlzLmVuZ2luZS5zY2VuZS5hZGRPYmplY3RzKE9SREVSRURfSk9JTlRTLmxlbmd0aCwgdGhpcy5vYmplY3QucGFyZW50LCBPUkRFUkVEX0pPSU5UUy5sZW5ndGgpO1xyXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgT1JERVJFRF9KT0lOVFMubGVuZ3RoOyArK2opIHtcclxuICAgICAgICAgICAgbGV0IGpvaW50ID0gam9pbnRPYmplY3RzW2pdO1xyXG4gICAgICAgICAgICBqb2ludC5hZGRDb21wb25lbnQoTWVzaENvbXBvbmVudCwge1xyXG4gICAgICAgICAgICAgICAgbWVzaDogdGhpcy5qb2ludE1lc2gsXHJcbiAgICAgICAgICAgICAgICBtYXRlcmlhbDogdGhpcy5qb2ludE1hdGVyaWFsLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5qb2ludHNbT1JERVJFRF9KT0lOVFNbal1dID0gam9pbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdXBkYXRlKGR0KSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnNlc3Npb24pIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZW5naW5lLnhyKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXR1cFZSRXZlbnRzKHRoaXMuZW5naW5lLnhyLnNlc3Npb24pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRoaXMuc2Vzc2lvbilcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMuaGFzUG9zZSA9IGZhbHNlO1xyXG4gICAgICAgIGlmICh0aGlzLnNlc3Npb24gJiYgdGhpcy5zZXNzaW9uLmlucHV0U291cmNlcykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc2Vzc2lvbi5pbnB1dFNvdXJjZXMubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0U291cmNlID0gdGhpcy5zZXNzaW9uLmlucHV0U291cmNlc1tpXTtcclxuICAgICAgICAgICAgICAgIGlmICghaW5wdXRTb3VyY2UgfHxcclxuICAgICAgICAgICAgICAgICAgICAhaW5wdXRTb3VyY2UuaGFuZCB8fFxyXG4gICAgICAgICAgICAgICAgICAgIGlucHV0U291cmNlLmhhbmRlZG5lc3MgIT0gdGhpcy5oYW5kZWRuZXNzKVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oYXNQb3NlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHdyaXN0U3BhY2UgPSBpbnB1dFNvdXJjZS5oYW5kLmdldCgnd3Jpc3QnKTtcclxuICAgICAgICAgICAgICAgIGlmICh3cmlzdFNwYWNlICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcCA9IHRoaXMuZW5naW5lLnhyLmZyYW1lLmdldEpvaW50UG9zZSh3cmlzdFNwYWNlLCB0aGlzLmVuZ2luZS54ci5jdXJyZW50UmVmZXJlbmNlU3BhY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFhSUmlnaWRUcmFuc2Zvcm1Mb2NhbCh0aGlzLm9iamVjdCwgcC50cmFuc2Zvcm0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMub2JqZWN0LmdldFJvdGF0aW9uTG9jYWwoaW52Um90YXRpb24pO1xyXG4gICAgICAgICAgICAgICAgcXVhdC5jb25qdWdhdGUoaW52Um90YXRpb24sIGludlJvdGF0aW9uKTtcclxuICAgICAgICAgICAgICAgIHRoaXMub2JqZWN0LmdldFRyYW5zbGF0aW9uTG9jYWwoaW52VHJhbnNsYXRpb24pO1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBPUkRFUkVEX0pPSU5UUy5sZW5ndGg7ICsraikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGpvaW50TmFtZSA9IE9SREVSRURfSk9JTlRTW2pdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGpvaW50ID0gdGhpcy5qb2ludHNbam9pbnROYW1lXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoam9pbnQgPT09IG51bGwpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBqb2ludFBvc2UgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGpvaW50U3BhY2UgPSBpbnB1dFNvdXJjZS5oYW5kLmdldChqb2ludE5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChqb2ludFNwYWNlICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGpvaW50UG9zZSA9IHRoaXMuZW5naW5lLnhyLmZyYW1lLmdldEpvaW50UG9zZShqb2ludFNwYWNlLCB0aGlzLmVuZ2luZS54ci5jdXJyZW50UmVmZXJlbmNlU3BhY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoam9pbnRQb3NlICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhbmRTa2luKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqb2ludC5yZXNldFRyYW5zbGF0aW9uUm90YXRpb24oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpvaW50LnRyYW5zbGF0ZShbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgam9pbnRQb3NlLnRyYW5zZm9ybS5wb3NpdGlvbi54IC0gaW52VHJhbnNsYXRpb25bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgam9pbnRQb3NlLnRyYW5zZm9ybS5wb3NpdGlvbi55IC0gaW52VHJhbnNsYXRpb25bMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgam9pbnRQb3NlLnRyYW5zZm9ybS5wb3NpdGlvbi56IC0gaW52VHJhbnNsYXRpb25bMl0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpvaW50LnJvdGF0ZShpbnZSb3RhdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqb2ludC5yb3RhdGVPYmplY3QoW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpvaW50UG9zZS50cmFuc2Zvcm0ub3JpZW50YXRpb24ueCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqb2ludFBvc2UudHJhbnNmb3JtLm9yaWVudGF0aW9uLnksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgam9pbnRQb3NlLnRyYW5zZm9ybS5vcmllbnRhdGlvbi56LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpvaW50UG9zZS50cmFuc2Zvcm0ub3JpZW50YXRpb24udyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0WFJSaWdpZFRyYW5zZm9ybUxvY2FsKGpvaW50LCBqb2ludFBvc2UudHJhbnNmb3JtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIExhc3Qgam9pbnQgcmFkaXVzIG9mIGVhY2ggZmluZ2VyIGlzIG51bGwgKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHIgPSBqb2ludFBvc2UucmFkaXVzIHx8IDAuMDA3O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgam9pbnQuc2V0U2NhbGluZ0xvY2FsKFtyLCByLCByXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLmhhc1Bvc2UgJiYgdGhpcy5fY2hpbGRyZW5BY3RpdmUpIHtcclxuICAgICAgICAgICAgdGhpcy5fY2hpbGRyZW5BY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZGVhY3RpdmF0ZUNoaWxkcmVuV2l0aG91dFBvc2UpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0Q2hpbGRyZW5BY3RpdmUoZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnRyb2xsZXJUb0RlYWN0aXZhdGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29udHJvbGxlclRvRGVhY3RpdmF0ZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDaGlsZHJlbkFjdGl2ZSh0cnVlLCB0aGlzLmNvbnRyb2xsZXJUb0RlYWN0aXZhdGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMuaGFzUG9zZSAmJiAhdGhpcy5fY2hpbGRyZW5BY3RpdmUpIHtcclxuICAgICAgICAgICAgdGhpcy5fY2hpbGRyZW5BY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5kZWFjdGl2YXRlQ2hpbGRyZW5XaXRob3V0UG9zZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDaGlsZHJlbkFjdGl2ZSh0cnVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5jb250cm9sbGVyVG9EZWFjdGl2YXRlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRyb2xsZXJUb0RlYWN0aXZhdGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldENoaWxkcmVuQWN0aXZlKGZhbHNlLCB0aGlzLmNvbnRyb2xsZXJUb0RlYWN0aXZhdGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc2V0Q2hpbGRyZW5BY3RpdmUoYWN0aXZlLCBvYmplY3QpIHtcclxuICAgICAgICBvYmplY3QgPSBvYmplY3QgfHwgdGhpcy5vYmplY3Q7XHJcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBvYmplY3QuY2hpbGRyZW47XHJcbiAgICAgICAgZm9yIChjb25zdCBvIG9mIGNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIG8uYWN0aXZlID0gYWN0aXZlO1xyXG4gICAgICAgICAgICB0aGlzLnNldENoaWxkcmVuQWN0aXZlKGFjdGl2ZSwgbyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaXNHcmFiYmluZygpIHtcclxuICAgICAgICBjb25zdCBpbmRleFRpcFBvcyA9IFswLCAwLCAwXTtcclxuICAgICAgICBxdWF0Mi5nZXRUcmFuc2xhdGlvbihpbmRleFRpcFBvcywgdGhpcy5qb2ludHNbJ2luZGV4LWZpbmdlci10aXAnXS50cmFuc2Zvcm1Mb2NhbCk7XHJcbiAgICAgICAgY29uc3QgdGh1bWJUaXBQb3MgPSBbMCwgMCwgMF07XHJcbiAgICAgICAgcXVhdDIuZ2V0VHJhbnNsYXRpb24odGh1bWJUaXBQb3MsIHRoaXMuam9pbnRzWyd0aHVtYi10aXAnXS50cmFuc2Zvcm1Mb2NhbCk7XHJcbiAgICAgICAgcmV0dXJuIHZlYzMuc3FyRGlzdCh0aHVtYlRpcFBvcywgaW5kZXhUaXBQb3MpIDwgMC4wMDE7XHJcbiAgICB9XHJcbiAgICBzZXR1cFZSRXZlbnRzKHMpIHtcclxuICAgICAgICB0aGlzLnNlc3Npb24gPSBzO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCB7IEhhbmRUcmFja2luZyB9O1xyXG4iLCAiaW1wb3J0IHsgQ29tcG9uZW50LCBUeXBlIH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuaW1wb3J0ICdob3dsZXInO1xyXG4vKipcclxuICogKFNwYXRpYWwpIGF1ZGlvIGxpc3RlbmVyIGJhc2VkIG9uIFtIb3dsZXIuanNdKGh0dHBzOi8vaG93bGVyanMuY29tLykuXHJcbiAqXHJcbiAqIFJldHJpZXZlcyB0aGUgbG9jYXRpb24gYW5kIG9yaWVudGF0aW9uIG9mIHRoZSBvYmplY3QgYW5kIHBhc3NlcyBpdFxyXG4gKiB0byBbSG93bGVyLnBvcygpXShodHRwczovL2dpdGh1Yi5jb20vZ29sZGZpcmUvaG93bGVyLmpzI3Bvc3gteS16LWlkKVxyXG4gKiBhbmQgW0hvd2xlci5vcmllbnRhdGlvbigpXShodHRwczovL2dpdGh1Yi5jb20vZ29sZGZpcmUvaG93bGVyLmpzI29yaWVudGF0aW9ueC15LXotaWQpLlxyXG4gKi9cclxuY2xhc3MgSG93bGVyQXVkaW9MaXN0ZW5lciBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnaG93bGVyLWF1ZGlvLWxpc3RlbmVyJztcclxuICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge1xyXG4gICAgICAgIC8qKiBXaGV0aGVyIGF1ZGlvIHNob3VsZCBiZSBzcGF0aWFsaXplZC9wb3NpdGlvbmFsLiAqL1xyXG4gICAgICAgIHNwYXRpYWw6IHsgdHlwZTogVHlwZS5Cb29sLCBkZWZhdWx0OiB0cnVlIH0sXHJcbiAgICB9O1xyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICB0aGlzLm9yaWdpbiA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbiAgICAgICAgdGhpcy5md2QgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG4gICAgICAgIHRoaXMudXAgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5zcGF0aWFsKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgdGhpcy5vYmplY3QuZ2V0VHJhbnNsYXRpb25Xb3JsZCh0aGlzLm9yaWdpbik7XHJcbiAgICAgICAgdGhpcy5vYmplY3QuZ2V0Rm9yd2FyZCh0aGlzLmZ3ZCk7XHJcbiAgICAgICAgdGhpcy5vYmplY3QuZ2V0VXAodGhpcy51cCk7XHJcbiAgICAgICAgSG93bGVyLnBvcyh0aGlzLm9yaWdpblswXSwgdGhpcy5vcmlnaW5bMV0sIHRoaXMub3JpZ2luWzJdKTtcclxuICAgICAgICBIb3dsZXIub3JpZW50YXRpb24odGhpcy5md2RbMF0sIHRoaXMuZndkWzFdLCB0aGlzLmZ3ZFsyXSwgdGhpcy51cFswXSwgdGhpcy51cFsxXSwgdGhpcy51cFsyXSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IHsgSG93bGVyQXVkaW9MaXN0ZW5lciB9O1xyXG4iLCAiaW1wb3J0IHsgQ29tcG9uZW50LCBUeXBlIH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuaW1wb3J0ICdob3dsZXInO1xyXG4vKipcclxuICogKFNwYXRpYWwpIGF1ZGlvIHNvdXJjZSBiYXNlZCBvbiBbSG93bGVyLmpzXShodHRwczovL2hvd2xlcmpzLmNvbS8pLlxyXG4gKlxyXG4gKiBDcmVhdGVzIGEgSG93bGVyIGF1ZGlvIHNvdXJjZSwgcGxheXMgYW4gYXVkaW8gZmlsZSBvbiBpdCBhbmQgdXBkYXRlc1xyXG4gKiBpdHMgcG9zaXRpb24uXHJcbiAqXHJcbiAqIE9wdGltaXplcyB0aGUgcG9zaXRpb24gdXBkYXRlIHRvIG9ubHkgdXBkYXRlIGlmIHRoZSBkaWZmZXJlbmNlIHRvIGxhc3RcclxuICogcG9zaXRpb24gaXMgbGFyZ2VyIHRoYW4gaGFsZiBhIGNlbnRpbWV0ZXIuIFRvIGZvcmNlIHVwZGF0ZXMgKGUuZy4gaWZcclxuICogdGhlIHNvdW5kIHNvdXJjZSBpcyBfdmVyeV8gY2xvc2UgdG8gdGhlIGxpc3RlbmVyKSxcclxuICogdXNlIGAudXBkYXRlUG9zaXRpb24oKWAuXHJcbiAqL1xyXG5jbGFzcyBIb3dsZXJBdWRpb1NvdXJjZSBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnaG93bGVyLWF1ZGlvLXNvdXJjZSc7XHJcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcclxuICAgICAgICAvKiogVm9sdW1lICovXHJcbiAgICAgICAgdm9sdW1lOiB7IHR5cGU6IFR5cGUuRmxvYXQsIGRlZmF1bHQ6IDEuMCB9LFxyXG4gICAgICAgIC8qKiBXaGV0aGVyIGF1ZGlvIHNob3VsZCBiZSBzcGF0aWFsaXplZC9wb3NpdGlvbmFsICovXHJcbiAgICAgICAgc3BhdGlhbDogeyB0eXBlOiBUeXBlLkJvb2wsIGRlZmF1bHQ6IHRydWUgfSxcclxuICAgICAgICAvKiogV2hldGhlciB0byBsb29wIHRoZSBzb3VuZCAqL1xyXG4gICAgICAgIGxvb3A6IHsgdHlwZTogVHlwZS5Cb29sLCBkZWZhdWx0OiBmYWxzZSB9LFxyXG4gICAgICAgIC8qKiBXaGV0aGVyIHRvIHN0YXJ0IHBsYXlpbmcgYXV0b21hdGljYWxseSAqL1xyXG4gICAgICAgIGF1dG9wbGF5OiB7IHR5cGU6IFR5cGUuQm9vbCwgZGVmYXVsdDogZmFsc2UgfSxcclxuICAgICAgICAvKiogVVJMIHRvIGEgc291bmQgZmlsZSB0byBwbGF5ICovXHJcbiAgICAgICAgc3JjOiB7IHR5cGU6IFR5cGUuU3RyaW5nLCBkZWZhdWx0OiAnJyB9LFxyXG4gICAgfTtcclxuICAgIHN0YXJ0KCkge1xyXG4gICAgICAgIHRoaXMuYXVkaW8gPSBuZXcgSG93bCh7XHJcbiAgICAgICAgICAgIHNyYzogW3RoaXMuc3JjXSxcclxuICAgICAgICAgICAgbG9vcDogdGhpcy5sb29wLFxyXG4gICAgICAgICAgICB2b2x1bWU6IHRoaXMudm9sdW1lLFxyXG4gICAgICAgICAgICBhdXRvcGxheTogdGhpcy5hdXRvcGxheSxcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmxhc3RQbGF5ZWRBdWRpb0lkID0gbnVsbDtcclxuICAgICAgICB0aGlzLm9yaWdpbiA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbiAgICAgICAgdGhpcy5sYXN0T3JpZ2luID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuICAgICAgICBpZiAodGhpcy5zcGF0aWFsICYmIHRoaXMuYXV0b3BsYXkpIHtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVQb3NpdGlvbigpO1xyXG4gICAgICAgICAgICB0aGlzLnBsYXkoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnNwYXRpYWwgfHwgIXRoaXMubGFzdFBsYXllZEF1ZGlvSWQpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB0aGlzLm9iamVjdC5nZXRUcmFuc2xhdGlvbldvcmxkKHRoaXMub3JpZ2luKTtcclxuICAgICAgICAvKiBPbmx5IGNhbGwgcG9zKCkgaWYgdGhlIHBvc2l0aW9uIG1vdmVkIG1vcmUgdGhhbiBoYWxmIGEgY2VudGltZXRlclxyXG4gICAgICAgICAqIG90aGVyd2lzZSB0aGlzIGdldHMgdmVyeSBwZXJmb3JtYW5jZSBoZWF2eS5cclxuICAgICAgICAgKiBTbWFsbGVyIG1vdmVtZW50IHNob3VsZCBvbmx5IGJlIHBlcmNlaXZhYmxlIGlmIGNsb3NlIHRvIHRoZVxyXG4gICAgICAgICAqIGVhciBhbnl3YXkuICovXHJcbiAgICAgICAgaWYgKE1hdGguYWJzKHRoaXMubGFzdE9yaWdpblswXSAtIHRoaXMub3JpZ2luWzBdKSA+IDAuMDA1IHx8XHJcbiAgICAgICAgICAgIE1hdGguYWJzKHRoaXMubGFzdE9yaWdpblsxXSAtIHRoaXMub3JpZ2luWzFdKSA+IDAuMDA1IHx8XHJcbiAgICAgICAgICAgIE1hdGguYWJzKHRoaXMubGFzdE9yaWdpblsyXSAtIHRoaXMub3JpZ2luWzJdKSA+IDAuMDA1KSB7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUG9zaXRpb24oKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB1cGRhdGVQb3NpdGlvbigpIHtcclxuICAgICAgICB0aGlzLmF1ZGlvLnBvcyh0aGlzLm9yaWdpblswXSwgdGhpcy5vcmlnaW5bMV0sIHRoaXMub3JpZ2luWzJdLCB0aGlzLmxhc3RQbGF5ZWRBdWRpb0lkKTtcclxuICAgICAgICB0aGlzLmxhc3RPcmlnaW4uc2V0KHRoaXMub3JpZ2luKTtcclxuICAgIH1cclxuICAgIHBsYXkoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMubGFzdFBsYXllZEF1ZGlvSWQpXHJcbiAgICAgICAgICAgIHRoaXMuYXVkaW8uc3RvcCh0aGlzLmxhc3RQbGF5ZWRBdWRpb0lkKTtcclxuICAgICAgICB0aGlzLmxhc3RQbGF5ZWRBdWRpb0lkID0gdGhpcy5hdWRpby5wbGF5KCk7XHJcbiAgICAgICAgaWYgKHRoaXMuc3BhdGlhbClcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVQb3NpdGlvbigpO1xyXG4gICAgfVxyXG4gICAgc3RvcCgpIHtcclxuICAgICAgICBpZiAoIXRoaXMubGFzdFBsYXllZEF1ZGlvSWQpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB0aGlzLmF1ZGlvLnN0b3AodGhpcy5sYXN0UGxheWVkQXVkaW9JZCk7XHJcbiAgICAgICAgdGhpcy5sYXN0UGxheWVkQXVkaW9JZCA9IG51bGw7XHJcbiAgICB9XHJcbiAgICBvbkRlYWN0aXZhdGUoKSB7XHJcbiAgICAgICAgLyogU3RvcCBzb3VuZCB3aGVuIGNvbXBvbmVudCBpcyBkZWFjdGl2YXRlZCBvciBkZXN0cm95ZWQsIGUuZy5cclxuICAgICAgICAgKiB3aGVuIHN3aXRjaGluZyBzY2VuZXMgKi9cclxuICAgICAgICB0aGlzLnN0b3AoKTtcclxuICAgIH1cclxufVxyXG5leHBvcnQgeyBIb3dsZXJBdWRpb1NvdXJjZSB9O1xyXG4iLCAiLyoqXHJcbiAqIFNldCB0aGUgZGlmZnVzZS9mbGF0IHRleHR1cmUgb2Yga25vd24gcGlwZWxpbmVzLlxyXG4gKlxyXG4gKiBAcGFyYW0gbWF0IE1hdGVyaWFsIHRvIHNldCB0aGUgdGV4dHVyZSBvblxyXG4gKiBAcGFyYW0gdGV4dHVyZSBUZXh0dXJlIHRvIHNldFxyXG4gKiBAcGFyYW0gY3VzdG9tVGV4dHVyZVByb3BlcnR5IFRleHR1cmUgcHJvcGVydHkgdG8gc2V0IG9yIGAnYXV0bydgIHRvIGF1dG9tYXRpY2FsbHlcclxuICogICAgICBkZXRlY3QgdGhlIHJpZ2h0IHRleHR1cmUgcHJvcGVydHkgYmFzZWQgb24ga25vd24gcGlwZWxpbmUuXHJcbiAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgcHJvcGVydHkgd2FzIHNldCwgYGZhbHNlYCBvdGhlcndpc2UuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gc2V0Rmlyc3RNYXRlcmlhbFRleHR1cmUobWF0LCB0ZXh0dXJlLCBjdXN0b21UZXh0dXJlUHJvcGVydHkpIHtcclxuICAgIGlmIChjdXN0b21UZXh0dXJlUHJvcGVydHkgIT09ICdhdXRvJykge1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBtYXRbY3VzdG9tVGV4dHVyZVByb3BlcnR5XSA9IHRleHR1cmU7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBjb25zdCBzaGFkZXIgPSBtYXQuc2hhZGVyO1xyXG4gICAgaWYgKHNoYWRlciA9PT0gJ0ZsYXQgT3BhcXVlIFRleHR1cmVkJykge1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBtYXQuZmxhdFRleHR1cmUgPSB0ZXh0dXJlO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoc2hhZGVyID09PSAnUGhvbmcgT3BhcXVlIFRleHR1cmVkJyB8fFxyXG4gICAgICAgIHNoYWRlciA9PT0gJ0ZvbGlhZ2UnIHx8XHJcbiAgICAgICAgc2hhZGVyID09PSAnUGhvbmcgTm9ybWFsbWFwcGVkJyB8fFxyXG4gICAgICAgIHNoYWRlciA9PT0gJ1Bob25nIExpZ2h0bWFwcGVkJykge1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBtYXQuZGlmZnVzZVRleHR1cmUgPSB0ZXh0dXJlO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoc2hhZGVyID09PSAnUGFydGljbGUnKSB7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIG1hdC5tYWluVGV4dHVyZSA9IHRleHR1cmU7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChzaGFkZXIgPT09ICdEaXN0YW5jZUZpZWxkVmVjdG9yJykge1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBtYXQudmVjdG9yVGV4dHVyZSA9IHRleHR1cmU7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChzaGFkZXIgPT09ICdCYWNrZ3JvdW5kJyB8fCBzaGFkZXIgPT09ICdTa3knKSB7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIG1hdC50ZXh0dXJlID0gdGV4dHVyZTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHNoYWRlciA9PT0gJ1BoeXNpY2FsIE9wYXF1ZSBUZXh0dXJlZCcpIHtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgbWF0LmFsYmVkb1RleHR1cmUgPSB0ZXh0dXJlO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcbiIsICJpbXBvcnQgeyBDb21wb25lbnQsIFByb3BlcnR5IH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuaW1wb3J0IHsgc2V0Rmlyc3RNYXRlcmlhbFRleHR1cmUgfSBmcm9tICcuL3V0aWxzL3V0aWxzLmpzJztcclxuLyoqXHJcbiAqIERvd25sb2FkcyBhbiBpbWFnZSBmcm9tIFVSTCBhbmQgYXBwbGllcyBpdCBhcyBgZGlmZnVzZVRleHR1cmVgIG9yIGBmbGF0VGV4dHVyZWBcclxuICogdG8gYW4gYXR0YWNoZWQgbWVzaCBjb21wb25lbnQuXHJcbiAqXHJcbiAqIE1hdGVyaWFscyBmcm9tIHRoZSBmb2xsb3dpbmcgc2hhZGVycyBhcmUgc3VwcG9ydGVkOlxyXG4gKiAgLSBcIlBob25nIE9wYXF1ZSBUZXh0dXJlZFwiXHJcbiAqICAtIFwiRmxhdCBPcGFxdWUgVGV4dHVyZWRcIlxyXG4gKiAgLSBcIkJhY2tncm91bmRcIlxyXG4gKiAgLSBcIlBoeXNpY2FsIE9wYXF1ZSBUZXh0dXJlZFwiXHJcbiAqICAtIFwiRm9saWFnZVwiXHJcbiAqL1xyXG5jbGFzcyBJbWFnZVRleHR1cmUgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ2ltYWdlLXRleHR1cmUnO1xyXG4gICAgc3RhdGljIFByb3BlcnRpZXMgPSB7XHJcbiAgICAgICAgLyoqIFVSTCB0byBkb3dubG9hZCB0aGUgaW1hZ2UgZnJvbSAqL1xyXG4gICAgICAgIHVybDogUHJvcGVydHkuc3RyaW5nKCksXHJcbiAgICAgICAgLyoqIE1hdGVyaWFsIHRvIGFwcGx5IHRoZSB2aWRlbyB0ZXh0dXJlIHRvICovXHJcbiAgICAgICAgbWF0ZXJpYWw6IFByb3BlcnR5Lm1hdGVyaWFsKCksXHJcbiAgICAgICAgLyoqIE5hbWUgb2YgdGhlIHRleHR1cmUgcHJvcGVydHkgdG8gc2V0ICovXHJcbiAgICAgICAgdGV4dHVyZVByb3BlcnR5OiBQcm9wZXJ0eS5zdHJpbmcoJ2F1dG8nKSxcclxuICAgIH07XHJcbiAgICBzdGFydCgpIHtcclxuICAgICAgICBpZiAoIXRoaXMubWF0ZXJpYWwpIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ2ltYWdlLXRleHR1cmU6IG1hdGVyaWFsIHByb3BlcnR5IG5vdCBzZXQnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5lbmdpbmUudGV4dHVyZXNcclxuICAgICAgICAgICAgLmxvYWQodGhpcy51cmwsICdhbm9ueW1vdXMnKVxyXG4gICAgICAgICAgICAudGhlbigodGV4dHVyZSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBtYXQgPSB0aGlzLm1hdGVyaWFsO1xyXG4gICAgICAgICAgICBpZiAoIXNldEZpcnN0TWF0ZXJpYWxUZXh0dXJlKG1hdCwgdGV4dHVyZSwgdGhpcy50ZXh0dXJlUHJvcGVydHkpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdTaGFkZXInLCBtYXQuc2hhZGVyLCAnbm90IHN1cHBvcnRlZCBieSBpbWFnZS10ZXh0dXJlJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goY29uc29sZS5lcnIpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCB7IEltYWdlVGV4dHVyZSB9O1xyXG4iLCAiaW1wb3J0IHsgQ29tcG9uZW50LCBUeXBlIH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuaW1wb3J0IHsgdmVjMyB9IGZyb20gJ2dsLW1hdHJpeCc7XHJcbi8qKlxyXG4gKiBDb250cm9scyB0aGUgY2FtZXJhIHRocm91Z2ggbW91c2UgbW92ZW1lbnQuXHJcbiAqXHJcbiAqIEVmZmljaWVudGx5IGltcGxlbWVudGVkIHRvIGFmZmVjdCBvYmplY3Qgb3JpZW50YXRpb24gb25seVxyXG4gKiB3aGVuIHRoZSBtb3VzZSBtb3Zlcy5cclxuICovXHJcbmNsYXNzIE1vdXNlTG9va0NvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnbW91c2UtbG9vayc7XHJcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcclxuICAgICAgICAvKiogTW91c2UgbG9vayBzZW5zaXRpdml0eSAqL1xyXG4gICAgICAgIHNlbnNpdGl0eTogeyB0eXBlOiBUeXBlLkZsb2F0LCBkZWZhdWx0OiAwLjI1IH0sXHJcbiAgICAgICAgLyoqIFJlcXVpcmUgYSBtb3VzZSBidXR0b24gdG8gYmUgcHJlc3NlZCB0byBjb250cm9sIHZpZXcuXHJcbiAgICAgICAgICogT3RoZXJ3aXNlIHZpZXcgd2lsbCBhbGx3YXlzIGZvbGxvdyBtb3VzZSBtb3ZlbWVudCAqL1xyXG4gICAgICAgIHJlcXVpcmVNb3VzZURvd246IHsgdHlwZTogVHlwZS5Cb29sLCBkZWZhdWx0OiB0cnVlIH0sXHJcbiAgICAgICAgLyoqIElmIFwibW92ZU9uQ2xpY2tcIiBpcyBlbmFibGVkLCBtb3VzZSBidXR0b24gd2hpY2ggc2hvdWxkXHJcbiAgICAgICAgICogYmUgaGVsZCBkb3duIHRvIGNvbnRyb2wgdmlldyAqL1xyXG4gICAgICAgIG1vdXNlQnV0dG9uSW5kZXg6IHsgdHlwZTogVHlwZS5JbnQgfSxcclxuICAgICAgICAvKiogRW5hYmxlcyBwb2ludGVyIGxvY2sgb24gXCJtb3VzZWRvd25cIiBldmVudCBvbiBjYW52YXMgKi9cclxuICAgICAgICBwb2ludGVyTG9ja09uQ2xpY2s6IHsgdHlwZTogVHlwZS5Cb29sLCBkZWZhdWx0OiBmYWxzZSB9LFxyXG4gICAgfTtcclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50Um90YXRpb25ZID0gMDtcclxuICAgICAgICB0aGlzLmN1cnJlbnRSb3RhdGlvblggPSAwO1xyXG4gICAgICAgIHRoaXMub3JpZ2luID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuICAgICAgICB0aGlzLnBhcmVudE9yaWdpbiA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbiAgICAgICAgdGhpcy5yb3RhdGlvblggPSAwO1xyXG4gICAgICAgIHRoaXMucm90YXRpb25ZID0gMDtcclxuICAgIH1cclxuICAgIHN0YXJ0KCkge1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmFjdGl2ZSAmJiAodGhpcy5tb3VzZURvd24gfHwgIXRoaXMucmVxdWlyZU1vdXNlRG93bikpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucm90YXRpb25ZID0gKC10aGlzLnNlbnNpdGl0eSAqIGUubW92ZW1lbnRYKSAvIDEwMDtcclxuICAgICAgICAgICAgICAgIHRoaXMucm90YXRpb25YID0gKC10aGlzLnNlbnNpdGl0eSAqIGUubW92ZW1lbnRZKSAvIDEwMDtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFJvdGF0aW9uWCArPSB0aGlzLnJvdGF0aW9uWDtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFJvdGF0aW9uWSArPSB0aGlzLnJvdGF0aW9uWTtcclxuICAgICAgICAgICAgICAgIC8qIDEuNTA3ID0gUEkvMiA9IDkwXHUwMEIwICovXHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRSb3RhdGlvblggPSBNYXRoLm1pbigxLjUwNywgdGhpcy5jdXJyZW50Um90YXRpb25YKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFJvdGF0aW9uWCA9IE1hdGgubWF4KC0xLjUwNywgdGhpcy5jdXJyZW50Um90YXRpb25YKTtcclxuICAgICAgICAgICAgICAgIHRoaXMub2JqZWN0LmdldFRyYW5zbGF0aW9uV29ybGQodGhpcy5vcmlnaW4pO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5vYmplY3QucGFyZW50O1xyXG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudC5nZXRUcmFuc2xhdGlvbldvcmxkKHRoaXMucGFyZW50T3JpZ2luKTtcclxuICAgICAgICAgICAgICAgICAgICB2ZWMzLnN1Yih0aGlzLm9yaWdpbiwgdGhpcy5vcmlnaW4sIHRoaXMucGFyZW50T3JpZ2luKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMub2JqZWN0LnJlc2V0VHJhbnNsYXRpb25Sb3RhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vYmplY3Qucm90YXRlQXhpc0FuZ2xlUmFkKFsxLCAwLCAwXSwgdGhpcy5jdXJyZW50Um90YXRpb25YKTtcclxuICAgICAgICAgICAgICAgIHRoaXMub2JqZWN0LnJvdGF0ZUF4aXNBbmdsZVJhZChbMCwgMSwgMF0sIHRoaXMuY3VycmVudFJvdGF0aW9uWSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9iamVjdC50cmFuc2xhdGUodGhpcy5vcmlnaW4pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc3QgY2FudmFzID0gdGhpcy5lbmdpbmUuY2FudmFzO1xyXG4gICAgICAgIGlmICh0aGlzLnBvaW50ZXJMb2NrT25DbGljaykge1xyXG4gICAgICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY2FudmFzLnJlcXVlc3RQb2ludGVyTG9jayA9XHJcbiAgICAgICAgICAgICAgICAgICAgY2FudmFzLnJlcXVlc3RQb2ludGVyTG9jayB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYW52YXMubW96UmVxdWVzdFBvaW50ZXJMb2NrIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhcy53ZWJraXRSZXF1ZXN0UG9pbnRlckxvY2s7XHJcbiAgICAgICAgICAgICAgICBjYW52YXMucmVxdWVzdFBvaW50ZXJMb2NrKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5yZXF1aXJlTW91c2VEb3duKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm1vdXNlQnV0dG9uSW5kZXggPT0gMikge1xyXG4gICAgICAgICAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgKGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICB9LCBmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5idXR0b24gPT0gdGhpcy5tb3VzZUJ1dHRvbkluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb3VzZURvd24gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gJ2dyYWJiaW5nJztcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZS5idXR0b24gPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIFByZXZlbnQgc2Nyb2xsaW5nICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5idXR0b24gPT0gdGhpcy5tb3VzZUJ1dHRvbkluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb3VzZURvd24gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9ICdpbml0aWFsJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydCB7IE1vdXNlTG9va0NvbXBvbmVudCB9O1xyXG4iLCAidmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufTtcclxuaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuaW1wb3J0IHsgcHJvcGVydHkgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGkvZGVjb3JhdG9ycy5qcyc7XHJcbi8qKlxyXG4gKiBTZXQgcGxheWVyIGhlaWdodCBmb3IgYSBZLW9mZnNldCBhYm92ZSB0aGUgZ3JvdW5kIGZvclxyXG4gKiAnbG9jYWwnIGFuZCAndmlld2VyJyByZWZlcmVuY2Ugc3BhY2VzLlxyXG4gKi9cclxuY2xhc3MgUGxheWVySGVpZ2h0IGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdwbGF5ZXItaGVpZ2h0JztcclxuICAgIGhlaWdodCA9IDEuNzU7XHJcbiAgICBvblNlc3Npb25TdGFydENhbGxiYWNrO1xyXG4gICAgb25TZXNzaW9uRW5kQ2FsbGJhY2s7XHJcbiAgICBzdGFydCgpIHtcclxuICAgICAgICB0aGlzLm9iamVjdC5yZXNldFBvc2l0aW9uUm90YXRpb24oKTtcclxuICAgICAgICB0aGlzLm9iamVjdC50cmFuc2xhdGVMb2NhbChbMC4wLCB0aGlzLmhlaWdodCwgMC4wXSk7XHJcbiAgICAgICAgdGhpcy5vblNlc3Npb25TdGFydENhbGxiYWNrID0gdGhpcy5vblhSU2Vzc2lvblN0YXJ0LmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5vblNlc3Npb25FbmRDYWxsYmFjayA9IHRoaXMub25YUlNlc3Npb25FbmQuYmluZCh0aGlzKTtcclxuICAgIH1cclxuICAgIG9uQWN0aXZhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5lbmdpbmUub25YUlNlc3Npb25TdGFydC5hZGQodGhpcy5vblNlc3Npb25TdGFydENhbGxiYWNrKTtcclxuICAgICAgICB0aGlzLmVuZ2luZS5vblhSU2Vzc2lvbkVuZC5hZGQodGhpcy5vblNlc3Npb25FbmRDYWxsYmFjayk7XHJcbiAgICB9XHJcbiAgICBvbkRlYWN0aXZhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5lbmdpbmUub25YUlNlc3Npb25TdGFydC5yZW1vdmUodGhpcy5vblNlc3Npb25TdGFydENhbGxiYWNrKTtcclxuICAgICAgICB0aGlzLmVuZ2luZS5vblhSU2Vzc2lvbkVuZC5yZW1vdmUodGhpcy5vblNlc3Npb25FbmRDYWxsYmFjayk7XHJcbiAgICB9XHJcbiAgICBvblhSU2Vzc2lvblN0YXJ0KCkge1xyXG4gICAgICAgIGNvbnN0IHR5cGUgPSB0aGlzLmVuZ2luZS54cj8uY3VycmVudFJlZmVyZW5jZVNwYWNlVHlwZTtcclxuICAgICAgICBpZiAodHlwZSAhPT0gJ2xvY2FsJyAmJiB0eXBlICE9PSAndmlld2VyJykge1xyXG4gICAgICAgICAgICB0aGlzLm9iamVjdC5yZXNldFBvc2l0aW9uUm90YXRpb24oKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBvblhSU2Vzc2lvbkVuZCgpIHtcclxuICAgICAgICBjb25zdCB0eXBlID0gdGhpcy5lbmdpbmUueHI/LmN1cnJlbnRSZWZlcmVuY2VTcGFjZVR5cGU7XHJcbiAgICAgICAgaWYgKHR5cGUgIT09ICdsb2NhbCcgJiYgdHlwZSAhPT0gJ3ZpZXdlcicpIHtcclxuICAgICAgICAgICAgdGhpcy5vYmplY3QucmVzZXRQb3NpdGlvblJvdGF0aW9uKCk7XHJcbiAgICAgICAgICAgIHRoaXMub2JqZWN0LnRyYW5zbGF0ZUxvY2FsKFswLjAsIHRoaXMuaGVpZ2h0LCAwLjBdKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuX19kZWNvcmF0ZShbXHJcbiAgICBwcm9wZXJ0eS5mbG9hdCgxLjc1KVxyXG5dLCBQbGF5ZXJIZWlnaHQucHJvdG90eXBlLCBcImhlaWdodFwiLCB2b2lkIDApO1xyXG5leHBvcnQgeyBQbGF5ZXJIZWlnaHQgfTtcclxuIiwgImltcG9ydCB7IENvbXBvbmVudCwgVHlwZSB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbi8qKlxyXG4gKiBTZXRzIHRoZSB0YXJnZXQgZnJhbWVyYXRlXHJcbiAqXHJcbiAqIFtVcGRhdGVzIHRoZSB0YXJnZXQgZnJhbWVyYXRlXShodHRwczovL2ltbWVyc2l2ZS13ZWIuZ2l0aHViLmlvL3dlYnhyLyNkb20teHJzZXNzaW9uLXVwZGF0ZXRhcmdldGZyYW1lcmF0ZSlcclxuICogdG8gdGhlIGNsb3Nlc3QgW3N1cHBvcnRlZCB0YXJnZXQgZnJhbWVyYXRlXShodHRwczovL2ltbWVyc2l2ZS13ZWIuZ2l0aHViLmlvL3dlYnhyLyNkb20teHJzZXNzaW9uLXN1cHBvcnRlZEZyYW1lUmF0ZXMpXHJcbiAqIHRvIHRoZSBnaXZlbiBgZnJhbWVyYXRlYC5cclxuICpcclxuICogVGhlIHRhcmdldCBmcmFtZXJhdGUgaXMgdXNlZCBmb3IgdGhlIGRldmljZSdzIFZSIGNvbXBvc2l0b3IgYXMgYW4gaW5kaWNhdGlvbiBvZiBob3cgb2Z0ZW4gdG8gcmVmcmVzaCB0aGVcclxuICogc2NyZWVuIHdpdGggbmV3IGltYWdlcy4gVGhpcyBtZWFucyB0aGUgYXBwIHdpbGwgYmUgYXNrZWQgdG8gcHJvZHVjZSBmcmFtZXMgaW4gbW9yZSByZWd1bGFyIGludGVydmFscyxcclxuICogcG90ZW50aWFsbHkgc3BlbmRpbmcgbGVzcyB0aW1lIG9uIGZyYW1lcyB0aGF0IGFyZSBsaWtlbHkgdG8gYmUgZHJvcHBlZC5cclxuICpcclxuICogRm9yIGFwcHMgd2l0aCBoZWF2eSBsb2FkLCBzZXR0aW5nIGEgd2VsbCBtYXRjaGluZyB0YXJnZXQgZnJhbWVyYXRlIGNhbiBpbXByb3ZlIHRoZSBhcHBzIHJlbmRlcmluZyBzdGFiaWxpdHlcclxuICogYW5kIHJlZHVjZSBzdHV0dGVyLlxyXG4gKlxyXG4gKiBMaWtld2lzZSwgdGhlIHRhcmdldCBmcmFtZXJhdGUgY2FuIGJlIHVzZWQgdG8gZW5hYmxlIDEyMEh6IHJlZnJlc2ggcmF0ZXMgb24gT2N1bHVzIFF1ZXN0IDIgb24gc2ltcGxlciBhcHBzLlxyXG4gKi9cclxuY2xhc3MgVGFyZ2V0RnJhbWVyYXRlIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICd0YXJnZXQtZnJhbWVyYXRlJztcclxuICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge1xyXG4gICAgICAgIGZyYW1lcmF0ZTogeyB0eXBlOiBUeXBlLkZsb2F0LCBkZWZhdWx0OiA5MC4wIH0sXHJcbiAgICB9O1xyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgdGhpcy5vblNlc3Npb25TdGFydENhbGxiYWNrID0gdGhpcy5zZXRUYXJnZXRGcmFtZXJhdGUuYmluZCh0aGlzKTtcclxuICAgIH1cclxuICAgIG9uQWN0aXZhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5lbmdpbmUub25YUlNlc3Npb25TdGFydC5hZGQodGhpcy5vblNlc3Npb25TdGFydENhbGxiYWNrKTtcclxuICAgIH1cclxuICAgIG9uRGVhY3RpdmF0ZSgpIHtcclxuICAgICAgICB0aGlzLmVuZ2luZS5vblhSU2Vzc2lvblN0YXJ0LnJlbW92ZSh0aGlzLm9uU2Vzc2lvblN0YXJ0Q2FsbGJhY2spO1xyXG4gICAgfVxyXG4gICAgc2V0VGFyZ2V0RnJhbWVyYXRlKHMpIHtcclxuICAgICAgICBpZiAocy5zdXBwb3J0ZWRGcmFtZVJhdGVzICYmIHMudXBkYXRlVGFyZ2V0RnJhbWVSYXRlKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGEgPSB0aGlzLmVuZ2luZS54ci5zZXNzaW9uLnN1cHBvcnRlZEZyYW1lUmF0ZXM7XHJcbiAgICAgICAgICAgIGEuc29ydCgoYSwgYikgPT4gTWF0aC5hYnMoYSAtIHRoaXMuZnJhbWVyYXRlKSAtIE1hdGguYWJzKGIgLSB0aGlzLmZyYW1lcmF0ZSkpO1xyXG4gICAgICAgICAgICB0aGlzLmVuZ2luZS54ci5zZXNzaW9uLnVwZGF0ZVRhcmdldEZyYW1lUmF0ZShhWzBdKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IHsgVGFyZ2V0RnJhbWVyYXRlIH07XHJcbiIsICJpbXBvcnQgeyB2ZWMzLCBxdWF0MiB9IGZyb20gJ2dsLW1hdHJpeCc7XHJcbmltcG9ydCB7IENvbXBvbmVudCwgVHlwZSB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbi8qKlxyXG4gKiBUZWxlcG9ydCBWUiBsb2NvbW90aW9uLlxyXG4gKlxyXG4gKiBTZWUgW1RlbGVwb3J0IEV4YW1wbGVdKC9zaG93Y2FzZS90ZWxlcG9ydCkuXHJcbiAqL1xyXG5jbGFzcyBUZWxlcG9ydENvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAndGVsZXBvcnQnO1xyXG4gICAgc3RhdGljIFByb3BlcnRpZXMgPSB7XHJcbiAgICAgICAgLyoqIE9iamVjdCB0aGF0IHdpbGwgYmUgcGxhY2VkIGFzIGluZGljaWF0aW9uIGZvcndoZXJlIHRoZSBwbGF5ZXIgd2lsbCB0ZWxlcG9ydCB0by4gKi9cclxuICAgICAgICB0ZWxlcG9ydEluZGljYXRvck1lc2hPYmplY3Q6IHsgdHlwZTogVHlwZS5PYmplY3QgfSxcclxuICAgICAgICAvKiogUm9vdCBvZiB0aGUgcGxheWVyLCB0aGUgb2JqZWN0IHRoYXQgd2lsbCBiZSBwb3NpdGlvbmVkIG9uIHRlbGVwb3J0YXRpb24uICovXHJcbiAgICAgICAgY2FtUm9vdDogeyB0eXBlOiBUeXBlLk9iamVjdCB9LFxyXG4gICAgICAgIC8qKiBOb24tdnIgY2FtZXJhIGZvciB1c2Ugb3V0c2lkZSBvZiBWUiAqL1xyXG4gICAgICAgIGNhbTogeyB0eXBlOiBUeXBlLk9iamVjdCB9LFxyXG4gICAgICAgIC8qKiBMZWZ0IGV5ZSBmb3IgdXNlIGluIFZSKi9cclxuICAgICAgICBleWVMZWZ0OiB7IHR5cGU6IFR5cGUuT2JqZWN0IH0sXHJcbiAgICAgICAgLyoqIFJpZ2h0IGV5ZSBmb3IgdXNlIGluIFZSKi9cclxuICAgICAgICBleWVSaWdodDogeyB0eXBlOiBUeXBlLk9iamVjdCB9LFxyXG4gICAgICAgIC8qKiBIYW5kZWRuZXNzIGZvciBWUiBjdXJzb3JzIHRvIGFjY2VwdCB0cmlnZ2VyIGV2ZW50cyBvbmx5IGZyb20gcmVzcGVjdGl2ZSBjb250cm9sbGVyLiAqL1xyXG4gICAgICAgIGhhbmRlZG5lc3M6IHtcclxuICAgICAgICAgICAgdHlwZTogVHlwZS5FbnVtLFxyXG4gICAgICAgICAgICB2YWx1ZXM6IFsnaW5wdXQgY29tcG9uZW50JywgJ2xlZnQnLCAncmlnaHQnLCAnbm9uZSddLFxyXG4gICAgICAgICAgICBkZWZhdWx0OiAnaW5wdXQgY29tcG9uZW50JyxcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8qKiBDb2xsaXNpb24gZ3JvdXAgb2YgdmFsaWQgXCJmbG9vclwiIG9iamVjdHMgdGhhdCBjYW4gYmUgdGVsZXBvcnRlZCBvbiAqL1xyXG4gICAgICAgIGZsb29yR3JvdXA6IHsgdHlwZTogVHlwZS5JbnQsIGRlZmF1bHQ6IDEgfSxcclxuICAgICAgICAvKiogSG93IGZhciB0aGUgdGh1bWJzdGljayBuZWVkcyB0byBiZSBwdXNoZWQgdG8gaGF2ZSB0aGUgdGVsZXBvcnQgdGFyZ2V0IGluZGljYXRvciBzaG93IHVwICovXHJcbiAgICAgICAgdGh1bWJzdGlja0FjdGl2YXRpb25UaHJlc2hob2xkOiB7IHR5cGU6IFR5cGUuRmxvYXQsIGRlZmF1bHQ6IC0wLjcgfSxcclxuICAgICAgICAvKiogSG93IGZhciB0aGUgdGh1bWJzdGljayBuZWVkcyB0byBiZSByZWxlYXNlZCB0byBleGVjdXRlIHRoZSB0ZWxlcG9ydCAqL1xyXG4gICAgICAgIHRodW1ic3RpY2tEZWFjdGl2YXRpb25UaHJlc2hob2xkOiB7IHR5cGU6IFR5cGUuRmxvYXQsIGRlZmF1bHQ6IDAuMyB9LFxyXG4gICAgICAgIC8qKiBPZmZzZXQgdG8gYXBwbHkgdG8gdGhlIGluZGljYXRvciBvYmplY3QsIGUuZy4gdG8gYXZvaWQgaXQgZnJvbSBaLWZpZ2h0aW5nIHdpdGggdGhlIGZsb29yICovXHJcbiAgICAgICAgaW5kaWNhdG9yWU9mZnNldDogeyB0eXBlOiBUeXBlLkZsb2F0LCBkZWZhdWx0OiAwLjAxIH0sXHJcbiAgICAgICAgLyoqIE1vZGUgZm9yIHJheWNhc3RpbmcsIHdoZXRoZXIgdG8gdXNlIFBoeXNYIG9yIHNpbXBsZSBjb2xsaXNpb24gY29tcG9uZW50cyAqL1xyXG4gICAgICAgIHJheUNhc3RNb2RlOiB7XHJcbiAgICAgICAgICAgIHR5cGU6IFR5cGUuRW51bSxcclxuICAgICAgICAgICAgdmFsdWVzOiBbJ2NvbGxpc2lvbicsICdwaHlzeCddLFxyXG4gICAgICAgICAgICBkZWZhdWx0OiAnY29sbGlzaW9uJyxcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8qKiBNYXggZGlzdGFuY2UgZm9yIFBoeXNYIHJheWNhc3QgKi9cclxuICAgICAgICBtYXhEaXN0YW5jZTogeyB0eXBlOiBUeXBlLkZsb2F0LCBkZWZhdWx0OiAxMDAuMCB9LFxyXG4gICAgfTtcclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgdGhpcy5fcHJldlRodW1ic3RpY2tBeGlzID0gbmV3IEZsb2F0MzJBcnJheSgyKTtcclxuICAgICAgICB0aGlzLl90ZW1wVmVjID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuICAgICAgICB0aGlzLl90ZW1wVmVjMCA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbiAgICAgICAgdGhpcy5fY3VycmVudEluZGljYXRvclJvdGF0aW9uID0gMDtcclxuICAgICAgICB0aGlzLmlucHV0ID0gdGhpcy5vYmplY3QuZ2V0Q29tcG9uZW50KCdpbnB1dCcpO1xyXG4gICAgICAgIGlmICghdGhpcy5pbnB1dCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKHRoaXMub2JqZWN0Lm5hbWUsICdnZW5lcmljLXRlbGVwb3J0LWNvbXBvbmVudC5qczogaW5wdXQgY29tcG9uZW50IGlzIHJlcXVpcmVkIG9uIHRoZSBvYmplY3QnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRoaXMudGVsZXBvcnRJbmRpY2F0b3JNZXNoT2JqZWN0KSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IodGhpcy5vYmplY3QubmFtZSwgJ2dlbmVyaWMtdGVsZXBvcnQtY29tcG9uZW50LmpzOiBUZWxlcG9ydCBpbmRpY2F0b3IgbWVzaCBpcyBtaXNzaW5nJyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLmNhbVJvb3QpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcih0aGlzLm9iamVjdC5uYW1lLCAnZ2VuZXJpYy10ZWxlcG9ydC1jb21wb25lbnQuanM6IGNhbVJvb3Qgbm90IHNldCcpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuaXNJbmRpY2F0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5pbmRpY2F0b3JIaWRkZW4gPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuaGl0U3BvdCA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbiAgICAgICAgdGhpcy5faGFzSGl0ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5fZXh0cmFSb3RhdGlvbiA9IDA7XHJcbiAgICAgICAgdGhpcy5fY3VycmVudFN0aWNrQXhlcyA9IG5ldyBGbG9hdDMyQXJyYXkoMik7XHJcbiAgICB9XHJcbiAgICBzdGFydCgpIHtcclxuICAgICAgICBpZiAodGhpcy5jYW0pIHtcclxuICAgICAgICAgICAgdGhpcy5pc01vdXNlSW5kaWNhdGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5vbk1vdXNlRG93bi5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLm9uTW91c2VVcC5iaW5kKHRoaXMpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaGFuZGVkbmVzcyA9PSAwKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGlucHV0Q29tcCA9IHRoaXMub2JqZWN0LmdldENvbXBvbmVudCgnaW5wdXQnKTtcclxuICAgICAgICAgICAgaWYgKCFpbnB1dENvbXApIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybigndGVsZXBvcnQgY29tcG9uZW50IG9uIG9iamVjdCcsIHRoaXMub2JqZWN0Lm5hbWUsICd3YXMgY29uZmlndXJlZCB3aXRoIGhhbmRlZG5lc3MgXCJpbnB1dCBjb21wb25lbnRcIiwgJyArXHJcbiAgICAgICAgICAgICAgICAgICAgJ2J1dCBvYmplY3QgaGFzIG5vIGlucHV0IGNvbXBvbmVudC4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGVkbmVzcyA9IGlucHV0Q29tcC5oYW5kZWRuZXNzO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnB1dCA9IGlucHV0Q29tcDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5oYW5kZWRuZXNzID0gWydsZWZ0JywgJ3JpZ2h0J11bdGhpcy5oYW5kZWRuZXNzIC0gMV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMub25TZXNzaW9uU3RhcnRDYWxsYmFjayA9IHRoaXMuc2V0dXBWUkV2ZW50cy5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMudGVsZXBvcnRJbmRpY2F0b3JNZXNoT2JqZWN0LmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgb25BY3RpdmF0ZSgpIHtcclxuICAgICAgICB0aGlzLmVuZ2luZS5vblhSU2Vzc2lvblN0YXJ0LmFkZCh0aGlzLm9uU2Vzc2lvblN0YXJ0Q2FsbGJhY2spO1xyXG4gICAgfVxyXG4gICAgb25EZWFjdGl2YXRlKCkge1xyXG4gICAgICAgIHRoaXMuZW5naW5lLm9uWFJTZXNzaW9uU3RhcnQucmVtb3ZlKHRoaXMub25TZXNzaW9uU3RhcnRDYWxsYmFjayk7XHJcbiAgICB9XHJcbiAgICAvKiBHZXQgY3VycmVudCBjYW1lcmEgWSByb3RhdGlvbiAqL1xyXG4gICAgX2dldENhbVJvdGF0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuZXllTGVmdC5nZXRGb3J3YXJkKHRoaXMuX3RlbXBWZWMpO1xyXG4gICAgICAgIHRoaXMuX3RlbXBWZWNbMV0gPSAwO1xyXG4gICAgICAgIHZlYzMubm9ybWFsaXplKHRoaXMuX3RlbXBWZWMsIHRoaXMuX3RlbXBWZWMpO1xyXG4gICAgICAgIHJldHVybiBNYXRoLmF0YW4yKHRoaXMuX3RlbXBWZWNbMF0sIHRoaXMuX3RlbXBWZWNbMl0pO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIGxldCBpbnB1dExlbmd0aCA9IDA7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2FtZXBhZCAmJiB0aGlzLmdhbWVwYWQuYXhlcykge1xyXG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50U3RpY2tBeGVzWzBdID0gdGhpcy5nYW1lcGFkLmF4ZXNbMl07XHJcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRTdGlja0F4ZXNbMV0gPSB0aGlzLmdhbWVwYWQuYXhlc1szXTtcclxuICAgICAgICAgICAgaW5wdXRMZW5ndGggPVxyXG4gICAgICAgICAgICAgICAgTWF0aC5hYnModGhpcy5fY3VycmVudFN0aWNrQXhlc1swXSkgKyBNYXRoLmFicyh0aGlzLl9jdXJyZW50U3RpY2tBeGVzWzFdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzSW5kaWNhdGluZyAmJlxyXG4gICAgICAgICAgICB0aGlzLl9wcmV2VGh1bWJzdGlja0F4aXNbMV0gPj0gdGhpcy50aHVtYnN0aWNrQWN0aXZhdGlvblRocmVzaGhvbGQgJiZcclxuICAgICAgICAgICAgdGhpcy5fY3VycmVudFN0aWNrQXhlc1sxXSA8IHRoaXMudGh1bWJzdGlja0FjdGl2YXRpb25UaHJlc2hob2xkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNJbmRpY2F0aW5nID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5pc0luZGljYXRpbmcgJiZcclxuICAgICAgICAgICAgaW5wdXRMZW5ndGggPCB0aGlzLnRodW1ic3RpY2tEZWFjdGl2YXRpb25UaHJlc2hob2xkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNJbmRpY2F0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMudGVsZXBvcnRJbmRpY2F0b3JNZXNoT2JqZWN0LmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5faGFzSGl0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl90ZWxlcG9ydFBsYXllcih0aGlzLmhpdFNwb3QsIHRoaXMuX2V4dHJhUm90YXRpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmlzSW5kaWNhdGluZyAmJiB0aGlzLnRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdCAmJiB0aGlzLmlucHV0KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbiA9IHRoaXMuX3RlbXBWZWMwO1xyXG4gICAgICAgICAgICB0aGlzLm9iamVjdC5nZXRQb3NpdGlvbldvcmxkKG9yaWdpbik7XHJcbiAgICAgICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IHRoaXMub2JqZWN0LmdldEZvcndhcmRXb3JsZCh0aGlzLl90ZW1wVmVjKTtcclxuICAgICAgICAgICAgbGV0IHJheUhpdCA9ICh0aGlzLnJheUhpdCA9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJheUNhc3RNb2RlID09IDBcclxuICAgICAgICAgICAgICAgICAgICA/IHRoaXMuZW5naW5lLnNjZW5lLnJheUNhc3Qob3JpZ2luLCBkaXJlY3Rpb24sIDEgPDwgdGhpcy5mbG9vckdyb3VwKVxyXG4gICAgICAgICAgICAgICAgICAgIDogdGhpcy5lbmdpbmUucGh5c2ljcy5yYXlDYXN0KG9yaWdpbiwgZGlyZWN0aW9uLCAxIDw8IHRoaXMuZmxvb3JHcm91cCwgdGhpcy5tYXhEaXN0YW5jZSkpO1xyXG4gICAgICAgICAgICBpZiAocmF5SGl0LmhpdENvdW50ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbmRpY2F0b3JIaWRkZW4gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2V4dHJhUm90YXRpb24gPVxyXG4gICAgICAgICAgICAgICAgICAgIE1hdGguUEkgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXRoLmF0YW4yKHRoaXMuX2N1cnJlbnRTdGlja0F4ZXNbMF0sIHRoaXMuX2N1cnJlbnRTdGlja0F4ZXNbMV0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudEluZGljYXRvclJvdGF0aW9uID1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9nZXRDYW1Sb3RhdGlvbigpICsgKHRoaXMuX2V4dHJhUm90YXRpb24gLSBNYXRoLlBJKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudGVsZXBvcnRJbmRpY2F0b3JNZXNoT2JqZWN0LnJlc2V0UG9zaXRpb25Sb3RhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50ZWxlcG9ydEluZGljYXRvck1lc2hPYmplY3Qucm90YXRlQXhpc0FuZ2xlUmFkKFswLCAxLCAwXSwgdGhpcy5fY3VycmVudEluZGljYXRvclJvdGF0aW9uKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudGVsZXBvcnRJbmRpY2F0b3JNZXNoT2JqZWN0LnRyYW5zbGF0ZShyYXlIaXQubG9jYXRpb25zWzBdKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudGVsZXBvcnRJbmRpY2F0b3JNZXNoT2JqZWN0LnRyYW5zbGF0ZShbXHJcbiAgICAgICAgICAgICAgICAgICAgMC4wLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5kaWNhdG9yWU9mZnNldCxcclxuICAgICAgICAgICAgICAgICAgICAwLjAsXHJcbiAgICAgICAgICAgICAgICBdKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudGVsZXBvcnRJbmRpY2F0b3JNZXNoT2JqZWN0LmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhpdFNwb3Quc2V0KHJheUhpdC5sb2NhdGlvbnNbMF0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faGFzSGl0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5pbmRpY2F0b3JIaWRkZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdC5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmluZGljYXRvckhpZGRlbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9oYXNIaXQgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLnRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdCAmJiB0aGlzLmlzTW91c2VJbmRpY2F0aW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMub25Nb3VzZVByZXNzZWQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fcHJldlRodW1ic3RpY2tBeGlzLnNldCh0aGlzLl9jdXJyZW50U3RpY2tBeGVzKTtcclxuICAgIH1cclxuICAgIHNldHVwVlJFdmVudHMocykge1xyXG4gICAgICAgIC8qIElmIGluIFZSLCBvbmUtdGltZSBiaW5kIHRoZSBsaXN0ZW5lciAqL1xyXG4gICAgICAgIHRoaXMuc2Vzc2lvbiA9IHM7XHJcbiAgICAgICAgcy5hZGRFdmVudExpc3RlbmVyKCdlbmQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8qIFJlc2V0IGNhY2hlIG9uY2UgdGhlIHNlc3Npb24gZW5kcyB0byByZWJpbmQgc2VsZWN0IGV0YywgaW4gY2FzZVxyXG4gICAgICAgICAgICAgKiBpdCBzdGFydHMgYWdhaW4gKi9cclxuICAgICAgICAgICAgdGhpcy5nYW1lcGFkID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5zZXNzaW9uID0gbnVsbDtcclxuICAgICAgICB9LmJpbmQodGhpcykpO1xyXG4gICAgICAgIGlmIChzLmlucHV0U291cmNlcyAmJiBzLmlucHV0U291cmNlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzLmlucHV0U291cmNlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgbGV0IGlucHV0U291cmNlID0gcy5pbnB1dFNvdXJjZXNbaV07XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXRTb3VyY2UuaGFuZGVkbmVzcyA9PSB0aGlzLmhhbmRlZG5lc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdhbWVwYWQgPSBpbnB1dFNvdXJjZS5nYW1lcGFkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHMuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXRzb3VyY2VzY2hhbmdlJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgaWYgKGUuYWRkZWQgJiYgZS5hZGRlZC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZS5hZGRlZC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBpbnB1dFNvdXJjZSA9IGUuYWRkZWRbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0U291cmNlLmhhbmRlZG5lc3MgPT0gdGhpcy5oYW5kZWRuZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZXBhZCA9IGlucHV0U291cmNlLmdhbWVwYWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcclxuICAgIH1cclxuICAgIG9uTW91c2VEb3duKCkge1xyXG4gICAgICAgIHRoaXMuaXNNb3VzZUluZGljYXRpbmcgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgb25Nb3VzZVVwKCkge1xyXG4gICAgICAgIHRoaXMuaXNNb3VzZUluZGljYXRpbmcgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdC5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICBpZiAodGhpcy5faGFzSGl0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3RlbGVwb3J0UGxheWVyKHRoaXMuaGl0U3BvdCwgMC4wKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBvbk1vdXNlUHJlc3NlZCgpIHtcclxuICAgICAgICBsZXQgb3JpZ2luID0gWzAsIDAsIDBdO1xyXG4gICAgICAgIHRoaXMuY2FtLmdldFBvc2l0aW9uV29ybGQob3JpZ2luKTtcclxuICAgICAgICBjb25zdCBkaXJlY3Rpb24gPSB0aGlzLmNhbS5nZXRGb3J3YXJkKHRoaXMuX3RlbXBWZWMpO1xyXG4gICAgICAgIGxldCByYXlIaXQgPSAodGhpcy5yYXlIaXQgPVxyXG4gICAgICAgICAgICB0aGlzLnJheUNhc3RNb2RlID09IDBcclxuICAgICAgICAgICAgICAgID8gdGhpcy5lbmdpbmUuc2NlbmUucmF5Q2FzdChvcmlnaW4sIGRpcmVjdGlvbiwgMSA8PCB0aGlzLmZsb29yR3JvdXApXHJcbiAgICAgICAgICAgICAgICA6IHRoaXMuZW5naW5lLnBoeXNpY3MucmF5Q2FzdChvcmlnaW4sIGRpcmVjdGlvbiwgMSA8PCB0aGlzLmZsb29yR3JvdXAsIHRoaXMubWF4RGlzdGFuY2UpKTtcclxuICAgICAgICBpZiAocmF5SGl0LmhpdENvdW50ID4gMCkge1xyXG4gICAgICAgICAgICB0aGlzLmluZGljYXRvckhpZGRlbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICBkaXJlY3Rpb25bMV0gPSAwO1xyXG4gICAgICAgICAgICB2ZWMzLm5vcm1hbGl6ZShkaXJlY3Rpb24sIGRpcmVjdGlvbik7XHJcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRJbmRpY2F0b3JSb3RhdGlvbiA9XHJcbiAgICAgICAgICAgICAgICAtTWF0aC5zaWduKGRpcmVjdGlvblsyXSkgKiBNYXRoLmFjb3MoZGlyZWN0aW9uWzBdKSAtIE1hdGguUEkgKiAwLjU7XHJcbiAgICAgICAgICAgIHRoaXMudGVsZXBvcnRJbmRpY2F0b3JNZXNoT2JqZWN0LnJlc2V0UG9zaXRpb25Sb3RhdGlvbigpO1xyXG4gICAgICAgICAgICB0aGlzLnRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdC5yb3RhdGVBeGlzQW5nbGVSYWQoWzAsIDEsIDBdLCB0aGlzLl9jdXJyZW50SW5kaWNhdG9yUm90YXRpb24pO1xyXG4gICAgICAgICAgICB0aGlzLnRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdC50cmFuc2xhdGUocmF5SGl0LmxvY2F0aW9uc1swXSk7XHJcbiAgICAgICAgICAgIHRoaXMudGVsZXBvcnRJbmRpY2F0b3JNZXNoT2JqZWN0LmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuaGl0U3BvdCA9IHJheUhpdC5sb2NhdGlvbnNbMF07XHJcbiAgICAgICAgICAgIHRoaXMuX2hhc0hpdCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuaW5kaWNhdG9ySGlkZGVuKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdC5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5kaWNhdG9ySGlkZGVuID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl9oYXNIaXQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfdGVsZXBvcnRQbGF5ZXIobmV3UG9zaXRpb24sIHJvdGF0aW9uVG9BZGQpIHtcclxuICAgICAgICB0aGlzLmNhbVJvb3Qucm90YXRlQXhpc0FuZ2xlUmFkKFswLCAxLCAwXSwgcm90YXRpb25Ub0FkZCk7XHJcbiAgICAgICAgY29uc3QgcCA9IHRoaXMuX3RlbXBWZWM7XHJcbiAgICAgICAgY29uc3QgcDEgPSB0aGlzLl90ZW1wVmVjMDtcclxuICAgICAgICBpZiAodGhpcy5zZXNzaW9uKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZXllTGVmdC5nZXRQb3NpdGlvbldvcmxkKHApO1xyXG4gICAgICAgICAgICB0aGlzLmV5ZVJpZ2h0LmdldFBvc2l0aW9uV29ybGQocDEpO1xyXG4gICAgICAgICAgICB2ZWMzLmFkZChwLCBwLCBwMSk7XHJcbiAgICAgICAgICAgIHZlYzMuc2NhbGUocCwgcCwgMC41KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2FtLmdldFBvc2l0aW9uV29ybGQocCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY2FtUm9vdC5nZXRQb3NpdGlvbldvcmxkKHAxKTtcclxuICAgICAgICB2ZWMzLnN1YihwLCBwMSwgcCk7XHJcbiAgICAgICAgcFswXSArPSBuZXdQb3NpdGlvblswXTtcclxuICAgICAgICBwWzFdID0gbmV3UG9zaXRpb25bMV07XHJcbiAgICAgICAgcFsyXSArPSBuZXdQb3NpdGlvblsyXTtcclxuICAgICAgICB0aGlzLmNhbVJvb3Quc2V0UG9zaXRpb25Xb3JsZChwKTtcclxuICAgIH1cclxufVxyXG5leHBvcnQgeyBUZWxlcG9ydENvbXBvbmVudCB9O1xyXG4iLCAiaW1wb3J0IHsgQ29tcG9uZW50LCBUeXBlLCBNZXNoLCBNZXNoSW5kZXhUeXBlLCBNZXNoQXR0cmlidXRlIH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuaW1wb3J0IHsgdmVjMyB9IGZyb20gJ2dsLW1hdHJpeCc7XHJcbmNvbnN0IGRpcmVjdGlvbiA9IHZlYzMuY3JlYXRlKCk7XHJcbmNvbnN0IG9mZnNldCA9IHZlYzMuY3JlYXRlKCk7XHJcbmNvbnN0IG5vcm1hbCA9IHZlYzMuY3JlYXRlKCk7XHJcbi8qKlxyXG4gKiBEeW5hbWljIG1lc2gtYmFzZWQgdHJhaWxcclxuICpcclxuICogVGhpcyBjb21wb25lbnQga2VlcHMgdHJhY2sgb2YgdGhlIHdvcmxkIHBvc2l0aW9uIG9mIHRoZSBvYmplY3QgaXQncyBhZGRlZCB0by5cclxuICogQXQgYSBmaXhlZCBpbnRlcnZhbCB0aGUgd29ybGQgcG9zaXRpb24gaXMgc3RvcmVkIGFzIHN0YXJ0IGFuZCBlbmQgcG9pbnRzIG9mIHRoZSB0cmFpbCBzZWdtZW50cy5cclxuICpcclxuICogVGhlIHRyYWlsIHRhcGVycyBvZmYgYWxvbmcgaXRzIGxlbmd0aC4gVVYgdGV4dHVyZSBjb29yZGluYXRlcyBhcmUgc2V0dXAgc3VjaCB0aGF0IHRoZVxyXG4gKiBVLWF4aXMgY292ZXJzIHRoZSB3aWR0aCBvZiB0aGUgdHJhaWwgYW5kIHRoZSBWLWF4aXMgY292ZXJzIHRoZSBsZW5ndGggb2YgdGhlIHRyYWlsLlxyXG4gKiBUaGlzIGFsbG93cyB0aGUgdHJhaWwncyBhcHBlYXJhbmNlIHRvIGJlIGRlZmluZWQgdXNpbmcgYSB0ZXh0dXJlLlxyXG4gKi9cclxuY2xhc3MgVHJhaWwgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ3RyYWlsJztcclxuICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge1xyXG4gICAgICAgIC8qKiBUaGUgbWF0ZXJpYWwgdG8gYXBwbHkgdG8gdGhlIHRyYWlsIG1lc2ggKi9cclxuICAgICAgICBtYXRlcmlhbDogeyB0eXBlOiBUeXBlLk1hdGVyaWFsIH0sXHJcbiAgICAgICAgLyoqIFRoZSBudW1iZXIgb2Ygc2VnbWVudHMgaW4gdGhlIHRyYWlsIG1lc2ggKi9cclxuICAgICAgICBzZWdtZW50czogeyB0eXBlOiBUeXBlLkludCwgZGVmYXVsdDogNTAgfSxcclxuICAgICAgICAvKiogVGhlIHRpbWUgaW50ZXJ2YWwgYmVmb3JlIHJlY29yZGluZyBhIG5ldyBwb2ludCAqL1xyXG4gICAgICAgIGludGVydmFsOiB7IHR5cGU6IFR5cGUuRmxvYXQsIGRlZmF1bHQ6IDAuMSB9LFxyXG4gICAgICAgIC8qKiBUaGUgd2lkdGggb2YgdGhlIHRyYWlsIChpbiB3b3JsZCBzcGFjZSkgKi9cclxuICAgICAgICB3aWR0aDogeyB0eXBlOiBUeXBlLkZsb2F0LCBkZWZhdWx0OiAxLjAgfSxcclxuICAgICAgICAvKiogV2hldGhlciBvciBub3QgdGhlIHRyYWlsIHNob3VsZCB0YXBlciBvZmYgKi9cclxuICAgICAgICB0YXBlcjogeyB0eXBlOiBUeXBlLkJvb2wsIGRlZmF1bHQ6IHRydWUgfSxcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBUaGUgbWF4aW11bSBkZWx0YSB0aW1lIGluIHNlY29uZHMsIGFib3ZlIHdoaWNoIHRoZSB0cmFpbCByZXNldHMuXHJcbiAgICAgICAgICogVGhpcyBwcmV2ZW50cyB0aGUgdHJhaWwgZnJvbSBqdW1waW5nIGFyb3VuZCB3aGVuIHVwZGF0ZXMgaGFwcGVuXHJcbiAgICAgICAgICogaW5mcmVxdWVudGx5IChlLmcuIHdoZW4gdGhlIHRhYiBkb2Vzbid0IGhhdmUgZm9jdXMpLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHJlc2V0VGhyZXNob2xkOiB7IHR5cGU6IFR5cGUuRmxvYXQsIGRlZmF1bHQ6IDAuNSB9LFxyXG4gICAgfTtcclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgdGhpcy5wb2ludHMgPSBuZXcgQXJyYXkodGhpcy5zZWdtZW50cyArIDEpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wb2ludHMubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgdGhpcy5wb2ludHNbaV0gPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKiBUaGUgcG9pbnRzIGFycmF5IGlzIGNpcmN1bGFyLCBzbyBrZWVwIHRyYWNrIG9mIGl0cyBoZWFkICovXHJcbiAgICAgICAgdGhpcy5jdXJyZW50UG9pbnRPZmZzZXQgPSAwO1xyXG4gICAgICAgIHRoaXMudXAgPSBbMCwgMSwgMF07XHJcbiAgICAgICAgdGhpcy50aW1lVGlsbE5leHQgPSB0aGlzLmludGVydmFsO1xyXG4gICAgfVxyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgdGhpcy50cmFpbENvbnRhaW5lciA9IHRoaXMuZW5naW5lLnNjZW5lLmFkZE9iamVjdCgpO1xyXG4gICAgICAgIHRoaXMubWVzaENvbXAgPSB0aGlzLnRyYWlsQ29udGFpbmVyLmFkZENvbXBvbmVudCgnbWVzaCcpO1xyXG4gICAgICAgIHRoaXMubWVzaENvbXAubWF0ZXJpYWwgPSB0aGlzLm1hdGVyaWFsO1xyXG4gICAgICAgIC8qIEVhY2ggcG9pbnQgd2lsbCBoYXZlIHR3byB2ZXJ0aWNlczsgb25lIG9uIGVpdGhlciBzaWRlICovXHJcbiAgICAgICAgY29uc3QgdmVydGV4Q291bnQgPSAyICogdGhpcy5wb2ludHMubGVuZ3RoO1xyXG4gICAgICAgIC8qIEVhY2ggc2VnbWVudCBjb25zaXN0cyBvZiB0d28gdHJpYW5nbGVzICovXHJcbiAgICAgICAgdGhpcy5pbmRleERhdGEgPSBuZXcgVWludDMyQXJyYXkoNiAqIHRoaXMuc2VnbWVudHMpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCB2ID0gMDsgaSA8IHZlcnRleENvdW50IC0gMjsgaSArPSAyLCB2ICs9IDYpIHtcclxuICAgICAgICAgICAgdGhpcy5pbmRleERhdGFcclxuICAgICAgICAgICAgICAgIC5zdWJhcnJheSh2LCB2ICsgNilcclxuICAgICAgICAgICAgICAgIC5zZXQoW2kgKyAxLCBpICsgMCwgaSArIDIsIGkgKyAyLCBpICsgMywgaSArIDFdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5tZXNoID0gbmV3IE1lc2godGhpcy5lbmdpbmUsIHtcclxuICAgICAgICAgICAgdmVydGV4Q291bnQ6IHZlcnRleENvdW50LFxyXG4gICAgICAgICAgICBpbmRleERhdGE6IHRoaXMuaW5kZXhEYXRhLFxyXG4gICAgICAgICAgICBpbmRleFR5cGU6IE1lc2hJbmRleFR5cGUuVW5zaWduZWRJbnQsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5tZXNoQ29tcC5tZXNoID0gdGhpcy5tZXNoO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlVmVydGljZXMoKSB7XHJcbiAgICAgICAgY29uc3QgcG9zaXRpb25zID0gdGhpcy5tZXNoLmF0dHJpYnV0ZShNZXNoQXR0cmlidXRlLlBvc2l0aW9uKTtcclxuICAgICAgICBjb25zdCB0ZXhDb29yZHMgPSB0aGlzLm1lc2guYXR0cmlidXRlKE1lc2hBdHRyaWJ1dGUuVGV4dHVyZUNvb3JkaW5hdGUpO1xyXG4gICAgICAgIGNvbnN0IG5vcm1hbHMgPSB0aGlzLm1lc2guYXR0cmlidXRlKE1lc2hBdHRyaWJ1dGUuTm9ybWFsKTtcclxuICAgICAgICB2ZWMzLnNldChkaXJlY3Rpb24sIDAsIDAsIDApO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wb2ludHMubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgY29uc3QgY3VyciA9IHRoaXMucG9pbnRzWyh0aGlzLmN1cnJlbnRQb2ludEluZGV4ICsgaSArIDEpICUgdGhpcy5wb2ludHMubGVuZ3RoXTtcclxuICAgICAgICAgICAgY29uc3QgbmV4dCA9IHRoaXMucG9pbnRzWyh0aGlzLmN1cnJlbnRQb2ludEluZGV4ICsgaSArIDIpICUgdGhpcy5wb2ludHMubGVuZ3RoXTtcclxuICAgICAgICAgICAgLyogVGhlIGxhc3QgcG9pbnQgaGFzIG5vIG5leHQsIHNvIHJlLXVzZSB0aGUgZGlyZWN0aW9uIG9mIHRoZSBwcmV2aW91cyBzZWdtZW50ICovXHJcbiAgICAgICAgICAgIGlmIChpICE9PSB0aGlzLnBvaW50cy5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgICAgICB2ZWMzLnN1YihkaXJlY3Rpb24sIG5leHQsIGN1cnIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZlYzMuY3Jvc3Mob2Zmc2V0LCB0aGlzLnVwLCBkaXJlY3Rpb24pO1xyXG4gICAgICAgICAgICB2ZWMzLm5vcm1hbGl6ZShvZmZzZXQsIG9mZnNldCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHRpbWVGcmFjdGlvbiA9IDEuMCAtIHRoaXMudGltZVRpbGxOZXh0IC8gdGhpcy5pbnRlcnZhbDtcclxuICAgICAgICAgICAgY29uc3QgZnJhY3Rpb24gPSAoaSAtIHRpbWVGcmFjdGlvbikgLyB0aGlzLnNlZ21lbnRzO1xyXG4gICAgICAgICAgICB2ZWMzLnNjYWxlKG9mZnNldCwgb2Zmc2V0LCAoKHRoaXMudGFwZXIgPyBmcmFjdGlvbiA6IDEuMCkgKiB0aGlzLndpZHRoKSAvIDIuMCk7XHJcbiAgICAgICAgICAgIHBvc2l0aW9ucy5zZXQoaSAqIDIsIFtcclxuICAgICAgICAgICAgICAgIGN1cnJbMF0gLSBvZmZzZXRbMF0sXHJcbiAgICAgICAgICAgICAgICBjdXJyWzFdIC0gb2Zmc2V0WzFdLFxyXG4gICAgICAgICAgICAgICAgY3VyclsyXSAtIG9mZnNldFsyXSxcclxuICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgIHBvc2l0aW9ucy5zZXQoaSAqIDIgKyAxLCBbXHJcbiAgICAgICAgICAgICAgICBjdXJyWzBdICsgb2Zmc2V0WzBdLFxyXG4gICAgICAgICAgICAgICAgY3VyclsxXSArIG9mZnNldFsxXSxcclxuICAgICAgICAgICAgICAgIGN1cnJbMl0gKyBvZmZzZXRbMl0sXHJcbiAgICAgICAgICAgIF0pO1xyXG4gICAgICAgICAgICBpZiAobm9ybWFscykge1xyXG4gICAgICAgICAgICAgICAgdmVjMy5jcm9zcyhub3JtYWwsIGRpcmVjdGlvbiwgb2Zmc2V0KTtcclxuICAgICAgICAgICAgICAgIHZlYzMubm9ybWFsaXplKG5vcm1hbCwgbm9ybWFsKTtcclxuICAgICAgICAgICAgICAgIG5vcm1hbHMuc2V0KGkgKiAyLCBub3JtYWwpO1xyXG4gICAgICAgICAgICAgICAgbm9ybWFscy5zZXQoaSAqIDIgKyAxLCBub3JtYWwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0ZXhDb29yZHMpIHtcclxuICAgICAgICAgICAgICAgIHRleENvb3Jkcy5zZXQoaSAqIDIsIFswLCBmcmFjdGlvbl0pO1xyXG4gICAgICAgICAgICAgICAgdGV4Q29vcmRzLnNldChpICogMiArIDEsIFsxLCBmcmFjdGlvbl0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qIE5vdGlmeSBXTEUgdGhhdCB0aGUgbWVzaCBoYXMgY2hhbmdlZCAqL1xyXG4gICAgICAgIHRoaXMubWVzaC51cGRhdGUoKTtcclxuICAgIH1cclxuICAgIHJlc2V0VHJhaWwoKSB7XHJcbiAgICAgICAgdGhpcy5vYmplY3QuZ2V0VHJhbnNsYXRpb25Xb3JsZCh0aGlzLnBvaW50c1swXSk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCB0aGlzLnBvaW50cy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICB2ZWMzLmNvcHkodGhpcy5wb2ludHNbaV0sIHRoaXMucG9pbnRzWzBdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jdXJyZW50UG9pbnRJbmRleCA9IDA7XHJcbiAgICAgICAgdGhpcy50aW1lVGlsbE5leHQgPSB0aGlzLmludGVydmFsO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlKGR0KSB7XHJcbiAgICAgICAgdGhpcy50aW1lVGlsbE5leHQgLT0gZHQ7XHJcbiAgICAgICAgaWYgKGR0ID4gdGhpcy5yZXNldFRocmVzaG9sZCkge1xyXG4gICAgICAgICAgICB0aGlzLnJlc2V0VHJhaWwoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMudGltZVRpbGxOZXh0IDwgMCkge1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQb2ludEluZGV4ID0gKHRoaXMuY3VycmVudFBvaW50SW5kZXggKyAxKSAlIHRoaXMucG9pbnRzLmxlbmd0aDtcclxuICAgICAgICAgICAgdGhpcy50aW1lVGlsbE5leHQgPSAodGhpcy50aW1lVGlsbE5leHQgJSB0aGlzLmludGVydmFsKSArIHRoaXMuaW50ZXJ2YWw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMub2JqZWN0LmdldFRyYW5zbGF0aW9uV29ybGQodGhpcy5wb2ludHNbdGhpcy5jdXJyZW50UG9pbnRJbmRleF0pO1xyXG4gICAgICAgIHRoaXMudXBkYXRlVmVydGljZXMoKTtcclxuICAgIH1cclxuICAgIG9uQWN0aXZhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5yZXNldFRyYWlsKCk7XHJcbiAgICB9XHJcbiAgICBvbkRlc3Ryb3koKSB7XHJcbiAgICAgICAgdGhpcy50cmFpbENvbnRhaW5lci5kZXN0cm95KCk7XHJcbiAgICAgICAgdGhpcy5tZXNoLmRlc3Ryb3koKTtcclxuICAgIH1cclxufVxyXG5leHBvcnQgeyBUcmFpbCB9O1xyXG4iLCAiaW1wb3J0IHsgQ29tcG9uZW50LCBQcm9wZXJ0eSB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbmltcG9ydCB7IHZlYzMgfSBmcm9tICdnbC1tYXRyaXgnO1xyXG5mdW5jdGlvbiBjbGFtcCh2LCBhLCBiKSB7XHJcbiAgICByZXR1cm4gTWF0aC5tYXgoYSwgTWF0aC5taW4odiwgYikpO1xyXG59XHJcbmNvbnN0IHJvb3RTY2FsaW5nID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuY29uc3QgdGVtcFF1YXQgPSBuZXcgRmxvYXQzMkFycmF5KDQpO1xyXG5jb25zdCBtaWRkbGVQb3MgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG5jb25zdCBlbmRQb3MgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG5jb25zdCB0YXJnZXRQb3MgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG5jb25zdCBoZWxwZXJQb3MgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG5jb25zdCByb290VHJhbnNmb3JtID0gbmV3IEZsb2F0MzJBcnJheSg4KTtcclxuY29uc3QgbWlkZGxlVHJhbnNmb3JtID0gbmV3IEZsb2F0MzJBcnJheSg4KTtcclxuY29uc3QgZW5kVHJhbnNmb3JtID0gbmV3IEZsb2F0MzJBcnJheSg4KTtcclxuLyoqXHJcbiAqIFNvbHZlIGludmVyc2Uga2luZW1hdGljcyBmb3IgYSB0d28gam9pbnQgY2hhaW5zXHJcbiAqXHJcbiAqIEluc3BpcmVkIGJ5IGh0dHA6Ly90aGVvcmFuZ2VkdWNrLmNvbS9wYWdlL3NpbXBsZS10d28tam9pbnRcclxuICovXHJcbmNvbnN0IHR3b0pvaW50SUsgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgY29uc3QgdGEgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG4gICAgY29uc3QgY2EgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG4gICAgY29uc3QgYmEgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG4gICAgY29uc3QgYWIgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG4gICAgY29uc3QgY2IgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG4gICAgY29uc3QgYXhpczAgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG4gICAgY29uc3QgYXhpczEgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG4gICAgY29uc3QgdGVtcCA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHJvb3QsIG1pZGRsZSwgYiwgYywgdGFyZ2V0UG9zLCBlcHMsIGhlbHBlcikge1xyXG4gICAgICAgIC8qIGEgPSBbMCwgMCwgMF0sIHNpbmNlIGV2ZXJ5dGhpbmcgaXMgY29tcHV0ZWQgaW4gcm9vdC1zcGFjZSAqL1xyXG4gICAgICAgIGJhLnNldChiKTtcclxuICAgICAgICBjb25zdCBsYWIgPSB2ZWMzLmxlbmd0aChiYSk7XHJcbiAgICAgICAgdmVjMy5zdWIodGEsIGIsIGMpO1xyXG4gICAgICAgIGNvbnN0IGxjYiA9IHZlYzMubGVuZ3RoKHRhKTtcclxuICAgICAgICB0YS5zZXQodGFyZ2V0UG9zKTtcclxuICAgICAgICBjb25zdCBsYXQgPSBjbGFtcCh2ZWMzLmxlbmd0aCh0YSksIGVwcywgbGFiICsgbGNiIC0gZXBzKTtcclxuICAgICAgICBjYS5zZXQoYyk7XHJcbiAgICAgICAgdmVjMy5zY2FsZShhYiwgYiwgLTEpO1xyXG4gICAgICAgIHZlYzMuc3ViKGNiLCBjLCBiKTtcclxuICAgICAgICB2ZWMzLm5vcm1hbGl6ZShjYSwgY2EpO1xyXG4gICAgICAgIHZlYzMubm9ybWFsaXplKGJhLCBiYSk7XHJcbiAgICAgICAgdmVjMy5ub3JtYWxpemUoYWIsIGFiKTtcclxuICAgICAgICB2ZWMzLm5vcm1hbGl6ZShjYiwgY2IpO1xyXG4gICAgICAgIHZlYzMubm9ybWFsaXplKHRhLCB0YSk7XHJcbiAgICAgICAgLyogU3VwcG9zZWRseSBudW1lcmljYWwgZXJyb3JzIGNhbiBjYXVzZSB0aGUgZG90IHRvIGdvIG91dCBvZiAtMSwgMSByYW5nZSAqL1xyXG4gICAgICAgIGNvbnN0IGFjX2FiXzAgPSBNYXRoLmFjb3MoY2xhbXAodmVjMy5kb3QoY2EsIGJhKSwgLTEsIDEpKTtcclxuICAgICAgICBjb25zdCBiYV9iY18wID0gTWF0aC5hY29zKGNsYW1wKHZlYzMuZG90KGFiLCBjYiksIC0xLCAxKSk7XHJcbiAgICAgICAgY29uc3QgYWNfYXRfMCA9IE1hdGguYWNvcyhjbGFtcCh2ZWMzLmRvdChjYSwgdGEpLCAtMSwgMSkpO1xyXG4gICAgICAgIGNvbnN0IGFjX2FiXzEgPSBNYXRoLmFjb3MoY2xhbXAoKGxjYiAqIGxjYiAtIGxhYiAqIGxhYiAtIGxhdCAqIGxhdCkgLyAoLTIgKiBsYWIgKiBsYXQpLCAtMSwgMSkpO1xyXG4gICAgICAgIGNvbnN0IGJhX2JjXzEgPSBNYXRoLmFjb3MoY2xhbXAoKGxhdCAqIGxhdCAtIGxhYiAqIGxhYiAtIGxjYiAqIGxjYikgLyAoLTIgKiBsYWIgKiBsY2IpLCAtMSwgMSkpO1xyXG4gICAgICAgIGlmIChoZWxwZXIpIHtcclxuICAgICAgICAgICAgdmVjMy5zdWIoYmEsIGhlbHBlciwgYik7XHJcbiAgICAgICAgICAgIHZlYzMubm9ybWFsaXplKGJhLCBiYSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZlYzMuY3Jvc3MoYXhpczAsIGNhLCBiYSk7XHJcbiAgICAgICAgdmVjMy5ub3JtYWxpemUoYXhpczAsIGF4aXMwKTtcclxuICAgICAgICB2ZWMzLmNyb3NzKGF4aXMxLCBjLCB0YXJnZXRQb3MpO1xyXG4gICAgICAgIHZlYzMubm9ybWFsaXplKGF4aXMxLCBheGlzMSk7XHJcbiAgICAgICAgbWlkZGxlLnRyYW5zZm9ybVZlY3RvckludmVyc2VMb2NhbCh0ZW1wLCBheGlzMCk7XHJcbiAgICAgICAgcm9vdC5yb3RhdGVBeGlzQW5nbGVSYWRPYmplY3QoYXhpczEsIGFjX2F0XzApO1xyXG4gICAgICAgIHJvb3Qucm90YXRlQXhpc0FuZ2xlUmFkT2JqZWN0KGF4aXMwLCBhY19hYl8xIC0gYWNfYWJfMCk7XHJcbiAgICAgICAgbWlkZGxlLnJvdGF0ZUF4aXNBbmdsZVJhZE9iamVjdChheGlzMCwgYmFfYmNfMSAtIGJhX2JjXzApO1xyXG4gICAgfTtcclxufSkoKTtcclxuLyoqXHJcbiAqIEludmVyc2Uga2luZW1hdGljcyBmb3IgdHdvLWpvaW50IGNoYWlucyAoZS5nLiBrbmVlcyBvciBlbGJvd3MpXHJcbiAqL1xyXG5jbGFzcyBUd29Kb2ludElrU29sdmVyIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICd0d28tam9pbnQtaWstc29sdmVyJztcclxuICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge1xyXG4gICAgICAgIC8qKiBSb290IGJvbmUsIG5ldmVyIG1vdmVzICovXHJcbiAgICAgICAgcm9vdDogUHJvcGVydHkub2JqZWN0KCksXHJcbiAgICAgICAgLyoqIEJvbmUgYXR0YWNoZWQgdG8gdGhlIHJvb3QgKi9cclxuICAgICAgICBtaWRkbGU6IFByb3BlcnR5Lm9iamVjdCgpLFxyXG4gICAgICAgIC8qKiBCb25lIGF0dGFjaGVkIHRvIHRoZSBtaWRkbGUgKi9cclxuICAgICAgICBlbmQ6IFByb3BlcnR5Lm9iamVjdCgpLFxyXG4gICAgICAgIC8qKiBUYXJnZXQgdGhlIGpvaW5zIHNob3VsZCByZWFjaCBmb3IgKi9cclxuICAgICAgICB0YXJnZXQ6IFByb3BlcnR5Lm9iamVjdCgpLFxyXG4gICAgICAgIC8qKiBGbGFnIGZvciBjb3B5aW5nIHJvdGF0aW9uIGZyb20gdGFyZ2V0IHRvIGVuZCAqL1xyXG4gICAgICAgIGNvcHlUYXJnZXRSb3RhdGlvbjogUHJvcGVydHkuYm9vbCh0cnVlKSxcclxuICAgICAgICAvKiogSGVscGVyIG9iamVjdCB0byB1c2UgdG8gZGV0ZXJtaW5lIGpvaW50IHJvdGF0aW9uIGF4aXMgKi9cclxuICAgICAgICBoZWxwZXI6IFByb3BlcnR5Lm9iamVjdCgpLFxyXG4gICAgfTtcclxuICAgIHRpbWUgPSAwO1xyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgdGhpcy5yb290LmdldFRyYW5zZm9ybUxvY2FsKHJvb3RUcmFuc2Zvcm0pO1xyXG4gICAgICAgIHRoaXMubWlkZGxlLmdldFRyYW5zZm9ybUxvY2FsKG1pZGRsZVRyYW5zZm9ybSk7XHJcbiAgICAgICAgdGhpcy5lbmQuZ2V0VHJhbnNmb3JtTG9jYWwoZW5kVHJhbnNmb3JtKTtcclxuICAgIH1cclxuICAgIHVwZGF0ZShkdCkge1xyXG4gICAgICAgIHRoaXMudGltZSArPSBkdDtcclxuICAgICAgICAvKiBSZXNldCB0byBvcmlnaW5hbCBwb3NlIGZvciBzdGFiaWxpdHkgKi9cclxuICAgICAgICB0aGlzLnJvb3Quc2V0VHJhbnNmb3JtTG9jYWwocm9vdFRyYW5zZm9ybSk7XHJcbiAgICAgICAgdGhpcy5taWRkbGUuc2V0VHJhbnNmb3JtTG9jYWwobWlkZGxlVHJhbnNmb3JtKTtcclxuICAgICAgICB0aGlzLmVuZC5zZXRUcmFuc2Zvcm1Mb2NhbChlbmRUcmFuc2Zvcm0pO1xyXG4gICAgICAgIHRoaXMucm9vdC5nZXRTY2FsaW5nV29ybGQocm9vdFNjYWxpbmcpO1xyXG4gICAgICAgIC8qIEdldCBqb2ludCBwb3NpdGlvbnMgaW4gcm9vdC1zcGFjZSAqL1xyXG4gICAgICAgIHRoaXMubWlkZGxlLmdldFBvc2l0aW9uTG9jYWwobWlkZGxlUG9zKTtcclxuICAgICAgICB0aGlzLmVuZC5nZXRQb3NpdGlvbkxvY2FsKGVuZFBvcyk7XHJcbiAgICAgICAgdGhpcy5taWRkbGUudHJhbnNmb3JtUG9pbnRMb2NhbChlbmRQb3MsIGVuZFBvcyk7XHJcbiAgICAgICAgaWYgKHRoaXMuaGVscGVyKSB7XHJcbiAgICAgICAgICAgIC8qIEdldCBoZWxwZXIgcG9zaXRpb24gaW4gcm9vdCBzcGFjZSAqL1xyXG4gICAgICAgICAgICB0aGlzLmhlbHBlci5nZXRQb3NpdGlvbldvcmxkKGhlbHBlclBvcyk7XHJcbiAgICAgICAgICAgIHRoaXMucm9vdC50cmFuc2Zvcm1Qb2ludEludmVyc2VXb3JsZChoZWxwZXJQb3MsIGhlbHBlclBvcyk7XHJcbiAgICAgICAgICAgIHZlYzMuZGl2KGhlbHBlclBvcywgaGVscGVyUG9zLCByb290U2NhbGluZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qIEdldCB0YXJnZXQgcG9zaXRpb24gaW4gcm9vdCBzcGFjZSAqL1xyXG4gICAgICAgIHRoaXMudGFyZ2V0LmdldFBvc2l0aW9uV29ybGQodGFyZ2V0UG9zKTtcclxuICAgICAgICB0aGlzLnJvb3QudHJhbnNmb3JtUG9pbnRJbnZlcnNlV29ybGQodGFyZ2V0UG9zLCB0YXJnZXRQb3MpO1xyXG4gICAgICAgIHZlYzMuZGl2KHRhcmdldFBvcywgdGFyZ2V0UG9zLCByb290U2NhbGluZyk7XHJcbiAgICAgICAgdHdvSm9pbnRJSyh0aGlzLnJvb3QsIHRoaXMubWlkZGxlLCBtaWRkbGVQb3MsIGVuZFBvcywgdGFyZ2V0UG9zLCAwLjAxLCB0aGlzLmhlbHBlciA/IGhlbHBlclBvcyA6IG51bGwsIHRoaXMudGltZSk7XHJcbiAgICAgICAgaWYgKHRoaXMuY29weVRhcmdldFJvdGF0aW9uKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZW5kLnNldFJvdGF0aW9uV29ybGQodGhpcy50YXJnZXQuZ2V0Um90YXRpb25Xb3JsZCh0ZW1wUXVhdCkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnQgeyBUd29Kb2ludElrU29sdmVyIH07XHJcbiIsICJpbXBvcnQgeyBDb21wb25lbnQsIFRleHR1cmUsIFByb3BlcnR5IH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuaW1wb3J0IHsgc2V0Rmlyc3RNYXRlcmlhbFRleHR1cmUgfSBmcm9tICcuL3V0aWxzL3V0aWxzLmpzJztcclxuLyoqXHJcbiAqIERvd25sb2FkcyBhIHZpZGVvIGZyb20gVVJMIGFuZCBhcHBsaWVzIGl0IGFzIGBkaWZmdXNlVGV4dHVyZWAgb3IgYGZsYXRUZXh0dXJlYFxyXG4gKiBvbiBnaXZlbiBtYXRlcmlhbC5cclxuICpcclxuICogVmlkZW8gdGV4dHVyZXMgbmVlZCB0byBiZSB1cGRhdGVkIHJlZ3VsYXJseSB3aGVuZXZlclxyXG4gKiBhIG5ldyBmcmFtZSBpcyBhdmFpbGFibGUuIFRoaXMgY29tcG9uZW50IGhhbmRsZXMgdGhlXHJcbiAqIGRldGVjdGlvbiBvZiBhIG5ldyBmcmFtZSBhbmQgdXBkYXRlcyB0aGUgdGV4dHVyZSB0b1xyXG4gKiByZWZsZWN0IHRoZSB2aWRlbydzIGN1cnJlbnQgZnJhbWUuXHJcbiAqXHJcbiAqIE1hdGVyaWFscyBmcm9tIHRoZSBmb2xsb3dpbmcgc2hhZGVycyBhcmUgc3VwcG9ydGVkOlxyXG4gKiAgLSBcIlBob25nIE9wYXF1ZSBUZXh0dXJlZFwiXHJcbiAqICAtIFwiRmxhdCBPcGFxdWUgVGV4dHVyZWRcIlxyXG4gKiAgLSBcIkJhY2tncm91bmRcIlxyXG4gKiAgLSBcIlBoeXNpY2FsIE9wYXF1ZSBUZXh0dXJlZFwiXHJcbiAqICAtIFwiRm9saWFnZVwiXHJcbiAqXHJcbiAqIFRoZSB2aWRlbyBjYW4gYmUgYWNjZXNzZWQgdGhyb3VnaCBgdGhpcy52aWRlb2A6XHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqICAgbGV0IHZpZGVvVGV4dHVyZSA9IHRoaXMub2JqZWN0LmdldENvbXBvbmVudCgndmlkZW8tdGV4dHVyZScpO1xyXG4gKiAgIHZpZGVvVGV4dHVyZS52aWRlby5wbGF5KCk7XHJcbiAqICAgdmlkZW9UZXh0dXJlLnZpZGVvLnBhdXNlKCk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBTZWUgW1ZpZGVvIEV4YW1wbGVdKC9zaG93Y2FzZS92aWRlbykuXHJcbiAqL1xyXG5jbGFzcyBWaWRlb1RleHR1cmUgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ3ZpZGVvLXRleHR1cmUnO1xyXG4gICAgc3RhdGljIFByb3BlcnRpZXMgPSB7XHJcbiAgICAgICAgLyoqIFVSTCB0byBkb3dubG9hZCB2aWRlbyBmcm9tICovXHJcbiAgICAgICAgdXJsOiBQcm9wZXJ0eS5zdHJpbmcoKSxcclxuICAgICAgICAvKiogTWF0ZXJpYWwgdG8gYXBwbHkgdGhlIHZpZGVvIHRleHR1cmUgdG8gKi9cclxuICAgICAgICBtYXRlcmlhbDogUHJvcGVydHkubWF0ZXJpYWwoKSxcclxuICAgICAgICAvKiogV2hldGhlciB0byBsb29wIHRoZSB2aWRlbyAqL1xyXG4gICAgICAgIGxvb3A6IFByb3BlcnR5LmJvb2wodHJ1ZSksXHJcbiAgICAgICAgLyoqIFdoZXRoZXIgdG8gYXV0b21hdGljYWxseSBzdGFydCBwbGF5aW5nIHRoZSB2aWRlbyAqL1xyXG4gICAgICAgIGF1dG9wbGF5OiBQcm9wZXJ0eS5ib29sKHRydWUpLFxyXG4gICAgICAgIC8qKiBXaGV0aGVyIHRvIG11dGUgc291bmQgKi9cclxuICAgICAgICBtdXRlZDogUHJvcGVydHkuYm9vbCh0cnVlKSxcclxuICAgICAgICAvKiogTmFtZSBvZiB0aGUgdGV4dHVyZSBwcm9wZXJ0eSB0byBzZXQgKi9cclxuICAgICAgICB0ZXh0dXJlUHJvcGVydHk6IFByb3BlcnR5LnN0cmluZygnYXV0bycpLFxyXG4gICAgfTtcclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLm1hdGVyaWFsKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKCd2aWRlby10ZXh0dXJlOiBtYXRlcmlhbCBwcm9wZXJ0eSBub3Qgc2V0Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubG9hZGVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5mcmFtZVVwZGF0ZVJlcXVlc3RlZCA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBzdGFydCgpIHtcclxuICAgICAgICB0aGlzLnZpZGVvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKTtcclxuICAgICAgICB0aGlzLnZpZGVvLnNyYyA9IHRoaXMudXJsO1xyXG4gICAgICAgIHRoaXMudmlkZW8uY3Jvc3NPcmlnaW4gPSAnYW5vbnltb3VzJztcclxuICAgICAgICB0aGlzLnZpZGVvLnBsYXlzSW5saW5lID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnZpZGVvLmxvb3AgPSB0aGlzLmxvb3A7XHJcbiAgICAgICAgdGhpcy52aWRlby5tdXRlZCA9IHRoaXMubXV0ZWQ7XHJcbiAgICAgICAgdGhpcy52aWRlby5hZGRFdmVudExpc3RlbmVyKCdwbGF5aW5nJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRlZCA9IHRydWU7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKHRoaXMuYXV0b3BsYXkpIHtcclxuICAgICAgICAgICAgY29uc3QgcGxheUFmdGVyVXNlckdlc3R1cmUgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZpZGVvLnBsYXkoKTtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHBsYXlBZnRlclVzZXJHZXN0dXJlKTtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgcGxheUFmdGVyVXNlckdlc3R1cmUpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBwbGF5QWZ0ZXJVc2VyR2VzdHVyZSk7XHJcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgcGxheUFmdGVyVXNlckdlc3R1cmUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGFwcGx5VGV4dHVyZSgpIHtcclxuICAgICAgICBjb25zdCBtYXQgPSB0aGlzLm1hdGVyaWFsO1xyXG4gICAgICAgIGNvbnN0IHNoYWRlciA9IG1hdC5zaGFkZXI7XHJcbiAgICAgICAgY29uc3QgdGV4dHVyZSA9ICh0aGlzLnRleHR1cmUgPSBuZXcgVGV4dHVyZSh0aGlzLmVuZ2luZSwgdGhpcy52aWRlbykpO1xyXG4gICAgICAgIGlmICghc2V0Rmlyc3RNYXRlcmlhbFRleHR1cmUobWF0LCB0ZXh0dXJlLCB0aGlzLnRleHR1cmVQcm9wZXJ0eSkpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignU2hhZGVyJywgc2hhZGVyLCAnbm90IHN1cHBvcnRlZCBieSB2aWRlby10ZXh0dXJlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgncmVxdWVzdFZpZGVvRnJhbWVDYWxsYmFjaycgaW4gdGhpcy52aWRlbykge1xyXG4gICAgICAgICAgICB0aGlzLnZpZGVvLnJlcXVlc3RWaWRlb0ZyYW1lQ2FsbGJhY2sodGhpcy51cGRhdGVWaWRlby5iaW5kKHRoaXMpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMudmlkZW8uYWRkRXZlbnRMaXN0ZW5lcigndGltZXVwZGF0ZScsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZnJhbWVVcGRhdGVSZXF1ZXN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoZHQpIHtcclxuICAgICAgICBpZiAodGhpcy5sb2FkZWQgJiYgdGhpcy5mcmFtZVVwZGF0ZVJlcXVlc3RlZCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy50ZXh0dXJlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRleHR1cmUudXBkYXRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvKiBBcHBseSB0ZXh0dXJlIG9uIGZpcnN0IGZyYW1lIHVwZGF0ZSByZXF1ZXN0ICovXHJcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGx5VGV4dHVyZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuZnJhbWVVcGRhdGVSZXF1ZXN0ZWQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB1cGRhdGVWaWRlbygpIHtcclxuICAgICAgICB0aGlzLmZyYW1lVXBkYXRlUmVxdWVzdGVkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnZpZGVvLnJlcXVlc3RWaWRlb0ZyYW1lQ2FsbGJhY2sodGhpcy51cGRhdGVWaWRlby5iaW5kKHRoaXMpKTtcclxuICAgIH1cclxufVxyXG5leHBvcnQgeyBWaWRlb1RleHR1cmUgfTtcclxuIiwgImltcG9ydCB7IENvbXBvbmVudCwgVHlwZSB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbi8qKlxyXG4gKiBBbGxvd3Mgc3dpdGNoaW5nIGFsbCBvdGhlciBjb21wb25lbnRzIG9uIGFuIG9iamVjdCB0byBhY3RpdmUvaW5hY3RpdmVcclxuICogZGVwZW5kaW5nIG9uIHdoZXRoZXIgYSBWUi9BUiBzZXNzaW9uIGlzIGFjdGl2ZS5cclxuICpcclxuICogVXNlZnVsIGZvciBoaWRpbmcgY29udHJvbGxlcnMgdW50aWwgdGhlIHVzZXIgZW50ZXJzIFZSIGZvciBleGFtcGxlLlxyXG4gKi9cclxuY2xhc3MgVnJNb2RlQWN0aXZlU3dpdGNoIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICd2ci1tb2RlLWFjdGl2ZS1zd2l0Y2gnO1xyXG4gICAgc3RhdGljIFByb3BlcnRpZXMgPSB7XHJcbiAgICAgICAgLyoqIFdoZW4gY29tcG9uZW50cyBzaG91bGQgYmUgYWN0aXZlOiBJbiBWUiBvciB3aGVuIG5vdCBpbiBWUiAqL1xyXG4gICAgICAgIGFjdGl2YXRlQ29tcG9uZW50czoge1xyXG4gICAgICAgICAgICB0eXBlOiBUeXBlLkVudW0sXHJcbiAgICAgICAgICAgIHZhbHVlczogWydpbiBWUicsICdpbiBub24tVlInXSxcclxuICAgICAgICAgICAgZGVmYXVsdDogJ2luIFZSJyxcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8qKiBXaGV0aGVyIGNoaWxkIG9iamVjdCdzIGNvbXBvbmVudHMgc2hvdWxkIGJlIGFmZmVjdGVkICovXHJcbiAgICAgICAgYWZmZWN0Q2hpbGRyZW46IHsgdHlwZTogVHlwZS5Cb29sLCBkZWZhdWx0OiB0cnVlIH0sXHJcbiAgICB9O1xyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnRzID0gW107XHJcbiAgICAgICAgdGhpcy5nZXRDb21wb25lbnRzKHRoaXMub2JqZWN0KTtcclxuICAgICAgICAvKiBJbml0aWFsIGFjdGl2YXRpb24vZGVhY3RpdmF0aW9uICovXHJcbiAgICAgICAgdGhpcy5vblhSU2Vzc2lvbkVuZCgpO1xyXG4gICAgICAgIHRoaXMub25TZXNzaW9uU3RhcnRDYWxsYmFjayA9IHRoaXMub25YUlNlc3Npb25TdGFydC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMub25TZXNzaW9uRW5kQ2FsbGJhY2sgPSB0aGlzLm9uWFJTZXNzaW9uRW5kLmJpbmQodGhpcyk7XHJcbiAgICB9XHJcbiAgICBvbkFjdGl2YXRlKCkge1xyXG4gICAgICAgIHRoaXMuZW5naW5lLm9uWFJTZXNzaW9uU3RhcnQuYWRkKHRoaXMub25TZXNzaW9uU3RhcnRDYWxsYmFjayk7XHJcbiAgICAgICAgdGhpcy5lbmdpbmUub25YUlNlc3Npb25FbmQuYWRkKHRoaXMub25TZXNzaW9uRW5kQ2FsbGJhY2spO1xyXG4gICAgfVxyXG4gICAgb25EZWFjdGl2YXRlKCkge1xyXG4gICAgICAgIHRoaXMuZW5naW5lLm9uWFJTZXNzaW9uU3RhcnQucmVtb3ZlKHRoaXMub25TZXNzaW9uU3RhcnRDYWxsYmFjayk7XHJcbiAgICAgICAgdGhpcy5lbmdpbmUub25YUlNlc3Npb25FbmQucmVtb3ZlKHRoaXMub25TZXNzaW9uRW5kQ2FsbGJhY2spO1xyXG4gICAgfVxyXG4gICAgZ2V0Q29tcG9uZW50cyhvYmopIHtcclxuICAgICAgICBjb25zdCBjb21wcyA9IG9iai5nZXRDb21wb25lbnRzKCkuZmlsdGVyKChjKSA9PiBjLnR5cGUgIT09ICd2ci1tb2RlLWFjdGl2ZS1zd2l0Y2gnKTtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudHMgPSB0aGlzLmNvbXBvbmVudHMuY29uY2F0KGNvbXBzKTtcclxuICAgICAgICBpZiAodGhpcy5hZmZlY3RDaGlsZHJlbikge1xyXG4gICAgICAgICAgICBsZXQgY2hpbGRyZW4gPSBvYmouY2hpbGRyZW47XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0Q29tcG9uZW50cyhjaGlsZHJlbltpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzZXRDb21wb25lbnRzQWN0aXZlKGFjdGl2ZSkge1xyXG4gICAgICAgIGNvbnN0IGNvbXBzID0gdGhpcy5jb21wb25lbnRzO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29tcHMubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgY29tcHNbaV0uYWN0aXZlID0gYWN0aXZlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIG9uWFJTZXNzaW9uU3RhcnQoKSB7XHJcbiAgICAgICAgdGhpcy5zZXRDb21wb25lbnRzQWN0aXZlKHRoaXMuYWN0aXZhdGVDb21wb25lbnRzID09IDApO1xyXG4gICAgfVxyXG4gICAgb25YUlNlc3Npb25FbmQoKSB7XHJcbiAgICAgICAgdGhpcy5zZXRDb21wb25lbnRzQWN0aXZlKHRoaXMuYWN0aXZhdGVDb21wb25lbnRzICE9IDApO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCB7IFZyTW9kZUFjdGl2ZVN3aXRjaCB9O1xyXG4iLCAidmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufTtcclxuaW1wb3J0IHsgQ29sbGlkZXIsIENvbGxpc2lvbkNvbXBvbmVudCwgQ29tcG9uZW50LCBFbWl0dGVyLCBNZXNoLCBNZXNoQXR0cmlidXRlLCBNZXNoQ29tcG9uZW50LCBNZXNoSW5kZXhUeXBlLCB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbmltcG9ydCB7IHByb3BlcnR5IH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpL2RlY29yYXRvcnMuanMnO1xyXG5pbXBvcnQgeyBzZXRYUlJpZ2lkVHJhbnNmb3JtTG9jYWwgfSBmcm9tICcuL3V0aWxzL3dlYnhyLmpzJztcclxuLy8gRklYTUU6IGVhcmN1dCBvdmVycmlkZXMgZGVmYXVsdCBleHBvcnQsIGJyZWFraW5nIG91ciB0ZXN0c1xyXG5pbXBvcnQgZWFyY3V0IGZyb20gJ2VhcmN1dCc7XHJcbmNvbnN0IHRlbXBWZWMzID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuLyoqIENvbXB1dGUgbWluaW11bSBhbmQgbWF4aXVtIGV4dGVudHMgb2YgZ2l2ZW4gbGlzdCBvZiBjb250b3VyIHBvaW50cyAqL1xyXG5mdW5jdGlvbiBleHRlbnRzRnJvbUNvbnRvdXIob3V0LCBwb2ludHMpIHtcclxuICAgIGlmIChwb2ludHMubGVuZ3RoID09IDApXHJcbiAgICAgICAgcmV0dXJuIG91dDtcclxuICAgIGxldCBhYnNNYXhYID0gTWF0aC5hYnMocG9pbnRzWzBdLngpO1xyXG4gICAgbGV0IGFic01heFogPSBNYXRoLmFicyhwb2ludHNbMF0ueik7XHJcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IHBvaW50cy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgIGFic01heFggPSBNYXRoLm1heChhYnNNYXhYLCBNYXRoLmFicyhwb2ludHNbaV0ueCkpO1xyXG4gICAgICAgIGFic01heFogPSBNYXRoLm1heChhYnNNYXhaLCBNYXRoLmFicyhwb2ludHNbaV0ueikpO1xyXG4gICAgfVxyXG4gICAgb3V0WzBdID0gYWJzTWF4WDtcclxuICAgIG91dFsxXSA9IDA7XHJcbiAgICBvdXRbMl0gPSBhYnNNYXhaO1xyXG59XHJcbi8qKiBDaGVjayB3aGV0aGVyIHggbGllcyBiZXR3ZWVuIGEgYW5kIGIgKi9cclxuZnVuY3Rpb24gd2l0aGluKHgsIGEsIGIpIHtcclxuICAgIGlmIChhID4gYilcclxuICAgICAgICByZXR1cm4geCA8IGEgJiYgeCA+IGI7XHJcbiAgICByZXR1cm4geCA+IGEgJiYgeCA8IGI7XHJcbn1cclxuLyoqXHJcbiAqIENoZWNrIHdoZXRoZXIgZ2l2ZW4gcG9pbnQgb24gcGxhbmUncyBib3VuZGluZyBib3ggaXMgaW5zaWRlIHBsYW5lJ3MgcG9seWdvblxyXG4gKlxyXG4gKiBAcGFyYW0gcCAzRCBwb2ludCBpbiBwbGFuZSdzIGxvY2FsIHNwYWNlLCBZIHZhbHVlIGlzIGlnbm9yZWQsIHNpbmNlIGl0IGlzIGFzc3VtZWRcclxuICogICAgIHRoYXQgdGhlIHBvaW50IHdhcyBjaGVja2VkIGFnYWluc3QgdGhlIHBsYW5lJ3MgYm91bmRpbmcgYm94LlxyXG4gKiBAcGFyYW0gcGxhbmUgWFJQbGFuZSB0aGF0IGhhcyBgWFJQbGFuZS5wb2x5Z29uYFxyXG4gKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHBvaW50IGxpZXMgb24gdGhlIHBsYW5lXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNQb2ludExvY2FsT25YUlBsYW5lUG9seWdvbihwLCBwbGFuZSkge1xyXG4gICAgY29uc3QgcG9pbnRzID0gcGxhbmUucG9seWdvbjtcclxuICAgIGlmIChwb2ludHMubGVuZ3RoIDwgMylcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAvKiBDb3VudCByYXkgaW50ZXJzZWN0aW9uczogZXZlbiA9PSBpbnNpZGUsIG9kZCA9PSBvdXRzaWRlICovXHJcbiAgICBjb25zdCBwWCA9IHBbMF07XHJcbiAgICBjb25zdCBwWiA9IHBbMl07XHJcbiAgICBsZXQgaW50ZXJzZWN0aW9ucyA9IDA7XHJcbiAgICBmb3IgKGxldCBuID0gMCwgbCA9IHBvaW50cy5sZW5ndGggLSAxOyBuIDwgcG9pbnRzLmxlbmd0aDsgKytuKSB7XHJcbiAgICAgICAgY29uc3QgYVggPSBwb2ludHNbbF0ueDtcclxuICAgICAgICBjb25zdCBhWiA9IHBvaW50c1tsXS56O1xyXG4gICAgICAgIGNvbnN0IHMgPSAocG9pbnRzW25dLnogLSBhWikgLyAocG9pbnRzW25dLnggLSBhWCk7XHJcbiAgICAgICAgY29uc3QgeCA9IE1hdGguYWJzKChwWiAtIGFaKSAvIHMpO1xyXG4gICAgICAgIGlmICh4ID49IDAuMCAmJiB4IDw9IDEuMCAmJiB3aXRoaW4oeCArIHBYLCBhWCwgcG9pbnRzW25dLngpKVxyXG4gICAgICAgICAgICArK2ludGVyc2VjdGlvbnM7XHJcbiAgICAgICAgbCA9IG47XHJcbiAgICB9XHJcbiAgICByZXR1cm4gKGludGVyc2VjdGlvbnMgJiAxKSA9PSAwO1xyXG59XHJcbi8qKlxyXG4gKiBDaGVjayB3aGV0aGVyIGdpdmVuIHBvaW50IG9uIHBsYW5lJ3MgYm91bmRpbmcgYm94IGlzIGluc2lkZSBwbGFuZSdzIHBvbHlnb25cclxuICpcclxuICogQHBhcmFtIHAgM0QgcG9pbnQgdG8gdGVzdC4gSXQgaXMgYXNzdW1lZCB0aGF0IHRoZSBwb2ludCB3YXMgY2hlY2tlZCBhZ2FpbnN0XHJcbiAqICAgICB0aGUgcGxhbmUncyBib3VuZGluZyBib3ggYmVmb3JlaGFuZC5cclxuICogQHBhcmFtIHBsYW5lIFhSUGxhbmUgdGhhdCBoYXMgYFhSUGxhbmUucG9seWdvbmBcclxuICogQHJldHVybnMgYHRydWVgIGlmIHRoZSBwb2ludCBsaWVzIG9uIHRoZSBwbGFuZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzUG9pbnRXb3JsZE9uWFJQbGFuZVBvbHlnb24ob2JqZWN0LCBwLCBwbGFuZSkge1xyXG4gICAgaWYgKHBsYW5lLnBvbHlnb24ubGVuZ3RoIDwgMylcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICBpc1BvaW50TG9jYWxPblhSUGxhbmVQb2x5Z29uKG9iamVjdC50cmFuc2Zvcm1Qb2ludEludmVyc2VXb3JsZCh0ZW1wVmVjMywgcCksIHBsYW5lKTtcclxufVxyXG4vKipcclxuICogQ3JlYXRlIGEgcGxhbmUgbWVzaCBmcm9tIGEgbGlzdCBvZiBjb250b3VyIHBvaW50c1xyXG4gKlxyXG4gKiBAcGFyYW0gZW5naW5lIEVuZ2luZSB0byBjcmVhdGUgdGhlIG1lc2ggd2l0aFxyXG4gKiBAcGFyYW0gcG9pbnRzIENvbnRvdXIgcG9pbnRzXHJcbiAqIEBwYXJhbSBtZXNoVG9VcGRhdGUgT3B0aW9uYWwgbWVzaCB0byB1cGRhdGUgaW5zdGVhZCBvZiBjcmVhdGluZyBhIG5ldyBvbmUuXHJcbiAqL1xyXG5mdW5jdGlvbiBwbGFuZU1lc2hGcm9tQ29udG91cihlbmdpbmUsIHBvaW50cywgbWVzaFRvVXBkYXRlID0gbnVsbCkge1xyXG4gICAgY29uc3QgdmVydGV4Q291bnQgPSBwb2ludHMubGVuZ3RoO1xyXG4gICAgY29uc3QgdmVydGljZXMgPSBuZXcgRmxvYXQzMkFycmF5KHZlcnRleENvdW50ICogMik7XHJcbiAgICBmb3IgKGxldCBpID0gMCwgZCA9IDA7IGkgPCB2ZXJ0ZXhDb3VudDsgKytpLCBkICs9IDIpIHtcclxuICAgICAgICB2ZXJ0aWNlc1tkXSA9IHBvaW50c1tpXS54O1xyXG4gICAgICAgIHZlcnRpY2VzW2QgKyAxXSA9IHBvaW50c1tpXS56O1xyXG4gICAgfVxyXG4gICAgY29uc3QgdHJpYW5nbGVzID0gZWFyY3V0KHZlcnRpY2VzKTtcclxuICAgIGNvbnN0IG1lc2ggPSBtZXNoVG9VcGRhdGUgfHxcclxuICAgICAgICBuZXcgTWVzaChlbmdpbmUsIHtcclxuICAgICAgICAgICAgdmVydGV4Q291bnQsXHJcbiAgICAgICAgICAgIC8qIEFzc3VtcHRpb24gaGVyZSB0aGF0IHdlIHdpbGwgbmV2ZXIgaGF2ZSBtb3JlIHRoYW4gMjU2IHBvaW50c1xyXG4gICAgICAgICAgICAgKiBpbiB0aGUgZGV0ZWN0ZWQgcGxhbmUgbWVzaGVzISAqL1xyXG4gICAgICAgICAgICBpbmRleFR5cGU6IE1lc2hJbmRleFR5cGUuVW5zaWduZWRCeXRlLFxyXG4gICAgICAgICAgICBpbmRleERhdGE6IHRyaWFuZ2xlcyxcclxuICAgICAgICB9KTtcclxuICAgIGlmIChtZXNoLnZlcnRleENvdW50ICE9PSB2ZXJ0ZXhDb3VudCkge1xyXG4gICAgICAgIGNvbnNvbGUud2FybigndmVydGV4Q291bnQgb2YgbWVzaFRvVXBkYXRlIGRpZCBub3QgbWF0Y2ggcmVxdWlyZWQgdmVydGV4Q291bnQnKTtcclxuICAgICAgICByZXR1cm4gbWVzaDtcclxuICAgIH1cclxuICAgIGNvbnN0IHBvc2l0aW9ucyA9IG1lc2guYXR0cmlidXRlKE1lc2hBdHRyaWJ1dGUuUG9zaXRpb24pO1xyXG4gICAgY29uc3QgdGV4dHVyZUNvb3JkcyA9IG1lc2guYXR0cmlidXRlKE1lc2hBdHRyaWJ1dGUuVGV4dHVyZUNvb3JkaW5hdGUpO1xyXG4gICAgY29uc3Qgbm9ybWFscyA9IG1lc2guYXR0cmlidXRlKE1lc2hBdHRyaWJ1dGUuTm9ybWFsKTtcclxuICAgIHRlbXBWZWMzWzFdID0gMDtcclxuICAgIGZvciAobGV0IGkgPSAwLCBzID0gMDsgaSA8IHZlcnRleENvdW50OyArK2ksIHMgKz0gMikge1xyXG4gICAgICAgIHRlbXBWZWMzWzBdID0gdmVydGljZXNbc107XHJcbiAgICAgICAgdGVtcFZlYzNbMl0gPSB2ZXJ0aWNlc1tzICsgMV07XHJcbiAgICAgICAgcG9zaXRpb25zLnNldChpLCB0ZW1wVmVjMyk7XHJcbiAgICB9XHJcbiAgICB0ZXh0dXJlQ29vcmRzPy5zZXQoMCwgdmVydGljZXMpO1xyXG4gICAgaWYgKG5vcm1hbHMpIHtcclxuICAgICAgICB0ZW1wVmVjM1swXSA9IDA7XHJcbiAgICAgICAgdGVtcFZlYzNbMV0gPSAxO1xyXG4gICAgICAgIHRlbXBWZWMzWzJdID0gMDtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZlcnRleENvdW50OyArK2kpIHtcclxuICAgICAgICAgICAgbm9ybWFscy5zZXQoaSwgdGVtcFZlYzMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChtZXNoVG9VcGRhdGUpXHJcbiAgICAgICAgbWVzaC51cGRhdGUoKTtcclxuICAgIHJldHVybiBtZXNoO1xyXG59XHJcbi8qKlxyXG4gKiBHZW5lcmF0ZSBtZXNoZXMgYW5kIGNvbGxpc2lvbnMgZm9yIFhSUGxhbmVzIHVzaW5nIFtXZWJYUiBEZXZpY2UgQVBJIC0gUGxhbmUgRGV0ZWN0aW9uXShodHRwczovL2ltbWVyc2l2ZS13ZWIuZ2l0aHViLmlvL3JlYWwtd29ybGQtZ2VvbWV0cnkvcGxhbmUtZGV0ZWN0aW9uLmh0bWwpLlxyXG4gKi9cclxuY2xhc3MgUGxhbmVEZXRlY3Rpb24gZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ3BsYW5lLWRldGVjdGlvbic7XHJcbiAgICAvKipcclxuICAgICAqIE1hdGVyaWFsIHRvIGFzc2lnbiB0byBjcmVhdGVkIHBsYW5lIG1lc2hlcyBvciBgbnVsbGAgaWYgbWVzaGVzIHNob3VsZCBub3QgYmUgY3JlYXRlZC5cclxuICAgICAqL1xyXG4gICAgcGxhbmVNYXRlcmlhbCA9IG51bGw7XHJcbiAgICAvKipcclxuICAgICAqIENvbGxpc2lvbiBtYXNrIHRvIGFzc2lnbiB0byBuZXdseSBjcmVhdGVkIGNvbGxpc2lvbiBjb21wb25lbnRzIG9yIGEgbmVnYXRpdmUgdmFsdWUgaWZcclxuICAgICAqIGNvbGxpc2lvbiBjb21wb25lbnRzIHNob3VsZCBub3QgYmUgY3JlYXRlZC5cclxuICAgICAqL1xyXG4gICAgY29sbGlzaW9uTWFzayA9IC0xO1xyXG4gICAgLyoqIE1hcCBvZiBhbGwgcGxhbmVzIGFuZCB0aGVpciBsYXN0IHVwZGF0ZWQgdGltZXN0YW1wcyAqL1xyXG4gICAgcGxhbmVzID0gbmV3IE1hcCgpO1xyXG4gICAgLyoqIE9iamVjdHMgZ2VuZXJhdGVkIGZvciBlYWNoIFhSUGxhbmUgKi9cclxuICAgIHBsYW5lT2JqZWN0cyA9IG5ldyBNYXAoKTtcclxuICAgIC8qKiBDYWxsZWQgd2hlbiBhIHBsYW5lIHN0YXJ0cyB0cmFja2luZyAqL1xyXG4gICAgb25QbGFuZUZvdW5kID0gbmV3IEVtaXR0ZXIoKTtcclxuICAgIC8qKiBDYWxsZWQgd2hlbiBhIHBsYW5lIHN0b3BzIHRyYWNraW5nICovXHJcbiAgICBvblBsYW5lTG9zdCA9IG5ldyBFbWl0dGVyKCk7XHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmVuZ2luZS54cj8uZnJhbWUpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgaWYgKHRoaXMuZW5naW5lLnhyLmZyYW1lLmRldGVjdGVkUGxhbmVzID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcigncGxhbmUtZGV0ZWN0aW9uOiBXZWJYUiBmZWF0dXJlIG5vdCBhdmFpbGFibGUuJyk7XHJcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGNvbnN0IGRldGVjdGVkUGxhbmVzID0gdGhpcy5lbmdpbmUueHIuZnJhbWUuZGV0ZWN0ZWRQbGFuZXM7XHJcbiAgICAgICAgZm9yIChjb25zdCBbcGxhbmUsIF9dIG9mIHRoaXMucGxhbmVzKSB7XHJcbiAgICAgICAgICAgIGlmICghZGV0ZWN0ZWRQbGFuZXMuaGFzKHBsYW5lKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy4jcGxhbmVMb3N0KHBsYW5lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBkZXRlY3RlZFBsYW5lcy5mb3JFYWNoKChwbGFuZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wbGFuZXMuaGFzKHBsYW5lKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHBsYW5lLmxhc3RDaGFuZ2VkVGltZSA+IHRoaXMucGxhbmVzLmdldChwbGFuZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLiNwbGFuZVVwZGF0ZShwbGFuZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiNwbGFuZUZvdW5kKHBsYW5lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLiNwbGFuZVVwZGF0ZVBvc2UocGxhbmUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgI3BsYW5lTG9zdChwbGFuZSkge1xyXG4gICAgICAgIHRoaXMucGxhbmVzLmRlbGV0ZShwbGFuZSk7XHJcbiAgICAgICAgY29uc3QgbyA9IHRoaXMucGxhbmVPYmplY3RzLmdldChwbGFuZSk7XHJcbiAgICAgICAgdGhpcy5vblBsYW5lTG9zdC5ub3RpZnkocGxhbmUsIG8pO1xyXG4gICAgICAgIC8qIFVzZXIgbWlnaHQgZGVzdHJveSB0aGUgb2JqZWN0ICovXHJcbiAgICAgICAgaWYgKG8ub2JqZWN0SWQgPiAwKVxyXG4gICAgICAgICAgICBvLmRlc3Ryb3koKTtcclxuICAgIH1cclxuICAgICNwbGFuZUZvdW5kKHBsYW5lKSB7XHJcbiAgICAgICAgdGhpcy5wbGFuZXMuc2V0KHBsYW5lLCBwbGFuZS5sYXN0Q2hhbmdlZFRpbWUpO1xyXG4gICAgICAgIGNvbnN0IG8gPSB0aGlzLmVuZ2luZS5zY2VuZS5hZGRPYmplY3QodGhpcy5vYmplY3QpO1xyXG4gICAgICAgIHRoaXMucGxhbmVPYmplY3RzLnNldChwbGFuZSwgbyk7XHJcbiAgICAgICAgaWYgKHRoaXMucGxhbmVNYXRlcmlhbCkge1xyXG4gICAgICAgICAgICBvLmFkZENvbXBvbmVudChNZXNoQ29tcG9uZW50LCB7XHJcbiAgICAgICAgICAgICAgICBtZXNoOiBwbGFuZU1lc2hGcm9tQ29udG91cih0aGlzLmVuZ2luZSwgcGxhbmUucG9seWdvbiksXHJcbiAgICAgICAgICAgICAgICBtYXRlcmlhbDogdGhpcy5wbGFuZU1hdGVyaWFsLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuY29sbGlzaW9uTWFzayA+PSAwKSB7XHJcbiAgICAgICAgICAgIGV4dGVudHNGcm9tQ29udG91cih0ZW1wVmVjMywgcGxhbmUucG9seWdvbik7XHJcbiAgICAgICAgICAgIHRlbXBWZWMzWzFdID0gMC4wMjU7XHJcbiAgICAgICAgICAgIG8uYWRkQ29tcG9uZW50KENvbGxpc2lvbkNvbXBvbmVudCwge1xyXG4gICAgICAgICAgICAgICAgZ3JvdXA6IHRoaXMuY29sbGlzaW9uTWFzayxcclxuICAgICAgICAgICAgICAgIGNvbGxpZGVyOiBDb2xsaWRlci5Cb3gsXHJcbiAgICAgICAgICAgICAgICBleHRlbnRzOiB0ZW1wVmVjMyxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMub25QbGFuZUZvdW5kLm5vdGlmeShwbGFuZSwgbyk7XHJcbiAgICB9XHJcbiAgICAjcGxhbmVVcGRhdGUocGxhbmUpIHtcclxuICAgICAgICB0aGlzLnBsYW5lcy5zZXQocGxhbmUsIHBsYW5lLmxhc3RDaGFuZ2VkVGltZSk7XHJcbiAgICAgICAgY29uc3QgcGxhbmVNZXNoID0gdGhpcy5wbGFuZU9iamVjdHMuZ2V0KHBsYW5lKS5nZXRDb21wb25lbnQoTWVzaENvbXBvbmVudCk7XHJcbiAgICAgICAgaWYgKCFwbGFuZU1lc2gpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICBwbGFuZU1lc2hGcm9tQ29udG91cih0aGlzLmVuZ2luZSwgcGxhbmUucG9seWdvbiwgcGxhbmVNZXNoLm1lc2gpO1xyXG4gICAgfVxyXG4gICAgI3BsYW5lVXBkYXRlUG9zZShwbGFuZSkge1xyXG4gICAgICAgIGNvbnN0IG8gPSB0aGlzLnBsYW5lT2JqZWN0cy5nZXQocGxhbmUpO1xyXG4gICAgICAgIGNvbnN0IHBvc2UgPSB0aGlzLmVuZ2luZS54ci5mcmFtZS5nZXRQb3NlKHBsYW5lLnBsYW5lU3BhY2UsIHRoaXMuZW5naW5lLnhyLmN1cnJlbnRSZWZlcmVuY2VTcGFjZSk7XHJcbiAgICAgICAgaWYgKCFwb3NlKSB7XHJcbiAgICAgICAgICAgIG8uYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgc2V0WFJSaWdpZFRyYW5zZm9ybUxvY2FsKG8sIHBvc2UudHJhbnNmb3JtKTtcclxuICAgIH1cclxufVxyXG5fX2RlY29yYXRlKFtcclxuICAgIHByb3BlcnR5Lm1hdGVyaWFsKClcclxuXSwgUGxhbmVEZXRlY3Rpb24ucHJvdG90eXBlLCBcInBsYW5lTWF0ZXJpYWxcIiwgdm9pZCAwKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBwcm9wZXJ0eS5pbnQoKVxyXG5dLCBQbGFuZURldGVjdGlvbi5wcm90b3R5cGUsIFwiY29sbGlzaW9uTWFza1wiLCB2b2lkIDApO1xyXG5leHBvcnQgeyBQbGFuZURldGVjdGlvbiB9O1xyXG4iLCAiaW1wb3J0IHsgQ29tcG9uZW50LCBUeXBlIH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuaW1wb3J0IHsgdmVjMywgbWF0NCwgcXVhdCwgcXVhdDIgfSBmcm9tICdnbC1tYXRyaXgnO1xyXG5jb25zdCBWUk1fUk9MTF9BWEVTID0ge1xyXG4gICAgWDogWzEuMCwgMC4wLCAwLjBdLFxyXG4gICAgWTogWzAuMCwgMS4wLCAwLjBdLFxyXG4gICAgWjogWzAuMCwgMC4wLCAxLjBdLFxyXG59O1xyXG5jb25zdCBWUk1fQUlNX0FYRVMgPSB7XHJcbiAgICBQb3NpdGl2ZVg6IFsxLjAsIDAuMCwgMC4wXSxcclxuICAgIE5lZ2F0aXZlWDogWy0xLjAsIDAuMCwgMC4wXSxcclxuICAgIFBvc2l0aXZlWTogWzAuMCwgMS4wLCAwLjBdLFxyXG4gICAgTmVnYXRpdmVZOiBbMC4wLCAtMS4wLCAwLjBdLFxyXG4gICAgUG9zaXRpdmVaOiBbMC4wLCAwLjAsIDEuMF0sXHJcbiAgICBOZWdhdGl2ZVo6IFswLjAsIDAuMCwgLTEuMF0sXHJcbn07XHJcbi8qKlxyXG4gKiBDb21wb25lbnQgZm9yIGxvYWRpbmcgYW5kIGhhbmRsaW5nIFZSTSAxLjAgbW9kZWxzLlxyXG4gKlxyXG4gKiBQb3Npbmcgb2YgdGhlIG1vZGVsIHNob3VsZCBiZSBkb25lIGV4Y2x1c2l2ZWx5IGJ5IHJvdGF0aW5nIHRoZSBib25lcy4gVGhlc2UgY2FuIGJlXHJcbiAqIGFjY2Vzc2VkIHVzaW5nIHRoZSBgLmJvbmVzYCBwcm9wZXJ0eSBhbmQgZm9sbG93IHRoZSBWUk0gYm9uZSBuYW1pbmcuIE5vdGUgdGhhdCBub3RcclxuICogYWxsIFZSTSBtb2RlbHMgd2lsbCBoYXZlIGFsbCBwb3NzaWJsZSBib25lcy4gVGhlIHJlc3QgcG9zZSAoVC1wb3NlKSBpcyBjYXB0dXJlZCBpblxyXG4gKiB0aGUgYC5yZXN0UG9zZWAgcHJvcGVydHkuIFJlc2V0dGluZyBhIGJvbmUgdG8gaXRzIHJlc3QgcG9zZSBjYW4gYmUgZG9uZSBhcyBmb2xsb3dzOlxyXG4gKiBgYGBqc1xyXG4gKiB2cm1Db21wb25lbnQuYm9uZXNbdnJtQm9uZU5hbWVdLnJvdGF0aW9uTG9jYWwgPSB2cm1Db21wb25lbnQucmVzdFBvc2VbdnJtQm9uZU5hbWVdO1xyXG4gKiBgYGBcclxuICpcclxuICogTW92aW5nIHRoZSBtb2RlbCB0aHJvdWdoIHRoZSB3b3JsZCBzaG91bGQgYmUgZG9uZSBieSBtb3ZpbmcgdGhlIG9iamVjdCB0aGlzIGNvbXBvbmVudFxyXG4gKiBpcyBhdHRhY2hlZCB0by4gSW4gb3RoZXIgd29yZHMsIGJ5IG1vdmluZyB0aGUgcm9vdCBvZiB0aGUgVlJNIG1vZGVsLiBUaGUgYm9uZXMgYW5kIGFueVxyXG4gKiBkZXNjZW5kYW50IG9iamVjdHMgc2hvdWxkICpub3QqIGJlIHVzZWQgdG8gbW92ZSB0aGUgVlJNIG1vZGVsLlxyXG4gKlxyXG4gKiBUaGUgY29yZSBleHRlbnNpb24gYFZSTUNfdnJtYCBhcyB3ZWxsIGFzIHRoZWBWUk1DX3NwcmluZ0JvbmVgIGFuZCBgVlJNQ19ub2RlX2NvbnN0cmFpbnRgXHJcbiAqIGV4dGVuc2lvbnMgYXJlIHN1cHBvcnRlZC5cclxuICpcclxuICogKipMaW1pdGF0aW9uczoqKlxyXG4gKiAtIE5vIHN1cHBvcnQgZm9yIGBWUk1DX21hdGVyaWFsX210b29uYFxyXG4gKiAtIEV4cHJlc3Npb25zIGFyZW4ndCBzdXBwb3J0ZWRcclxuICogLSBFeHByZXNzaW9uIGJhc2VkIGxvb2tBdCBpc24ndCBzdXBwb3J0ZWRcclxuICogLSBNZXNoIGFubm90YXRpb24gbW9kZSBgYXV0b2AgaXMgbm90IHN1cHBvcnRlZCAoZmlyc3QgcGVyc29uIG1vZGUpXHJcbiAqL1xyXG5jbGFzcyBWcm0gZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ3ZybSc7XHJcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcclxuICAgICAgICAvKiogVVJMIHRvIGEgVlJNIGZpbGUgdG8gbG9hZCAqL1xyXG4gICAgICAgIHNyYzogeyB0eXBlOiBUeXBlLlN0cmluZyB9LFxyXG4gICAgICAgIC8qKiBPYmplY3QgdGhlIFZSTSBpcyBsb29raW5nIGF0ICovXHJcbiAgICAgICAgbG9va0F0VGFyZ2V0OiB7IHR5cGU6IFR5cGUuT2JqZWN0IH0sXHJcbiAgICB9O1xyXG4gICAgLyoqIE1ldGEgaW5mb3JtYXRpb24gYWJvdXQgdGhlIFZSTSBtb2RlbCAqL1xyXG4gICAgbWV0YSA9IG51bGw7XHJcbiAgICAvKiogVGhlIGh1bWFub2lkIGJvbmVzIG9mIHRoZSBWUk0gbW9kZWwgKi9cclxuICAgIGJvbmVzID0ge1xyXG4gICAgICAgIC8qIFRvcnNvICovXHJcbiAgICAgICAgaGlwczogbnVsbCxcclxuICAgICAgICBzcGluZTogbnVsbCxcclxuICAgICAgICBjaGVzdDogbnVsbCxcclxuICAgICAgICB1cHBlckNoZXN0OiBudWxsLFxyXG4gICAgICAgIG5lY2s6IG51bGwsXHJcbiAgICAgICAgLyogSGVhZCAqL1xyXG4gICAgICAgIGhlYWQ6IG51bGwsXHJcbiAgICAgICAgbGVmdEV5ZTogbnVsbCxcclxuICAgICAgICByaWdodEV5ZTogbnVsbCxcclxuICAgICAgICBqYXc6IG51bGwsXHJcbiAgICAgICAgLyogTGVncyAqL1xyXG4gICAgICAgIGxlZnRVcHBlckxlZzogbnVsbCxcclxuICAgICAgICBsZWZ0TG93ZXJMZWc6IG51bGwsXHJcbiAgICAgICAgbGVmdEZvb3Q6IG51bGwsXHJcbiAgICAgICAgbGVmdFRvZXM6IG51bGwsXHJcbiAgICAgICAgcmlnaHRVcHBlckxlZzogbnVsbCxcclxuICAgICAgICByaWdodExvd2VyTGVnOiBudWxsLFxyXG4gICAgICAgIHJpZ2h0Rm9vdDogbnVsbCxcclxuICAgICAgICByaWdodFRvZXM6IG51bGwsXHJcbiAgICAgICAgLyogQXJtcyAqL1xyXG4gICAgICAgIGxlZnRTaG91bGRlcjogbnVsbCxcclxuICAgICAgICBsZWZ0VXBwZXJBcm06IG51bGwsXHJcbiAgICAgICAgbGVmdExvd2VyQXJtOiBudWxsLFxyXG4gICAgICAgIGxlZnRIYW5kOiBudWxsLFxyXG4gICAgICAgIHJpZ2h0U2hvdWxkZXI6IG51bGwsXHJcbiAgICAgICAgcmlnaHRVcHBlckFybTogbnVsbCxcclxuICAgICAgICByaWdodExvd2VyQXJtOiBudWxsLFxyXG4gICAgICAgIHJpZ2h0SGFuZDogbnVsbCxcclxuICAgICAgICAvKiBGaW5nZXJzICovXHJcbiAgICAgICAgbGVmdFRodW1iTWV0YWNhcnBhbDogbnVsbCxcclxuICAgICAgICBsZWZ0VGh1bWJQcm94aW1hbDogbnVsbCxcclxuICAgICAgICBsZWZ0VGh1bWJEaXN0YWw6IG51bGwsXHJcbiAgICAgICAgbGVmdEluZGV4UHJveGltYWw6IG51bGwsXHJcbiAgICAgICAgbGVmdEluZGV4SW50ZXJtZWRpYXRlOiBudWxsLFxyXG4gICAgICAgIGxlZnRJbmRleERpc3RhbDogbnVsbCxcclxuICAgICAgICBsZWZ0TWlkZGxlUHJveGltYWw6IG51bGwsXHJcbiAgICAgICAgbGVmdE1pZGRsZUludGVybWVkaWF0ZTogbnVsbCxcclxuICAgICAgICBsZWZ0TWlkZGxlRGlzdGFsOiBudWxsLFxyXG4gICAgICAgIGxlZnRSaW5nUHJveGltYWw6IG51bGwsXHJcbiAgICAgICAgbGVmdFJpbmdJbnRlcm1lZGlhdGU6IG51bGwsXHJcbiAgICAgICAgbGVmdFJpbmdEaXN0YWw6IG51bGwsXHJcbiAgICAgICAgbGVmdExpdHRsZVByb3hpbWFsOiBudWxsLFxyXG4gICAgICAgIGxlZnRMaXR0bGVJbnRlcm1lZGlhdGU6IG51bGwsXHJcbiAgICAgICAgbGVmdExpdHRsZURpc3RhbDogbnVsbCxcclxuICAgICAgICByaWdodFRodW1iTWV0YWNhcnBhbDogbnVsbCxcclxuICAgICAgICByaWdodFRodW1iUHJveGltYWw6IG51bGwsXHJcbiAgICAgICAgcmlnaHRUaHVtYkRpc3RhbDogbnVsbCxcclxuICAgICAgICByaWdodEluZGV4UHJveGltYWw6IG51bGwsXHJcbiAgICAgICAgcmlnaHRJbmRleEludGVybWVkaWF0ZTogbnVsbCxcclxuICAgICAgICByaWdodEluZGV4RGlzdGFsOiBudWxsLFxyXG4gICAgICAgIHJpZ2h0TWlkZGxlUHJveGltYWw6IG51bGwsXHJcbiAgICAgICAgcmlnaHRNaWRkbGVJbnRlcm1lZGlhdGU6IG51bGwsXHJcbiAgICAgICAgcmlnaHRNaWRkbGVEaXN0YWw6IG51bGwsXHJcbiAgICAgICAgcmlnaHRSaW5nUHJveGltYWw6IG51bGwsXHJcbiAgICAgICAgcmlnaHRSaW5nSW50ZXJtZWRpYXRlOiBudWxsLFxyXG4gICAgICAgIHJpZ2h0UmluZ0Rpc3RhbDogbnVsbCxcclxuICAgICAgICByaWdodExpdHRsZVByb3hpbWFsOiBudWxsLFxyXG4gICAgICAgIHJpZ2h0TGl0dGxlSW50ZXJtZWRpYXRlOiBudWxsLFxyXG4gICAgICAgIHJpZ2h0TGl0dGxlRGlzdGFsOiBudWxsLFxyXG4gICAgfTtcclxuICAgIC8qKiBSb3RhdGlvbnMgb2YgdGhlIGJvbmVzIGluIHRoZSByZXN0IHBvc2UgKFQtcG9zZSkgKi9cclxuICAgIHJlc3RQb3NlID0ge307XHJcbiAgICAvKiBBbGwgbm9kZSBjb25zdHJhaW50cywgb3JkZXJlZCB0byBkZWFsIHdpdGggZGVwZW5kZW5jaWVzICovXHJcbiAgICBfbm9kZUNvbnN0cmFpbnRzID0gW107XHJcbiAgICAvKiBWUk1DX3NwcmluZ0JvbmUgY2hhaW5zICovXHJcbiAgICBfc3ByaW5nQ2hhaW5zID0gW107XHJcbiAgICAvKiBTcGhlcmljYWwgY29sbGlkZXJzIGZvciBzcHJpbmcgYm9uZXMgKi9cclxuICAgIF9zcGhlcmVDb2xsaWRlcnMgPSBbXTtcclxuICAgIC8qIENhcHN1bGUgc2hhcGVkIGNvbGxpZGVycyBmb3Igc3ByaW5nIGJvbmVzICovXHJcbiAgICBfY2Fwc3VsZUNvbGxpZGVycyA9IFtdO1xyXG4gICAgLyogSW5kaWNhdGVzIHdoaWNoIG1lc2hlcyBhcmUgcmVuZGVyZWQgaW4gZmlyc3QvdGhpcmQgcGVyc29uIHZpZXdzICovXHJcbiAgICBfZmlyc3RQZXJzb25Bbm5vdGF0aW9ucyA9IFtdO1xyXG4gICAgLyogQ29udGFpbnMgZGV0YWlscyBmb3IgKGJvbmUgdHlwZSkgbG9va0F0IGJlaGF2aW91ciAqL1xyXG4gICAgX2xvb2tBdCA9IG51bGw7XHJcbiAgICAvKiBXaGV0aGVyIG9yIG5vdCB0aGUgVlJNIGNvbXBvbmVudCBoYXMgYmVlbiBpbml0aWFsaXplZCB3aXRoIGBpbml0aWFsaXplVnJtYCAqL1xyXG4gICAgX2luaXRpYWxpemVkID0gZmFsc2U7XHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIHRoaXMuX3RlbXBWMyA9IHZlYzMuY3JlYXRlKCk7XHJcbiAgICAgICAgdGhpcy5fdGVtcFYzQSA9IHZlYzMuY3JlYXRlKCk7XHJcbiAgICAgICAgdGhpcy5fdGVtcFYzQiA9IHZlYzMuY3JlYXRlKCk7XHJcbiAgICAgICAgdGhpcy5fdGVtcFF1YXQgPSBxdWF0LmNyZWF0ZSgpO1xyXG4gICAgICAgIHRoaXMuX3RlbXBRdWF0QSA9IHF1YXQuY3JlYXRlKCk7XHJcbiAgICAgICAgdGhpcy5fdGVtcFF1YXRCID0gcXVhdC5jcmVhdGUoKTtcclxuICAgICAgICB0aGlzLl90ZW1wTWF0NEEgPSBtYXQ0LmNyZWF0ZSgpO1xyXG4gICAgICAgIHRoaXMuX3RlbXBRdWF0MiA9IHF1YXQyLmNyZWF0ZSgpO1xyXG4gICAgICAgIHRoaXMuX3RhaWxUb1NoYXBlID0gdmVjMy5jcmVhdGUoKTtcclxuICAgICAgICB0aGlzLl9oZWFkVG9UYWlsID0gdmVjMy5jcmVhdGUoKTtcclxuICAgICAgICB0aGlzLl9pbmVydGlhID0gdmVjMy5jcmVhdGUoKTtcclxuICAgICAgICB0aGlzLl9zdGlmZm5lc3MgPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gICAgICAgIHRoaXMuX2V4dGVybmFsID0gdmVjMy5jcmVhdGUoKTtcclxuICAgICAgICB0aGlzLl9yaWdodFZlY3RvciA9IHZlYzMuc2V0KHZlYzMuY3JlYXRlKCksIDEsIDAsIDApO1xyXG4gICAgICAgIHRoaXMuX3VwVmVjdG9yID0gdmVjMy5zZXQodmVjMy5jcmVhdGUoKSwgMCwgMSwgMCk7XHJcbiAgICAgICAgdGhpcy5fZm9yd2FyZFZlY3RvciA9IHZlYzMuc2V0KHZlYzMuY3JlYXRlKCksIDAsIDAsIDEpO1xyXG4gICAgICAgIHRoaXMuX2lkZW50aXR5UXVhdCA9IHF1YXQuaWRlbnRpdHkocXVhdC5jcmVhdGUoKSk7XHJcbiAgICAgICAgdGhpcy5fcmFkMmRlZyA9IDE4MC4wIC8gTWF0aC5QSTtcclxuICAgIH1cclxuICAgIHN0YXJ0KCkge1xyXG4gICAgICAgIGlmICghdGhpcy5zcmMpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcigndnJtOiBzcmMgcHJvcGVydHkgbm90IHNldCcpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZW5naW5lLnNjZW5lXHJcbiAgICAgICAgICAgIC5hcHBlbmQodGhpcy5zcmMsIHsgbG9hZEdsdGZFeHRlbnNpb25zOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC50aGVuKCh7IHJvb3QsIGV4dGVuc2lvbnMgfSkgPT4ge1xyXG4gICAgICAgICAgICByb290LmNoaWxkcmVuLmZvckVhY2goKGNoaWxkKSA9PiAoY2hpbGQucGFyZW50ID0gdGhpcy5vYmplY3QpKTtcclxuICAgICAgICAgICAgdGhpcy5faW5pdGlhbGl6ZVZybShleHRlbnNpb25zKTtcclxuICAgICAgICAgICAgcm9vdC5kZXN0cm95KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFBhcnNlcyB0aGUgVlJNIGdsVEYgZXh0ZW5zaW9ucyBhbmQgaW5pdGlhbGl6ZXMgdGhlIHZybSBjb21wb25lbnQuXHJcbiAgICAgKiBAcGFyYW0ge0dMVEZFeHRlbnNpb25zfSBleHRlbnNpb25zIFRoZSBnbFRGIGV4dGVuc2lvbnMgZm9yIHRoZSBWUk0gbW9kZWxcclxuICAgICAqL1xyXG4gICAgX2luaXRpYWxpemVWcm0oZXh0ZW5zaW9ucykge1xyXG4gICAgICAgIGlmICh0aGlzLl9pbml0aWFsaXplZCkge1xyXG4gICAgICAgICAgICB0aHJvdyBFcnJvcignVlJNIGNvbXBvbmVudCBoYXMgYWxyZWFkeSBiZWVuIGluaXRpYWxpemVkJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IFZSTUNfdnJtID0gZXh0ZW5zaW9ucy5yb290WydWUk1DX3ZybSddO1xyXG4gICAgICAgIGlmICghVlJNQ192cm0pIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ01pc3NpbmcgVlJNIGV4dGVuc2lvbnMnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKFZSTUNfdnJtLnNwZWNWZXJzaW9uICE9PSAnMS4wJykge1xyXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihgVW5zdXBwb3J0ZWQgVlJNIHZlcnNpb24sIG9ubHkgMS4wIGlzIHN1cHBvcnRlZCwgYnV0IGVuY291bnRlcmVkICcke1ZSTUNfdnJtLnNwZWNWZXJzaW9ufSdgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5tZXRhID0gVlJNQ192cm0ubWV0YTtcclxuICAgICAgICB0aGlzLl9wYXJzZUh1bWFub2lkKFZSTUNfdnJtLmh1bWFub2lkLCBleHRlbnNpb25zKTtcclxuICAgICAgICBpZiAoVlJNQ192cm0uZmlyc3RQZXJzb24pIHtcclxuICAgICAgICAgICAgdGhpcy5fcGFyc2VGaXJzdFBlcnNvbihWUk1DX3ZybS5maXJzdFBlcnNvbiwgZXh0ZW5zaW9ucyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChWUk1DX3ZybS5sb29rQXQpIHtcclxuICAgICAgICAgICAgdGhpcy5fcGFyc2VMb29rQXQoVlJNQ192cm0ubG9va0F0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fZmluZEFuZFBhcnNlTm9kZUNvbnN0cmFpbnRzKGV4dGVuc2lvbnMpO1xyXG4gICAgICAgIGNvbnN0IHNwcmluZ0JvbmUgPSBleHRlbnNpb25zLnJvb3RbJ1ZSTUNfc3ByaW5nQm9uZSddO1xyXG4gICAgICAgIGlmIChzcHJpbmdCb25lKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3BhcnNlQW5kSW5pdGlhbGl6ZVNwcmluZ0JvbmVzKHNwcmluZ0JvbmUsIGV4dGVuc2lvbnMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9pbml0aWFsaXplZCA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBfcGFyc2VIdW1hbm9pZChodW1hbm9pZCwgZXh0ZW5zaW9ucykge1xyXG4gICAgICAgIGZvciAoY29uc3QgYm9uZU5hbWUgaW4gaHVtYW5vaWQuaHVtYW5Cb25lcykge1xyXG4gICAgICAgICAgICBpZiAoIShib25lTmFtZSBpbiB0aGlzLmJvbmVzKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBVbnJlY29nbml6ZWQgYm9uZSAnJHtib25lTmFtZX0nYCk7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBub2RlID0gaHVtYW5vaWQuaHVtYW5Cb25lc1tib25lTmFtZV0ubm9kZTtcclxuICAgICAgICAgICAgY29uc3Qgb2JqZWN0SWQgPSBleHRlbnNpb25zLmlkTWFwcGluZ1tub2RlXTtcclxuICAgICAgICAgICAgdGhpcy5ib25lc1tib25lTmFtZV0gPSB0aGlzLmVuZ2luZS53cmFwT2JqZWN0KG9iamVjdElkKTtcclxuICAgICAgICAgICAgdGhpcy5yZXN0UG9zZVtib25lTmFtZV0gPSBxdWF0LmNvcHkocXVhdC5jcmVhdGUoKSwgdGhpcy5ib25lc1tib25lTmFtZV0ucm90YXRpb25Mb2NhbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX3BhcnNlRmlyc3RQZXJzb24oZmlyc3RQZXJzb24sIGV4dGVuc2lvbnMpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IG1lc2hBbm5vdGF0aW9uIG9mIGZpcnN0UGVyc29uLm1lc2hBbm5vdGF0aW9ucykge1xyXG4gICAgICAgICAgICBjb25zdCBhbm5vdGF0aW9uID0ge1xyXG4gICAgICAgICAgICAgICAgbm9kZTogdGhpcy5lbmdpbmUud3JhcE9iamVjdChleHRlbnNpb25zLmlkTWFwcGluZ1ttZXNoQW5ub3RhdGlvbi5ub2RlXSksXHJcbiAgICAgICAgICAgICAgICBmaXJzdFBlcnNvbjogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHRoaXJkUGVyc29uOiB0cnVlLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG1lc2hBbm5vdGF0aW9uLnR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2ZpcnN0UGVyc29uT25seSc6XHJcbiAgICAgICAgICAgICAgICAgICAgYW5ub3RhdGlvbi50aGlyZFBlcnNvbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAndGhpcmRQZXJzb25Pbmx5JzpcclxuICAgICAgICAgICAgICAgICAgICBhbm5vdGF0aW9uLmZpcnN0UGVyc29uID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdib3RoJzpcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2F1dG8nOlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkZpcnN0IHBlcnNvbiBtZXNoIGFubm90YXRpb24gdHlwZSAnYXV0bycgaXMgbm90IHN1cHBvcnRlZCwgdHJlYXRpbmcgYXMgJ2JvdGgnIVwiKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgSW52YWxpZCBtZXNoIGFubm90YXRpb24gdHlwZSAnJHttZXNoQW5ub3RhdGlvbi50eXBlfSdgKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl9maXJzdFBlcnNvbkFubm90YXRpb25zLnB1c2goYW5ub3RhdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX3BhcnNlTG9va0F0KGxvb2tBdCkge1xyXG4gICAgICAgIGlmIChsb29rQXQudHlwZSAhPT0gJ2JvbmUnKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgVW5zdXBwb3J0ZWQgbG9va0F0IHR5cGUgJyR7bG9va0F0LnR5cGV9Jywgb25seSAnYm9uZScgaXMgc3VwcG9ydGVkYCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcGFyc2VSYW5nZU1hcCA9IChyYW5nZU1hcCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgaW5wdXRNYXhWYWx1ZTogcmFuZ2VNYXAuaW5wdXRNYXhWYWx1ZSxcclxuICAgICAgICAgICAgICAgIG91dHB1dFNjYWxlOiByYW5nZU1hcC5vdXRwdXRTY2FsZSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuX2xvb2tBdCA9IHtcclxuICAgICAgICAgICAgb2Zmc2V0RnJvbUhlYWRCb25lOiBsb29rQXQub2Zmc2V0RnJvbUhlYWRCb25lIHx8IFswLCAwLCAwXSxcclxuICAgICAgICAgICAgaG9yaXpvbnRhbElubmVyOiBwYXJzZVJhbmdlTWFwKGxvb2tBdC5yYW5nZU1hcEhvcml6b250YWxJbm5lciksXHJcbiAgICAgICAgICAgIGhvcml6b250YWxPdXRlcjogcGFyc2VSYW5nZU1hcChsb29rQXQucmFuZ2VNYXBIb3Jpem9udGFsT3V0ZXIpLFxyXG4gICAgICAgICAgICB2ZXJ0aWNhbERvd246IHBhcnNlUmFuZ2VNYXAobG9va0F0LnJhbmdlTWFwVmVydGljYWxEb3duKSxcclxuICAgICAgICAgICAgdmVydGljYWxVcDogcGFyc2VSYW5nZU1hcChsb29rQXQucmFuZ2VNYXBWZXJ0aWNhbFVwKSxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgX2ZpbmRBbmRQYXJzZU5vZGVDb25zdHJhaW50cyhleHRlbnNpb25zKSB7XHJcbiAgICAgICAgY29uc3QgdHJhdmVyc2UgPSAob2JqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5vZGVFeHRlbnNpb25zID0gZXh0ZW5zaW9ucy5ub2RlW29iamVjdC5vYmplY3RJZF07XHJcbiAgICAgICAgICAgIGlmIChub2RlRXh0ZW5zaW9ucyAmJiAnVlJNQ19ub2RlX2NvbnN0cmFpbnQnIGluIG5vZGVFeHRlbnNpb25zKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBub2RlQ29uc3RyYWludEV4dGVuc2lvbiA9IG5vZGVFeHRlbnNpb25zWydWUk1DX25vZGVfY29uc3RyYWludCddO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY29uc3RyYWludCA9IG5vZGVDb25zdHJhaW50RXh0ZW5zaW9uLmNvbnN0cmFpbnQ7XHJcbiAgICAgICAgICAgICAgICBsZXQgdHlwZSwgYXhpcztcclxuICAgICAgICAgICAgICAgIGlmICgncm9sbCcgaW4gY29uc3RyYWludCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSAncm9sbCc7XHJcbiAgICAgICAgICAgICAgICAgICAgYXhpcyA9IFZSTV9ST0xMX0FYRVNbY29uc3RyYWludC5yb2xsLnJvbGxBeGlzXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCdhaW0nIGluIGNvbnN0cmFpbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlID0gJ2FpbSc7XHJcbiAgICAgICAgICAgICAgICAgICAgYXhpcyA9IFZSTV9BSU1fQVhFU1tjb25zdHJhaW50LmFpbS5haW1BeGlzXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCdyb3RhdGlvbicgaW4gY29uc3RyYWludCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSAncm90YXRpb24nO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzb3VyY2UgPSB0aGlzLmVuZ2luZS53cmFwT2JqZWN0KGV4dGVuc2lvbnMuaWRNYXBwaW5nW2NvbnN0cmFpbnRbdHlwZV0uc291cmNlXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbm9kZUNvbnN0cmFpbnRzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uOiBvYmplY3QsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF4aXM6IGF4aXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdlaWdodDogY29uc3RyYWludFt0eXBlXS53ZWlnaHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIFJlc3QgcG9zZSAqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXN0aW5hdGlvblJlc3RMb2NhbFJvdGF0aW9uOiBxdWF0LmNvcHkocXVhdC5jcmVhdGUoKSwgb2JqZWN0LnJvdGF0aW9uTG9jYWwpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VSZXN0TG9jYWxSb3RhdGlvbjogcXVhdC5jb3B5KHF1YXQuY3JlYXRlKCksIHNvdXJjZS5yb3RhdGlvbkxvY2FsKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlUmVzdExvY2FsUm90YXRpb25JbnY6IHF1YXQuaW52ZXJ0KHF1YXQuY3JlYXRlKCksIHNvdXJjZS5yb3RhdGlvbkxvY2FsKSxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignVW5yZWNvZ25pemVkIG9yIGludmFsaWQgVlJNQ19ub2RlX2NvbnN0cmFpbnQsIGlnbm9yaW5nIGl0Jyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiBvYmplY3QuY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgICAgIHRyYXZlcnNlKGNoaWxkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdHJhdmVyc2UodGhpcy5vYmplY3QpO1xyXG4gICAgfVxyXG4gICAgX3BhcnNlQW5kSW5pdGlhbGl6ZVNwcmluZ0JvbmVzKHNwcmluZ0JvbmUsIGV4dGVuc2lvbnMpIHtcclxuICAgICAgICBjb25zdCBjb2xsaWRlcnMgPSAoc3ByaW5nQm9uZS5jb2xsaWRlcnMgfHwgW10pLm1hcCgoY29sbGlkZXIsIGkpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgc2hhcGVUeXBlID0gJ2NhcHN1bGUnIGluIGNvbGxpZGVyLnNoYXBlID8gJ2NhcHN1bGUnIDogJ3NwaGVyZSc7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBpZDogaSxcclxuICAgICAgICAgICAgICAgIG9iamVjdDogdGhpcy5lbmdpbmUud3JhcE9iamVjdChleHRlbnNpb25zLmlkTWFwcGluZ1tjb2xsaWRlci5ub2RlXSksXHJcbiAgICAgICAgICAgICAgICBzaGFwZToge1xyXG4gICAgICAgICAgICAgICAgICAgIGlzQ2Fwc3VsZTogc2hhcGVUeXBlID09PSAnY2Fwc3VsZScsXHJcbiAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiBjb2xsaWRlci5zaGFwZVtzaGFwZVR5cGVdLnJhZGl1cyxcclxuICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IGNvbGxpZGVyLnNoYXBlW3NoYXBlVHlwZV0ub2Zmc2V0LFxyXG4gICAgICAgICAgICAgICAgICAgIHRhaWw6IGNvbGxpZGVyLnNoYXBlW3NoYXBlVHlwZV0udGFpbCxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBjYWNoZToge1xyXG4gICAgICAgICAgICAgICAgICAgIGhlYWQ6IHZlYzMuY3JlYXRlKCksXHJcbiAgICAgICAgICAgICAgICAgICAgdGFpbDogdmVjMy5jcmVhdGUoKSxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5fc3BoZXJlQ29sbGlkZXJzID0gY29sbGlkZXJzLmZpbHRlcigoYykgPT4gIWMuc2hhcGUuaXNDYXBzdWxlKTtcclxuICAgICAgICB0aGlzLl9jYXBzdWxlQ29sbGlkZXJzID0gY29sbGlkZXJzLmZpbHRlcigoYykgPT4gYy5zaGFwZS5pc0NhcHN1bGUpO1xyXG4gICAgICAgIGNvbnN0IGNvbGxpZGVyR3JvdXBzID0gKHNwcmluZ0JvbmUuY29sbGlkZXJHcm91cHMgfHwgW10pLm1hcCgoZ3JvdXApID0+ICh7XHJcbiAgICAgICAgICAgIG5hbWU6IGdyb3VwLm5hbWUsXHJcbiAgICAgICAgICAgIGNvbGxpZGVyczogZ3JvdXAuY29sbGlkZXJzLm1hcCgoYykgPT4gY29sbGlkZXJzW2NdKSxcclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgZm9yIChjb25zdCBzcHJpbmcgb2Ygc3ByaW5nQm9uZS5zcHJpbmdzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGpvaW50cyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGpvaW50IG9mIHNwcmluZy5qb2ludHMpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNwcmluZ0pvaW50ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGhpdFJhZGl1czogMC4wLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0aWZmbmVzczogMS4wLFxyXG4gICAgICAgICAgICAgICAgICAgIGdyYXZpdHlQb3dlcjogMC4wLFxyXG4gICAgICAgICAgICAgICAgICAgIGdyYXZpdHlEaXI6IFswLjAsIC0xLjAsIDAuMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgZHJhZ0ZvcmNlOiAwLjUsXHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZTogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZTogbnVsbCxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHNwcmluZ0pvaW50LCBqb2ludCk7XHJcbiAgICAgICAgICAgICAgICBzcHJpbmdKb2ludC5ub2RlID0gdGhpcy5lbmdpbmUud3JhcE9iamVjdChleHRlbnNpb25zLmlkTWFwcGluZ1tzcHJpbmdKb2ludC5ub2RlXSk7XHJcbiAgICAgICAgICAgICAgICBqb2ludHMucHVzaChzcHJpbmdKb2ludCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3Qgc3ByaW5nQ2hhaW5Db2xsaWRlcnMgPSAoc3ByaW5nLmNvbGxpZGVyR3JvdXBzIHx8IFtdKS5mbGF0TWFwKChjZykgPT4gY29sbGlkZXJHcm91cHNbY2ddLmNvbGxpZGVycyk7XHJcbiAgICAgICAgICAgIHRoaXMuX3NwcmluZ0NoYWlucy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IHNwcmluZy5uYW1lLFxyXG4gICAgICAgICAgICAgICAgY2VudGVyOiBzcHJpbmcuY2VudGVyXHJcbiAgICAgICAgICAgICAgICAgICAgPyB0aGlzLmVuZ2luZS53cmFwT2JqZWN0KGV4dGVuc2lvbnMuaWRNYXBwaW5nW3NwcmluZy5jZW50ZXJdKVxyXG4gICAgICAgICAgICAgICAgICAgIDogbnVsbCxcclxuICAgICAgICAgICAgICAgIGpvaW50cyxcclxuICAgICAgICAgICAgICAgIHNwaGVyZUNvbGxpZGVyczogc3ByaW5nQ2hhaW5Db2xsaWRlcnMuZmlsdGVyKChjKSA9PiAhYy5zaGFwZS5pc0NhcHN1bGUpLFxyXG4gICAgICAgICAgICAgICAgY2Fwc3VsZUNvbGxpZGVyczogc3ByaW5nQ2hhaW5Db2xsaWRlcnMuZmlsdGVyKChjKSA9PiBjLnNoYXBlLmlzQ2Fwc3VsZSksXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKiBJbml0aWFsaXplIHNwcmluZyBib25lIGpvaW50IHN0YXRlICovXHJcbiAgICAgICAgZm9yIChjb25zdCBzcHJpbmdDaGFpbiBvZiB0aGlzLl9zcHJpbmdDaGFpbnMpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzcHJpbmdDaGFpbi5qb2ludHMubGVuZ3RoIC0gMTsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzcHJpbmdCb25lSm9pbnQgPSBzcHJpbmdDaGFpbi5qb2ludHNbaV07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZFNwcmluZ0JvbmVKb2ludCA9IHNwcmluZ0NoYWluLmpvaW50c1tpICsgMV07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzcHJpbmdCb25lUG9zaXRpb24gPSBzcHJpbmdCb25lSm9pbnQubm9kZS5nZXRUcmFuc2xhdGlvbldvcmxkKHZlYzMuY3JlYXRlKCkpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY2hpbGRTcHJpbmdCb25lUG9zaXRpb24gPSBjaGlsZFNwcmluZ0JvbmVKb2ludC5ub2RlLmdldFRyYW5zbGF0aW9uV29ybGQodmVjMy5jcmVhdGUoKSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBib25lRGlyZWN0aW9uID0gdmVjMy5zdWJ0cmFjdCh0aGlzLl90ZW1wVjNBLCBzcHJpbmdCb25lUG9zaXRpb24sIGNoaWxkU3ByaW5nQm9uZVBvc2l0aW9uKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRlID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHByZXZUYWlsOiBjaGlsZFNwcmluZ0JvbmVQb3NpdGlvbixcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGFpbDogdmVjMy5jb3B5KHZlYzMuY3JlYXRlKCksIGNoaWxkU3ByaW5nQm9uZVBvc2l0aW9uKSxcclxuICAgICAgICAgICAgICAgICAgICBpbml0aWFsTG9jYWxSb3RhdGlvbjogcXVhdC5jb3B5KHF1YXQuY3JlYXRlKCksIHNwcmluZ0JvbmVKb2ludC5ub2RlLnJvdGF0aW9uTG9jYWwpLFxyXG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWxMb2NhbFRyYW5zZm9ybUludmVydDogcXVhdDIuaW52ZXJ0KHF1YXQyLmNyZWF0ZSgpLCBzcHJpbmdCb25lSm9pbnQubm9kZS50cmFuc2Zvcm1Mb2NhbCksXHJcbiAgICAgICAgICAgICAgICAgICAgYm9uZUF4aXM6IHZlYzMubm9ybWFsaXplKHZlYzMuY3JlYXRlKCksIGNoaWxkU3ByaW5nQm9uZUpvaW50Lm5vZGUuZ2V0VHJhbnNsYXRpb25Mb2NhbCh0aGlzLl90ZW1wVjMpKSxcclxuICAgICAgICAgICAgICAgICAgICAvKiBFbnN1cmUgYm9uZSBsZW5ndGggaXMgYXQgbGVhc3QgMWNtIHRvIGF2b2lkIGppdHRlcnkgYmVoYXZpb3VyIGZyb20gemVyby1sZW5ndGggYm9uZXMgKi9cclxuICAgICAgICAgICAgICAgICAgICBib25lTGVuZ3RoOiBNYXRoLm1heCgwLjAxLCB2ZWMzLmxlbmd0aChib25lRGlyZWN0aW9uKSksXHJcbiAgICAgICAgICAgICAgICAgICAgLyogVGFpbCBwb3NpdGlvbnMgaW4gY2VudGVyIHNwYWNlLCBpZiBuZWVkZWQgKi9cclxuICAgICAgICAgICAgICAgICAgICBwcmV2VGFpbENlbnRlcjogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGFpbENlbnRlcjogbnVsbCxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBpZiAoc3ByaW5nQ2hhaW4uY2VudGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUucHJldlRhaWxDZW50ZXIgPSBzcHJpbmdDaGFpbi5jZW50ZXIudHJhbnNmb3JtUG9pbnRJbnZlcnNlV29ybGQodmVjMy5jcmVhdGUoKSwgY2hpbGRTcHJpbmdCb25lUG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLmN1cnJlbnRUYWlsQ2VudGVyID0gdmVjMy5jb3B5KHZlYzMuY3JlYXRlKCksIGNoaWxkU3ByaW5nQm9uZVBvc2l0aW9uKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHNwcmluZ0JvbmVKb2ludC5zdGF0ZSA9IHN0YXRlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdXBkYXRlKGR0KSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9pbml0aWFsaXplZCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qIDEuIFJlc29sdmUgaHVtYW5vaWQgYm9uZXMgKHBlcmZvcm1lZCBieSB1c2VyKSAqL1xyXG4gICAgICAgIC8qIDIuIFJlc29sdmUgTG9va0F0IChib25lIHR5cGUpIGFzIHRoZSBwb3NpdGlvbiBvZiB0aGUgaGVhZCBpcyBkZXRlcm1pbmVkICovXHJcbiAgICAgICAgdGhpcy5fcmVzb2x2ZUxvb2tBdCgpO1xyXG4gICAgICAgIC8qIDMuIEV4cHJlc3Npb24gdXBkYXRlIChUT0RPKSAqL1xyXG4gICAgICAgIC8qIDQuIEFwcGx5IEV4cHJlc3Npb24gKFRPRE8pICovXHJcbiAgICAgICAgLyogNS4gUmVzb2x2ZSBjb25zdHJhaW50cyAqL1xyXG4gICAgICAgIHRoaXMuX3Jlc29sdmVDb25zdHJhaW50cygpO1xyXG4gICAgICAgIC8qIDYuIFJlc29sdmUgU3ByaW5nIEJvbmUgKi9cclxuICAgICAgICB0aGlzLl91cGRhdGVTcHJpbmdCb25lcyhkdCk7XHJcbiAgICB9XHJcbiAgICBfcmFuZ2VNYXAocmFuZ2VNYXAsIGlucHV0KSB7XHJcbiAgICAgICAgY29uc3QgbWF4VmFsdWUgPSByYW5nZU1hcC5pbnB1dE1heFZhbHVlO1xyXG4gICAgICAgIGNvbnN0IG91dHB1dFNjYWxlID0gcmFuZ2VNYXAub3V0cHV0U2NhbGU7XHJcbiAgICAgICAgcmV0dXJuIChNYXRoLm1pbihpbnB1dCwgbWF4VmFsdWUpIC8gbWF4VmFsdWUpICogb3V0cHV0U2NhbGU7XHJcbiAgICB9XHJcbiAgICBfcmVzb2x2ZUxvb2tBdCgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuX2xvb2tBdCB8fCAhdGhpcy5sb29rQXRUYXJnZXQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBsb29rQXRTb3VyY2UgPSB0aGlzLmJvbmVzLmhlYWQudHJhbnNmb3JtUG9pbnRXb3JsZCh0aGlzLl90ZW1wVjNBLCB0aGlzLl9sb29rQXQub2Zmc2V0RnJvbUhlYWRCb25lKTtcclxuICAgICAgICBjb25zdCBsb29rQXRUYXJnZXQgPSB0aGlzLmxvb2tBdFRhcmdldC5nZXRUcmFuc2xhdGlvbldvcmxkKHRoaXMuX3RlbXBWM0IpO1xyXG4gICAgICAgIGNvbnN0IGxvb2tBdERpcmVjdGlvbiA9IHZlYzMuc3ViKHRoaXMuX3RlbXBWM0EsIGxvb2tBdFRhcmdldCwgbG9va0F0U291cmNlKTtcclxuICAgICAgICB2ZWMzLm5vcm1hbGl6ZShsb29rQXREaXJlY3Rpb24sIGxvb2tBdERpcmVjdGlvbik7XHJcbiAgICAgICAgLyogQ29udmVydCB0aGUgZGlyZWN0aW9uIGludG8gTG9va0F0IHNwYWNlICovXHJcbiAgICAgICAgdGhpcy5ib25lcy5oZWFkLnBhcmVudC50cmFuc2Zvcm1WZWN0b3JJbnZlcnNlV29ybGQobG9va0F0RGlyZWN0aW9uKTtcclxuICAgICAgICBjb25zdCB6ID0gdmVjMy5kb3QobG9va0F0RGlyZWN0aW9uLCB0aGlzLl9mb3J3YXJkVmVjdG9yKTtcclxuICAgICAgICBjb25zdCB4ID0gdmVjMy5kb3QobG9va0F0RGlyZWN0aW9uLCB0aGlzLl9yaWdodFZlY3Rvcik7XHJcbiAgICAgICAgY29uc3QgeWF3ID0gTWF0aC5hdGFuMih4LCB6KSAqIHRoaXMuX3JhZDJkZWc7XHJcbiAgICAgICAgY29uc3QgeHogPSBNYXRoLnNxcnQoeCAqIHggKyB6ICogeik7XHJcbiAgICAgICAgY29uc3QgeSA9IHZlYzMuZG90KGxvb2tBdERpcmVjdGlvbiwgdGhpcy5fdXBWZWN0b3IpO1xyXG4gICAgICAgIGxldCBwaXRjaCA9IE1hdGguYXRhbjIoLXksIHh6KSAqIHRoaXMuX3JhZDJkZWc7XHJcbiAgICAgICAgLyogTGltaXQgcGl0Y2ggKi9cclxuICAgICAgICBpZiAocGl0Y2ggPiAwKSB7XHJcbiAgICAgICAgICAgIHBpdGNoID0gdGhpcy5fcmFuZ2VNYXAodGhpcy5fbG9va0F0LnZlcnRpY2FsRG93biwgcGl0Y2gpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcGl0Y2ggPSAtdGhpcy5fcmFuZ2VNYXAodGhpcy5fbG9va0F0LnZlcnRpY2FsVXAsIC1waXRjaCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qIExlZnQgZXllIChsaW1pdCB5YXcpICovXHJcbiAgICAgICAgaWYgKHRoaXMuYm9uZXMubGVmdEV5ZSkge1xyXG4gICAgICAgICAgICBsZXQgeWF3TGVmdCA9IHlhdztcclxuICAgICAgICAgICAgaWYgKHlhd0xlZnQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB5YXdMZWZ0ID0gdGhpcy5fcmFuZ2VNYXAodGhpcy5fbG9va0F0Lmhvcml6b250YWxJbm5lciwgeWF3TGVmdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB5YXdMZWZ0ID0gLXRoaXMuX3JhbmdlTWFwKHRoaXMuX2xvb2tBdC5ob3Jpem9udGFsT3V0ZXIsIC15YXdMZWZ0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBleWVSb3RhdGlvbiA9IHF1YXQuZnJvbUV1bGVyKHRoaXMuX3RlbXBRdWF0QSwgcGl0Y2gsIHlhd0xlZnQsIDApO1xyXG4gICAgICAgICAgICB0aGlzLmJvbmVzLmxlZnRFeWUucm90YXRpb25Mb2NhbCA9IHF1YXQubXVsdGlwbHkoZXllUm90YXRpb24sIHRoaXMucmVzdFBvc2UubGVmdEV5ZSwgZXllUm90YXRpb24pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKiBSaWdodCBleWUgKGxpbWl0IHlhdykgKi9cclxuICAgICAgICBpZiAodGhpcy5ib25lcy5yaWdodEV5ZSkge1xyXG4gICAgICAgICAgICBsZXQgeWF3UmlnaHQgPSB5YXc7XHJcbiAgICAgICAgICAgIGlmICh5YXdSaWdodCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHlhd1JpZ2h0ID0gdGhpcy5fcmFuZ2VNYXAodGhpcy5fbG9va0F0Lmhvcml6b250YWxPdXRlciwgeWF3UmlnaHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgeWF3UmlnaHQgPSAtdGhpcy5fcmFuZ2VNYXAodGhpcy5fbG9va0F0Lmhvcml6b250YWxJbm5lciwgLXlhd1JpZ2h0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBleWVSb3RhdGlvbiA9IHF1YXQuZnJvbUV1bGVyKHRoaXMuX3RlbXBRdWF0QSwgcGl0Y2gsIHlhd1JpZ2h0LCAwKTtcclxuICAgICAgICAgICAgdGhpcy5ib25lcy5yaWdodEV5ZS5yb3RhdGlvbkxvY2FsID0gcXVhdC5tdWx0aXBseShleWVSb3RhdGlvbiwgdGhpcy5yZXN0UG9zZS5yaWdodEV5ZSwgZXllUm90YXRpb24pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9yZXNvbHZlQ29uc3RyYWludHMoKSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBub2RlQ29uc3RyYWludCBvZiB0aGlzLl9ub2RlQ29uc3RyYWludHMpIHtcclxuICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZUNvbnN0cmFpbnQobm9kZUNvbnN0cmFpbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9yZXNvbHZlQ29uc3RyYWludChub2RlQ29uc3RyYWludCkge1xyXG4gICAgICAgIGNvbnN0IGRzdFJlc3RRdWF0ID0gbm9kZUNvbnN0cmFpbnQuZGVzdGluYXRpb25SZXN0TG9jYWxSb3RhdGlvbjtcclxuICAgICAgICBjb25zdCBzcmNSZXN0UXVhdEludiA9IG5vZGVDb25zdHJhaW50LnNvdXJjZVJlc3RMb2NhbFJvdGF0aW9uSW52O1xyXG4gICAgICAgIGNvbnN0IHRhcmdldFF1YXQgPSBxdWF0LmlkZW50aXR5KHRoaXMuX3RlbXBRdWF0QSk7XHJcbiAgICAgICAgc3dpdGNoIChub2RlQ29uc3RyYWludC50eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ3JvbGwnOlxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlbHRhU3JjUXVhdCA9IHF1YXQubXVsdGlwbHkodGhpcy5fdGVtcFF1YXRBLCBzcmNSZXN0UXVhdEludiwgbm9kZUNvbnN0cmFpbnQuc291cmNlLnJvdGF0aW9uTG9jYWwpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8qIHNvdXJjZSB0byBwYXJlbnQgKi9cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWx0YVNyY1F1YXRJblBhcmVudCA9IHF1YXQubXVsdGlwbHkodGhpcy5fdGVtcFF1YXRBLCBub2RlQ29uc3RyYWludC5zb3VyY2VSZXN0TG9jYWxSb3RhdGlvbiwgZGVsdGFTcmNRdWF0KTtcclxuICAgICAgICAgICAgICAgICAgICBxdWF0Lm11bChkZWx0YVNyY1F1YXRJblBhcmVudCwgZGVsdGFTcmNRdWF0SW5QYXJlbnQsIHNyY1Jlc3RRdWF0SW52KTtcclxuICAgICAgICAgICAgICAgICAgICAvKiBwYXJlbnQgdG8gZGVzdGluYXRpb24gKi9cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkc3RSZXN0UXVhdEludiA9IHF1YXQuaW52ZXJ0KHRoaXMuX3RlbXBRdWF0QiwgZHN0UmVzdFF1YXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlbHRhU3JjUXVhdEluRHN0ID0gcXVhdC5tdWx0aXBseSh0aGlzLl90ZW1wUXVhdEIsIGRzdFJlc3RRdWF0SW52LCBkZWx0YVNyY1F1YXRJblBhcmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcXVhdC5tdWx0aXBseShkZWx0YVNyY1F1YXRJbkRzdCwgZGVsdGFTcmNRdWF0SW5Ec3QsIGRzdFJlc3RRdWF0KTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0b1ZlYyA9IHZlYzMudHJhbnNmb3JtUXVhdCh0aGlzLl90ZW1wVjNBLCBub2RlQ29uc3RyYWludC5heGlzLCBkZWx0YVNyY1F1YXRJbkRzdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZnJvbVRvUXVhdCA9IHF1YXQucm90YXRpb25Ubyh0aGlzLl90ZW1wUXVhdEEsIG5vZGVDb25zdHJhaW50LmF4aXMsIHRvVmVjKTtcclxuICAgICAgICAgICAgICAgICAgICBxdWF0Lm11bCh0YXJnZXRRdWF0LCBkc3RSZXN0UXVhdCwgcXVhdC5pbnZlcnQodGhpcy5fdGVtcFF1YXQsIGZyb21Ub1F1YXQpKTtcclxuICAgICAgICAgICAgICAgICAgICBxdWF0Lm11bCh0YXJnZXRRdWF0LCB0YXJnZXRRdWF0LCBkZWx0YVNyY1F1YXRJbkRzdCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnYWltJzpcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkc3RQYXJlbnRXb3JsZFF1YXQgPSBub2RlQ29uc3RyYWludC5kZXN0aW5hdGlvbi5wYXJlbnQucm90YXRpb25Xb3JsZDtcclxuICAgICAgICAgICAgICAgICAgICAvKiBmcm9tVmVjID0gYWltQXhpcy5hcHBseVF1YXRlcm5pb24oIGRzdFBhcmVudFdvcmxkUXVhdCAqIGRzdFJlc3RRdWF0ICkgKi9cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBmcm9tVmVjID0gdmVjMy50cmFuc2Zvcm1RdWF0KHRoaXMuX3RlbXBWM0EsIG5vZGVDb25zdHJhaW50LmF4aXMsIGRzdFJlc3RRdWF0KTtcclxuICAgICAgICAgICAgICAgICAgICB2ZWMzLnRyYW5zZm9ybVF1YXQoZnJvbVZlYywgZnJvbVZlYywgZHN0UGFyZW50V29ybGRRdWF0KTtcclxuICAgICAgICAgICAgICAgICAgICAvKiB0b1ZlYyA9ICggc3JjV29ybGRQb3MgLSBkc3RXb3JsZFBvcyApLm5vcm1hbGl6ZWQgKi9cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0b1ZlYyA9IG5vZGVDb25zdHJhaW50LnNvdXJjZS5nZXRUcmFuc2xhdGlvbldvcmxkKHRoaXMuX3RlbXBWM0IpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZlYzMuc3ViKHRvVmVjLCB0b1ZlYywgbm9kZUNvbnN0cmFpbnQuZGVzdGluYXRpb24uZ2V0VHJhbnNsYXRpb25Xb3JsZCh0aGlzLl90ZW1wVjMpKTtcclxuICAgICAgICAgICAgICAgICAgICB2ZWMzLm5vcm1hbGl6ZSh0b1ZlYywgdG9WZWMpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8qIGZyb21Ub1F1YXQgPSBRdWF0ZXJuaW9uLmZyb21Ub1JvdGF0aW9uKCBmcm9tVmVjLCB0b1ZlYyApICovXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZnJvbVRvUXVhdCA9IHF1YXQucm90YXRpb25Ubyh0aGlzLl90ZW1wUXVhdEEsIGZyb21WZWMsIHRvVmVjKTtcclxuICAgICAgICAgICAgICAgICAgICBxdWF0Lm11bCh0YXJnZXRRdWF0LCBxdWF0LmludmVydCh0aGlzLl90ZW1wUXVhdCwgZHN0UGFyZW50V29ybGRRdWF0KSwgZnJvbVRvUXVhdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcXVhdC5tdWwodGFyZ2V0UXVhdCwgdGFyZ2V0UXVhdCwgZHN0UGFyZW50V29ybGRRdWF0KTtcclxuICAgICAgICAgICAgICAgICAgICBxdWF0Lm11bCh0YXJnZXRRdWF0LCB0YXJnZXRRdWF0LCBkc3RSZXN0UXVhdCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAncm90YXRpb24nOlxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNyY0RlbHRhUXVhdCA9IHF1YXQubXVsKHRhcmdldFF1YXQsIHNyY1Jlc3RRdWF0SW52LCBub2RlQ29uc3RyYWludC5zb3VyY2Uucm90YXRpb25Mb2NhbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcXVhdC5tdWwodGFyZ2V0UXVhdCwgZHN0UmVzdFF1YXQsIHNyY0RlbHRhUXVhdCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgLyogQXBwbHkgY29uc3RyYWludCAqL1xyXG4gICAgICAgIHF1YXQuc2xlcnAodGFyZ2V0UXVhdCwgZHN0UmVzdFF1YXQsIHRhcmdldFF1YXQsIG5vZGVDb25zdHJhaW50LndlaWdodCk7XHJcbiAgICAgICAgbm9kZUNvbnN0cmFpbnQuZGVzdGluYXRpb24ucm90YXRpb25Mb2NhbCA9IHRhcmdldFF1YXQ7XHJcbiAgICB9XHJcbiAgICBfdXBkYXRlU3ByaW5nQm9uZXMoZHQpIHtcclxuICAgICAgICAvKiBQcmUtY29tcHV0ZSBjb2xsaWRlciBwb3NpdGlvbnMgKi9cclxuICAgICAgICB0aGlzLl9zcGhlcmVDb2xsaWRlcnMuZm9yRWFjaCgoeyBvYmplY3QsIHNoYXBlLCBjYWNoZSB9KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IHZlYzMuY29weShjYWNoZS5oZWFkLCBzaGFwZS5vZmZzZXQpO1xyXG4gICAgICAgICAgICBvYmplY3QudHJhbnNmb3JtVmVjdG9yV29ybGQob2Zmc2V0KTtcclxuICAgICAgICAgICAgdmVjMy5hZGQoY2FjaGUuaGVhZCwgb2JqZWN0LmdldFRyYW5zbGF0aW9uV29ybGQodGhpcy5fdGVtcFYzKSwgb2Zmc2V0KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLl9jYXBzdWxlQ29sbGlkZXJzLmZvckVhY2goKHsgb2JqZWN0LCBzaGFwZSwgY2FjaGUgfSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBzaGFwZUNlbnRlciA9IG9iamVjdC5nZXRUcmFuc2xhdGlvbldvcmxkKHRoaXMuX3RlbXBWM0EpO1xyXG4gICAgICAgICAgICBjb25zdCBoZWFkT2Zmc2V0ID0gdmVjMy5jb3B5KGNhY2hlLmhlYWQsIHNoYXBlLm9mZnNldCk7XHJcbiAgICAgICAgICAgIG9iamVjdC50cmFuc2Zvcm1WZWN0b3JXb3JsZChoZWFkT2Zmc2V0KTtcclxuICAgICAgICAgICAgdmVjMy5hZGQoY2FjaGUuaGVhZCwgc2hhcGVDZW50ZXIsIGhlYWRPZmZzZXQpO1xyXG4gICAgICAgICAgICBjb25zdCB0YWlsT2Zmc2V0ID0gdmVjMy5jb3B5KGNhY2hlLnRhaWwsIHNoYXBlLnRhaWwpO1xyXG4gICAgICAgICAgICBvYmplY3QudHJhbnNmb3JtVmVjdG9yV29ybGQodGFpbE9mZnNldCk7XHJcbiAgICAgICAgICAgIHZlYzMuYWRkKGNhY2hlLnRhaWwsIHNoYXBlQ2VudGVyLCB0YWlsT2Zmc2V0KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKiBVcGRhdGUgc3ByaW5nIGNoYWlucyAqL1xyXG4gICAgICAgIHRoaXMuX3NwcmluZ0NoYWlucy5mb3JFYWNoKChzcHJpbmdDaGFpbikgPT4ge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNwcmluZ0NoYWluLmpvaW50cy5sZW5ndGggLSAxOyArK2kpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGpvaW50ID0gc3ByaW5nQ2hhaW4uam9pbnRzW2ldO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50V29ybGRSb3RhdGlvbiA9IGpvaW50Lm5vZGUucGFyZW50XHJcbiAgICAgICAgICAgICAgICAgICAgPyBqb2ludC5ub2RlLnBhcmVudC5yb3RhdGlvbldvcmxkXHJcbiAgICAgICAgICAgICAgICAgICAgOiB0aGlzLl9pZGVudGl0eVF1YXQ7XHJcbiAgICAgICAgICAgICAgICAvKiAxLiBGb3JjZXMgKi9cclxuICAgICAgICAgICAgICAgIC8qIGluZXJ0aWEgPSAoY3VycmVudFRhaWwgLSBwcmV2VGFpbCkgKiAoMS4wZiAtIGRyYWdGb3JjZSk7ICovXHJcbiAgICAgICAgICAgICAgICBjb25zdCBpbmVydGlhID0gdGhpcy5faW5lcnRpYTtcclxuICAgICAgICAgICAgICAgIGlmIChzcHJpbmdDaGFpbi5jZW50ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICB2ZWMzLnN1YihpbmVydGlhLCBqb2ludC5zdGF0ZS5jdXJyZW50VGFpbENlbnRlciwgam9pbnQuc3RhdGUucHJldlRhaWxDZW50ZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNwcmluZ0NoYWluLmNlbnRlci50cmFuc2Zvcm1WZWN0b3JXb3JsZChpbmVydGlhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHZlYzMuc3ViKGluZXJ0aWEsIGpvaW50LnN0YXRlLmN1cnJlbnRUYWlsLCBqb2ludC5zdGF0ZS5wcmV2VGFpbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2ZWMzLnNjYWxlKGluZXJ0aWEsIGluZXJ0aWEsIDEuMCAtIGpvaW50LmRyYWdGb3JjZSk7XHJcbiAgICAgICAgICAgICAgICAvKiBzdGlmZm5lc3MgPSBkZWx0YVRpbWUgKiBwYXJlbnRXb3JsZFJvdGF0aW9uICogbG9jYWxSb3RhdGlvbiAqIGJvbmVBeGlzICogc3RpZmZuZXNzRm9yY2U7ICovXHJcbiAgICAgICAgICAgICAgICBjb25zdCBzdGlmZm5lc3MgPSB2ZWMzLmNvcHkodGhpcy5fc3RpZmZuZXNzLCBqb2ludC5zdGF0ZS5ib25lQXhpcyk7XHJcbiAgICAgICAgICAgICAgICB2ZWMzLnRyYW5zZm9ybVF1YXQoc3RpZmZuZXNzLCBzdGlmZm5lc3MsIGpvaW50LnN0YXRlLmluaXRpYWxMb2NhbFJvdGF0aW9uKTtcclxuICAgICAgICAgICAgICAgIHZlYzMudHJhbnNmb3JtUXVhdChzdGlmZm5lc3MsIHN0aWZmbmVzcywgcGFyZW50V29ybGRSb3RhdGlvbik7XHJcbiAgICAgICAgICAgICAgICB2ZWMzLnNjYWxlKHN0aWZmbmVzcywgc3RpZmZuZXNzLCBkdCAqIGpvaW50LnN0aWZmbmVzcyk7XHJcbiAgICAgICAgICAgICAgICAvKiBleHRlcm5hbCA9IGRlbHRhVGltZSAqIGdyYXZpdHlEaXIgKiBncmF2aXR5UG93ZXI7ICovXHJcbiAgICAgICAgICAgICAgICBjb25zdCBleHRlcm5hbCA9IHZlYzMuc2NhbGUodGhpcy5fZXh0ZXJuYWwsIGpvaW50LmdyYXZpdHlEaXIsIGR0ICogam9pbnQuZ3Jhdml0eVBvd2VyKTtcclxuICAgICAgICAgICAgICAgIC8qIG5leHRUYWlsID0gY3VycmVudFRhaWwgKyBpbmVydGlhICsgc3RpZmZuZXNzICsgZXh0ZXJuYWw7ICovXHJcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0VGFpbCA9IHZlYzMuY29weSh0aGlzLl90ZW1wVjNBLCBqb2ludC5zdGF0ZS5jdXJyZW50VGFpbCk7XHJcbiAgICAgICAgICAgICAgICB2ZWMzLmFkZChuZXh0VGFpbCwgbmV4dFRhaWwsIGluZXJ0aWEpO1xyXG4gICAgICAgICAgICAgICAgdmVjMy5hZGQobmV4dFRhaWwsIG5leHRUYWlsLCBzdGlmZm5lc3MpO1xyXG4gICAgICAgICAgICAgICAgdmVjMy5hZGQobmV4dFRhaWwsIG5leHRUYWlsLCBleHRlcm5hbCk7XHJcbiAgICAgICAgICAgICAgICAvKiBjb25zdHJhaW4gdGhlIGxlbmd0aCAqL1xyXG4gICAgICAgICAgICAgICAgLyogbmV4dFRhaWwgPSB3b3JsZFBvc2l0aW9uICsgKG5leHRUYWlsIC0gd29ybGRQb3NpdGlvbikubm9ybWFsaXplZCAqIGJvbmVMZW5ndGg7ICovXHJcbiAgICAgICAgICAgICAgICBjb25zdCB3b3JsZFBvc2l0aW9uID0gam9pbnQubm9kZS5nZXRUcmFuc2xhdGlvbldvcmxkKHRoaXMuX3RlbXBWM0IpO1xyXG4gICAgICAgICAgICAgICAgdmVjMy5zdWIobmV4dFRhaWwsIG5leHRUYWlsLCB3b3JsZFBvc2l0aW9uKTtcclxuICAgICAgICAgICAgICAgIHZlYzMubm9ybWFsaXplKG5leHRUYWlsLCBuZXh0VGFpbCk7XHJcbiAgICAgICAgICAgICAgICB2ZWMzLnNjYWxlQW5kQWRkKG5leHRUYWlsLCB3b3JsZFBvc2l0aW9uLCBuZXh0VGFpbCwgam9pbnQuc3RhdGUuYm9uZUxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICAvKiAyLiBDb2xsaXNpb24gd2l0aCBjb2xsaWRlcnMgKi9cclxuICAgICAgICAgICAgICAgIC8qIFNwaGVyZSBjb2xsaWRlcnMgKi9cclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgeyBzaGFwZSwgY2FjaGUgfSBvZiBzcHJpbmdDaGFpbi5zcGhlcmVDb2xsaWRlcnMpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdGFpbFRvU2hhcGUgPSB0aGlzLl90YWlsVG9TaGFwZTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzcGhlcmVDZW50ZXIgPSBjYWNoZS5oZWFkO1xyXG4gICAgICAgICAgICAgICAgICAgIHRhaWxUb1NoYXBlID0gdmVjMy5zdWIodGFpbFRvU2hhcGUsIG5leHRUYWlsLCBzcGhlcmVDZW50ZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhZGl1cyA9IHNoYXBlLnJhZGl1cyArIGpvaW50LmhpdFJhZGl1cztcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkaXN0ID0gdmVjMy5sZW5ndGgodGFpbFRvU2hhcGUpIC0gcmFkaXVzO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXN0IDwgMC4wKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlYzMubm9ybWFsaXplKHRhaWxUb1NoYXBlLCB0YWlsVG9TaGFwZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlYzMuc2NhbGVBbmRBZGQobmV4dFRhaWwsIG5leHRUYWlsLCB0YWlsVG9TaGFwZSwgLWRpc3QpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBjb25zdHJhaW50IHRoZSBsZW5ndGggKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmVjMy5zdWIobmV4dFRhaWwsIG5leHRUYWlsLCB3b3JsZFBvc2l0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmVjMy5ub3JtYWxpemUobmV4dFRhaWwsIG5leHRUYWlsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmVjMy5zY2FsZUFuZEFkZChuZXh0VGFpbCwgd29ybGRQb3NpdGlvbiwgbmV4dFRhaWwsIGpvaW50LnN0YXRlLmJvbmVMZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8qIENhcHN1bGUgY29sbGlkZXJzICovXHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHsgc2hhcGUsIGNhY2hlIH0gb2Ygc3ByaW5nQ2hhaW4uY2Fwc3VsZUNvbGxpZGVycykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB0YWlsVG9TaGFwZSA9IHRoaXMuX3RhaWxUb1NoYXBlO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhlYWQgPSBjYWNoZS5oZWFkO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhaWwgPSBjYWNoZS50YWlsO1xyXG4gICAgICAgICAgICAgICAgICAgIC8qIE5haXZlbHkgc3RhcnQgd2l0aCBkaXN0YW5jZSB0byB0aGUgaGVhZCAqL1xyXG4gICAgICAgICAgICAgICAgICAgIHRhaWxUb1NoYXBlID0gdmVjMy5zdWIodGFpbFRvU2hhcGUsIG5leHRUYWlsLCBoZWFkKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBoZWFkVG9UYWlsID0gdmVjMy5zdWIodGhpcy5faGVhZFRvVGFpbCwgdGFpbCwgaGVhZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZG90ID0gdmVjMy5kb3QoaGVhZFRvVGFpbCwgdGFpbFRvU2hhcGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2ZWMzLnNxdWFyZWRMZW5ndGgoaGVhZFRvVGFpbCkgPD0gZG90KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIENsb3Nlc3QgdG8gdGFpbCAqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZWMzLnN1Yih0YWlsVG9TaGFwZSwgbmV4dFRhaWwsIHRhaWwpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChkb3QgPiAwLjApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLyogQ2xvc2VzdCB0byBtaWRkbGUgKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmVjMy5zY2FsZShoZWFkVG9UYWlsLCBoZWFkVG9UYWlsLCBkb3QgLyB2ZWMzLnNxdWFyZWRMZW5ndGgoaGVhZFRvVGFpbCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZWMzLnN1Yih0YWlsVG9TaGFwZSwgdGFpbFRvU2hhcGUsIGhlYWRUb1RhaWwpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCByYWRpdXMgPSBzaGFwZS5yYWRpdXMgKyBqb2ludC5oaXRSYWRpdXM7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlzdCA9IHZlYzMubGVuZ3RoKHRhaWxUb1NoYXBlKSAtIHJhZGl1cztcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGlzdCA8IDAuMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZWMzLm5vcm1hbGl6ZSh0YWlsVG9TaGFwZSwgdGFpbFRvU2hhcGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZWMzLnNjYWxlQW5kQWRkKG5leHRUYWlsLCBuZXh0VGFpbCwgdGFpbFRvU2hhcGUsIC1kaXN0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLyogY29uc3RyYWludCB0aGUgbGVuZ3RoICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlYzMuc3ViKG5leHRUYWlsLCBuZXh0VGFpbCwgd29ybGRQb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlYzMubm9ybWFsaXplKG5leHRUYWlsLCBuZXh0VGFpbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlYzMuc2NhbGVBbmRBZGQobmV4dFRhaWwsIHdvcmxkUG9zaXRpb24sIG5leHRUYWlsLCBqb2ludC5zdGF0ZS5ib25lTGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvKiAzLiBBcHBseWluZyByb3RhdGlvbiAqL1xyXG4gICAgICAgICAgICAgICAgdmVjMy5jb3B5KGpvaW50LnN0YXRlLnByZXZUYWlsLCBqb2ludC5zdGF0ZS5jdXJyZW50VGFpbCk7XHJcbiAgICAgICAgICAgICAgICB2ZWMzLmNvcHkoam9pbnQuc3RhdGUuY3VycmVudFRhaWwsIG5leHRUYWlsKTtcclxuICAgICAgICAgICAgICAgIGlmIChzcHJpbmdDaGFpbi5jZW50ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICB2ZWMzLmNvcHkoam9pbnQuc3RhdGUucHJldlRhaWxDZW50ZXIsIGpvaW50LnN0YXRlLmN1cnJlbnRUYWlsQ2VudGVyKTtcclxuICAgICAgICAgICAgICAgICAgICB2ZWMzLmNvcHkoam9pbnQuc3RhdGUuY3VycmVudFRhaWxDZW50ZXIsIG5leHRUYWlsKTtcclxuICAgICAgICAgICAgICAgICAgICBzcHJpbmdDaGFpbi5jZW50ZXIudHJhbnNmb3JtUG9pbnRJbnZlcnNlV29ybGQoam9pbnQuc3RhdGUuY3VycmVudFRhaWxDZW50ZXIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLyogdG8gPSAobmV4dFRhaWwgKiAobm9kZS5wYXJlbnQud29ybGRNYXRyaXggKiBpbml0aWFsTG9jYWxNYXRyaXgpLmludmVyc2UpLm5vcm1hbGl6ZWQgKi9cclxuICAgICAgICAgICAgICAgIGpvaW50Lm5vZGUucGFyZW50LnRyYW5zZm9ybVBvaW50SW52ZXJzZVdvcmxkKG5leHRUYWlsKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5leHRUYWlsRHVhbFF1YXQgPSBxdWF0Mi5mcm9tVHJhbnNsYXRpb24odGhpcy5fdGVtcFF1YXQyLCBuZXh0VGFpbCk7XHJcbiAgICAgICAgICAgICAgICBxdWF0Mi5tdWx0aXBseShuZXh0VGFpbER1YWxRdWF0LCBqb2ludC5zdGF0ZS5pbml0aWFsTG9jYWxUcmFuc2Zvcm1JbnZlcnQsIG5leHRUYWlsRHVhbFF1YXQpO1xyXG4gICAgICAgICAgICAgICAgcXVhdDIuZ2V0VHJhbnNsYXRpb24obmV4dFRhaWwsIG5leHRUYWlsRHVhbFF1YXQpO1xyXG4gICAgICAgICAgICAgICAgdmVjMy5ub3JtYWxpemUobmV4dFRhaWwsIG5leHRUYWlsKTtcclxuICAgICAgICAgICAgICAgIC8qIG5vZGUucm90YXRpb24gPSBpbml0aWFsTG9jYWxSb3RhdGlvbiAqIFF1YXRlcm5pb24uZnJvbVRvUXVhdGVybmlvbihib25lQXhpcywgdG8pOyAqL1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgam9pbnRSb3RhdGlvbiA9IHF1YXQucm90YXRpb25Ubyh0aGlzLl90ZW1wUXVhdEEsIGpvaW50LnN0YXRlLmJvbmVBeGlzLCBuZXh0VGFpbCk7XHJcbiAgICAgICAgICAgICAgICBqb2ludC5ub2RlLnJvdGF0aW9uTG9jYWwgPSBxdWF0Lm11bCh0aGlzLl90ZW1wUXVhdEEsIGpvaW50LnN0YXRlLmluaXRpYWxMb2NhbFJvdGF0aW9uLCBqb2ludFJvdGF0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGZpcnN0UGVyc29uIFdoZXRoZXIgdGhlIG1vZGVsIHNob3VsZCByZW5kZXIgZm9yIGZpcnN0IHBlcnNvbiBvciB0aGlyZCBwZXJzb24gdmlld3NcclxuICAgICAqL1xyXG4gICAgc2V0IGZpcnN0UGVyc29uKGZpcnN0UGVyc29uKSB7XHJcbiAgICAgICAgdGhpcy5fZmlyc3RQZXJzb25Bbm5vdGF0aW9ucy5mb3JFYWNoKChhbm5vdGF0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHZpc2libGUgPSBmaXJzdFBlcnNvbiA9PSBhbm5vdGF0aW9uLmZpcnN0UGVyc29uIHx8XHJcbiAgICAgICAgICAgICAgICBmaXJzdFBlcnNvbiAhPSBhbm5vdGF0aW9uLnRoaXJkUGVyc29uO1xyXG4gICAgICAgICAgICBhbm5vdGF0aW9uLm5vZGUuZ2V0Q29tcG9uZW50cygnbWVzaCcpLmZvckVhY2goKG1lc2gpID0+IHtcclxuICAgICAgICAgICAgICAgIG1lc2guYWN0aXZlID0gdmlzaWJsZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IHsgVnJtIH07XHJcbiIsICJpbXBvcnQgeyB2ZWMzIH0gZnJvbSAnZ2wtbWF0cml4JztcclxuaW1wb3J0IHsgQ29tcG9uZW50LCBUeXBlIH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuY29uc3QgX2RpcmVjdGlvbiA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbi8qKlxyXG4gKiBCYXNpYyBtb3ZlbWVudCB3aXRoIFcvQS9TL0Qga2V5cy5cclxuICovXHJcbmNsYXNzIFdhc2RDb250cm9sc0NvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnd2FzZC1jb250cm9scyc7XHJcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcclxuICAgICAgICAvKiogTW92ZW1lbnQgc3BlZWQgaW4gbS9zLiAqL1xyXG4gICAgICAgIHNwZWVkOiB7IHR5cGU6IFR5cGUuRmxvYXQsIGRlZmF1bHQ6IDAuMSB9LFxyXG4gICAgICAgIC8qKiBGbGFnIGZvciBvbmx5IG1vdmluZyB0aGUgb2JqZWN0IG9uIHRoZSBnbG9iYWwgeCAmIHogcGxhbmVzICovXHJcbiAgICAgICAgbG9ja1k6IHsgdHlwZTogVHlwZS5Cb29sLCBkZWZhdWx0OiBmYWxzZSB9LFxyXG4gICAgICAgIC8qKiBPYmplY3Qgb2Ygd2hpY2ggdGhlIG9yaWVudGF0aW9uIGlzIHVzZWQgdG8gZGV0ZXJtaW5lIGZvcndhcmQgZGlyZWN0aW9uICovXHJcbiAgICAgICAgaGVhZE9iamVjdDogeyB0eXBlOiBUeXBlLk9iamVjdCB9LFxyXG4gICAgfTtcclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgdGhpcy51cCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucmlnaHQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmRvd24gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmxlZnQgPSBmYWxzZTtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMucHJlc3MuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5yZWxlYXNlLmJpbmQodGhpcykpO1xyXG4gICAgfVxyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgdGhpcy5oZWFkT2JqZWN0ID0gdGhpcy5oZWFkT2JqZWN0IHx8IHRoaXMub2JqZWN0O1xyXG4gICAgfVxyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIHZlYzMuemVybyhfZGlyZWN0aW9uKTtcclxuICAgICAgICBpZiAodGhpcy51cClcclxuICAgICAgICAgICAgX2RpcmVjdGlvblsyXSAtPSAxLjA7XHJcbiAgICAgICAgaWYgKHRoaXMuZG93bilcclxuICAgICAgICAgICAgX2RpcmVjdGlvblsyXSArPSAxLjA7XHJcbiAgICAgICAgaWYgKHRoaXMubGVmdClcclxuICAgICAgICAgICAgX2RpcmVjdGlvblswXSAtPSAxLjA7XHJcbiAgICAgICAgaWYgKHRoaXMucmlnaHQpXHJcbiAgICAgICAgICAgIF9kaXJlY3Rpb25bMF0gKz0gMS4wO1xyXG4gICAgICAgIHZlYzMubm9ybWFsaXplKF9kaXJlY3Rpb24sIF9kaXJlY3Rpb24pO1xyXG4gICAgICAgIF9kaXJlY3Rpb25bMF0gKj0gdGhpcy5zcGVlZDtcclxuICAgICAgICBfZGlyZWN0aW9uWzJdICo9IHRoaXMuc3BlZWQ7XHJcbiAgICAgICAgdmVjMy50cmFuc2Zvcm1RdWF0KF9kaXJlY3Rpb24sIF9kaXJlY3Rpb24sIHRoaXMuaGVhZE9iamVjdC50cmFuc2Zvcm1Xb3JsZCk7XHJcbiAgICAgICAgaWYgKHRoaXMubG9ja1kpIHtcclxuICAgICAgICAgICAgX2RpcmVjdGlvblsxXSA9IDA7XHJcbiAgICAgICAgICAgIHZlYzMubm9ybWFsaXplKF9kaXJlY3Rpb24sIF9kaXJlY3Rpb24pO1xyXG4gICAgICAgICAgICB2ZWMzLnNjYWxlKF9kaXJlY3Rpb24sIF9kaXJlY3Rpb24sIHRoaXMuc3BlZWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm9iamVjdC50cmFuc2xhdGVMb2NhbChfZGlyZWN0aW9uKTtcclxuICAgIH1cclxuICAgIHByZXNzKGUpIHtcclxuICAgICAgICBpZiAoZS5rZXlDb2RlID09PSAzOCAvKiB1cCAqLyB8fFxyXG4gICAgICAgICAgICBlLmtleUNvZGUgPT09IDg3IC8qIHcgKi8gfHxcclxuICAgICAgICAgICAgZS5rZXlDb2RlID09PSA5MCAvKiB6ICovKSB7XHJcbiAgICAgICAgICAgIHRoaXMudXAgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChlLmtleUNvZGUgPT09IDM5IC8qIHJpZ2h0ICovIHx8IGUua2V5Q29kZSA9PT0gNjggLyogZCAqLykge1xyXG4gICAgICAgICAgICB0aGlzLnJpZ2h0ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZS5rZXlDb2RlID09PSA0MCAvKiBkb3duICovIHx8IGUua2V5Q29kZSA9PT0gODMgLyogcyAqLykge1xyXG4gICAgICAgICAgICB0aGlzLmRvd24gPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChlLmtleUNvZGUgPT09IDM3IC8qIGxlZnQgKi8gfHxcclxuICAgICAgICAgICAgZS5rZXlDb2RlID09PSA2NSAvKiBhICovIHx8XHJcbiAgICAgICAgICAgIGUua2V5Q29kZSA9PT0gODEgLyogcSAqLykge1xyXG4gICAgICAgICAgICB0aGlzLmxlZnQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJlbGVhc2UoZSkge1xyXG4gICAgICAgIGlmIChlLmtleUNvZGUgPT09IDM4IC8qIHVwICovIHx8XHJcbiAgICAgICAgICAgIGUua2V5Q29kZSA9PT0gODcgLyogdyAqLyB8fFxyXG4gICAgICAgICAgICBlLmtleUNvZGUgPT09IDkwIC8qIHogKi8pIHtcclxuICAgICAgICAgICAgdGhpcy51cCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChlLmtleUNvZGUgPT09IDM5IC8qIHJpZ2h0ICovIHx8IGUua2V5Q29kZSA9PT0gNjggLyogZCAqLykge1xyXG4gICAgICAgICAgICB0aGlzLnJpZ2h0ID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGUua2V5Q29kZSA9PT0gNDAgLyogZG93biAqLyB8fCBlLmtleUNvZGUgPT09IDgzIC8qIHMgKi8pIHtcclxuICAgICAgICAgICAgdGhpcy5kb3duID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGUua2V5Q29kZSA9PT0gMzcgLyogbGVmdCAqLyB8fFxyXG4gICAgICAgICAgICBlLmtleUNvZGUgPT09IDY1IC8qIGEgKi8gfHxcclxuICAgICAgICAgICAgZS5rZXlDb2RlID09PSA4MSAvKiBxICovKSB7XHJcbiAgICAgICAgICAgIHRoaXMubGVmdCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnQgeyBXYXNkQ29udHJvbHNDb21wb25lbnQgfTtcclxuIiwgImltcG9ydCB7Q29tcG9uZW50LCBJbnB1dENvbXBvbmVudCwgTWVzaENvbXBvbmVudCwgUHJvcGVydHl9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbmltcG9ydCB7Q3Vyc29yVGFyZ2V0LCBIb3dsZXJBdWRpb1NvdXJjZX0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cyc7XHJcblxyXG4vKipcclxuICogSGVscGVyIGZ1bmN0aW9uIHRvIHRyaWdnZXIgaGFwdGljIGZlZWRiYWNrIHB1bHNlLlxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IEFuIG9iamVjdCB3aXRoICdpbnB1dCcgY29tcG9uZW50IGF0dGFjaGVkXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJlbmd0aCBTdHJlbmd0aCBmcm9tIDAuMCAtIDEuMFxyXG4gKiBAcGFyYW0ge251bWJlcn0gZHVyYXRpb24gRHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaGFwdGljRmVlZGJhY2sob2JqZWN0LCBzdHJlbmd0aCwgZHVyYXRpb24pIHtcclxuICAgIGNvbnN0IGlucHV0ID0gb2JqZWN0LmdldENvbXBvbmVudChJbnB1dENvbXBvbmVudCk7XHJcbiAgICBpZiAoaW5wdXQgJiYgaW5wdXQueHJJbnB1dFNvdXJjZSkge1xyXG4gICAgICAgIGNvbnN0IGdhbWVwYWQgPSBpbnB1dC54cklucHV0U291cmNlLmdhbWVwYWQ7XHJcbiAgICAgICAgaWYgKGdhbWVwYWQgJiYgZ2FtZXBhZC5oYXB0aWNBY3R1YXRvcnMpXHJcbiAgICAgICAgICAgIGdhbWVwYWQuaGFwdGljQWN0dWF0b3JzWzBdLnB1bHNlKHN0cmVuZ3RoLCBkdXJhdGlvbik7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBCdXR0b24gY29tcG9uZW50LlxyXG4gKlxyXG4gKiBTaG93cyBhICdob3Zlck1hdGVyaWFsJyBvbiBjdXJzb3IgaG92ZXIsIG1vdmVzIGJhY2t3YXJkIG9uIGN1cnNvciBkb3duLFxyXG4gKiByZXR1cm5zIHRvIGl0cyBwb3NpdGlvbiBvbiBjdXJzb3IgdXAsIHBsYXlzIGNsaWNrL3VuY2xpY2sgc291bmRzIGFuZCBoYXB0aWNcclxuICogZmVlZGJhY2sgb24gaG92ZXIuXHJcbiAqXHJcbiAqIFVzZSBgdGFyZ2V0Lm9uQ2xpY2suYWRkKCgpID0+IHt9KWAgb24gdGhlIGBjdXJzb3ItdGFyZ2V0YCBjb21wb25lbnQgdXNlZFxyXG4gKiB3aXRoIHRoZSBidXR0b24gdG8gZGVmaW5lIHRoZSBidXR0b24ncyBhY3Rpb24uXHJcbiAqXHJcbiAqIFN1cHBvcnRzIGludGVyYWN0aW9uIHdpdGggYGZpbmdlci1jdXJzb3JgIGNvbXBvbmVudCBmb3IgaGFuZCB0cmFja2luZy5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBCdXR0b25Db21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ2J1dHRvbic7XHJcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcclxuICAgICAgICAvKiogT2JqZWN0IHRoYXQgaGFzIHRoZSBidXR0b24ncyBtZXNoIGF0dGFjaGVkICovXHJcbiAgICAgICAgYnV0dG9uTWVzaE9iamVjdDogUHJvcGVydHkub2JqZWN0KCksXHJcbiAgICAgICAgLyoqIE1hdGVyaWFsIHRvIGFwcGx5IHdoZW4gdGhlIHVzZXIgaG92ZXJzIHRoZSBidXR0b24gKi9cclxuICAgICAgICBob3Zlck1hdGVyaWFsOiBQcm9wZXJ0eS5tYXRlcmlhbCgpLFxyXG4gICAgfTtcclxuXHJcbiAgICBzdGF0aWMgb25SZWdpc3RlcihlbmdpbmUpIHtcclxuICAgICAgICBlbmdpbmUucmVnaXN0ZXJDb21wb25lbnQoSG93bGVyQXVkaW9Tb3VyY2UpO1xyXG4gICAgICAgIGVuZ2luZS5yZWdpc3RlckNvbXBvbmVudChDdXJzb3JUYXJnZXQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qIFBvc2l0aW9uIHRvIHJldHVybiB0byB3aGVuIFwidW5wcmVzc2luZ1wiIHRoZSBidXR0b24gKi9cclxuICAgIHJldHVyblBvcyA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcblxyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgdGhpcy5tZXNoID0gdGhpcy5idXR0b25NZXNoT2JqZWN0LmdldENvbXBvbmVudChNZXNoQ29tcG9uZW50KTtcclxuICAgICAgICB0aGlzLmRlZmF1bHRNYXRlcmlhbCA9IHRoaXMubWVzaC5tYXRlcmlhbDtcclxuICAgICAgICB0aGlzLmJ1dHRvbk1lc2hPYmplY3QuZ2V0VHJhbnNsYXRpb25Mb2NhbCh0aGlzLnJldHVyblBvcyk7XHJcblxyXG4gICAgICAgIHRoaXMudGFyZ2V0ID1cclxuICAgICAgICAgICAgdGhpcy5vYmplY3QuZ2V0Q29tcG9uZW50KEN1cnNvclRhcmdldCkgfHxcclxuICAgICAgICAgICAgdGhpcy5vYmplY3QuYWRkQ29tcG9uZW50KEN1cnNvclRhcmdldCk7XHJcblxyXG4gICAgICAgIHRoaXMuc291bmRDbGljayA9IHRoaXMub2JqZWN0LmFkZENvbXBvbmVudChIb3dsZXJBdWRpb1NvdXJjZSwge1xyXG4gICAgICAgICAgICBzcmM6ICdzZngvY2xpY2sud2F2JyxcclxuICAgICAgICAgICAgc3BhdGlhbDogdHJ1ZSxcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnNvdW5kVW5DbGljayA9IHRoaXMub2JqZWN0LmFkZENvbXBvbmVudChIb3dsZXJBdWRpb1NvdXJjZSwge1xyXG4gICAgICAgICAgICBzcmM6ICdzZngvdW5jbGljay53YXYnLFxyXG4gICAgICAgICAgICBzcGF0aWFsOiB0cnVlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIG9uQWN0aXZhdGUoKSB7XHJcbiAgICAgICAgdGhpcy50YXJnZXQub25Ib3Zlci5hZGQodGhpcy5vbkhvdmVyKTtcclxuICAgICAgICB0aGlzLnRhcmdldC5vblVuaG92ZXIuYWRkKHRoaXMub25VbmhvdmVyKTtcclxuICAgICAgICB0aGlzLnRhcmdldC5vbkRvd24uYWRkKHRoaXMub25Eb3duKTtcclxuICAgICAgICB0aGlzLnRhcmdldC5vblVwLmFkZCh0aGlzLm9uVXApO1xyXG4gICAgfVxyXG5cclxuICAgIG9uRGVhY3RpdmF0ZSgpIHtcclxuICAgICAgICB0aGlzLnRhcmdldC5vbkhvdmVyLnJlbW92ZSh0aGlzLm9uSG92ZXIpO1xyXG4gICAgICAgIHRoaXMudGFyZ2V0Lm9uVW5ob3Zlci5yZW1vdmUodGhpcy5vblVuaG92ZXIpO1xyXG4gICAgICAgIHRoaXMudGFyZ2V0Lm9uRG93bi5yZW1vdmUodGhpcy5vbkRvd24pO1xyXG4gICAgICAgIHRoaXMudGFyZ2V0Lm9uVXAucmVtb3ZlKHRoaXMub25VcCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyogQ2FsbGVkIGJ5ICdjdXJzb3ItdGFyZ2V0JyAqL1xyXG4gICAgb25Ib3ZlciA9IChfLCBjdXJzb3IpID0+IHtcclxuICAgICAgICB0aGlzLm1lc2gubWF0ZXJpYWwgPSB0aGlzLmhvdmVyTWF0ZXJpYWw7XHJcbiAgICAgICAgaWYgKGN1cnNvci50eXBlID09PSAnZmluZ2VyLWN1cnNvcicpIHtcclxuICAgICAgICAgICAgdGhpcy5vbkRvd24oXywgY3Vyc29yKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGhhcHRpY0ZlZWRiYWNrKGN1cnNvci5vYmplY3QsIDAuNSwgNTApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qIENhbGxlZCBieSAnY3Vyc29yLXRhcmdldCcgKi9cclxuICAgIG9uRG93biA9IChfLCBjdXJzb3IpID0+IHtcclxuICAgICAgICB0aGlzLnNvdW5kQ2xpY2sucGxheSgpO1xyXG4gICAgICAgIHRoaXMuYnV0dG9uTWVzaE9iamVjdC50cmFuc2xhdGUoWzAuMCwgLTAuMSwgMC4wXSk7XHJcbiAgICAgICAgaGFwdGljRmVlZGJhY2soY3Vyc29yLm9iamVjdCwgMS4wLCAyMCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyogQ2FsbGVkIGJ5ICdjdXJzb3ItdGFyZ2V0JyAqL1xyXG4gICAgb25VcCA9IChfLCBjdXJzb3IpID0+IHtcclxuICAgICAgICB0aGlzLnNvdW5kVW5DbGljay5wbGF5KCk7XHJcbiAgICAgICAgdGhpcy5idXR0b25NZXNoT2JqZWN0LnNldFRyYW5zbGF0aW9uTG9jYWwodGhpcy5yZXR1cm5Qb3MpO1xyXG4gICAgICAgIGhhcHRpY0ZlZWRiYWNrKGN1cnNvci5vYmplY3QsIDAuNywgMjApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qIENhbGxlZCBieSAnY3Vyc29yLXRhcmdldCcgKi9cclxuICAgIG9uVW5ob3ZlciA9IChfLCBjdXJzb3IpID0+IHtcclxuICAgICAgICB0aGlzLm1lc2gubWF0ZXJpYWwgPSB0aGlzLmRlZmF1bHRNYXRlcmlhbDtcclxuICAgICAgICBpZiAoY3Vyc29yLnR5cGUgPT09ICdmaW5nZXItY3Vyc29yJykge1xyXG4gICAgICAgICAgICB0aGlzLm9uVXAoXywgY3Vyc29yKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGhhcHRpY0ZlZWRiYWNrKGN1cnNvci5vYmplY3QsIDAuMywgNTApO1xyXG4gICAgfVxyXG59XHJcbiIsICJpbXBvcnQge0NvbXBvbmVudCwgUHJvcGVydHksIE1hdGVyaWFsLCBNZXNoQ29tcG9uZW50fSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xyXG5cclxuaW1wb3J0IHtUZXN0TWFuYWdlcn0gZnJvbSAnLi90ZXN0TWFuYWdlci5qcyc7XHJcblxyXG4vKipcclxuICogdGVzdFxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFRlc3QgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ3Rlc3QnO1xyXG4gICAgLyogUHJvcGVydGllcyB0aGF0IGFyZSBjb25maWd1cmFibGUgaW4gdGhlIGVkaXRvciAqL1xyXG4gICAgc3RhdGljIFByb3BlcnRpZXMgPSB7XHJcbiAgICAgICAgcGxheWVyMU1hdGVyaWFsOiBQcm9wZXJ0eS5tYXRlcmlhbCgpLFxyXG4gICAgICAgIHBsYXllcjJNYXRlcmlhbDogUHJvcGVydHkubWF0ZXJpYWwoKSxcclxuICAgICAgICBnYW1lTWFuYWdlcjogUHJvcGVydHkub2JqZWN0KClcclxuICAgIH07XHJcblxyXG4gICAgbWVzaENvbXBvbmVudDtcclxuICAgIGdhbWVNYW5hZ2VyO1xyXG5cclxuICAgIHBsYXllciA9ICcwJztcclxuICAgIFxyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKCdpbml0KCkgd2l0aCBwYXJhbScsIHRoaXMucGFyYW0pO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXJ0KCkge1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coJ3N0YXJ0KCkgd2l0aCBwYXJhbScsIHRoaXMucGFyYW0pO1xyXG5cclxuICAgICAgICB0aGlzLmN1cnNvclRhcmdldCA9IHRoaXMub2JqZWN0LmdldENvbXBvbmVudCgnY3Vyc29yLXRhcmdldCcpO1xyXG4gICAgICAgIHRoaXMuY3Vyc29yVGFyZ2V0LmFkZENsaWNrRnVuY3Rpb24odGhpcy5vbkNsaWNrLmJpbmQodGhpcykpO1xyXG5cclxuICAgICAgICB0aGlzLm1lc2hDb21wb25lbnQgPSB0aGlzLm9iamVjdC5nZXRDb21wb25lbnQoTWVzaENvbXBvbmVudCk7XHJcblxyXG4gICAgICAgIHRoaXMuZ2FtZU1hbmFnZXIgPSB0aGlzLmdhbWVNYW5hZ2VyLmdldENvbXBvbmVudChUZXN0TWFuYWdlcik7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKGR0KSB7XHJcbiAgICAgICAgLyogQ2FsbGVkIGV2ZXJ5IGZyYW1lLiAqL1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIG9uQ2xpY2soKXtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKFwiSGVsbG8gXCIrIHRoaXMub2JqZWN0Lm5hbWUpO1xyXG5cclxuICAgICAgICAvL2NsaWNrIGlnbm9yZVxyXG4gICAgICAgIGlmKHRoaXMubWVzaENvbXBvbmVudC5tYXRlcmlhbC5lcXVhbHModGhpcy5wbGF5ZXIxTWF0ZXJpYWwpIHx8IHRoaXMubWVzaENvbXBvbmVudC5tYXRlcmlhbC5lcXVhbHModGhpcy5wbGF5ZXIyTWF0ZXJpYWwpKXtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJjbGljayBpZ25vcmVcIik7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgaWYodGhpcy5nYW1lTWFuYWdlci5pc1BsYXllcjEgPT09IHRydWUpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tZXNoQ29tcG9uZW50Lm1hdGVyaWFsID0gdGhpcy5wbGF5ZXIxTWF0ZXJpYWw7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllciA9ICcxJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tZXNoQ29tcG9uZW50Lm1hdGVyaWFsID0gdGhpcy5wbGF5ZXIyTWF0ZXJpYWw7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllciA9ICcyJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9UZWxsIHRoZSBzZXJ2ZXIsIHRoYXQgdGhpcyBibG9jayB3YXMgY2xpY2tlZC5cclxuICAgICAgICB0aGlzLmdhbWVNYW5hZ2VyLmJsb2NrV2FzQ2xpY2tlZCgpO1xyXG4gICAgfVxyXG59XHJcbiIsICJpbXBvcnQge0NvbXBvbmVudCwgUHJvcGVydHksIE1lc2hDb21wb25lbnR9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbmltcG9ydCB7IFRlc3QgfSBmcm9tICcuL3Rlc3QnO1xyXG5cclxuLyoqXHJcbiAqIHRlc3RNYW5hZ2VyXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgVGVzdE1hbmFnZXIgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ3Rlc3RNYW5hZ2VyJztcclxuICAgIC8qIFByb3BlcnRpZXMgdGhhdCBhcmUgY29uZmlndXJhYmxlIGluIHRoZSBlZGl0b3IgKi9cclxuICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge1xyXG4gICAgICAgIC8vcGFyYW06IFByb3BlcnR5LmZsb2F0KDEuMClcclxuICAgICAgICBibG9jazA6IFByb3BlcnR5Lm9iamVjdCgpLFxyXG4gICAgICAgIGJsb2NrMTogUHJvcGVydHkub2JqZWN0KCksXHJcbiAgICAgICAgYmxvY2syOiBQcm9wZXJ0eS5vYmplY3QoKSxcclxuICAgICAgICBibG9jazM6IFByb3BlcnR5Lm9iamVjdCgpLFxyXG4gICAgICAgIGJsb2NrNDogUHJvcGVydHkub2JqZWN0KCksXHJcbiAgICAgICAgYmxvY2s1OiBQcm9wZXJ0eS5vYmplY3QoKSxcclxuICAgICAgICBibG9jazY6IFByb3BlcnR5Lm9iamVjdCgpLFxyXG4gICAgICAgIGJsb2NrNzogUHJvcGVydHkub2JqZWN0KCksXHJcbiAgICAgICAgYmxvY2s4OiBQcm9wZXJ0eS5vYmplY3QoKSAgICAgICAgXHJcbiAgICB9O1xyXG5cclxuICAgIGlzUGxheWVyMSA9IHRydWU7XHJcbiAgICBpc1dpbm5pbmcgPSBmYWxzZTtcclxuXHJcbiAgICBzdGF0aWMgb25SZWdpc3RlcihlbmdpbmUpIHtcclxuICAgICAgICAvKiBUcmlnZ2VyZWQgd2hlbiB0aGlzIGNvbXBvbmVudCBjbGFzcyBpcyByZWdpc3RlcmVkLlxyXG4gICAgICAgICAqIFlvdSBjYW4gZm9yIGluc3RhbmNlIHJlZ2lzdGVyIGV4dHJhIGNvbXBvbmVudCB0eXBlcyBoZXJlXHJcbiAgICAgICAgICogdGhhdCB5b3VyIGNvbXBvbmVudCBtYXkgY3JlYXRlLiAqL1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2luaXQoKSB3aXRoIHBhcmFtJywgdGhpcy5wYXJhbSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZygnc3RhcnQoKSB3aXRoIHBhcmFtJywgdGhpcy5wYXJhbSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5iMCA9IHRoaXMuYmxvY2swLmdldENvbXBvbmVudCgndGVzdCcpO1xyXG4gICAgICAgIHRoaXMuYjEgPSB0aGlzLmJsb2NrMS5nZXRDb21wb25lbnQoJ3Rlc3QnKTtcclxuICAgICAgICB0aGlzLmIyID0gdGhpcy5ibG9jazIuZ2V0Q29tcG9uZW50KCd0ZXN0Jyk7XHJcbiAgICAgICAgdGhpcy5iMyA9IHRoaXMuYmxvY2szLmdldENvbXBvbmVudCgndGVzdCcpO1xyXG4gICAgICAgIHRoaXMuYjQgPSB0aGlzLmJsb2NrNC5nZXRDb21wb25lbnQoJ3Rlc3QnKTtcclxuICAgICAgICB0aGlzLmI1ID0gdGhpcy5ibG9jazUuZ2V0Q29tcG9uZW50KCd0ZXN0Jyk7XHJcbiAgICAgICAgdGhpcy5iNiA9IHRoaXMuYmxvY2s2LmdldENvbXBvbmVudCgndGVzdCcpO1xyXG4gICAgICAgIHRoaXMuYjcgPSB0aGlzLmJsb2NrNy5nZXRDb21wb25lbnQoJ3Rlc3QnKTtcclxuICAgICAgICB0aGlzLmI4ID0gdGhpcy5ibG9jazguZ2V0Q29tcG9uZW50KCd0ZXN0Jyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5ibG9ja0FycmF5ID0gW1xyXG4gICAgICAgICAgICBbdGhpcy5iMCwgdGhpcy5iMSwgdGhpcy5iMl0sXHJcbiAgICAgICAgICAgIFt0aGlzLmIzLCB0aGlzLmI0LCB0aGlzLmI1XSxcclxuICAgICAgICAgICAgW3RoaXMuYjYsIHRoaXMuYjcsIHRoaXMuYjddXHJcbiAgICAgICAgXVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZShkdCkge1xyXG4gICAgICAgIC8qIENhbGxlZCBldmVyeSBmcmFtZS4gKi9cclxuICAgICAgICB0aGlzLmlzV2luKCk7XHJcbiAgICAgICAgdGhpcy5pc0JvYXJkRnVsbCgpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvL0NoZWNraW5nIHdobyBpcyB3aW5uZXJcclxuICAgIGlzV2luKCkge1xyXG4gICAgICAgIFxyXG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCAzOyBpKyspe1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy9Ib3Jpem9udGFsIENoZWNrXHJcbiAgICAgICAgICAgIGlmKHRoaXMuYmxvY2tBcnJheVtpXVswXS5wbGF5ZXIgIT09ICcwJyl7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vUGxheWVyMSB3aW5cclxuICAgICAgICAgICAgICAgIGlmKHRoaXMuYmxvY2tBcnJheVtpXVswXS5wbGF5ZXIgPT09ICcxJyAmJiB0aGlzLmJsb2NrQXJyYXlbaV1bMV0ucGxheWVyID09PSAnMScgJiYgdGhpcy5ibG9ja0FycmF5W2ldWzJdLnBsYXllciA9PT0gJzEnKXtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzV2lubmluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJQbGF5ZXIxIGlzIHdpbm5lclwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvL1BsYXllcjIgd2luXHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLmJsb2NrQXJyYXlbaV1bMF0ucGxheWVyID09PSAnMicgJiYgdGhpcy5ibG9ja0FycmF5W2ldWzFdLnBsYXllciA9PT0gJzInICYmIHRoaXMuYmxvY2tBcnJheVtpXVsyXS5wbGF5ZXIgPT09ICcyJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc1dpbm5pbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUGxheWVyMiBpcyB3aW5uZXJcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vVmVydGljYWwgQ2hlY2tcclxuICAgICAgICAgICAgaWYodGhpcy5ibG9ja0FycmF5WzBdW2ldLnBsYXllciAhPT0gJzAnKXtcclxuXHJcbiAgICAgICAgICAgICAgICAvL1BsYXllcjEgd2luXHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLmJsb2NrQXJyYXlbMF1baV0ucGxheWVyID09PSAnMScgJiYgdGhpcy5ibG9ja0FycmF5WzFdW2ldLnBsYXllciA9PT0gJzEnICYmIHRoaXMuYmxvY2tBcnJheVsyXVtpXS5wbGF5ZXIgPT09ICcxJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc1dpbm5pbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUGxheWVyMSBpcyB3aW5uZXJcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy9QbGF5ZXIyIHdpblxyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5ibG9ja0FycmF5WzBdW2ldLnBsYXllciA9PT0gJzInICYmIHRoaXMuYmxvY2tBcnJheVsxXVtpXS5wbGF5ZXIgPT09ICcyJyAmJiB0aGlzLmJsb2NrQXJyYXlbMl1baV0ucGxheWVyID09PSAnMicpe1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNXaW5uaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlBsYXllcjIgaXMgd2lubmVyXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vQ2hlY2tpbmcgYm9hcmQgaXMgZnVsbFxyXG4gICAgaXNCb2FyZEZ1bGwoKXsgICBcclxuICAgICAgICBpZih0aGlzLmlzV2lubmluZyA9PT0gZmFsc2Upe1xyXG4gICAgICAgICAgICBpZih0aGlzLmJsb2NrQXJyYXlbMF1bMF0ucGxheWVyICE9PSAnMCcgJiYgdGhpcy5ibG9ja0FycmF5WzBdWzFdLnBsYXllciAhPT0gJzAnICYmIHRoaXMuYmxvY2tBcnJheVswXVsyXS5wbGF5ZXIgIT09ICcwJyAmJiB0aGlzLmJsb2NrQXJyYXlbMV1bMF0ucGxheWVyICE9PSAnMCcgJiYgdGhpcy5ibG9ja0FycmF5WzFdWzFdLnBsYXllciAhPT0gJzAnICYmIHRoaXMuYmxvY2tBcnJheVsxXVsyXS5wbGF5ZXIgIT09ICcwJyAmJiB0aGlzLmJsb2NrQXJyYXlbMl1bMF0ucGxheWVyICE9PSAnMCcgJiYgdGhpcy5ibG9ja0FycmF5WzJdWzFdLnBsYXllciAhPT0gJzAnICYmIHRoaXMuYmxvY2tBcnJheVsyXVsyXS5wbGF5ZXIgIT09ICcwJyl7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkJvYXJkIGlzIGZ1bGxcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy90dXJuIHBsYXllclxyXG4gICAgYmxvY2tXYXNDbGlja2VkKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLmlzUGxheWVyMSA9ICF0aGlzLmlzUGxheWVyMTtcclxuICAgIH1cclxufVxyXG4iLCAiaW1wb3J0ICogYXMgX193b25kZXJsYW5kZW5naW5lX2NvbXBvbmVudHMgZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cyc7XG5fcmVnaXN0ZXJFZGl0b3IoX193b25kZXJsYW5kZW5naW5lX2NvbXBvbmVudHMpO1xuaW1wb3J0ICogYXMgX0VfX2dpdF9UZXN0X1dvbmRlcmxhbmRFbmdpbmVfanNfYnV0dG9uX2pzIGZyb20gJ0U6L2dpdC9UZXN0X1dvbmRlcmxhbmRFbmdpbmUvanMvYnV0dG9uLmpzJztcbl9yZWdpc3RlckVkaXRvcihfRV9fZ2l0X1Rlc3RfV29uZGVybGFuZEVuZ2luZV9qc19idXR0b25fanMpO1xuaW1wb3J0ICogYXMgX0VfX2dpdF9UZXN0X1dvbmRlcmxhbmRFbmdpbmVfanNfdGVzdF9qcyBmcm9tICdFOi9naXQvVGVzdF9Xb25kZXJsYW5kRW5naW5lL2pzL3Rlc3QuanMnO1xuX3JlZ2lzdGVyRWRpdG9yKF9FX19naXRfVGVzdF9Xb25kZXJsYW5kRW5naW5lX2pzX3Rlc3RfanMpO1xuaW1wb3J0ICogYXMgX0VfX2dpdF9UZXN0X1dvbmRlcmxhbmRFbmdpbmVfanNfdGVzdE1hbmFnZXJfanMgZnJvbSAnRTovZ2l0L1Rlc3RfV29uZGVybGFuZEVuZ2luZS9qcy90ZXN0TWFuYWdlci5qcyc7XG5fcmVnaXN0ZXJFZGl0b3IoX0VfX2dpdF9UZXN0X1dvbmRlcmxhbmRFbmdpbmVfanNfdGVzdE1hbmFnZXJfanMpO1xuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQVVBLE9BQUMsV0FBVztBQUVWO0FBU0EsWUFBSUEsZ0JBQWUsV0FBVztBQUM1QixlQUFLLEtBQUs7QUFBQSxRQUNaO0FBQ0EsUUFBQUEsY0FBYSxZQUFZO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxVQUt2QixNQUFNLFdBQVc7QUFDZixnQkFBSUMsUUFBTyxRQUFRQztBQUduQixZQUFBRCxNQUFLLFdBQVc7QUFHaEIsWUFBQUEsTUFBSyxrQkFBa0IsQ0FBQztBQUN4QixZQUFBQSxNQUFLLGdCQUFnQjtBQUdyQixZQUFBQSxNQUFLLFVBQVUsQ0FBQztBQUNoQixZQUFBQSxNQUFLLFNBQVMsQ0FBQztBQUNmLFlBQUFBLE1BQUssU0FBUztBQUNkLFlBQUFBLE1BQUssVUFBVTtBQUNmLFlBQUFBLE1BQUssZ0JBQWdCO0FBQ3JCLFlBQUFBLE1BQUssYUFBYyxPQUFPLFdBQVcsZUFBZSxPQUFPLFlBQWEsT0FBTyxZQUFZO0FBRzNGLFlBQUFBLE1BQUssYUFBYTtBQUNsQixZQUFBQSxNQUFLLFVBQVU7QUFDZixZQUFBQSxNQUFLLGdCQUFnQjtBQUNyQixZQUFBQSxNQUFLLGNBQWM7QUFDbkIsWUFBQUEsTUFBSyxNQUFNO0FBR1gsWUFBQUEsTUFBSyxhQUFhO0FBR2xCLFlBQUFBLE1BQUssT0FBTztBQUVaLG1CQUFPQTtBQUFBLFVBQ1Q7QUFBQTtBQUFBO0FBQUE7QUFBQTtB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TUFBTSxHQUFHO0FBQ3ZCLFFBQUksTUFBTSxJQUFhLFdBQVcsRUFBRTtBQUNwQyxRQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDZCxRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDZCxRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDZCxRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDZCxRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDZCxRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDZCxXQUFPO0FBQUEsRUFDVDtBQVNPLFdBQVMsS0FBSyxLQUFLLEdBQUc7QUFDM0IsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ2QsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ2QsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ2QsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ2QsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ2QsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ2QsV0FBTztBQUFBLEVBQ1Q7QUF1Qk8sV0FBUyxXQUFXLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDekcsUUFBSSxNQUFNLElBQWEsV0FBVyxFQUFFO0FBQ3BDLFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsV0FBTztBQUFBLEVBQ1Q7QUF3Qk8sV0FBUyxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSztBQUN2RyxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFdBQU87QUFBQSxFQUNUO0FBUU8sV0FBUyxTQUFTLEtBQUs7QUFDNUIsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixXQUFPO0FBQUEsRUFDVDtBQVNPLFdBQVMsVUFBVSxLQUFLLEdBQUc7QUFFaEMsUUFBSSxRQUFRLEdBQUc7QUFDYixVQUFJLE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQztBQUNiLFVBQUksTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQztBQUNiLFVBQUksTUFBTSxFQUFFLEVBQUU7QUFDZCxVQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixVQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixVQUFJLENBQUMsSUFBSSxFQUFFLEVBQUU7QUFDYixVQUFJLENBQUMsSUFBSTtBQUNULFVBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFVBQUksQ0FBQyxJQUFJLEVBQUUsRUFBRTtBQUNiLFVBQUksQ0FBQyxJQUFJO0FBQ1QsVUFBSSxDQUFDLElBQUk7QUFDVCxVQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDZCxVQUFJLEVBQUUsSUFBSTtBQUNWLFVBQUksRUFBRSxJQUFJO0FBQ1YsVUFBSSxFQUFFLElBQUk7QUFBQSxJQUNaLE9BQU87QUFDTCxVQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixVQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixVQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixVQUFJLENBQUMsSUFBSSxFQUFFLEVBQUU7QUFDYixVQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixVQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixVQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixVQUFJLENBQUMsSUFBSSxFQUFFLEVBQUU7QUFDYixVQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixVQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixVQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDZCxVQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDZCxVQUFJLEVBQUUsSUFBSSxFQUFFLENBQUM7QUFDYixVQUFJLEVBQUUsSUFBSSxFQUFFLENBQUM7QUFDYixVQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDZCxVQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFBQSxJQUNoQjtBQUVBLFdBQU87QUFBQSxFQUNUO0FBU08sV0FBUyxPQUFPLEtBQUssR0FBRztBQUM3QixRQUFJLE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDO0FBQ2IsUUFBSSxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQztBQUNiLFFBQUksTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxFQUFFLEdBQ1YsTUFBTSxFQUFFLEVBQUU7QUFDZCxRQUFJLE1BQU0sRUFBRSxFQUFFLEdBQ1YsTUFBTSxFQUFFLEVBQUUsR0FDVixNQUFNLEVBQUUsRUFBRSxHQUNWLE1BQU0sRUFBRSxFQUFFO0FBQ2QsUUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQzVCLFFBQUksTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUM1QixRQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDNUIsUUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQzVCLFFBQUksTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUM1QixRQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDNUIsUUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQzVCLFFBQUksTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUM1QixRQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDNUIsUUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQzVCLFFBQUksTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUM1QixRQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFFNUIsUUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUU1RSxRQUFJLENBQUMsS0FBSztBQUNSLGFBQU87QUFBQSxJQUNUO0FBRUEsVUFBTSxJQUFNO0FBQ1osUUFBSSxDQUFDLEtBQUssTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE9BQU87QUFDL0MsUUFBSSxDQUFDLEtBQUssTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE9BQU87QUFDL0MsUUFBSSxDQUFDLEtBQUssTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE9BQU87QUFDL0MsUUFBSSxDQUFDLEtBQUssTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE9BQU87QUFDL0MsUUFBSSxDQUFDLEtBQUssTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE9BQU87QUFDL0MsUUFBSSxDQUFDLEtBQUssTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE9BQU87QUFDL0MsUUFBSSxDQUFDLEtBQUssTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE9BQU87QUFDL0MsUUFBSSxDQUFDLEtBQUssTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE9BQU87QUFDL0MsUUFBSSxDQUFDLEtBQUssTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE9BQU87QUFDL0MsUUFBSSxDQUFDLEtBQUssTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE9BQU87QUFDL0MsUUFBSSxFQUFFLEtBQUssTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE9BQU87QUFDaEQsUUFBSSxFQUFFLEtBQUssTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE9BQU87QUFDaEQsUUFBSSxFQUFFLEtBQUssTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE9BQU87QUFDaEQsUUFBSSxFQUFFLEtBQUssTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE9BQU87QUFDaEQsUUFBSSxFQUFFLEtBQUssTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE9BQU87QUFDaEQsUUFBSSxFQUFFLEtBQUssTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE9BQU87QUFDaEQsV0FBTztBQUFBLEVBQ1Q7QUFTTyxXQUFTLFFBQVEsS0FBSyxHQUFHO0FBQzlCLFFBQUksTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUM7QUFDYixRQUFJLE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDO0FBQ2IsUUFBSSxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLEVBQUUsR0FDVixNQUFNLEVBQUUsRUFBRTtBQUNkLFFBQUksTUFBTSxFQUFFLEVBQUUsR0FDVixNQUFNLEVBQUUsRUFBRSxHQUNWLE1BQU0sRUFBRSxFQUFFLEdBQ1YsTUFBTSxFQUFFLEVBQUU7QUFDZCxRQUFJLENBQUMsSUFBSSxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU07QUFDbEcsUUFBSSxDQUFDLElBQUksRUFBRSxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU07QUFDcEcsUUFBSSxDQUFDLElBQUksT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNO0FBQ2xHLFFBQUksQ0FBQyxJQUFJLEVBQUUsT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNO0FBQ3BHLFFBQUksQ0FBQyxJQUFJLEVBQUUsT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNO0FBQ3BHLFFBQUksQ0FBQyxJQUFJLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTTtBQUNsRyxRQUFJLENBQUMsSUFBSSxFQUFFLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTTtBQUNwRyxRQUFJLENBQUMsSUFBSSxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU07QUFDbEcsUUFBSSxDQUFDLElBQUksT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNO0FBQ2xHLFFBQUksQ0FBQyxJQUFJLEVBQUUsT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNO0FBQ3BHLFFBQUksRUFBRSxJQUFJLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTTtBQUNuRyxRQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTTtBQUNyRyxRQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTTtBQUNyRyxRQUFJLEVBQUUsSUFBSSxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU07QUFDbkcsUUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU07QUFDckcsUUFBSSxFQUFFLElBQUksT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNO0FBQ25HLFdBQU87QUFBQSxFQUNUO0FBUU8sV0FBUyxZQUFZLEdBQUc7QUFDN0IsUUFBSSxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQztBQUNiLFFBQUksTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUM7QUFDYixRQUFJLE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsRUFBRSxHQUNWLE1BQU0sRUFBRSxFQUFFO0FBQ2QsUUFBSSxNQUFNLEVBQUUsRUFBRSxHQUNWLE1BQU0sRUFBRSxFQUFFLEdBQ1YsTUFBTSxFQUFFLEVBQUUsR0FDVixNQUFNLEVBQUUsRUFBRTtBQUNkLFFBQUksTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUM1QixRQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDNUIsUUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQzVCLFFBQUksTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUM1QixRQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDNUIsUUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQzVCLFFBQUksTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUM1QixRQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDNUIsUUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQzVCLFFBQUksTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUM1QixRQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDNUIsUUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBRTVCLFdBQU8sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQUEsRUFDM0U7QUFVTyxXQUFTLFNBQVMsS0FBSyxHQUFHLEdBQUc7QUFDbEMsUUFBSSxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQztBQUNiLFFBQUksTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUM7QUFDYixRQUFJLE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsRUFBRSxHQUNWLE1BQU0sRUFBRSxFQUFFO0FBQ2QsUUFBSSxNQUFNLEVBQUUsRUFBRSxHQUNWLE1BQU0sRUFBRSxFQUFFLEdBQ1YsTUFBTSxFQUFFLEVBQUUsR0FDVixNQUFNLEVBQUUsRUFBRTtBQUVkLFFBQUksS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUM7QUFDWixRQUFJLENBQUMsSUFBSSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLO0FBQy9DLFFBQUksQ0FBQyxJQUFJLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUs7QUFDL0MsUUFBSSxDQUFDLElBQUksS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSztBQUMvQyxRQUFJLENBQUMsSUFBSSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLO0FBQy9DLFNBQUssRUFBRSxDQUFDO0FBQ1IsU0FBSyxFQUFFLENBQUM7QUFDUixTQUFLLEVBQUUsQ0FBQztBQUNSLFNBQUssRUFBRSxDQUFDO0FBQ1IsUUFBSSxDQUFDLElBQUksS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSztBQUMvQyxRQUFJLENBQUMsSUFBSSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLO0FBQy9DLFFBQUksQ0FBQyxJQUFJLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUs7QUFDL0MsUUFBSSxDQUFDLElBQUksS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSztBQUMvQyxTQUFLLEVBQUUsQ0FBQztBQUNSLFNBQUssRUFBRSxDQUFDO0FBQ1IsU0FBSyxFQUFFLEVBQUU7QUFDVCxTQUFLLEVBQUUsRUFBRTtBQUNULFFBQUksQ0FBQyxJQUFJLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUs7QUFDL0MsUUFBSSxDQUFDLElBQUksS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSztBQUMvQyxRQUFJLEVBQUUsSUFBSSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLO0FBQ2hELFFBQUksRUFBRSxJQUFJLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUs7QUFDaEQsU0FBSyxFQUFFLEVBQUU7QUFDVCxTQUFLLEVBQUUsRUFBRTtBQUNULFNBQUssRUFBRSxFQUFFO0FBQ1QsU0FBSyxFQUFFLEVBQUU7QUFDVCxRQUFJLEVBQUUsSUFBSSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLO0FBQ2hELFFBQUksRUFBRSxJQUFJLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUs7QUFDaEQsUUFBSSxFQUFFLElBQUksS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSztBQUNoRCxRQUFJLEVBQUUsSUFBSSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLO0FBQ2hELFdBQU87QUFBQSxFQUNUO0FBVU8sV0FBUyxVQUFVLEtBQUssR0FBRyxHQUFHO0FBQ25DLFFBQUksSUFBSSxFQUFFLENBQUMsR0FDUCxJQUFJLEVBQUUsQ0FBQyxHQUNQLElBQUksRUFBRSxDQUFDO0FBQ1gsUUFBSSxLQUFLLEtBQUssS0FBSztBQUNuQixRQUFJLEtBQUssS0FBSyxLQUFLO0FBQ25CLFFBQUksS0FBSyxLQUFLLEtBQUs7QUFFbkIsUUFBSSxNQUFNLEtBQUs7QUFDYixVQUFJLEVBQUUsSUFBSSxFQUFFLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQyxJQUFJLElBQUksRUFBRSxDQUFDLElBQUksSUFBSSxFQUFFLEVBQUU7QUFDL0MsVUFBSSxFQUFFLElBQUksRUFBRSxDQUFDLElBQUksSUFBSSxFQUFFLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQyxJQUFJLElBQUksRUFBRSxFQUFFO0FBQy9DLFVBQUksRUFBRSxJQUFJLEVBQUUsQ0FBQyxJQUFJLElBQUksRUFBRSxDQUFDLElBQUksSUFBSSxFQUFFLEVBQUUsSUFBSSxJQUFJLEVBQUUsRUFBRTtBQUNoRCxVQUFJLEVBQUUsSUFBSSxFQUFFLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQyxJQUFJLElBQUksRUFBRSxFQUFFLElBQUksSUFBSSxFQUFFLEVBQUU7QUFBQSxJQUNsRCxPQUFPO0FBQ0wsWUFBTSxFQUFFLENBQUM7QUFDVCxZQUFNLEVBQUUsQ0FBQztBQUNULFlBQU0sRUFBRSxDQUFDO0FBQ1QsWUFBTSxFQUFFLENBQUM7QUFDVCxZQUFNLEVBQUUsQ0FBQztBQUNULFlBQU0sRUFBRSxDQUFDO0FBQ1QsWUFBTSxFQUFFLENBQUM7QUFDVCxZQUFNLEVBQUUsQ0FBQztBQUNULFlBQU0sRUFBRSxDQUFDO0FBQ1QsWUFBTSxFQUFFLENBQUM7QUFDVCxZQUFNLEVBQUUsRUFBRTtBQUNWLFlBQU0sRUFBRSxFQUFFO0FBQ1YsVUFBSSxDQUFDLElBQUk7QUFDVCxVQUFJLENBQUMsSUFBSTtBQUNULFVBQUksQ0FBQyxJQUFJO0FBQ1QsVUFBSSxDQUFDLElBQUk7QUFDVCxVQUFJLENBQUMsSUFBSTtBQUNULFVBQUksQ0FBQyxJQUFJO0FBQ1QsVUFBSSxDQUFDLElBQUk7QUFDVCxVQUFJLENBQUMsSUFBSTtBQUNULFVBQUksQ0FBQyxJQUFJO0FBQ1QsVUFBSSxDQUFDLElBQUk7QUFDVCxVQUFJLEVBQUUsSUFBSTtBQUNWLFVBQUksRUFBRSxJQUFJO0FBQ1YsVUFBSSxFQUFFLElBQUksTUFBTSxJQUFJLE1BQU0sSUFBSSxNQUFNLElBQUksRUFBRSxFQUFFO0FBQzVDLFVBQUksRUFBRSxJQUFJLE1BQU0sSUFBSSxNQUFNLElBQUksTUFBTSxJQUFJLEVBQUUsRUFBRTtBQUM1QyxVQUFJLEVBQUUsSUFBSSxNQUFNLElBQUksTUFBTSxJQUFJLE1BQU0sSUFBSSxFQUFFLEVBQUU7QUFDNUMsVUFBSSxFQUFFLElBQUksTUFBTSxJQUFJLE1BQU0sSUFBSSxNQUFNLElBQUksRUFBRSxFQUFFO0FBQUEsSUFDOUM7QUFFQSxXQUFPO0FBQUEsRUFDVDtBQVVPLFdBQVMsTUFBTSxLQUFLLEdBQUcsR0FBRztBQUMvQixRQUFJLElBQUksRUFBRSxDQUFDLEdBQ1AsSUFBSSxFQUFFLENBQUMsR0FDUCxJQUFJLEVBQUUsQ0FBQztBQUNYLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FB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QUNkLFVBQUksRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUNkLFVBQUksRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUNkLFVBQUksRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUFBLElBQ2hCO0FBR0EsUUFBSSxDQUFDLElBQUksTUFBTSxJQUFJLE1BQU07QUFDekIsUUFBSSxDQUFDLElBQUksTUFBTSxJQUFJLE1BQU07QUFDekIsUUFBSSxDQUFDLElBQUksTUFBTSxJQUFJLE1BQU07QUFDekIsUUFBSSxDQUFDLElBQUksTUFBTSxJQUFJLE1BQU07QUFDekIsUUFBSSxDQUFDLElBQUksTUFBTSxJQUFJLE1BQU07QUFDekIsUUFBSSxDQUFDLElBQUksTUFBTSxJQUFJLE1BQU07QUFDekIsUUFBSSxFQUFFLElBQUksTUFBTSxJQUFJLE1BQU07QUFDMUIsUUFBSSxFQUFFLElBQUksTUFBTSxJQUFJLE1BQU07QUFDMUIsV0FBTztBQUFBLEVBQ1Q7QUFVTyxXQUFTLFFBQVEsS0FBSyxHQUFHLEtBQUs7QUFDbkMsUUFBSSxJQUFJLEtBQUssSUFBSSxHQUFHO0FBQ3BCLFFBQUksSUFBSSxLQUFLLElBQUksR0FBRztBQUNwQixRQUFJLE1BQU0sRUFBRSxDQUFDO0FBQ2IsUUFBSSxNQUFNLEVBQUUsQ0FBQztBQUNiLFFBQUksTUFBTSxFQUFFLENBQUM7QUFDYixRQUFJLE1BQU0sRUFBRSxDQUFDO0FBQ2IsUUFBSSxNQUFNLEVBQUUsQ0FBQztBQUNiLFFBQUksTUFBTSxFQUFFLENBQUM7QUFDYixRQUFJLE1BQU0sRUFBRSxFQUFFO0FBQ2QsUUFBSSxNQUFNLEVBQUUsRUFBRTtBQUVkLFFBQUksTUFBTSxLQUFLO0FBRWIsVUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osVUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osVUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osVUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osVUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ2QsVUFBSSxFQUFFLElBQUksRUFBRSxFQUFF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QUFLLEtBQUs7QUFDeEIsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUs7QUFDeEIsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsV0FBTztBQUFBLEVBQ1Q7QUFRTyxXQUFTLElBQUksR0FBRztBQUNyQixXQUFPLFVBQVUsRUFBRSxDQUFDLElBQUksT0FBTyxFQUFFLENBQUMsSUFBSSxPQUFPLEVBQUUsQ0FBQyxJQUFJLE9BQU8sRUFBRSxDQUFDLElBQUksT0FBTyxFQUFFLENBQUMsSUFBSSxPQUFPLEVBQUUsQ0FBQyxJQUFJLE9BQU8sRUFBRSxDQUFDLElBQUksT0FBTyxFQUFFLENBQUMsSUFBSSxPQUFPLEVBQUUsQ0FBQyxJQUFJLE9BQU8sRUFBRSxDQUFDLElBQUksT0FBTyxFQUFFLEVBQUUsSUFBSSxPQUFPLEVBQUUsRUFBRSxJQUFJLE9BQU8sRUFBRSxFQUFFLElBQUksT0FBTyxFQUFFLEVBQUUsSUFBSSxPQUFPLEVBQUUsRUFBRSxJQUFJLE9BQU8sRUFBRSxFQUFFLElBQUk7QUFBQSxFQUNsUDtBQVFPLFdBQVMsS0FBSyxHQUFHO0FBQ3RCLFdBQU8sS0FBSyxNQUFNLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxDQUFDO0FBQUEsRUFDeEg7QUFVTyxXQUFTLElBQUksS0FBSyxHQUFHLEdBQUc7QUFDN0IsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ25CLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ25CLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ25CLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ25CLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUN0QixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDdEIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ3RCLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUN0QixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDdEIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ3RCLFdBQU87QUFBQSxFQUNUO0FBVU8sV0FBUyxTQUFTLEtBQUssR0FBRyxHQUFHO0FBQ2xDLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ25CLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ25CLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ25CLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDdEIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ3RCLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUN0QixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDdEIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ3RCLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUN0QixXQUFPO0FBQUEsRUFDVDtBQVVPLFdBQVMsZUFBZSxLQUFLLEdBQUcsR0FBRztBQUN4QyxRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSTtBQUNsQixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSTtBQUNsQixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSTtBQUNsQixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSTtBQUNsQixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSTtBQUNsQixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSTtBQUNsQixXQUFPO0FBQUEsRUFDVDtBQVdPLFdBQVMscUJBQXFCLEtBQUssR0FBRyxHQUFHQyxRQUFPO0FBQ3JELFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJQTtBQUN2QixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSUE7QUFDdkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUlBO0FBQ3ZCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJQTtBQUN2QixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSUE7QUFDdkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUlBO0FBQ3ZCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJQTtBQUN2QixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSUE7QUFDdkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUlBO0FBQ3ZCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJQTtBQUN2QixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSUE7QUFDMUIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUlBO0FBQzFCLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJQTtBQUMxQixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSUE7QUFDMUIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUlBO0FBQzFCLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJQTtBQUMxQixXQUFPO0FBQUEsRUFDVDtBQVNPLFdBQVMsWUFBWSxHQUFHLEdBQUc7QUFDaEMsV0FBTyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsS0FBSyxFQUFFLEVBQUUsTUFBTSxFQUFFLEVBQUUsS0FBSyxFQUFFLEVBQUUsTUFBTSxFQUFFLEVBQUUsS0FBSyxFQUFFLEVBQUUsTUFBTSxFQUFFLEVBQUUsS0FBSyxFQUFFLEVBQUUsTUFBTSxFQUFFLEVBQUUsS0FBSyxFQUFFLEVBQUUsTUFBTSxFQUFFLEVBQUUsS0FBSyxFQUFFLEVBQUUsTUFBTSxFQUFFLEVBQUU7QUFBQSxFQUNoUztBQVNPLFdBQVMsT0FBTyxHQUFHLEdBQUc7QUFDM0IsUUFBSSxLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQztBQUNaLFFBQUksS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUM7QUFDWixRQUFJLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixNQUFNLEVBQUUsRUFBRSxHQUNWLE1BQU0sRUFBRSxFQUFFO0FBQ2QsUUFBSSxNQUFNLEVBQUUsRUFBRSxHQUNWLE1BQU0sRUFBRSxFQUFFLEdBQ1YsTUFBTSxFQUFFLEVBQUUsR0FDVixNQUFNLEVBQUUsRUFBRTtBQUNkLFFBQUksS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUM7QUFDWixRQUFJLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDO0FBQ1osUUFBSSxLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsTUFBTSxFQUFFLEVBQUUsR0FDVixNQUFNLEVBQUUsRUFBRTtBQUNkLFFBQUksTUFBTSxFQUFFLEVBQUUsR0FDVixNQUFNLEVBQUUsRUFBRSxHQUNWLE1BQU0sRUFBRSxFQUFFLEdBQ1YsTUFBTSxFQUFFLEVBQUU7QUFDZCxXQUFPLEtBQUssSUFBSSxLQUFLLEVBQUUsS0FBYyxVQUFVLEtBQUssSUFBSSxHQUFLLEtBQUssSUFBSSxFQUFFLEdBQUcsS0FBSyxJQUFJLEVBQUUsQ0FBQyxLQUFLLEtBQUssSUFBSSxLQUFLLEVBQUUsS0FBYyxVQUFVLEtBQUssSUFBSSxHQUFLLEtBQUssSUFBSSxFQUFFLEdBQUcsS0FBSyxJQUFJLEVBQUUsQ0FBQyxLQUFLLEtBQUssSUFBSSxLQUFLLEVBQUUsS0FBYyxVQUFVLEtBQUssSUFBSSxHQUFLLEtBQUssSUFBSSxFQUFFLEdBQUcsS0FBSyxJQUFJLEVBQUUsQ0FBQyxLQUFLLEtBQUssSUFBSSxLQUFLLEVBQUUsS0FBYyxVQUFVLEtBQUssSUFBSSxHQUFLLEtBQUssSUFBSSxFQUFFLEdBQUcsS0FBSyxJQUFJLEVBQUUsQ0FBQyxLQUFLLEtBQUssSUFBSSxLQUFLLEVBQUUsS0FBYyxVQUFVLEtBQUssSUFBSSxHQUFLLEtBQUssSUFBSSxFQUFFLEdBQUcsS0FBSyxJQUFJLEVBQUUsQ0FBQyxLQUFLLEtBQUssSUFBSSxLQUFLLEVBQUUsS0FBYyxVQUFVLEtBQUssSUFBSSxHQUFLLEtBQUssSUFBSSxFQUFFLEdBQUcsS0FBSyxJQUFJLEVBQUUsQ0FBQyxLQUFLLEtBQUssSUFBSSxLQUFLLEVBQUUsS0FBYyxVQUFVLEtBQUssSUFBSSxHQUFLLEtBQUssSUFBSSxFQUFFLEdBQUcsS0FBSyxJQUFJLEVBQUUsQ0FBQyxLQUFLLEtBQUssSUFBSSxLQUFLLEVBQUUsS0FBYyxVQUFVLEtBQUssSUFBSSxHQUFLLEtBQUssSUFBSSxFQUFFLEdBQUcsS0FBSyxJQUFJLEVBQUUsQ0FBQyxLQUFLLEtBQUssSUFBSSxLQUFLLEVBQUUsS0FBYyxVQUFVLEtBQUssSUFBSSxHQUFLLEtBQUssSUFBSSxFQUFFLEdBQUcsS0FBSyxJQUFJLEVBQUUsQ0FBQyxLQUFLLEtBQUssSUFBSSxLQUFLLEVBQUUsS0FBYyxVQUFVLEtBQUssSUFBSSxHQUFLLEtBQUssSUFBSSxFQUFFLEdBQUcsS0FBSyxJQUFJLEVBQUUsQ0FBQyxLQUFLLEtBQUssSUFBSSxNQUFNLEdBQUcsS0FBYyxVQUFVLEtBQUssSUFBSSxHQUFLLEtBQUssSUFBSSxHQUFHLEdBQUcsS0FBSyxJQUFJLEdBQUcsQ0FBQyxLQUFLLEtBQUssSUFBSSxNQUFNLEdBQUcsS0FBYyxVQUFVLEtBQUssSUFBSSxHQUFLLEtBQUssSUFBSSxHQUFHLEdBQUcsS0FBSyxJQUFJLEdBQUcs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QUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDO0FBQ1osUUFBSSxLQUFLLEtBQUssSUFBSSxHQUFHLEdBQ2pCLEtBQUssS0FBSyxJQUFJLEdBQUc7QUFDckIsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUs7QUFDeEIsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUs7QUFDeEIsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUs7QUFDeEIsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUs7QUFDeEIsV0FBTztBQUFBLEVBQ1Q7QUFVTyxXQUFTQyxTQUFRLEtBQUssR0FBRyxLQUFLO0FBQ25DLFdBQU87QUFDUCxRQUFJLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDO0FBQ1osUUFBSSxLQUFLLEtBQUssSUFBSSxHQUFHLEdBQ2pCLEtBQUssS0FBSyxJQUFJLEdBQUc7QUFDckIsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUs7QUFDeEIsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUs7QUFDeEIsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUs7QUFDeEIsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUs7QUFDeEIsV0FBTztBQUFBLEVBQ1Q7QUFVTyxXQUFTQyxTQUFRLEtBQUssR0FBRyxLQUFLO0FBQ25DLFdBQU87QUFDUCxRQUFJLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDO0FBQ1osUUFBSSxLQUFLLEtBQUssSUFBSSxHQUFHLEdBQ2pCLEtBQUssS0FBSyxJQUFJLEdBQUc7QUFDckIsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUs7QUFDeEIsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUs7QUFDeEIsUUFBSSxDQUFDLElBQUksS0FBSyxL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Q0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQztBQUNaLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDNUMsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSztBQUM1QyxRQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLO0FBQzVDLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDNUMsU0FBSyxFQUFFLENBQUM7QUFDUixTQUFLLEVBQUUsQ0FBQztBQUNSLFNBQUssRUFBRSxDQUFDO0FBQ1IsU0FBSyxFQUFFLENBQUM7QUFDUixRQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLO0FBQzVDLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDNUMsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSztBQUM1QyxRQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLO0FBQzVDLFdBQU87QUFBQSxFQUNUO0FBVU8sV0FBUyxvQkFBb0IsS0FBSyxHQUFHLEdBQUc7QUFDN0MsUUFBSSxLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDO0FBQ1osUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSztBQUM1QyxRQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLO0FBQzVDLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDNUMsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSztBQUM1QyxTQUFLLEVBQUUsQ0FBQztBQUNSLFNBQUssRUFBRSxDQUFDO0FBQ1IsU0FBSyxFQUFFLENBQUM7QUFDUixTQUFLLEVBQUUsQ0FBQztBQUNSLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDNUMsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSztBQUM1QyxRQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLO0FBQzVDLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDNUMsV0FBTztBQUFBLEVBQ1Q7QUFXTyxXQUFTLGlCQUFpQixLQUFLLEdBQUcsTUFBTSxLQUFLO0FBRWxELFFBQUksS0FBSyxJQUFJLEdBQUcsSUFBYSxTQUFTO0FBQ3BDLGFBQU9QLE1BQUssS0FBSyxDQUFDO0FBQUEsSUFDcEI7QUFFQSxRQUFJLGFBQWEsS0FBSyxNQUFNLEtBQUssQ0FBQyxHQUFHLEtBQUssQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDO0FBQ3JELFVBQU0sTUFBTTtBQUNaLFFBQUksSUFBSSxLQUFLLElBQUksR0FBRztBQUNwQixRQUFJLEtBQUssSUFBSSxLQUFLLENBQUMsSUFBSTtBQUN2QixRQUFJLEtBQUssSUFBSSxLQUFLLENBQUMsSUFBSTtBQUN2QixRQUFJLEtBQUssSUFBSSxLQUFLLENBQUMsSUFBSTtBQUN2QixRQUFJLEtBQUssS0FBSyxJQUFJLEdBQUc7QUFDckIsUUFBSSxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQztBQUNiLFFBQUksQ0FBQyxJQUFJLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU07QUFDaEQsUUFBSSxDQUFDLElBQUksTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTTtBQUNoRCxRQUFJLENBQUMsSUFBSSxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNO0FBQ2hELFFBQUksQ0FBQyxJQUFJLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU07QUFDaEQsUUFBSSxLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQztBQUNaLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDNUMsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSztBQUM1QyxRQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLO0FBQzVDLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDNUMsV0FBTztBQUFBLEVBQ1Q7QUFXTyxXQUFTUSxLQUFJLEtBQUssR0FBRyxHQUFHO0FBQzdCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ25CLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ25CLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsV0FBTztBQUFBLEVBQ1Q7QUFVTyxXQUFTQyxVQUFTLEtBQUssR0FBRyxHQUFHO0FBQ2xDLFFBQUksTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUM7QUFDYixRQUFJLENBQUMsSUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQ25ELFFBQUksQ0FBQyxJQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDbkQsUUFBSSxDQUFDLElBQUksTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUNuRCxRQUFJLENBQUMsSUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQ25ELFFBQUksQ0FBQyxJQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQ25HLFFBQUksQ0FBQyxJQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFN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QUFPLEVBQUUsQ0FBQyxJQUFJLE9BQU8sRUFBRSxDQUFDLElBQUksT0FBTyxFQUFFLENBQUMsSUFBSSxPQUFPLEVBQUUsQ0FBQyxJQUFJO0FBQUEsRUFDN0g7QUFTTyxXQUFTQyxhQUFZLEdBQUcsR0FBRztBQUNoQyxXQUFPLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQztBQUFBLEVBQzVJO0FBU08sV0FBU0MsUUFBTyxHQUFHLEdBQUc7QUFDM0IsUUFBSSxLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDO0FBQ1osUUFBSSxLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDO0FBQ1osV0FBTyxLQUFLLElBQUksS0FBSyxFQUFFLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksRUFBRSxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLElBQUksS0FBSyxFQUFFLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksRUFBRSxHQUFHLEtBQUss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cEgsZ0JBQVEsSUFBSSxjQUFjO0FBQzFCO0FBQUEsTUFDSixPQUNJO0FBQ0EsWUFBRyxLQUFLLFlBQVksY0FBYyxNQUFLO0FBQ25DLGVBQUssY0FBYyxXQUFXLEtBQUs7QUFDbkMsZUFBSyxTQUFTO0FBQUEsUUFDbEIsT0FDSTtBQUNBLGVBQUssY0FBYyxXQUFXLEtBQUs7QUFDbkMsZUFBSyxTQUFTO0FBQUEsUUFDbEI7QUFBQSxNQUNKO0FBR0EsV0FBSyxZQUFZLGdCQUFnQjtBQUFBLElBQ3JDO0FBQUEsRUFDSjtBQXZESSxnQkFEUyxNQUNGLFlBQVc7QUFFbEI7QUFBQSxnQkFIUyxNQUdGLGNBQWE7QUFBQSxJQUNoQixpQkFBaUIsU0FBUyxTQUFTO0FBQUEsSUFDbkMsaUJBQWlCLFNBQVMsU0FBUztBQUFBLElBQ25DLGFBQWEsU0FBUyxPQUFPO0FBQUEsRUFDakM7OztBRWJKLGtCQUFnQixZQUE2QjtBQUU3QyxrQkFBZ0IsY0FBMEM7QUFFMUQsa0JBQWdCLFlBQXdDO0FBRXhELGtCQUFnQixtQkFBK0M7IiwKICAibmFtZXMiOiBbIkhvd2xlckdsb2JhbCIsICJzZWxmIiwgIkhvd2xlciIsICJlIiwgImkiLCAiSG93bCIsICJzdHIiLCAiU291bmQiLCAidGltZW91dCIsICJsZW4iLCAiZWFyY3V0IiwgImVxdWFscyIsICJsZW4iLCAiVHlwZSIsICJDb2xsaWRlciIsICJBbGlnbm1lbnQiLCAiSnVzdGlmaWNhdGlvbiIsICJUZXh0RWZmZWN0IiwgIklucHV0VHlwZSIsICJMaWdodFR5cGUiLCAiQW5pbWF0aW9uU3RhdGUiLCAiRm9yY2VNb2RlIiwgIkNvbGxpc2lvbkV2ZW50VHlwZSIsICJTaGFwZSIsICJNZXNoQXR0cmlidXRlIiwgIk1hdGVyaWFsUGFyYW1UeXBlIiwgImxlbmd0aCIsICJhbmdsZSIsICJMb2NrQXhpcyIsICJvZmZzZXQiLCAiTWVzaEluZGV4VHlwZSIsICJNZXNoU2tpbm5pbmdUeXBlIiwgImNhbnZhcyIsICJhbmltSWQiLCAiX19kZWNvcmF0ZSIsICJ0ZW1wUXVhdCIsICJjcmVhdGUiLCAiY3JlYXRlIiwgImxlbiIsICJzY2FsZSIsICJhZGQiLCAiY2xvbmUiLCAiY29weSIsICJjcmVhdGUiLCAiZG90IiwgImVxdWFscyIsICJleGFjdEVxdWFscyIsICJmcm9tVmFsdWVzIiwgImlkZW50aXR5IiwgImludmVydCIsICJsZW4iLCAibGVuZ3RoIiwgImxlcnAiLCAibXVsIiwgIm11bHRpcGx5IiwgIm5vcm1hbGl6ZSIsICJyYW5kb20iLCAicm90YXRlWCIsICJyb3RhdGVZIiwgInJvdGF0ZVoiLCAic2NhbGUiLCAic2V0IiwgInNxckxlbiIsICJzcXVhcmVkTGVuZ3RoIiwgInN0ciIsICJhZGQiLCAiY2xvbmUiLCAiY29weSIsICJjcmVhdGUiLCAiZXF1YWxzIiwgImV4YWN0RXF1YWxzIiwgImZyb21WYWx1ZXMiLCAibXVsIiwgIm11bHRpcGx5IiwgInJvdGF0ZVgiLCAicm90YXRlWSIsICJyb3RhdGVaIiwgInNjYWxlIiwgInNldCIsICJzdHIiLCAic3ViIiwgInN1YnRyYWN0IiwgImNyZWF0ZSIsICJjbG9uZSIsICJmcm9tVmFsdWVzIiwgImNvcHkiLCAic2V0IiwgImFkZCIsICJzdWJ0cmFjdCIsICJtdWx0aXBseSIsICJzY2FsZSIsICJsZW4iLCAicm90YXRlWCIsICJyb3RhdGVZIiwgInJvdGF0ZVoiLCAic3RyIiwgImV4YWN0RXF1YWxzIiwgImVxdWFscyIsICJzdWIiLCAibXVsIiwgIm9mZnNldCIsICJjcmVhdGUiLCAiY2xvbmUiLCAiZnJvbVZhbHVlcyIsICJjb3B5IiwgInNldCIsICJhZGQiLCAic2NhbGUiLCAibGVuZ3RoIiwgInNxdWFyZWRMZW5ndGgiLCAibm9ybWFsaXplIiwgImxlbiIsICJkb3QiLCAibGVycCIsICJleGFjdEVxdWFscyIsICJlcXVhbHMiLCAiZm9yRWFjaCIsICJjcmVhdGUiLCAib2Zmc2V0IiwgImNyZWF0ZSIsICJpZGVudGl0eSIsICJkb3QiLCAibXVsdGlwbHkiLCAicm90YXRlWCIsICJyb3RhdGVZIiwgInJvdGF0ZVoiLCAic2NhbGUiLCAicmFuZG9tIiwgImludmVydCIsICJzdHIiLCAiY2xvbmUiLCAiZnJvbVZhbHVlcyIsICJjb3B5IiwgInNldCIsICJhZGQiLCAibXVsIiwgImxlcnAiLCAibGVuZ3RoIiwgImxlbiIsICJzcXVhcmVkTGVuZ3RoIiwgInNxckxlbiIsICJub3JtYWxpemUiLCAiZXhhY3RFcXVhbHMiLCAiZXF1YWxzIiwgImFkZCIsICJjbG9uZSIsICJjb25qdWdhdGUiLCAiY29weSIsICJjcmVhdGUiLCAiZG90IiwgImVxdWFscyIsICJleGFjdEVxdWFscyIsICJmcm9tUm90YXRpb24iLCAiZnJvbVJvdGF0aW9uVHJhbnNsYXRpb24iLCAiZnJvbVRyYW5zbGF0aW9uIiwgImZyb21WYWx1ZXMiLCAiZ2V0VHJhbnNsYXRpb24iLCAiaWRlbnRpdHkiLCAiaW52ZXJ0IiwgImxlbiIsICJsZW5ndGgiLCAibGVycCIsICJtdWwiLCAibXVsdGlwbHkiLCAibm9ybWFsaXplIiwgInJvdGF0ZVgiLCAicm90YXRlWSIsICJyb3RhdGVaIiwgInNjYWxlIiwgInNldCIsICJzcXJMZW4iLCAic3F1YXJlZExlbmd0aCIsICJzdHIiLCAidHJhbnNsYXRlIiwgImNyZWF0ZSIsICJjbG9uZSIsICJmcm9tVmFsdWVzIiwgImZyb21Sb3RhdGlvblRyYW5zbGF0aW9uIiwgImZyb21UcmFuc2xhdGlvbiIsICJmcm9tUm90YXRpb24iLCAiY29weSIsICJpZGVudGl0eSIsICJzZXQiLCAiZ2V0VHJhbnNsYXRpb24iLCAidHJhbnNsYXRlIiwgInJvdGF0ZVgiLCAicm90YXRlWSIsICJyb3RhdGVaIiwgImFkZCIsICJtdWx0aXBseSIsICJtdWwiLCAic2NhbGUiLCAiZG90IiwgImxlcnAiLCAiaW52ZXJ0IiwgInNxdWFyZWRMZW5ndGgiLCAiY29uanVnYXRlIiwgImxlbmd0aCIsICJsZW4iLCAic3FyTGVuIiwgIm5vcm1hbGl6ZSIsICJzdHIiLCAiZXhhY3RFcXVhbHMiLCAiZXF1YWxzIiwgIl9fZGVjb3JhdGUiLCAiX19kZWNvcmF0ZSIsICJ0ZW1wVmVjIiwgImNhbnZhcyIsICJkaXN0IiwgIl9fZGVjb3JhdGUiLCAiaW1wb3J0X2hvd2xlciIsICJjYW52YXMiLCAiX19kZWNvcmF0ZSIsICJhIiwgImRpcmVjdGlvbiIsICJjbGFtcCIsICJ0ZW1wUXVhdCIsICJ0YXJnZXRQb3MiLCAiX19kZWNvcmF0ZSIsICJ0ZW1wVmVjMyIsICJlYXJjdXQiLCAibG9va0F0IiwgIm9mZnNldCIsICJkaXN0IiwgImRvdCJdCn0K
